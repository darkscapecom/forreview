var wne=Object.defineProperty;var _ne=(Yr,pt,it)=>pt in Yr?wne(Yr,pt,{enumerable:!0,configurable:!0,writable:!0,value:it}):Yr[pt]=it;var iI=(Yr,pt,it)=>(_ne(Yr,typeof pt!="symbol"?pt+"":pt,it),it);(function(){"use strict";var Yr=document.createElement("style");Yr.textContent=`.react-responsive-modal-root{position:fixed;top:0;bottom:0;left:0;right:0;z-index:1000}.react-responsive-modal-overlay{background:rgba(0,0,0,.5);position:fixed;top:0;bottom:0;left:0;right:0;z-index:-1}.react-responsive-modal-container{height:100%;outline:0;overflow-x:hidden;overflow-y:auto;text-align:center}.react-responsive-modal-containerCenter:after{width:0;height:100%;content:"";display:inline-block;vertical-align:middle}.react-responsive-modal-modal{max-width:800px;display:inline-block;text-align:left;vertical-align:middle;background:#ffffff;box-shadow:0 12px 15px #00000040;margin:1.2rem;padding:1.2rem;position:relative;overflow-y:auto}.react-responsive-modal-closeButton{position:absolute;top:14px;right:14px;border:none;padding:0;cursor:pointer;background-color:transparent;display:flex}@keyframes react-responsive-modal-overlay-in{0%{opacity:0}to{opacity:1}}@keyframes react-responsive-modal-overlay-out{0%{opacity:1}to{opacity:0}}@keyframes react-responsive-modal-modal-in{0%{transform:scale(.96);opacity:0}to{transform:scale(1);opacity:1}}@keyframes react-responsive-modal-modal-out{0%{transform:scale(1);opacity:1}to{transform:scale(.96);opacity:0}}:host,:root{--step: 4px;--sidebar: 260px;--container-padding: 0px;--neutral-000: #FFFFFF;--neutral-050: #F9FAFB;--neutral-100: #F3F4F6;--neutral-200: #E5E7EB;--neutral-300: #D1D5DB;--neutral-400: #9CA3AF;--neutral-500: #6B7280;--neutral-600: #4B5563;--neutral-700: #374151;--neutral-800: #1F2937;--neutral-900: #111827;--neutral-950: #030712;--neutral-dim: rgba(217, 222, 223, .3);--select: #1476FF10;--primary: #1476FF;--error: #EF6F6C;--success: #7ECA63}.mapplic-element{color:var(--neutral-900);font-size:14px;width:100%;position:relative;display:flex;flex-direction:column}.mapplic-element:-webkit-full-screen{background-color:var(--neutral-000)}.mapplic-element:fullscreen{background-color:var(--neutral-000)}.mapplic-element:-webkit-full-screen>.mapplic-container{height:100%!important;aspect-ratio:auto!important;border-radius:0!important}.mapplic-element:fullscreen>.mapplic-container{height:100%!important;aspect-ratio:auto!important;border-radius:0!important}.mapplic-kiosk .mapplic-element>.mapplic-element{height:100vh!important}.mapplic-kiosk .mapplic-element>.mapplic-container{aspect-ratio:auto!important;border-radius:0!important}.mapplic-placeholder{display:flex;align-items:center;justify-content:center;flex-direction:column;background-color:var(--neutral-50);aspect-ratio:1.6;border-radius:12px}.mapplic-loader{width:16px;height:16px;border:2px solid var(--neutral-900);border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1s linear infinite;opacity:.6}.mapplic-element.mapplic-sidebar-right>.mapplic-sidebar{left:calc(100% - var(--sidebar));padding:0 0 0 8px}.mapplic-element.mapplic-sidebar-toggle.mapplic-sidebar-closed .mapplic-sidebar{pointer-events:none}.mapplic-element.mapplic-sidebar-toggle.mapplic-sidebar-closed .mapplic-search-bar{pointer-events:auto}.mapplic-portrait .mapplic-sidebar{position:relative;left:0!important;width:100%;max-width:100%;padding:8px 0 0!important;transition:margin-top .2s,max-width .2s}.mapplic-portrait .mapplic-container{margin:0!important;max-width:100%}.mapplic-portrait.mapplic-sidebar-closed .mapplic-sidebar{margin-top:-86px;max-width:240px}.mapplic-element h4,.mapplic-element h5{line-height:1.8em;margin:0!important}.mapplic-element h1,.mapplic-element h2,.mapplic-element h3,.mapplic-element h4,.mapplic-element h5{margin-top:0;margin-bottom:0}.mapplic h3{font-size:20px;line-height:1.2em;font-weight:600}.mapplic p{line-height:1.6em;margin:0}.mapplic-container{background-color:var(--neutral-050);flex-shrink:0;padding:var(--container-padding);box-sizing:border-box;border-radius:12px;position:relative;overflow:hidden}.mapplic-container>img{display:block;max-width:100%}.mapplic-control-zone{position:absolute;top:auto;right:auto;bottom:auto;left:auto;max-width:40%;max-height:40%;display:inline-flex;align-items:baseline;gap:8px;flex-direction:column;transition:top .2s,bottom .2s}.mapplic-control-zone>*{pointer-events:auto}.mapplic-control-zone.mapplic-top-left{top:12px;left:12px}.mapplic-control-zone.mapplic-top-right{top:12px;right:12px;align-items:flex-end}.mapplic-control-zone.mapplic-bottom-right{right:12px;bottom:12px;align-items:flex-end;flex-direction:column-reverse}.mapplic-control-zone.mapplic-bottom-left{bottom:12px;left:12px;flex-direction:column-reverse}.mapplic-marker{top:50%;left:50%}.mapplic-marker{background-color:var(--primary);border-radius:50%;box-sizing:border-box;color:#fff;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;position:absolute;line-height:20px;font-size:12px;font-weight:600;text-align:center;width:20px;height:20px;margin-left:-10px;margin-top:-10px;text-decoration:none;transition:background-color .2s}.dragging .mapplic-marker{opacity:.3!important}.mapplic-marker:hover{opacity:.6;z-index:101!important}.mapplic-marker>span{position:absolute;top:0;left:0;width:100%}.mapplic-marker.mapplic-active{z-index:101!important}.mapplic-marker.square{border-radius:0}.mapplic-marker.rounded{border-radius:6px}.mapplic-marker.dot{font-size:0;width:12px;height:12px;margin-left:-6px;margin-top:-6px}.mapplic-marker.pin1{background-color:transparent!important;width:22px;height:26px;margin-left:-11px;margin-top:-26px;transform-origin:50% 100%}.mapplic-marker.pin2{background-color:transparent!important;width:21px;height:28px;margin-left:-10.5px;margin-top:-28px;transform-origin:50% 100%}.mapplic-marker.thumb{background-color:transparent!important;border-radius:4px;overflow:hidden;width:24px;height:24px;line-height:24px;margin-left:-12px;margin-top:-12px;transform-origin:50% 50%}.mapplic-marker.thumb>img{width:100%;height:100%}.mapplic-marker.text>span.title{white-space:nowrap;width:auto;margin-left:24px}.mapplic-dim{background-color:#0003;position:absolute;top:0;right:0;bottom:0;left:0;z-index:100}.mapplic-popup-content{position:relative;display:flex;justify-content:space-between;flex-direction:column;flex-grow:1;flex-basis:60%;overflow-y:auto;padding:12px;gap:12px;max-width:100%}.mapplic-popup-title{margin-right:24px;display:flex;flex-direction:column;gap:4px}.mapplic-popup-title h4{font-weight:600;font-size:18px;line-height:24px}.mapplic-popup-title h5{display:flex;gap:4px;font-weight:400;font-size:13px;line-height:16px;color:var(--neutral-500)}.mapplic-popup-close{all:unset;cursor:pointer;color:var(--neutral-900);padding:4px;opacity:.5;height:20px;width:20px;position:absolute;display:flex;align-items:center;justify-content:center;right:8px;top:8px;transition:opacity .2s}.mapplic-popup-close:hover{opacity:1}.mapplic-popup-image{flex-basis:40%;flex-grow:0}.mapplic-tooltip .mapplic-popup-image{overflow:hidden;border-radius:12px 0 0 12px;background-color:var(--neutral-050);width:400px}.mapplic-popup-image>img{width:100%;height:100%;-o-object-position:center;object-position:center;-o-object-fit:cover;object-fit:cover}.mapplic-popup-body{flex-grow:1;justify-content:space-between;min-width:100px;font-size:13px;color:var(--neutral-700);line-height:1.4em;overflow-y:auto}.mapplic-popup-body>*{max-width:100%}.mapplic-popup-body p{margin-bottom:8px}.mapplic-popup-body p:first-child{margin-top:0}.mapplic-popup-body p:last-child{margin-bottom:0}.mapplic-popup-actions{display:flex;gap:8px}.mapplic-popup-details{overflow-y:auto;border-radius:6px;padding:12px;display:flex;flex-direction:column;gap:4px;background-color:var(--neutral-100)}.mapplic-popup-details>a{color:var(--primary);font-weight:700;width:100%;text-align:center;text-decoration:none}.mapplic-popup-details>a:hover{text-decoration:underline}.mapplic-hours{display:flex;flex-direction:column;gap:2px;font-size:13px}.mapplic-popup-footer{display:flex;gap:8px;flex-shrink:0;justify-content:space-between;max-width:100%;overflow:hidden}.mapplic-popup-link{white-space:nowrap;flex-shrink:1;align-items:center;overflow:hidden;text-overflow:ellipsis;justify-content:flex-start!important}.mapplic-popup-link>span{flex-shrink:1;text-overflow:ellipsis;overflow:hidden}.mapplic-popup-link>svg{flex-shrink:0}.mapplic-sidebar-popup{display:flex;width:100%;flex-direction:column;height:100%;max-height:100%;overflow:hidden;margin-bottom:4px}.mapplic-portrait .mapplic-sidebar-popup{flex-direction:row}.mapplic-sidebar-popup h4{font-size:24px;font-weight:700;line-height:32px}.mapplic-sidebar-popup .mapplic-popup-body{font-size:14px;line-height:22px}.mapplic-sidebar-popup .mapplic-popup-image{margin:12px;border-radius:12px;overflow:hidden}.mapplic-popup-micro h4{font-size:16px;text-align:center}.mapplic-popup-micro .mapplic-popup-title{margin-right:0}.mapplic-tooltip{background-color:var(--neutral-000);border-radius:12px;display:flex;cursor:auto;position:absolute;transform:translate(-50%,-100%)!important;box-shadow:0 4px 12px #0000001a;z-index:10002;width:-moz-max-content;width:max-content;text-align:left}.mapplic-tooltip:after{content:"";position:absolute;top:100%;left:50%;margin-left:-8px;margin-top:-1px;width:0;height:0;border-top:solid 8px var(--neutral-000);border-left:solid 8px transparent;border-right:solid 8px transparent}.mapplic-tooltip-mini .mapplic-popup-image{display:none}.mapplic-tooltip-hover{pointer-events:none!important}.mapplic-tooltip-hover .mapplic-tooltip-content{padding:8px;min-width:auto}.mapplic-tooltip-content{flex-grow:1;justify-content:space-between;padding:12px;min-width:100px}.mapplic-tooltip-content p{line-height:1.4em}.mapplic-tooltip-content p:first-child{margin-top:0}.mapplic-tooltip-content p:last-child{margin-bottom:0}.mapplic-tooltip-close{background:none;border:none;cursor:pointer;color:var(--neutral-900);padding:4px;opacity:.5;height:20px;width:20px;position:absolute;right:8px;top:8px;transition:opacity .2s}.mapplic-tooltip-close:hover{opacity:1}.mapplic-tooltip-content{display:flex;flex-direction:column;gap:12px}.mapplic-tooltip:not(.mapplic-tooltip-hover) .mapplic-tooltip-title{margin-right:16px}.mapplic-tooltip-title h4{font-weight:600;font-size:16px;line-height:24px}.mapplic-tooltip-title h5{display:flex;gap:4px;font-weight:400;font-size:13px;line-height:16px;color:var(--neutral-500)}.mapplic-tooltip-desc{line-height:20px;font-weight:400;overflow-y:auto}.mapplic-tooltip-footer{display:flex;align-items:center;justify-content:space-between;gap:4px}.mapplic-tooltip-footer code{background-color:var(--neutral-300);border-radius:4px;font-weight:700;padding:4px 6px}.mapplic-controls{display:flex;padding:16px;position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mapplic-controls-messages{gap:8px;display:flex;flex-direction:column;align-items:center;margin:auto}.mapplic-controls-messages>*{background:rgba(0,0,0,.4);border-radius:8px;padding:12px 16px;color:#fff;-webkit-user-select:none;-moz-user-select:none;user-select:none}.mapplic-controls-messages .mapplic-key{border:1px solid #fff;padding:4px;border-radius:4px}.mapplic-controls .mapplic-sidebar-close{background-color:var(--neutral-000);border-radius:0 16px 16px 0;border:none;cursor:pointer;position:absolute;pointer-events:all;min-width:24px;height:32px;font-size:0;z-index:110;color:var(--neutral-600);transition:color .2s;transform:translateY(-50%);left:0;padding:7px 7px 7px 0;top:50%}.mapplic-sidebar-closed .mapplic-controls .mapplic-sidebar-close>svg{transform:rotate(180deg)}.mapplic-controls .mapplic-sidebar-close:hover{color:var(--neutral-900)}.mapplic-sidebar-right .mapplic-controls .mapplic-sidebar-close{left:auto;right:0;transform:translateY(-50%) rotate(180deg);top:50%}.mapplic-portrait .mapplic-controls .mapplic-sidebar-close{top:auto;right:auto;left:50%;bottom:-4px;transform:translate(-50%) rotate(-90deg)}.mapplic-portrait .mapplic-sidebar-close>svg{transform:rotate(180deg)}.mapplic-control-button{pointer-events:auto;background-color:var(--neutral-000)!important;border:1px solid var(--neutral-200);border-radius:6px;box-sizing:border-box;color:var(--neutral-900);cursor:pointer;display:flex;padding:7px;transition:box-shadow .2s;gap:8px}.mapplic-control-button>span{font-size:14px;line-height:16px}.mapplic-controls .mapplic-control-button:not(:disabled):hover{box-shadow:0 2px 4px #0000000a}.mapplic-controls .mapplic-control-button:active{box-shadow:none}.mapplic-control-button:disabled{background-color:var(--neutral-000);color:var(--neutral-400);cursor:auto}.mapplic-control-group>.mapplic-control-button{border-radius:0}.mapplic-control-group>.mapplic-control-button:first-child{border-radius:6px 6px 0 0}.mapplic-control-group>.mapplic-control-button:last-child{margin-top:-1px;border-radius:0 0 6px 6px}.mapplic-button{box-shadow:0 1px 3px #0000000a;background-color:var(--neutral-000);border:1px solid var(--neutral-300);border-radius:6px;cursor:pointer;color:var(--neutral-900);display:inline-flex;justify-content:center;gap:6px;text-decoration:none;padding:8px 12px;font-size:14px;line-height:16px;font-weight:500;transition:background-color .2s,border-color .2s}.mapplic-button:disabled{color:var(--neutral-400)}.mapplic-button:not(:disabled):hover{box-shadow:0 1px 3px #0000000f;background-color:var(--neutral-000);border-color:var(--neutral-400)}.mapplic-button:not(:disabled).mapplic-active,.mapplic-button:not(:disabled):active{box-shadow:none;background-color:var(--neutral-200)}.mapplic-button-small{background-color:var(--primary);border:none;border-radius:4px;cursor:pointer;font-size:14px;line-height:10px;color:#fff;text-decoration:none;padding:4px}.mapplic-button.mapplic-button-primary:not(:disabled){background-color:var(--primary);border:none;padding:8px 12px;color:#fff;font-weight:600;transition:filter .2s}.mapplic-button.mapplic-button-icon{padding:8px}.mapplic-button.mapplic-button-primary:not(:disabled):hover{filter:brightness(1.2)}.mapplic-button.mapplic-button-primary:not(:disabled):active{filter:brightness(.8)}.mapplic-button.mapplic-button-primary:disabled{background-color:var(--neutral-300);border:none;color:var(--neutral-000);cursor:auto;font-weight:700}.mapplic-button.mapplic-button-secondary{background-color:var(--neutral-900)!important;border:1px solid var(--neutral-900)!important;color:var(--neutral-000)}.mapplic-button.mapplic-button-secondary:disabled{background-color:var(--neutral-300)!important;border-color:transparent!important}.mapplic-image{border-radius:8px;overflow:hidden;font-size:0;margin-bottom:12px;height:140px}.mapplic-image>img{width:100%;height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center}.mapplic-layers{min-width:100%;position:relative;transform-origin:top left}.mapplic-panzoom{touch-action:none;position:relative}.mapplic-layer{-webkit-user-select:none;-moz-user-select:none;user-select:none;line-height:0;width:100%;height:100%;position:relative}.mapplic-panzoom .mapplic-layer{width:auto;height:auto;position:absolute}.mapplic-layer>img{display:block}.mapplic-layer>img:not(.mapplic-panzoom .mapplic-layer>img){width:100%;height:100%}.mapplic-layer>svg{width:100%;height:100%}.mapplic-panzoom .mapplic-layer>svg{width:auto;height:auto}.mapplic-overlay{box-sizing:border-box;pointer-events:none;position:absolute;top:0;right:0;bottom:0;left:0;z-index:1}.mapplic-overlay>*{pointer-events:auto}.mapplic-layer-switcher{display:flex;flex-direction:column}.mapplic-layer-switcher>button{background-color:#f2f2f299;border-radius:0;color:var(--neutral-700);cursor:pointer;padding:0 8px;min-height:28px;font-size:12px;font-weight:600;border:none;transition:transform .2s}.mapplic-layer-switcher>button:first-child{border-radius:6px 6px 0 0}.mapplic-layer-switcher>button:last-child{border-radius:0 0 6px 6px}.mapplic-layer-switcher>button.mapplic-active{box-shadow:0 6px 12px #00000005;background-color:var(--neutral-000);border-radius:4px;color:var(--neutral-900);transform:scale(1.2);z-index:100}.mapplic-sidebar{box-sizing:border-box;position:absolute;top:0;left:0;bottom:0;pointer-events:none;display:flex;flex-direction:column;align-items:center;width:var(--sidebar);padding:0 8px 0 0;overflow:hidden;z-index:110;transition:left .2s}.mapplic-sidebar>*{pointer-events:auto}.mapplic-sidebar-count{color:var(--neutral-600);margin:0 8px 8px}.mapplic-dir{box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;gap:24px;padding:0 4px;margin:8px 0;width:100%;overflow-y:auto;overflow-x:hidden}.mapplic-dir-items{display:grid;grid-template-columns:100%;max-width:100%;gap:4px;margin:0;padding:0;list-style:none}.mapplic-dir-items>li{min-width:0}.mapplic-grid-items{gap:16px}.mapplic-dir-group-title{color:var(--neutral-300);display:flex;justify-content:space-between;gap:12px;align-items:center;padding:8px;text-transform:uppercase;font-weight:700;letter-spacing:1px;transition:color .2s}.mapplic-dir-group-title>span{flex-shrink:0;font-size:11px}.mapplic-line{height:.8px;background-color:var(--neutral-100);transition:background-color .2s;width:100%}.mapplic-dir-group:hover>.mapplic-dir-group-title{color:var(--neutral-500)}.mapplic-dir-item{box-shadow:none;all:unset;border:1px solid transparent;border-radius:8px;color:var(--neutral-900);cursor:pointer;display:flex;align-items:center;gap:8px;text-decoration:none;padding:6px;transition:border-color .2s,background-color .2s,box-shadow .2s}.mapplic-grid-item{flex-direction:column;align-items:flex-start}.mapplic-grid-item h3{font-weight:600;font-size:16px}.mapplic-grid-item>.mapplic-thumbnail{width:100%;height:auto;aspect-ratio:3/2}.mapplic-grid-item>.mapplic-item-body{padding:4px 8px;width:100%}.mapplic-dir-item.mapplic-active{border-color:var(--neutral-100)}.mapplic-dir-item.mapplic-active .mapplic-thumbnail{opacity:1}.mapplic-thumbnail{background-color:var(--neutral-200);box-sizing:border-box;border-radius:4px;flex-shrink:0;width:48px;height:48px;overflow:hidden;opacity:.5;display:flex;flex-direction:column;justify-content:center;transition:opacity .2s,background-color .2s}.mapplic-dir-item .mapplic-thumbnail:has(img),.mapplic-dir-item:hover .mapplic-thumbnail:has(img),.mapplic-dir-item.mapplic-active .mapplic-thumbnail:has(img){background-color:var(--neutral-000)}.mapplic-grid-item .mapplic-thumbnail:has(img){background-color:var(--neutral-050);padding:5%}.mapplic-thumbnail>img{width:100%;height:100%;-o-object-fit:cover;object-fit:cover;transition:all .2s}.mapplic-thumbnail>span{color:var(--neutral-000);display:block;font-size:20px;font-weight:700;text-align:center}.mapplic-dir-item.mapplic-highlight .mapplic-thumbnail,.mapplic-dir-item:hover .mapplic-thumbnail{opacity:1}.mapplic-dir-item.mapplic-highlight,.mapplic-dir-item:hover,.mapplic-dir-item:focus-visible{background-color:var(--neutral-000);border-color:var(--neutral-200);box-shadow:0 6px 12px #00000005;outline:none}.mapplic-item-body{display:flex;flex-direction:column;gap:2px;overflow:hidden;max-width:100%}.mapplic-dir-item h4,h5{line-height:20px;margin:0}.mapplic-dir-item h4{font-weight:600;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mapplic-dir-item h5{display:flex;gap:4px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;color:var(--neutral-600);font-size:12px;font-weight:400}.mapplic-empty-message{color:var(--neutral-500);font-size:13px;margin:auto;padding:0 8px}.mapplic-search-filter{border-radius:12px;border:3px solid transparent;box-sizing:border-box;display:flex;flex-direction:column;max-height:100%;width:100%;max-width:400px;overflow:hidden;flex-shrink:0;transition:border-color .2s}.mapplic-portrait .mapplic-search-filter{margin:16px 0}.mapplic-search-filter.opened{background-color:var(--neutral-000);border-color:var(--neutral-100)}.mapplic-filters-footer{background-color:var(--neutral-100);display:flex;justify-content:space-between;padding:8px 12px 5px}.mapplic-filters-footer>button{all:unset;font-weight:400;cursor:pointer;display:flex;gap:4px;align-items:center}.mapplic-filters-footer>span{font-size:13px;color:var(--neutral-400)}.mapplic-search-bar{display:flex;gap:8px;padding:9px}.mapplic-search-bar .mapplic-search{flex-grow:1}.mapplic-search-bar .mapplic-switch{flex-shrink:0}.mapplic-search{background-color:#f2f2f299;border-radius:8px;position:relative}.mapplic-search>input{background:none;border:none;border-radius:8px;box-sizing:border-box;color:var(--neutral-900);font-size:16px!important;line-height:20px!important;padding:10px 10px 10px 36px;width:100%}.mapplic-search>input:focus{outline:2px solid var(--primary)}.mapplic-search>svg{position:absolute;left:12px;top:50%;margin-top:-8px}.mapplic-search>button{background:none;border:none;color:var(--neutral-900);cursor:pointer;line-height:8px;right:8px;top:50%;margin-top:-12px;padding:6px;position:absolute}.mapplic-element mark{background-color:#1476ff40;color:var(--neutral-900)}.mapplic-filters{background-color:var(--neutral-100);display:flex;flex-direction:column;overflow-y:auto}.mapplic-filters-body{background-color:var(--neutral-000);border-radius:0 0 8px 8px;display:flex;flex-direction:column;gap:8px;flex-shrink:2;overflow-y:auto;overflow-x:hidden;padding:8px 16px 16px}.mapplic-filters h5{color:var(--neutral-400);font-weight:500;font-size:11px;line-height:1.6em;margin-bottom:8px;margin-top:8px;text-transform:uppercase}.mapplic-filter-toggle{display:flex;flex-wrap:wrap;gap:8px}.mapplic-filter-toggle>button{border:1px solid var(--neutral-400);display:flex;padding:4px 8px}.mapplic-filter-toggle>button.mapplic-selected{color:var(--neutral-000);background-color:var(--neutral-900);border-color:var(--neutral-900)}.mapplic-tags{display:flex;flex-wrap:wrap;gap:4px;padding:4px 0}.mapplic-tag{background-color:var(--neutral-000);border:1px solid var(--neutral-200);border-radius:13px;color:var(--neutral-600);cursor:pointer;display:flex;font-size:12px;line-height:100%;font-weight:600;padding:6px 10px;vertical-align:middle;transition:background-color .2s,color .2s,border-color .2s}.mapplic-tag:not(.mapplic-active)>span{color:var(--neutral-800)}.mapplic-tag:hover{border-color:var(--neutral-500)}.mapplic-tag.mapplic-active{background-color:var(--neutral-800);border-color:var(--neutral-800)}.mapplic-tag>svg{vertical-align:middle}.mapplic-tag>svg:first-child{margin-right:2px}.mapplic-tag>svg:last-child{margin-left:2px}.mapplic-dropdown{background-color:var(--neutral-000);border:1px solid var(--neutral-300);border-radius:6px;margin:0 0 8px;box-sizing:border-box;font-size:16px!important;line-height:20px!important;padding:8px;width:100%}.mapplic-count{background-color:var(--neutral-800);box-sizing:border-box;border-radius:8px;color:var(--neutral-000);display:inline-block;font-size:10px;font-weight:700;line-height:8px;min-width:16px;padding:4px;position:absolute;top:-6px;right:-6px;vertical-align:middle}.mapplic-switch{background-color:#f2f2f299;box-sizing:content-box;border-radius:8px;display:flex;min-width:32px;height:32px;padding:4px;position:relative}.mapplic-switch>.mapplic-switch-background{position:absolute;background-color:var(--neutral-000);box-shadow:0 1px 2px #0000000f;border-radius:6px;height:32px;right:4px;left:4px;transition:left .2s}.mapplic-switch>button{background:none;border:none;border-radius:4px;cursor:pointer;display:flex;gap:6px;font-size:15px;color:var(--neutral-900);flex-grow:1;padding:8px;min-width:32px;height:100%;position:relative;transition:color .2s}.mapplic-switch>button>span{color:var(--neutral-700)}.mapplic-switch button.mapplic-active{color:var(--neutral-900)}.mapplic-toggle{color:var(--neutral-900);cursor:pointer;display:block;font-size:14px;line-height:20px;position:relative}.mapplic-toggle-switch{position:absolute;display:inline-block;width:32px;height:20px;right:0}.mapplic-toggle-switch>input{display:none}.mapplic-toggle-switch>span{background-color:var(--neutral-200);border-radius:16px;position:absolute;cursor:pointer;top:0;right:0;left:0;bottom:0;transition:.2s}.mapplic-toggle-switch>span:before{background-color:var(--neutral-000);border-radius:50%;position:absolute;content:"";height:16px;width:16px;left:2px;top:2px;transition:.2s}.mapplic-toggle-switch>input:checked+span{background-color:var(--neutral-800)}.mapplic-toggle-switch>input:checked+span:before{transform:translate(12px)}.mapplic-legend{background:rgba(249,250,251,.8);-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);border-radius:8px;box-shadow:0 4px 24px #0000000d;display:flex;flex-direction:column;padding:12px;overflow:hidden;transition:background-color .2s,border-radius .2s}.mapplic-legend.closed{padding:0;border-radius:0;background-color:transparent;-webkit-backdrop-filter:none;backdrop-filter:none}.mapplic-legend-title{display:flex;justify-content:space-between;align-items:center;gap:8px;font-weight:700;font-size:12px;padding-bottom:8px}.mapplic-legend-title>span{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mapplic-legend-title>button{padding:4px}.mapplic-legend-list{display:grid;row-gap:6px;-moz-column-gap:12px;column-gap:12px}.mapplic-legend-list.horizontal{flex-direction:row;gap:16px}.mapplic-legend-item{display:flex;align-items:center;gap:6px;font-size:12px;font-weight:500;white-space:nowrap}.mapplic-legend-symbol{background-color:var(--neutral-300);border-radius:4px;display:flex;font-size:10px;font-weight:700;line-height:10px;color:var(--neutral-000);width:20px;height:20px;justify-content:center;align-items:center}.mapplic-element *{scrollbar-width:thin;scrollbar-color:var(--neutral-200) transparent}.mapplic-element *::-webkit-scrollbar{width:4px;height:4px}.mapplic-element *::-webkit-scrollbar-track{background-color:transparent}.mapplic-element *::-webkit-scrollbar-thumb{background-color:var(--neutral-200);border-radius:20px;border:3px solid transparent;box-sizing:border-box}.mapplic-layer *{pointer-events:none}.mapplic-layer svg text{font-family:inherit}.mapplic-layer svg *[id^=MLOC]>*[id],.mapplic-layer svg *[id^=MLOC]>*[id] *{pointer-events:auto;transition:fill .2s}.mapplic-layer svg .mapplic-highlight,.mapplic-layer svg .mapplic-active{cursor:pointer}.mapplic-layer svg[baseProfile] *[id^=MLOC]>*[id]{fill:var(--neutral-200);stroke:var(--neutral-400);stroke-width:.5}.mapplic-wayfinding{display:flex;flex-direction:column;padding:0;position:relative;overflow:hidden}.mapplic-wayfinding-title{font-size:12px;font-weight:700;padding:4px;line-height:16px}.mapplic-wayfinding .mapplic-close{top:8px;right:8px}.mapplic-wayfinding.mapplic-active{box-shadow:0 4px 24px #0000000d;border-radius:8px;background-color:var(--neutral-000)}.mapplic-wayfinding-header{display:flex;padding:4px;gap:4px;justify-content:space-between}.mapplic-wayfinding-content{display:flex;flex-direction:column;padding:8px;gap:4px}.mapplic-wayfinding-bar{background-color:var(--neutral-050);display:flex;justify-content:space-between;gap:8px;padding:8px}.mapplic-wayfinding-bar .mapplic-button-secondary{width:100%}.mapplic-wayfinding-bar-main{display:flex;gap:8px}.mapplic-close{all:unset;display:flex;padding:4px;cursor:pointer;position:absolute;top:12px;right:12px;opacity:.5;transition:.2s border-color,.2s background-color}.mapplic-close:hover{opacity:1}.mapplic-wayfinding-position{margin-left:4px;display:flex;align-items:center;gap:8px}.mapplic-wayfinding-body{position:relative;gap:8px;display:flex}.mapplic-wayfinding-positions{display:flex;gap:4px;flex-direction:column}.mapplic-wayfinding-position:first-child>.mapplic-wayfinding-pin{border-radius:6px}.mapplic-wayfinding-position>button{border:none;outline:1px solid transparent;background-color:var(--neutral-100);border-radius:6px;display:flex;line-height:16px;padding:8px;font-size:14px;cursor:pointer;text-align:left;transition:.2s all;width:140px}.mapplic-wayfinding-position>button>span{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mapplic-wayfinding-position>button:hover{background-color:var(--neutral-100)!important}.mapplic-wayfinding-pin{border:2px solid #000;box-sizing:content-box;border-radius:5px 5px 5px 0;rotate:-45deg;width:5px;height:5px}.mapplic-wayfinding-swap{background-color:var(--neutral-000)!important;all:unset;color:var(--neutral-700);padding:4px;rotate:-90deg;cursor:pointer;position:absolute;opacity:0;left:-2px;top:24px;transition:rotate .2s,opacity .2s}.mapplic-wayfinding-swap.rotated{rotate:90deg}.mapplic-wayfinding-body:hover .mapplic-wayfinding-swap{opacity:1}.mapplic-wayfinding-dots{display:flex;flex-direction:column;gap:4px;position:absolute;left:7px;top:26px}.mapplic-wayfinding-dots>*{background-color:var(--neutral-300);width:3px;height:3px;border-radius:50%}.mapplic-routes-dashed{animation:dash 200s linear infinite}@keyframes dash{to{stroke-dashoffset:-1000}}.mapplic-marker-pulse{content:"";position:relative;display:block;z-index:-1;width:300%;opacity:1;height:300%;box-sizing:border-box;margin-left:-100%;margin-top:-100%;border-radius:45px;background-color:inherit;animation:pulse-ring 2s cubic-bezier(.215,.61,.355,1) infinite}@keyframes pulse-ring{0%{transform:scale(.33)}50%,to{opacity:0}}*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.btn{display:flex;align-items:center;justify-content:center;gap:.5rem;border-radius:.5rem;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity));padding:.75rem 1rem;font-weight:600;--tw-text-opacity: 1;color:rgb(3 7 18 / var(--tw-text-opacity));outline-style:solid;outline-width:1px;outline-offset:-1px;outline-color:#0307121a;--tw-ring-opacity: 1;--tw-ring-color: rgb(107 114 128 / var(--tw-ring-opacity));--tw-ring-offset-width: 1px;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.btn:hover{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);outline-color:#03071233}.btn:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.btn:active{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity));--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);outline-color:#0307121a}.btn:disabled{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity));outline:2px solid transparent;outline-offset:2px}.btn-primary{--tw-bg-opacity: 1;background-color:rgb(20 118 255 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity));--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);--tw-ring-opacity: 1;--tw-ring-color: rgb(20 118 255 / var(--tw-ring-opacity))}.btn-primary:hover{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.btn-primary:active{--tw-bg-opacity: 1;background-color:rgb(20 118 255 / var(--tw-bg-opacity));--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.btn-primary:disabled{--tw-bg-opacity: 1;background-color:rgb(209 213 219 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity));--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.btn-secondary{--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity));--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);--tw-ring-opacity: 1;--tw-ring-color: rgb(55 65 81 / var(--tw-ring-opacity))}.btn-secondary:hover{--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity));--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.btn-secondary:active{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity));--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.btn-sm{border-radius:.375rem;padding:.5rem .75rem;font-size:.875rem;line-height:1.25rem}.btn-lg{border-radius:.75rem;padding:.75rem 1.25rem;font-size:1.125rem;line-height:1.75rem}.absolute{position:absolute}.relative{position:relative}.-bottom-10{bottom:-2.5rem}.-right-10{right:-2.5rem}.z-10{z-index:10}.m-auto{margin:auto}.-mt-6{margin-top:-1.5rem}.ml-auto{margin-left:auto}.mr-2{margin-right:.5rem}.flex{display:flex}.grid{display:grid}.hidden{display:none}.h-16{height:4rem}.h-9{height:2.25rem}.h-full{height:100%}.w-9{width:2.25rem}.w-auto{width:auto}.w-full{width:100%}.max-w-md{max-width:28rem}.shrink-0{flex-shrink:0}.flex-grow{flex-grow:1}.rotate-180{--tw-rotate: 180deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-75{--tw-scale-x: .75;--tw-scale-y: .75;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-between{justify-content:space-between}.gap-1{gap:.25rem}.gap-10{gap:2.5rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.self-center{align-self:center}.overflow-hidden{overflow:hidden}.text-ellipsis{text-overflow:ellipsis}.whitespace-nowrap{white-space:nowrap}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.border{border-width:1px}.border-none{border-style:none}.border-blue-500{--tw-border-opacity: 1;border-color:rgb(59 130 246 / var(--tw-border-opacity))}.border-gray-300{--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity))}.border-lime-500{--tw-border-opacity: 1;border-color:rgb(132 204 22 / var(--tw-border-opacity))}.bg-blue-50{--tw-bg-opacity: 1;background-color:rgb(239 246 255 / var(--tw-bg-opacity))}.bg-red-500{--tw-bg-opacity: 1;background-color:rgb(239 68 68 / var(--tw-bg-opacity))}.bg-transparent{background-color:transparent}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.object-contain{-o-object-fit:contain;object-fit:contain}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.px-1{padding-left:.25rem;padding-right:.25rem}.px-1\\.5{padding-left:.375rem;padding-right:.375rem}.px-5{padding-left:1.25rem;padding-right:1.25rem}.py-0{padding-top:0;padding-bottom:0}.py-0\\.5{padding-top:.125rem;padding-bottom:.125rem}.py-10{padding-top:2.5rem;padding-bottom:2.5rem}.py-4{padding-top:1rem;padding-bottom:1rem}.text-left{text-align:left}.text-right{text-align:right}.text-2xl{font-size:1.5rem;line-height:2rem}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-normal{font-weight:400}.font-semibold{font-weight:600}.italic{font-style:italic}.text-gray-400{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}.text-gray-600{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity))}.text-lime-500{--tw-text-opacity: 1;color:rgb(132 204 22 / var(--tw-text-opacity))}.opacity-50{opacity:.5}.shadow-none{--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline-2{outline-width:2px}.outline-primary{outline-color:#1476ff}.ring-1{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-blue-500{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-colors{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}body{margin:0;font-family:Inter,sans-serif}h1,h2,h3,h4{margin:0}button{font-family:inherit}.auto-layout{display:flex;gap:8px}.auto-layout.align-right{justify-content:right}.auto-layout.align-center{align-items:center}.auto-layout.space-between{justify-content:space-between}.g8{gap:8px}.g4{gap:4px}.dotted-background,div[id^=page-maps-]{background-color:#fff;background-image:linear-gradient(to bottom,rgba(255,255,255,1) 0%,rgba(255,255,255,0) 240px),url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='1.5' height='1.5' rx='0.75' fill='%23E5E7EB'/%3E%3C/svg%3E")}.mapplic-admin{box-sizing:border-box;color:var(--neutral-900);display:flex;flex-direction:row;flex-grow:1;overflow:auto;width:100%;height:100%;gap:48px;padding:0 16px 16px}.mapplic-admin-main{flex-grow:1;display:flex;flex-direction:column;gap:16px}.mapplic-admin-bar{display:flex;height:48px;flex-direction:row;justify-content:space-between;align-items:center;position:relative}.mapplic-admin-content{overflow-y:auto;padding-left:100px}@media screen and (max-width: 1200px){#mapplic-screens{display:none}}@media screen and (max-width: 800px){.panel.main{width:56px!important}.mapplic-admin-content{padding-left:0!important}.panel-child{z-index:800!important}.mapplic-admin{gap:12px!important}}.mapplic-admin-bar .mapplic-actions{display:flex;gap:8px;padding:8px 12px}.mapplic-admin-bar .mapplic-map-title{margin-left:12px;display:inline-block;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mapplic-admin-notifications{position:absolute;display:flex;flex-direction:column;align-items:center;top:56px;right:12px;gap:8px;z-index:200}.mapplic-notification{background-color:var(--success)50;border-radius:6px;color:#fff;display:inline;margin:0;font-size:13px;line-height:20px;padding:8px 12px}.mapplic-notification>button{border:none;background-color:transparent;padding:0;color:inherit;font-size:inherit;font-weight:700;cursor:pointer}.mapplic-notification>button:hover{text-decoration:underline}.mapplic-notification.mapplic-success{background-color:#7eca6310;color:var(--success)}.mapplic-notification.mapplic-error{background-color:#dd3c4b10;color:#dd3c4b}.mapplic-notification.mapplic-warning{background-color:#efcb6810;color:#efcb68}#map-container{margin:0 auto;padding:8px;max-width:1000px;transition:max-width .2s;overflow-y:auto}#map-container.tablet{max-width:720px}#map-container.mobile{padding:8px;border-radius:20px;max-width:360px;min-height:800px}.admin-sidebar{box-sizing:border-box;position:sticky;top:0;height:100vh;padding:16px}.mapplic-panel{background-color:var(--neutral-050);border:1px solid var(--neutral-200);border-radius:12px;flex-shrink:0;width:300px;transition:width .2s;height:100%}.mapplic-logo-small{margin-left:6px;height:20px}.mapplic-panel.mapplic-opened{box-shadow:0 8px 12px #00000005;width:360px}.mapplic-panel input[type=checkbox]{margin-left:0;margin-right:8px}.mapplic-panel h5:first-child{margin-top:0}.option-group{display:flex;flex-direction:column;gap:8px}.field-label{display:flex;align-items:center;gap:8px}.field-label.above{flex-direction:column;align-items:flex-start}.field-label>span{color:var(--neutral-600);flex-shrink:0;font-size:13px;width:80px}.field{background-color:var(--neutral-100);border-radius:6px;box-sizing:border-box;font-size:13px;padding:4px;position:relative;display:flex;gap:4px;width:100%}.field:not(.switch):focus-within{outline:2px solid var(--primary);background-color:var(--neutral-000)}.field.error{background-color:#fceaeb;outline-color:#dd3c4b!important;color:#dd3c4b}.field-inner{display:flex;align-items:center;gap:8px;flex-grow:1;padding:4px}.field-inner span{font-size:11px;color:var(--neutral-400)}.field-inner svg{color:var(--neutral-500)}.field input::-moz-placeholder,.field textarea::-moz-placeholder{font-weight:400;color:var(--neutral-400)}.field input::placeholder,.field textarea::placeholder{font-weight:400;color:var(--neutral-400)}.field input,.field select{background-color:transparent;border:none;box-sizing:border-box;font-size:13px;font-weight:700;line-height:16px;padding:0;width:100%;min-height:auto!important}.field input:focus,.field select:focus{outline:none;box-shadow:none}.field select option:checked{font-weight:700}.field button{border:none;border-radius:4px;box-shadow:0 1px 2px #0000000f;background-color:var(--neutral-000);color:var(--neutral-900);display:flex;align-items:center;justify-content:center;padding:4px;cursor:pointer;transition:background-color .2s,box-shadow .2s,color .2s}.field textarea{all:unset;padding:4px;width:100%!important;resize:vertical;font-size:13px;min-height:40px;max-height:400px}.field-label button{color:var(--primary)}.switch button{font-weight:700;width:100%}.switch button:not(.selected){background-color:transparent;box-shadow:none;color:var(--neutral-500)}.editor{background-color:var(--neutral-100);border-radius:6px}.editor-menu{display:flex;gap:4px;font-size:12px;padding:8px}.editor-menu button{border:none;background-color:transparent;border-radius:4px;cursor:pointer;display:flex;font-weight:700;padding:4px;transition:background-color .2s}.editor-menu button.is-active{background-color:var(--neutral-300)}.ProseMirror{padding:12px 16px;border-radius:6px}.ProseMirror p{font-size:13px;line-height:20px;padding-bottom:8px}.ProseMirror{min-height:64px;max-height:160px;overflow-y:auto}.ProseMirror>p:first-child{margin-top:0}.ProseMirror>p:last-child{margin-bottom:0}.ProseMirror.ProseMirror-focused{background-color:var(--neutral-000);outline-color:var(--primary)}.ProseMirror p.is-editor-empty:first-child:before{color:var(--neutral-400);content:attr(data-placeholder);float:left;height:0;pointer-events:none}.is-active{background-color:var(--neutral-300)}.mapplic-admin *{scrollbar-width:thin;scrollbar-color:var(--neutral-300) transparent}.mapplic-admin *::-webkit-scrollbar{width:4px;height:4px}.mapplic-admin *::-webkit-scrollbar-track{background-color:transparent}.mapplic-admin *::-webkit-scrollbar-thumb{background-color:var(--neutral-300);border-radius:20px;border:3px solid transparent;box-sizing:border-box}.mapplic-admin-button{background-color:transparent;border:none;border-radius:50%;box-sizing:border-box;color:var(--neutral-900);cursor:pointer;padding:8px;width:32px;height:32px;transition:background-color .2s}.mapplic-admin-button:disabled{cursor:auto;color:var(--neutral-400);background-color:transparent}.mapplic-admin-button.warn:not(:disabled)>svg{color:#dd3c4b}.mapplic-admin-button.warn:not(:disabled):hover{background-color:#dd3c4b10!important}.mapplic-admin-button:not(:disabled):hover{background-color:var(--neutral-200)}.mapplic-panel{display:flex;flex-direction:column;max-height:100%}.mapplic-panel-menu{display:flex;flex-direction:column;margin:12px;align-items:flex-start;gap:24px}.main-panel-header>button,.mapplic-menu-button{background:transparent;border:none;cursor:pointer;color:var(--neutral-400);display:flex;font-size:13px;font-weight:700;align-items:center;gap:10px;width:100%;padding:0;position:relative;transition:color .2s}.mapplic-panel.mapplic-opened .mapplic-menu-button>span{display:none}.mapplic-menu-icon{border-radius:8px;color:var(--neutral-500);font-size:0;padding:8px;transition:background-color .2s}.mapplic-menu-count{background-color:var(--neutral-500);border-radius:4px;color:var(--neutral-800);margin:0 8px 0 auto;padding:3px;min-width:16px;line-height:10px;font-size:11px;font-weight:700;transition:background-color .2s}.mapplic-menu-button:disabled{color:var(--neutral-600)}.mapplic-menu-button:disabled>.mapplic-menu-icon{color:var(--neutral-700)}.mapplic-menu-button.mapplic-active:not(:disabled),.mapplic-menu-button:hover:not(:disabled){color:var(--neutral-000)}.mapplic-menu-button:hover:not(:disabled)>.mapplic-menu-count{background-color:var(--neutral-300)}.main-panel-header>button:hover:not(:disabled),.mapplic-menu-button:hover:not(:disabled)>.mapplic-menu-icon{background-color:var(--neutral-700)}.mapplic-menu-button.mapplic-active:not(:disabled)>.mapplic-menu-icon{background-color:var(--neutral-600);color:var(--neutral-000)}.mapplic-menu-warning{background-color:var(--error);box-sizing:border-box;border-radius:50%;color:var(--neutral-000);font-size:9px;font-weight:700;line-height:6px;padding:4px;height:12px;width:12px;top:2px;left:18px;position:absolute}.mapplic-panel-header{box-sizing:border-box;border-bottom:1px solid var(--neutral-200);display:flex;justify-content:space-between;align-items:center;height:51px;padding:5px 12px}.mapplic-panel-body{position:relative;overflow:hidden;height:100%}.mapplic-panel-content{background-color:var(--neutral-000);border-left:1px solid var(--neutral-200);border-radius:12px;position:absolute;top:0;right:0;bottom:0;left:56px;display:flex;flex-direction:column;overflow-y:auto}.mapplic-panel-group{border-bottom:1px solid var(--neutral-200);display:flex;flex-direction:column;gap:20px;padding:24px}.mapplic-panel-group h4{font-weight:700}.mapplic-panel-options{display:flex;flex-direction:column;gap:8px}.mapplic-panel-inline{display:flex;gap:8px}.mapplic-panel-inline>*{flex-basis:0;flex-grow:1}.mapplic-title-toggle{display:flex;justify-content:space-between;align-items:center;margin:-8px 0 0}.mapplic-title-toggle>button{margin-right:-8px}.mapplic-admin-list{margin:-8px -8px 0 0}.mapplic-admin-list ul{list-style:none;margin:0;padding:0}.mapplic-admin-list-header{display:flex;gap:8px;flex-direction:row;align-items:center;justify-content:space-between;padding-bottom:8px}.mapplic-admin-list-header>h4{margin:0 0 0 8px!important}.mapplic-admin-list-header>b{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mapplic-admin-list-body{max-height:340px;overflow-y:auto}.mapplic-admin-list-items{margin:0 8px!important;padding-left:8px!important;position:relative}.mapplic-admin-list-items:before{content:"";border-left:2px solid var(--neutral-200);position:absolute;left:0;top:0;bottom:24px}.mapplic-admin-list-items.long:before{bottom:0}.mapplic-admin-list-item{border-radius:6px;display:flex;gap:8px;position:relative;transition:background-color .2s}.mapplic-admin-list-item:before{border-width:0 0 2px 2px;border-bottom-left-radius:6px;border-style:solid;border-color:var(--neutral-200);content:"";width:8px;height:8px;position:absolute;top:7px;left:-8px;transition:border-color .2s}.mapplic-admin-list-item>button{background-color:transparent;border:none;color:var(--neutral-900);cursor:pointer;display:flex;gap:6px;align-items:center;width:100%;text-align:left;font-size:14px;line-height:100%;padding:8px 10px;min-height:32px}.mapplic-admin-list-item:hover{background-color:var(--select)}.mapplic-admin-list-item.sortable-chosen:before{border-color:#5498f7}.mapplic-admin-list-properties{width:100%}.mapplic-admin-list-property{font-size:14px;line-height:100%;padding:8px;transition:background-color .2s}.mapplic-admin-list-property>td:first-child{min-width:70px}.mapplic-admin-list-property:hover{background-color:var(--neutral-100)}.mapplic-admin-list-property label{font-size:11px!important;color:var(--neutral-500);padding:0 8px;margin:0!important;text-transform:uppercase;transition:color .2s}.mapplic-admin-list-property input[type=text],.mapplic-admin-list-property input[type=number]{background-color:transparent;border:none;box-sizing:border-box;font-size:14px;padding:8px;width:100%}.mapplic-admin-list-property input[type=range]{width:95%}.mapplic-admin-list-property select{border:none;background:none;padding:8px 4px;width:100%}.mapplic-admin-list-property select[multiple]{height:48px;transition:height .2s}.mapplic-admin-list-property select[multiple]:focus{height:100px}.mapplic-admin-list-property input[type=checkbox]{cursor:pointer;width:95%}.mapplic-admin-list-property:focus-within label{color:var(--neutral-900);font-weight:600}.mapplic-admin input.mapplic-invalid{background-color:#fceaeb;outline-color:#dd3c4b!important;color:#dd3c4b;border-color:#dd3c4b}.mapplic-admin input.mapplic-unsaved{background-color:#f7f4e8}.mapplic-admin .react-colorful{box-sizing:border-box;width:168px;height:168px}.mapplic-admin .react-colorful__hue,.mapplic-admin .react-colorful__alpha{height:16px}.mapplic-admin .react-colorful__pointer{width:16px;height:16px}.picker{position:relative}.popover{z-index:100;position:absolute!important;top:calc(100% + 2px);left:0;border-radius:9px;box-shadow:0 6px 12px #00000026}.swatch{box-shadow:0 0 0 1px #0000001a,inset 0 0 0 1px #0000001a;border:2px solid #fff;border-radius:4px;cursor:pointer;flex-shrink:0;width:20px;height:20px}.mapplic-input-wrap{position:relative}.mapplic-input-wrap>button{background-color:transparent;border:none;border-radius:4px;color:var(--neutral-700);cursor:pointer;line-height:8px;padding:4px;position:absolute;right:4px;top:50%;opacity:.6;margin-top:-12px;transition:opacity .2s}.mapplic-input-wrap>input{padding-right:32px!important}.mapplic-input-wrap>button:focus,.mapplic-input-wrap>button:hover{opacity:1}.mapplic-input-wrap>svg{padding:8px;line-height:10px;position:absolute;top:6px;right:6px}.mapplic-error{color:#dd3c4b;display:block;margin-top:4px}.mapplic-button.mapplic-button-primary.mapplic-button-saved{background-color:#a2d729!important;cursor:auto}.mapplic-raw-editor{background-color:var(--neutral-100);font-family:monospace;box-sizing:border-box;width:100%;min-width:100%;max-width:100%;height:40vh;min-height:100px;max-height:70vh;white-space:nowrap}.ace_scroller.ace_scroll-left:after{box-shadow:17px 0 16px -16px #0000001a inset}.code-button{all:unset;background-color:var(--neutral-100);border:1px solid var(--neutral-300);border-radius:4px;color:var(--neutral-900);cursor:pointer;display:flex;padding:4px;transition:background-color .2s,border-color .2s}.code-button:hover{border-color:var(--neutral-500);background-color:var(--neutral-000)}textarea.code{font-family:monospace}.mapplic-location-drag{border:2px dotted #9747FF;box-sizing:border-box;box-shadow:0 0 10px #9747ff80;top:200px;left:200px;position:absolute;opacity:.8;border-radius:12px;width:24px;height:24px;margin-top:-12px;margin-left:-12px;z-index:10010}.mapplic-layer svg *[id^=MLOC]>.mapplic-new-location,.mapplic-layer svg *[id^=MLOC]>.mapplic-new-location>*{fill:url(#mapplic-stripe-pattern)!important}.mapplic-button.alt{background-color:var(--neutral-000);border-color:var(--neutral-300);box-shadow:0 2px 4px #00000005;transition:background-color .2s,border-color .2s,box-shadow .2s}.mapplic-button.alt:hover{border-color:var(--neutral-400);box-shadow:0 4px 8px #0000000d}.mapplic-button.alt:active{box-shadow:none;background-color:var(--neutral-050);border-color:var(--neutral-300)}.mapplic-button.alt:disabled{box-shadow:none;background-color:var(--neutral-100);border-color:var(--neutral-300);cursor:auto}.mapplic-button .mapplic-loader{width:16px;height:16px;border:2px solid var(--neutral-000)!important;border-bottom-color:transparent!important;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1s linear infinite;opacity:.6}@keyframes rotation{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.react-responsive-modal-overlay,.react-responsive-modal-container,.react-responsive-modal-modal{animation-fill-mode:forwards!important}.react-responsive-modal-container{padding:20px}.react-responsive-modal-modal{box-sizing:border-box;margin:0;min-width:320px;max-width:100%;display:inline-flex;flex-direction:column;gap:16px;border-radius:10px;box-shadow:0 8px 12px #0000001a;line-height:1.6em;padding:20px}.react-responsive-modal-modal>*:not(.react-responsive-modal-closeButton){width:100%}.react-responsive-modal-modal p{margin:0}.react-responsive-modal-overlay{background:rgba(0,0,0,.4)}.react-responsive-modal-closeButton{padding:4px}.mapplic-demos{display:grid;grid-template-columns:1fr 1fr;gap:8px}.mapplic-demo-map{text-decoration:none;border-radius:8px;border:2px solid var(--neutral-100);background-color:var(--neutral-100);color:var(--neutral-700);display:block;max-width:240px;padding:12px;transition:background-color .2s}.mapplic-demo-map:hover{background-color:var(--neutral-000)}.mapplic-demo-map h4{color:var(--neutral-900);margin:0 0 8px}.quill>*{border:none!important;padding:0!important}.ql-editor{font-size:14px;padding:8px}.ql-formats{border:2px solid var(--neutral-100);border-radius:8px;margin:0!important;padding:4px 4px 0}.ql-container{max-height:200px;overflow-y:auto}.ql-snow .ql-picker.ql-header{width:50px!important}.ql-snow .ql-picker.ql-header .ql-picker-label:not([data-value]):before,.ql-snow .ql-picker.ql-header .ql-picker-item:not([data-value]):before{content:"p"!important}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="1"]:before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="1"]:before{content:"H1"!important}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="2"]:before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="2"]:before{content:"H2"!important}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="3"]:before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="3"]:before{content:"H3"!important}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="4"]:before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="4"]:before{content:"H4"!important}.ql-editor.ql-blank:before{font-style:normal;color:var(--neutral-400);font-weight:400;left:8px;white-space:nowrap}.mapplic-admin>aside{box-sizing:border-box}.panel{box-sizing:border-box;display:flex;flex-direction:column;gap:16px;width:300px;height:100%;position:relative}.panel.main{width:240px}.panel.main>.panel-content{background-color:var(--neutral-800);border-color:var(--neutral-800)}.main-panel-header{background-color:var(--neutral-900);padding:12px;border:none;font-size:13px;color:var(--neutral-400);display:flex;align-items:center;justify-content:space-between;gap:8px}.main-panel-header>span{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.main-panel-header>button{width:auto;border-radius:6px;transition:background-color .2s}.panel-header{justify-content:space-between;display:flex;align-items:center}.panel-content{background-color:var(--neutral-050);border:1px solid var(--neutral-200);border-radius:16px;box-shadow:0 4px 12px #00000005;display:flex;flex-direction:column;overflow:hidden;height:100%}.panel-inner{overflow-y:auto;height:100%}.panel-child{position:absolute;top:0;bottom:0;left:20px;z-index:100}.panel.main>.panel-child{left:54px}.focus-within\\:outline:focus-within{outline-style:solid}.focus\\:outline-2:focus{outline-width:2px}.focus\\:outline-black:focus{outline-color:#000}.disabled\\:bg-transparent:disabled{background-color:transparent}.disabled\\:text-gray-900:disabled{--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity))}
`,document.head.appendChild(Yr);var pt=typeof document<"u"?document.currentScript:null,it=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ti(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Sx(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}),n}var kx={exports:{}},dh={},Cx={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ql=Symbol.for("react.element"),sI=Symbol.for("react.portal"),aI=Symbol.for("react.fragment"),lI=Symbol.for("react.strict_mode"),cI=Symbol.for("react.profiler"),uI=Symbol.for("react.provider"),hI=Symbol.for("react.context"),dI=Symbol.for("react.forward_ref"),fI=Symbol.for("react.suspense"),pI=Symbol.for("react.memo"),mI=Symbol.for("react.lazy"),Ex=Symbol.iterator;function gI(t){return t===null||typeof t!="object"?null:(t=Ex&&t[Ex]||t["@@iterator"],typeof t=="function"?t:null)}var Tx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$x=Object.assign,Ax={};function va(t,e,n){this.props=t,this.context=e,this.refs=Ax,this.updater=n||Tx}va.prototype.isReactComponent={},va.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},va.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ox(){}Ox.prototype=va.prototype;function Cm(t,e,n){this.props=t,this.context=e,this.refs=Ax,this.updater=n||Tx}var Em=Cm.prototype=new Ox;Em.constructor=Cm,$x(Em,va.prototype),Em.isPureReactComponent=!0;var Mx=Array.isArray,Lx=Object.prototype.hasOwnProperty,Tm={current:null},Rx={key:!0,ref:!0,__self:!0,__source:!0};function Px(t,e,n){var i,r={},o=null,s=null;if(e!=null)for(i in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Lx.call(e,i)&&!Rx.hasOwnProperty(i)&&(r[i]=e[i]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}if(t&&t.defaultProps)for(i in l=t.defaultProps,l)r[i]===void 0&&(r[i]=l[i]);return{$$typeof:ql,type:t,key:o,ref:s,props:r,_owner:Tm.current}}function vI(t,e){return{$$typeof:ql,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $m(t){return typeof t=="object"&&t!==null&&t.$$typeof===ql}function yI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Dx=/\/+/g;function Am(t,e){return typeof t=="object"&&t!==null&&t.key!=null?yI(""+t.key):e.toString(36)}function fh(t,e,n,i,r){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case ql:case sI:s=!0}}if(s)return s=t,r=r(s),t=i===""?"."+Am(s,0):i,Mx(r)?(n="",t!=null&&(n=t.replace(Dx,"$&/")+"/"),fh(r,e,n,"",function(u){return u})):r!=null&&($m(r)&&(r=vI(r,n+(!r.key||s&&s.key===r.key?"":(""+r.key).replace(Dx,"$&/")+"/")+t)),e.push(r)),1;if(s=0,i=i===""?".":i+":",Mx(t))for(var l=0;l<t.length;l++){o=t[l];var a=i+Am(o,l);s+=fh(o,e,n,a,r)}else if(a=gI(t),typeof a=="function")for(t=a.call(t),l=0;!(o=t.next()).done;)o=o.value,a=i+Am(o,l++),s+=fh(o,e,n,a,r);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function ph(t,e,n){if(t==null)return t;var i=[],r=0;return fh(t,i,"","",function(o){return e.call(n,o,r++)}),i}function bI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Sn={current:null},mh={transition:null},wI={ReactCurrentDispatcher:Sn,ReactCurrentBatchConfig:mh,ReactCurrentOwner:Tm};Ge.Children={map:ph,forEach:function(t,e,n){ph(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ph(t,function(){e++}),e},toArray:function(t){return ph(t,function(e){return e})||[]},only:function(t){if(!$m(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},Ge.Component=va,Ge.Fragment=aI,Ge.Profiler=cI,Ge.PureComponent=Cm,Ge.StrictMode=lI,Ge.Suspense=fI,Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wI,Ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=$x({},t.props),r=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Tm.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Lx.call(e,a)&&!Rx.hasOwnProperty(a)&&(i[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:ql,type:t.type,key:r,ref:o,props:i,_owner:s}},Ge.createContext=function(t){return t={$$typeof:hI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:uI,_context:t},t.Consumer=t},Ge.createElement=Px,Ge.createFactory=function(t){var e=Px.bind(null,t);return e.type=t,e},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(t){return{$$typeof:dI,render:t}},Ge.isValidElement=$m,Ge.lazy=function(t){return{$$typeof:mI,_payload:{_status:-1,_result:t},_init:bI}},Ge.memo=function(t,e){return{$$typeof:pI,type:t,compare:e===void 0?null:e}},Ge.startTransition=function(t){var e=mh.transition;mh.transition={};try{t()}finally{mh.transition=e}},Ge.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Ge.useCallback=function(t,e){return Sn.current.useCallback(t,e)},Ge.useContext=function(t){return Sn.current.useContext(t)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(t){return Sn.current.useDeferredValue(t)},Ge.useEffect=function(t,e){return Sn.current.useEffect(t,e)},Ge.useId=function(){return Sn.current.useId()},Ge.useImperativeHandle=function(t,e,n){return Sn.current.useImperativeHandle(t,e,n)},Ge.useInsertionEffect=function(t,e){return Sn.current.useInsertionEffect(t,e)},Ge.useLayoutEffect=function(t,e){return Sn.current.useLayoutEffect(t,e)},Ge.useMemo=function(t,e){return Sn.current.useMemo(t,e)},Ge.useReducer=function(t,e,n){return Sn.current.useReducer(t,e,n)},Ge.useRef=function(t){return Sn.current.useRef(t)},Ge.useState=function(t){return Sn.current.useState(t)},Ge.useSyncExternalStore=function(t,e,n){return Sn.current.useSyncExternalStore(t,e,n)},Ge.useTransition=function(){return Sn.current.useTransition()},Ge.version="18.2.0",Cx.exports=Ge;var I=Cx.exports;const K=Ti(I);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _I=I,xI=Symbol.for("react.element"),SI=Symbol.for("react.fragment"),kI=Object.prototype.hasOwnProperty,CI=_I.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,EI={key:!0,ref:!0,__self:!0,__source:!0};function Ix(t,e,n){var i,r={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(i in e)kI.call(e,i)&&!EI.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:xI,type:t,key:o,ref:s,props:r,_owner:CI.current}}dh.Fragment=SI,dh.jsx=Ix,dh.jsxs=Ix,kx.exports=dh;var Om=kx.exports;const $i=Om.Fragment,L=Om.jsx,X=Om.jsxs;var Mm={},Nx={exports:{}},qn={},Fx={exports:{}},zx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,D){var V=N.length;N.push(D);e:for(;0<V;){var z=V-1>>>1,F=N[z];if(0<r(F,D))N[z]=D,N[V]=F,V=z;else break e}}function n(N){return N.length===0?null:N[0]}function i(N){if(N.length===0)return null;var D=N[0],V=N.pop();if(V!==D){N[0]=V;e:for(var z=0,F=N.length,B=F>>>1;z<B;){var j=2*(z+1)-1,H=N[j],G=j+1,Q=N[G];if(0>r(H,V))G<F&&0>r(Q,H)?(N[z]=Q,N[G]=V,z=G):(N[z]=H,N[j]=V,z=j);else if(G<F&&0>r(Q,V))N[z]=Q,N[G]=V,z=G;else break e}}return D}function r(N,D){var V=N.sortIndex-D.sortIndex;return V!==0?V:N.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var a=[],u=[],c=1,h=null,d=3,f=!1,p=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(N){for(var D=n(u);D!==null;){if(D.callback===null)i(u);else if(D.startTime<=N)i(u),D.sortIndex=D.expirationTime,e(a,D);else break;D=n(u)}}function C(N){if(m=!1,k(N),!p)if(n(a)!==null)p=!0,R(T);else{var D=n(u);D!==null&&P(C,D.startTime-N)}}function T(N,D){p=!1,m&&(m=!1,v(w),w=-1),f=!0;var V=d;try{for(k(D),h=n(a);h!==null&&(!(h.expirationTime>D)||N&&!x());){var z=h.callback;if(typeof z=="function"){h.callback=null,d=h.priorityLevel;var F=z(h.expirationTime<=D);D=t.unstable_now(),typeof F=="function"?h.callback=F:h===n(a)&&i(a),k(D)}else i(a);h=n(a)}if(h!==null)var B=!0;else{var j=n(u);j!==null&&P(C,j.startTime-D),B=!1}return B}finally{h=null,d=V,f=!1}}var _=!1,E=null,w=-1,S=5,b=-1;function x(){return!(t.unstable_now()-b<S)}function A(){if(E!==null){var N=t.unstable_now();b=N;var D=!0;try{D=E(!0,N)}finally{D?O():(_=!1,E=null)}}else _=!1}var O;if(typeof y=="function")O=function(){y(A)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,M=$.port2;$.port1.onmessage=A,O=function(){M.postMessage(null)}}else O=function(){g(A,0)};function R(N){E=N,_||(_=!0,O())}function P(N,D){w=g(function(){N(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,R(T))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(N){switch(d){case 1:case 2:case 3:var D=3;break;default:D=d}var V=d;d=D;try{return N()}finally{d=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,D){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var V=d;d=N;try{return D()}finally{d=V}},t.unstable_scheduleCallback=function(N,D,V){var z=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?z+V:z):V=z,N){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=V+F,N={id:c++,callback:D,priorityLevel:N,startTime:V,expirationTime:F,sortIndex:-1},V>z?(N.sortIndex=V,e(u,N),n(a)===null&&N===n(u)&&(m?(v(w),w=-1):m=!0,P(C,V-z))):(N.sortIndex=F,e(a,N),p||f||(p=!0,R(T))),N},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(N){var D=d;return function(){var V=d;d=D;try{return N.apply(this,arguments)}finally{d=V}}}})(zx),Fx.exports=zx;var TI=Fx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bx=I,Qn=TI;function oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jx=new Set,Ql={};function ss(t,e){ya(t,e),ya(t+"Capture",e)}function ya(t,e){for(Ql[t]=e,t=0;t<e.length;t++)jx.add(e[t])}var mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lm=Object.prototype.hasOwnProperty,$I=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vx={},Wx={};function AI(t){return Lm.call(Wx,t)?!0:Lm.call(Vx,t)?!1:$I.test(t)?Wx[t]=!0:(Vx[t]=!0,!1)}function OI(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function MI(t,e,n,i){if(e===null||typeof e>"u"||OI(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function kn(t,e,n,i,r,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var nn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){nn[t]=new kn(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];nn[e]=new kn(e,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){nn[t]=new kn(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){nn[t]=new kn(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){nn[t]=new kn(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){nn[t]=new kn(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){nn[t]=new kn(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){nn[t]=new kn(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){nn[t]=new kn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Rm=/[\-:]([a-z])/g;function Pm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Rm,Pm);nn[e]=new kn(e,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Rm,Pm);nn[e]=new kn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Rm,Pm);nn[e]=new kn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){nn[t]=new kn(t,1,!1,t.toLowerCase(),null,!1,!1)}),nn.xlinkHref=new kn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){nn[t]=new kn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Dm(t,e,n,i){var r=nn.hasOwnProperty(e)?nn[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(MI(e,n,r,i)&&(n=null),i||r===null?AI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var gr=Bx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gh=Symbol.for("react.element"),ba=Symbol.for("react.portal"),wa=Symbol.for("react.fragment"),Im=Symbol.for("react.strict_mode"),Nm=Symbol.for("react.profiler"),Hx=Symbol.for("react.provider"),Ux=Symbol.for("react.context"),Fm=Symbol.for("react.forward_ref"),zm=Symbol.for("react.suspense"),Bm=Symbol.for("react.suspense_list"),jm=Symbol.for("react.memo"),Xr=Symbol.for("react.lazy"),Kx=Symbol.for("react.offscreen"),Gx=Symbol.iterator;function Jl(t){return t===null||typeof t!="object"?null:(t=Gx&&t[Gx]||t["@@iterator"],typeof t=="function"?t:null)}var yt=Object.assign,Vm;function Zl(t){if(Vm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Vm=e&&e[1]||""}return`
`+Vm+t}var Wm=!1;function Hm(t,e){if(!t||Wm)return"";Wm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){i=u}t.call(e.prototype)}else{try{throw Error()}catch(u){i=u}t()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),o=i.stack.split(`
`),s=r.length-1,l=o.length-1;1<=s&&0<=l&&r[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(r[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||r[s]!==o[l]){var a=`
`+r[s].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=s&&0<=l);break}}}finally{Wm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Zl(t):""}function LI(t){switch(t.tag){case 5:return Zl(t.type);case 16:return Zl("Lazy");case 13:return Zl("Suspense");case 19:return Zl("SuspenseList");case 0:case 2:case 15:return t=Hm(t.type,!1),t;case 11:return t=Hm(t.type.render,!1),t;case 1:return t=Hm(t.type,!0),t;default:return""}}function Um(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case wa:return"Fragment";case ba:return"Portal";case Nm:return"Profiler";case Im:return"StrictMode";case zm:return"Suspense";case Bm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ux:return(t.displayName||"Context")+".Consumer";case Hx:return(t._context.displayName||"Context")+".Provider";case Fm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case jm:return e=t.displayName||null,e!==null?e:Um(t.type)||"Memo";case Xr:e=t._payload,t=t._init;try{return Um(t(e))}catch{}}return null}function RI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Um(e);case 8:return e===Im?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function PI(t){var e=Yx(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(s){i=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(s){i=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vh(t){t._valueTracker||(t._valueTracker=PI(t))}function Xx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=Yx(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function yh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Km(t,e){var n=e.checked;return yt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function qx(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=qr(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Qx(t,e){e=e.checked,e!=null&&Dm(t,"checked",e,!1)}function Gm(t,e){Qx(t,e);var n=qr(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ym(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ym(t,e.type,qr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Jx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ym(t,e,n){(e!=="number"||yh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ec=Array.isArray;function _a(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+qr(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Xm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(oe(91));return yt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Zx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(oe(92));if(ec(n)){if(1<n.length)throw Error(oe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:qr(n)}}function eS(t,e){var n=qr(e.value),i=qr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function tS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function nS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?nS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bh,iS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(bh=bh||document.createElement("div"),bh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function tc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var nc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},DI=["Webkit","ms","Moz","O"];Object.keys(nc).forEach(function(t){DI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),nc[e]=nc[t]})});function rS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||nc.hasOwnProperty(t)&&nc[t]?(""+e).trim():e+"px"}function oS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=rS(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var II=yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qm(t,e){if(e){if(II[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(oe(62))}}function Jm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zm=null;function eg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tg=null,xa=null,Sa=null;function sS(t){if(t=kc(t)){if(typeof tg!="function")throw Error(oe(280));var e=t.stateNode;e&&(e=Vh(e),tg(t.stateNode,t.type,e))}}function aS(t){xa?Sa?Sa.push(t):Sa=[t]:xa=t}function lS(){if(xa){var t=xa,e=Sa;if(Sa=xa=null,sS(t),e)for(t=0;t<e.length;t++)sS(e[t])}}function cS(t,e){return t(e)}function uS(){}var ng=!1;function hS(t,e,n){if(ng)return t(e,n);ng=!0;try{return cS(t,e,n)}finally{ng=!1,(xa!==null||Sa!==null)&&(uS(),lS())}}function ic(t,e){var n=t.stateNode;if(n===null)return null;var i=Vh(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(oe(231,e,typeof n));return n}var ig=!1;if(mr)try{var rc={};Object.defineProperty(rc,"passive",{get:function(){ig=!0}}),window.addEventListener("test",rc,rc),window.removeEventListener("test",rc,rc)}catch{ig=!1}function NI(t,e,n,i,r,o,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var oc=!1,wh=null,_h=!1,rg=null,FI={onError:function(t){oc=!0,wh=t}};function zI(t,e,n,i,r,o,s,l,a){oc=!1,wh=null,NI.apply(FI,arguments)}function BI(t,e,n,i,r,o,s,l,a){if(zI.apply(this,arguments),oc){if(oc){var u=wh;oc=!1,wh=null}else throw Error(oe(198));_h||(_h=!0,rg=u)}}function as(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function dS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function fS(t){if(as(t)!==t)throw Error(oe(188))}function jI(t){var e=t.alternate;if(!e){if(e=as(t),e===null)throw Error(oe(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var o=r.alternate;if(o===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return fS(r),t;if(o===i)return fS(r),e;o=o.sibling}throw Error(oe(188))}if(n.return!==i.return)n=r,i=o;else{for(var s=!1,l=r.child;l;){if(l===n){s=!0,n=r,i=o;break}if(l===i){s=!0,i=r,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,i=r;break}if(l===i){s=!0,i=o,n=r;break}l=l.sibling}if(!s)throw Error(oe(189))}}if(n.alternate!==i)throw Error(oe(190))}if(n.tag!==3)throw Error(oe(188));return n.stateNode.current===n?t:e}function pS(t){return t=jI(t),t!==null?mS(t):null}function mS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=mS(t);if(e!==null)return e;t=t.sibling}return null}var gS=Qn.unstable_scheduleCallback,vS=Qn.unstable_cancelCallback,VI=Qn.unstable_shouldYield,WI=Qn.unstable_requestPaint,Pt=Qn.unstable_now,HI=Qn.unstable_getCurrentPriorityLevel,og=Qn.unstable_ImmediatePriority,yS=Qn.unstable_UserBlockingPriority,xh=Qn.unstable_NormalPriority,UI=Qn.unstable_LowPriority,bS=Qn.unstable_IdlePriority,Sh=null,Gi=null;function KI(t){if(Gi&&typeof Gi.onCommitFiberRoot=="function")try{Gi.onCommitFiberRoot(Sh,t,void 0,(t.current.flags&128)===128)}catch{}}var Ai=Math.clz32?Math.clz32:XI,GI=Math.log,YI=Math.LN2;function XI(t){return t>>>=0,t===0?32:31-(GI(t)/YI|0)|0}var kh=64,Ch=4194304;function sc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Eh(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var l=s&~r;l!==0?i=sc(l):(o&=s,o!==0&&(i=sc(o)))}else s=n&~r,s!==0?i=sc(s):o!==0&&(i=sc(o));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,o=e&-e,r>=o||r===16&&(o&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Ai(e),r=1<<n,i|=t[n],e&=~r;return i}function qI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QI(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Ai(o),l=1<<s,a=r[s];a===-1?(!(l&n)||l&i)&&(r[s]=qI(l,e)):a<=e&&(t.expiredLanes|=l),o&=~l}}function sg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function wS(){var t=kh;return kh<<=1,!(kh&4194240)&&(kh=64),t}function ag(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ac(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ai(e),t[e]=n}function JI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Ai(n),o=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~o}}function lg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Ai(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var et=0;function _S(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var xS,cg,SS,kS,CS,ug=!1,Th=[],Qr=null,Jr=null,Zr=null,lc=new Map,cc=new Map,eo=[],ZI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ES(t,e){switch(t){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":lc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":cc.delete(e.pointerId)}}function uc(t,e,n,i,r,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},e!==null&&(e=kc(e),e!==null&&cg(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function eN(t,e,n,i,r){switch(e){case"focusin":return Qr=uc(Qr,t,e,n,i,r),!0;case"dragenter":return Jr=uc(Jr,t,e,n,i,r),!0;case"mouseover":return Zr=uc(Zr,t,e,n,i,r),!0;case"pointerover":var o=r.pointerId;return lc.set(o,uc(lc.get(o)||null,t,e,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,cc.set(o,uc(cc.get(o)||null,t,e,n,i,r)),!0}return!1}function TS(t){var e=ls(t.target);if(e!==null){var n=as(e);if(n!==null){if(e=n.tag,e===13){if(e=dS(n),e!==null){t.blockedOn=e,CS(t.priority,function(){SS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $h(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=dg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Zm=i,n.target.dispatchEvent(i),Zm=null}else return e=kc(n),e!==null&&cg(e),t.blockedOn=n,!1;e.shift()}return!0}function $S(t,e,n){$h(t)&&n.delete(e)}function tN(){ug=!1,Qr!==null&&$h(Qr)&&(Qr=null),Jr!==null&&$h(Jr)&&(Jr=null),Zr!==null&&$h(Zr)&&(Zr=null),lc.forEach($S),cc.forEach($S)}function hc(t,e){t.blockedOn===e&&(t.blockedOn=null,ug||(ug=!0,Qn.unstable_scheduleCallback(Qn.unstable_NormalPriority,tN)))}function dc(t){function e(r){return hc(r,t)}if(0<Th.length){hc(Th[0],t);for(var n=1;n<Th.length;n++){var i=Th[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Qr!==null&&hc(Qr,t),Jr!==null&&hc(Jr,t),Zr!==null&&hc(Zr,t),lc.forEach(e),cc.forEach(e),n=0;n<eo.length;n++)i=eo[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<eo.length&&(n=eo[0],n.blockedOn===null);)TS(n),n.blockedOn===null&&eo.shift()}var ka=gr.ReactCurrentBatchConfig,Ah=!0;function nN(t,e,n,i){var r=et,o=ka.transition;ka.transition=null;try{et=1,hg(t,e,n,i)}finally{et=r,ka.transition=o}}function iN(t,e,n,i){var r=et,o=ka.transition;ka.transition=null;try{et=4,hg(t,e,n,i)}finally{et=r,ka.transition=o}}function hg(t,e,n,i){if(Ah){var r=dg(t,e,n,i);if(r===null)Ag(t,e,i,Oh,n),ES(t,i);else if(eN(r,t,e,n,i))i.stopPropagation();else if(ES(t,i),e&4&&-1<ZI.indexOf(t)){for(;r!==null;){var o=kc(r);if(o!==null&&xS(o),o=dg(t,e,n,i),o===null&&Ag(t,e,i,Oh,n),o===r)break;r=o}r!==null&&i.stopPropagation()}else Ag(t,e,i,null,n)}}var Oh=null;function dg(t,e,n,i){if(Oh=null,t=eg(i),t=ls(t),t!==null)if(e=as(t),e===null)t=null;else if(n=e.tag,n===13){if(t=dS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Oh=t,null}function AS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(HI()){case og:return 1;case yS:return 4;case xh:case UI:return 16;case bS:return 536870912;default:return 16}default:return 16}}var to=null,fg=null,Mh=null;function OS(){if(Mh)return Mh;var t,e=fg,n=e.length,i,r="value"in to?to.value:to.textContent,o=r.length;for(t=0;t<n&&e[t]===r[t];t++);var s=n-t;for(i=1;i<=s&&e[n-i]===r[o-i];i++);return Mh=r.slice(t,1<i?1-i:void 0)}function Lh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Rh(){return!0}function MS(){return!1}function Jn(t){function e(n,i,r,o,s){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Rh:MS,this.isPropagationStopped=MS,this}return yt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Rh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Rh)},persist:function(){},isPersistent:Rh}),e}var Ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pg=Jn(Ca),fc=yt({},Ca,{view:0,detail:0}),rN=Jn(fc),mg,gg,pc,Ph=yt({},fc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pc&&(pc&&t.type==="mousemove"?(mg=t.screenX-pc.screenX,gg=t.screenY-pc.screenY):gg=mg=0,pc=t),mg)},movementY:function(t){return"movementY"in t?t.movementY:gg}}),LS=Jn(Ph),oN=yt({},Ph,{dataTransfer:0}),sN=Jn(oN),aN=yt({},fc,{relatedTarget:0}),vg=Jn(aN),lN=yt({},Ca,{animationName:0,elapsedTime:0,pseudoElement:0}),cN=Jn(lN),uN=yt({},Ca,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),hN=Jn(uN),dN=yt({},Ca,{data:0}),RS=Jn(dN),fN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=mN[t])?!!e[t]:!1}function yg(){return gN}var vN=yt({},fc,{key:function(t){if(t.key){var e=fN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Lh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yg,charCode:function(t){return t.type==="keypress"?Lh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Lh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yN=Jn(vN),bN=yt({},Ph,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),PS=Jn(bN),wN=yt({},fc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yg}),_N=Jn(wN),xN=yt({},Ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),SN=Jn(xN),kN=yt({},Ph,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),CN=Jn(kN),EN=[9,13,27,32],bg=mr&&"CompositionEvent"in window,mc=null;mr&&"documentMode"in document&&(mc=document.documentMode);var TN=mr&&"TextEvent"in window&&!mc,DS=mr&&(!bg||mc&&8<mc&&11>=mc),IS=String.fromCharCode(32),NS=!1;function FS(t,e){switch(t){case"keyup":return EN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ea=!1;function $N(t,e){switch(t){case"compositionend":return zS(e);case"keypress":return e.which!==32?null:(NS=!0,IS);case"textInput":return t=e.data,t===IS&&NS?null:t;default:return null}}function AN(t,e){if(Ea)return t==="compositionend"||!bg&&FS(t,e)?(t=OS(),Mh=fg=to=null,Ea=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return DS&&e.locale!=="ko"?null:e.data;default:return null}}var ON={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function BS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ON[t.type]:e==="textarea"}function jS(t,e,n,i){aS(i),e=zh(e,"onChange"),0<e.length&&(n=new pg("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var gc=null,vc=null;function MN(t){ok(t,0)}function Dh(t){var e=Ma(t);if(Xx(e))return t}function LN(t,e){if(t==="change")return e}var VS=!1;if(mr){var wg;if(mr){var _g="oninput"in document;if(!_g){var WS=document.createElement("div");WS.setAttribute("oninput","return;"),_g=typeof WS.oninput=="function"}wg=_g}else wg=!1;VS=wg&&(!document.documentMode||9<document.documentMode)}function HS(){gc&&(gc.detachEvent("onpropertychange",US),vc=gc=null)}function US(t){if(t.propertyName==="value"&&Dh(vc)){var e=[];jS(e,vc,t,eg(t)),hS(MN,e)}}function RN(t,e,n){t==="focusin"?(HS(),gc=e,vc=n,gc.attachEvent("onpropertychange",US)):t==="focusout"&&HS()}function PN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Dh(vc)}function DN(t,e){if(t==="click")return Dh(e)}function IN(t,e){if(t==="input"||t==="change")return Dh(e)}function NN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Oi=typeof Object.is=="function"?Object.is:NN;function yc(t,e){if(Oi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Lm.call(e,r)||!Oi(t[r],e[r]))return!1}return!0}function KS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function GS(t,e){var n=KS(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=KS(n)}}function YS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?YS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function XS(){for(var t=window,e=yh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=yh(t.document)}return e}function xg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function FN(t){var e=XS(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&YS(n.ownerDocument.documentElement,n)){if(i!==null&&xg(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=i.end===void 0?o:Math.min(i.end,r),!t.extend&&o>i&&(r=i,i=o,o=r),r=GS(n,o);var s=GS(n,i);r&&s&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),o>i?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zN=mr&&"documentMode"in document&&11>=document.documentMode,Ta=null,Sg=null,bc=null,kg=!1;function qS(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kg||Ta==null||Ta!==yh(i)||(i=Ta,"selectionStart"in i&&xg(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),bc&&yc(bc,i)||(bc=i,i=zh(Sg,"onSelect"),0<i.length&&(e=new pg("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Ta)))}function Ih(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $a={animationend:Ih("Animation","AnimationEnd"),animationiteration:Ih("Animation","AnimationIteration"),animationstart:Ih("Animation","AnimationStart"),transitionend:Ih("Transition","TransitionEnd")},Cg={},QS={};mr&&(QS=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function Nh(t){if(Cg[t])return Cg[t];if(!$a[t])return t;var e=$a[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in QS)return Cg[t]=e[n];return t}var JS=Nh("animationend"),ZS=Nh("animationiteration"),ek=Nh("animationstart"),tk=Nh("transitionend"),nk=new Map,ik="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function no(t,e){nk.set(t,e),ss(e,[t])}for(var Eg=0;Eg<ik.length;Eg++){var Tg=ik[Eg],BN=Tg.toLowerCase(),jN=Tg[0].toUpperCase()+Tg.slice(1);no(BN,"on"+jN)}no(JS,"onAnimationEnd"),no(ZS,"onAnimationIteration"),no(ek,"onAnimationStart"),no("dblclick","onDoubleClick"),no("focusin","onFocus"),no("focusout","onBlur"),no(tk,"onTransitionEnd"),ya("onMouseEnter",["mouseout","mouseover"]),ya("onMouseLeave",["mouseout","mouseover"]),ya("onPointerEnter",["pointerout","pointerover"]),ya("onPointerLeave",["pointerout","pointerover"]),ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ss("onBeforeInput",["compositionend","keypress","textInput","paste"]),ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VN=new Set("cancel close invalid load scroll toggle".split(" ").concat(wc));function rk(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,BI(i,e,void 0,t),t.currentTarget=null}function ok(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var s=i.length-1;0<=s;s--){var l=i[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==o&&r.isPropagationStopped())break e;rk(r,l,u),o=a}else for(s=0;s<i.length;s++){if(l=i[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==o&&r.isPropagationStopped())break e;rk(r,l,u),o=a}}}if(_h)throw t=rg,_h=!1,rg=null,t}function ct(t,e){var n=e[Dg];n===void 0&&(n=e[Dg]=new Set);var i=t+"__bubble";n.has(i)||(sk(e,t,2,!1),n.add(i))}function $g(t,e,n){var i=0;e&&(i|=4),sk(n,t,i,e)}var Fh="_reactListening"+Math.random().toString(36).slice(2);function _c(t){if(!t[Fh]){t[Fh]=!0,jx.forEach(function(n){n!=="selectionchange"&&(VN.has(n)||$g(n,!1,t),$g(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fh]||(e[Fh]=!0,$g("selectionchange",!1,e))}}function sk(t,e,n,i){switch(AS(e)){case 1:var r=nN;break;case 4:r=iN;break;default:r=hg}n=r.bind(null,e,n,t),r=void 0,!ig||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Ag(t,e,n,i,r){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var l=i.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(s===4)for(s=i.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===r||a.nodeType===8&&a.parentNode===r))return;s=s.return}for(;l!==null;){if(s=ls(l),s===null)return;if(a=s.tag,a===5||a===6){i=o=s;continue e}l=l.parentNode}}i=i.return}hS(function(){var u=o,c=eg(n),h=[];e:{var d=nk.get(t);if(d!==void 0){var f=pg,p=t;switch(t){case"keypress":if(Lh(n)===0)break e;case"keydown":case"keyup":f=yN;break;case"focusin":p="focus",f=vg;break;case"focusout":p="blur",f=vg;break;case"beforeblur":case"afterblur":f=vg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=LS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=sN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=_N;break;case JS:case ZS:case ek:f=cN;break;case tk:f=SN;break;case"scroll":f=rN;break;case"wheel":f=CN;break;case"copy":case"cut":case"paste":f=hN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=PS}var m=(e&4)!==0,g=!m&&t==="scroll",v=m?d!==null?d+"Capture":null:d;m=[];for(var y=u,k;y!==null;){k=y;var C=k.stateNode;if(k.tag===5&&C!==null&&(k=C,v!==null&&(C=ic(y,v),C!=null&&m.push(xc(y,C,k)))),g)break;y=y.return}0<m.length&&(d=new f(d,p,null,n,c),h.push({event:d,listeners:m}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==Zm&&(p=n.relatedTarget||n.fromElement)&&(ls(p)||p[vr]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=u,p=p?ls(p):null,p!==null&&(g=as(p),p!==g||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=u),f!==p)){if(m=LS,C="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(m=PS,C="onPointerLeave",v="onPointerEnter",y="pointer"),g=f==null?d:Ma(f),k=p==null?d:Ma(p),d=new m(C,y+"leave",f,n,c),d.target=g,d.relatedTarget=k,C=null,ls(c)===u&&(m=new m(v,y+"enter",p,n,c),m.target=k,m.relatedTarget=g,C=m),g=C,f&&p)t:{for(m=f,v=p,y=0,k=m;k;k=Aa(k))y++;for(k=0,C=v;C;C=Aa(C))k++;for(;0<y-k;)m=Aa(m),y--;for(;0<k-y;)v=Aa(v),k--;for(;y--;){if(m===v||v!==null&&m===v.alternate)break t;m=Aa(m),v=Aa(v)}m=null}else m=null;f!==null&&ak(h,d,f,m,!1),p!==null&&g!==null&&ak(h,g,p,m,!0)}}e:{if(d=u?Ma(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var T=LN;else if(BS(d))if(VS)T=IN;else{T=PN;var _=RN}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(T=DN);if(T&&(T=T(t,u))){jS(h,T,n,c);break e}_&&_(t,d,u),t==="focusout"&&(_=d._wrapperState)&&_.controlled&&d.type==="number"&&Ym(d,"number",d.value)}switch(_=u?Ma(u):window,t){case"focusin":(BS(_)||_.contentEditable==="true")&&(Ta=_,Sg=u,bc=null);break;case"focusout":bc=Sg=Ta=null;break;case"mousedown":kg=!0;break;case"contextmenu":case"mouseup":case"dragend":kg=!1,qS(h,n,c);break;case"selectionchange":if(zN)break;case"keydown":case"keyup":qS(h,n,c)}var E;if(bg)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Ea?FS(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(DS&&n.locale!=="ko"&&(Ea||w!=="onCompositionStart"?w==="onCompositionEnd"&&Ea&&(E=OS()):(to=c,fg="value"in to?to.value:to.textContent,Ea=!0)),_=zh(u,w),0<_.length&&(w=new RS(w,t,null,n,c),h.push({event:w,listeners:_}),E?w.data=E:(E=zS(n),E!==null&&(w.data=E)))),(E=TN?$N(t,n):AN(t,n))&&(u=zh(u,"onBeforeInput"),0<u.length&&(c=new RS("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=E))}ok(h,e)})}function xc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zh(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,o=r.stateNode;r.tag===5&&o!==null&&(r=o,o=ic(t,n),o!=null&&i.unshift(xc(t,o,r)),o=ic(t,e),o!=null&&i.push(xc(t,o,r))),t=t.return}return i}function Aa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ak(t,e,n,i,r){for(var o=e._reactName,s=[];n!==null&&n!==i;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===i)break;l.tag===5&&u!==null&&(l=u,r?(a=ic(n,o),a!=null&&s.unshift(xc(n,a,l))):r||(a=ic(n,o),a!=null&&s.push(xc(n,a,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var WN=/\r\n?/g,HN=/\u0000|\uFFFD/g;function lk(t){return(typeof t=="string"?t:""+t).replace(WN,`
`).replace(HN,"")}function Bh(t,e,n){if(e=lk(e),lk(t)!==e&&n)throw Error(oe(425))}function jh(){}var Og=null,Mg=null;function Lg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Rg=typeof setTimeout=="function"?setTimeout:void 0,UN=typeof clearTimeout=="function"?clearTimeout:void 0,ck=typeof Promise=="function"?Promise:void 0,KN=typeof queueMicrotask=="function"?queueMicrotask:typeof ck<"u"?function(t){return ck.resolve(null).then(t).catch(GN)}:Rg;function GN(t){setTimeout(function(){throw t})}function Pg(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),dc(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);dc(e)}function io(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function uk(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Oa=Math.random().toString(36).slice(2),Yi="__reactFiber$"+Oa,Sc="__reactProps$"+Oa,vr="__reactContainer$"+Oa,Dg="__reactEvents$"+Oa,YN="__reactListeners$"+Oa,XN="__reactHandles$"+Oa;function ls(t){var e=t[Yi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[vr]||n[Yi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=uk(t);t!==null;){if(n=t[Yi])return n;t=uk(t)}return e}t=n,n=t.parentNode}return null}function kc(t){return t=t[Yi]||t[vr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ma(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(oe(33))}function Vh(t){return t[Sc]||null}var Ig=[],La=-1;function ro(t){return{current:t}}function ut(t){0>La||(t.current=Ig[La],Ig[La]=null,La--)}function ot(t,e){La++,Ig[La]=t.current,t.current=e}var oo={},dn=ro(oo),Dn=ro(!1),cs=oo;function Ra(t,e){var n=t.type.contextTypes;if(!n)return oo;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},o;for(o in n)r[o]=e[o];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function In(t){return t=t.childContextTypes,t!=null}function Wh(){ut(Dn),ut(dn)}function hk(t,e,n){if(dn.current!==oo)throw Error(oe(168));ot(dn,e),ot(Dn,n)}function dk(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(oe(108,RI(t)||"Unknown",r));return yt({},n,i)}function Hh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||oo,cs=dn.current,ot(dn,t),ot(Dn,Dn.current),!0}function fk(t,e,n){var i=t.stateNode;if(!i)throw Error(oe(169));n?(t=dk(t,e,cs),i.__reactInternalMemoizedMergedChildContext=t,ut(Dn),ut(dn),ot(dn,t)):ut(Dn),ot(Dn,n)}var yr=null,Uh=!1,Ng=!1;function pk(t){yr===null?yr=[t]:yr.push(t)}function qN(t){Uh=!0,pk(t)}function so(){if(!Ng&&yr!==null){Ng=!0;var t=0,e=et;try{var n=yr;for(et=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}yr=null,Uh=!1}catch(r){throw yr!==null&&(yr=yr.slice(t+1)),gS(og,so),r}finally{et=e,Ng=!1}}return null}var Pa=[],Da=0,Kh=null,Gh=0,ui=[],hi=0,us=null,br=1,wr="";function hs(t,e){Pa[Da++]=Gh,Pa[Da++]=Kh,Kh=t,Gh=e}function mk(t,e,n){ui[hi++]=br,ui[hi++]=wr,ui[hi++]=us,us=t;var i=br;t=wr;var r=32-Ai(i)-1;i&=~(1<<r),n+=1;var o=32-Ai(e)+r;if(30<o){var s=r-r%5;o=(i&(1<<s)-1).toString(32),i>>=s,r-=s,br=1<<32-Ai(e)+r|n<<r|i,wr=o+t}else br=1<<o|n<<r|i,wr=t}function Fg(t){t.return!==null&&(hs(t,1),mk(t,1,0))}function zg(t){for(;t===Kh;)Kh=Pa[--Da],Pa[Da]=null,Gh=Pa[--Da],Pa[Da]=null;for(;t===us;)us=ui[--hi],ui[hi]=null,wr=ui[--hi],ui[hi]=null,br=ui[--hi],ui[hi]=null}var Zn=null,ei=null,mt=!1,Mi=null;function gk(t,e){var n=mi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function vk(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Zn=t,ei=io(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Zn=t,ei=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=us!==null?{id:br,overflow:wr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=mi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Zn=t,ei=null,!0):!1;default:return!1}}function Bg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function jg(t){if(mt){var e=ei;if(e){var n=e;if(!vk(t,e)){if(Bg(t))throw Error(oe(418));e=io(n.nextSibling);var i=Zn;e&&vk(t,e)?gk(i,n):(t.flags=t.flags&-4097|2,mt=!1,Zn=t)}}else{if(Bg(t))throw Error(oe(418));t.flags=t.flags&-4097|2,mt=!1,Zn=t}}}function yk(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zn=t}function Yh(t){if(t!==Zn)return!1;if(!mt)return yk(t),mt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Lg(t.type,t.memoizedProps)),e&&(e=ei)){if(Bg(t))throw bk(),Error(oe(418));for(;e;)gk(t,e),e=io(e.nextSibling)}if(yk(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ei=io(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ei=null}}else ei=Zn?io(t.stateNode.nextSibling):null;return!0}function bk(){for(var t=ei;t;)t=io(t.nextSibling)}function Ia(){ei=Zn=null,mt=!1}function Vg(t){Mi===null?Mi=[t]:Mi.push(t)}var QN=gr.ReactCurrentBatchConfig;function Li(t,e){if(t&&t.defaultProps){e=yt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Xh=ro(null),qh=null,Na=null,Wg=null;function Hg(){Wg=Na=qh=null}function Ug(t){var e=Xh.current;ut(Xh),t._currentValue=e}function Kg(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Fa(t,e){qh=t,Wg=Na=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Nn=!0),t.firstContext=null)}function di(t){var e=t._currentValue;if(Wg!==t)if(t={context:t,memoizedValue:e,next:null},Na===null){if(qh===null)throw Error(oe(308));Na=t,qh.dependencies={lanes:0,firstContext:t}}else Na=Na.next=t;return e}var ds=null;function Gg(t){ds===null?ds=[t]:ds.push(t)}function wk(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,Gg(e)):(n.next=r.next,r.next=n),e.interleaved=n,_r(t,i)}function _r(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ao=!1;function Yg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _k(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function xr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function lo(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,Qe&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,_r(t,n)}return r=i.interleaved,r===null?(e.next=e,Gg(i)):(e.next=r.next,r.next=e),i.interleaved=e,_r(t,n)}function Qh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,lg(t,n)}}function xk(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?r=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?r=o=e:o=o.next=e}else r=o=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Jh(t,e,n,i){var r=t.updateQueue;ao=!1;var o=r.firstBaseUpdate,s=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?o=u:s.next=u,s=a;var c=t.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==s&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(o!==null){var h=r.baseState;s=0,c=u=a=null,l=o;do{var d=l.lane,f=l.eventTime;if((i&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=t,m=l;switch(d=e,f=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,d=typeof p=="function"?p.call(f,h,d):p,d==null)break e;h=yt({},h,d);break e;case 2:ao=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,d=r.effects,d===null?r.effects=[l]:d.push(l))}else f={eventTime:f,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=f,a=h):c=c.next=f,s|=d;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;d=l,l=d.next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}while(1);if(c===null&&(a=h),r.baseState=a,r.firstBaseUpdate=u,r.lastBaseUpdate=c,e=r.shared.interleaved,e!==null){r=e;do s|=r.lane,r=r.next;while(r!==e)}else o===null&&(r.shared.lanes=0);ms|=s,t.lanes=s,t.memoizedState=h}}function Sk(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(oe(191,r));r.call(i)}}}var kk=new Bx.Component().refs;function Xg(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:yt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Zh={isMounted:function(t){return(t=t._reactInternals)?as(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=En(),r=fo(t),o=xr(i,r);o.payload=e,n!=null&&(o.callback=n),e=lo(t,o,r),e!==null&&(Di(e,t,r,i),Qh(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=En(),r=fo(t),o=xr(i,r);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=lo(t,o,r),e!==null&&(Di(e,t,r,i),Qh(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=En(),i=fo(t),r=xr(n,i);r.tag=2,e!=null&&(r.callback=e),e=lo(t,r,i),e!==null&&(Di(e,t,i,n),Qh(e,t,i))}};function Ck(t,e,n,i,r,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,o,s):e.prototype&&e.prototype.isPureReactComponent?!yc(n,i)||!yc(r,o):!0}function Ek(t,e,n){var i=!1,r=oo,o=e.contextType;return typeof o=="object"&&o!==null?o=di(o):(r=In(e)?cs:dn.current,i=e.contextTypes,o=(i=i!=null)?Ra(t,r):oo),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Zh,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=o),e}function Tk(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Zh.enqueueReplaceState(e,e.state,null)}function qg(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=kk,Yg(t);var o=e.contextType;typeof o=="object"&&o!==null?r.context=di(o):(o=In(e)?cs:dn.current,r.context=Ra(t,o)),r.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Xg(t,e,o,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Zh.enqueueReplaceState(r,r.state,null),Jh(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Cc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(oe(309));var i=n.stateNode}if(!i)throw Error(oe(147,t));var r=i,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var l=r.refs;l===kk&&(l=r.refs={}),s===null?delete l[o]:l[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(oe(284));if(!n._owner)throw Error(oe(290,t))}return t}function ed(t,e){throw t=Object.prototype.toString.call(e),Error(oe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $k(t){var e=t._init;return e(t._payload)}function Ak(t){function e(v,y){if(t){var k=v.deletions;k===null?(v.deletions=[y],v.flags|=16):k.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function i(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function r(v,y){return v=mo(v,y),v.index=0,v.sibling=null,v}function o(v,y,k){return v.index=k,t?(k=v.alternate,k!==null?(k=k.index,k<y?(v.flags|=2,y):k):(v.flags|=2,y)):(v.flags|=1048576,y)}function s(v){return t&&v.alternate===null&&(v.flags|=2),v}function l(v,y,k,C){return y===null||y.tag!==6?(y=Rv(k,v.mode,C),y.return=v,y):(y=r(y,k),y.return=v,y)}function a(v,y,k,C){var T=k.type;return T===wa?c(v,y,k.props.children,C,k.key):y!==null&&(y.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Xr&&$k(T)===y.type)?(C=r(y,k.props),C.ref=Cc(v,y,k),C.return=v,C):(C=bd(k.type,k.key,k.props,null,v.mode,C),C.ref=Cc(v,y,k),C.return=v,C)}function u(v,y,k,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==k.containerInfo||y.stateNode.implementation!==k.implementation?(y=Pv(k,v.mode,C),y.return=v,y):(y=r(y,k.children||[]),y.return=v,y)}function c(v,y,k,C,T){return y===null||y.tag!==7?(y=bs(k,v.mode,C,T),y.return=v,y):(y=r(y,k),y.return=v,y)}function h(v,y,k){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Rv(""+y,v.mode,k),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case gh:return k=bd(y.type,y.key,y.props,null,v.mode,k),k.ref=Cc(v,null,y),k.return=v,k;case ba:return y=Pv(y,v.mode,k),y.return=v,y;case Xr:var C=y._init;return h(v,C(y._payload),k)}if(ec(y)||Jl(y))return y=bs(y,v.mode,k,null),y.return=v,y;ed(v,y)}return null}function d(v,y,k,C){var T=y!==null?y.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return T!==null?null:l(v,y,""+k,C);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case gh:return k.key===T?a(v,y,k,C):null;case ba:return k.key===T?u(v,y,k,C):null;case Xr:return T=k._init,d(v,y,T(k._payload),C)}if(ec(k)||Jl(k))return T!==null?null:c(v,y,k,C,null);ed(v,k)}return null}function f(v,y,k,C,T){if(typeof C=="string"&&C!==""||typeof C=="number")return v=v.get(k)||null,l(y,v,""+C,T);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case gh:return v=v.get(C.key===null?k:C.key)||null,a(y,v,C,T);case ba:return v=v.get(C.key===null?k:C.key)||null,u(y,v,C,T);case Xr:var _=C._init;return f(v,y,k,_(C._payload),T)}if(ec(C)||Jl(C))return v=v.get(k)||null,c(y,v,C,T,null);ed(y,C)}return null}function p(v,y,k,C){for(var T=null,_=null,E=y,w=y=0,S=null;E!==null&&w<k.length;w++){E.index>w?(S=E,E=null):S=E.sibling;var b=d(v,E,k[w],C);if(b===null){E===null&&(E=S);break}t&&E&&b.alternate===null&&e(v,E),y=o(b,y,w),_===null?T=b:_.sibling=b,_=b,E=S}if(w===k.length)return n(v,E),mt&&hs(v,w),T;if(E===null){for(;w<k.length;w++)E=h(v,k[w],C),E!==null&&(y=o(E,y,w),_===null?T=E:_.sibling=E,_=E);return mt&&hs(v,w),T}for(E=i(v,E);w<k.length;w++)S=f(E,v,w,k[w],C),S!==null&&(t&&S.alternate!==null&&E.delete(S.key===null?w:S.key),y=o(S,y,w),_===null?T=S:_.sibling=S,_=S);return t&&E.forEach(function(x){return e(v,x)}),mt&&hs(v,w),T}function m(v,y,k,C){var T=Jl(k);if(typeof T!="function")throw Error(oe(150));if(k=T.call(k),k==null)throw Error(oe(151));for(var _=T=null,E=y,w=y=0,S=null,b=k.next();E!==null&&!b.done;w++,b=k.next()){E.index>w?(S=E,E=null):S=E.sibling;var x=d(v,E,b.value,C);if(x===null){E===null&&(E=S);break}t&&E&&x.alternate===null&&e(v,E),y=o(x,y,w),_===null?T=x:_.sibling=x,_=x,E=S}if(b.done)return n(v,E),mt&&hs(v,w),T;if(E===null){for(;!b.done;w++,b=k.next())b=h(v,b.value,C),b!==null&&(y=o(b,y,w),_===null?T=b:_.sibling=b,_=b);return mt&&hs(v,w),T}for(E=i(v,E);!b.done;w++,b=k.next())b=f(E,v,w,b.value,C),b!==null&&(t&&b.alternate!==null&&E.delete(b.key===null?w:b.key),y=o(b,y,w),_===null?T=b:_.sibling=b,_=b);return t&&E.forEach(function(A){return e(v,A)}),mt&&hs(v,w),T}function g(v,y,k,C){if(typeof k=="object"&&k!==null&&k.type===wa&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case gh:e:{for(var T=k.key,_=y;_!==null;){if(_.key===T){if(T=k.type,T===wa){if(_.tag===7){n(v,_.sibling),y=r(_,k.props.children),y.return=v,v=y;break e}}else if(_.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Xr&&$k(T)===_.type){n(v,_.sibling),y=r(_,k.props),y.ref=Cc(v,_,k),y.return=v,v=y;break e}n(v,_);break}else e(v,_);_=_.sibling}k.type===wa?(y=bs(k.props.children,v.mode,C,k.key),y.return=v,v=y):(C=bd(k.type,k.key,k.props,null,v.mode,C),C.ref=Cc(v,y,k),C.return=v,v=C)}return s(v);case ba:e:{for(_=k.key;y!==null;){if(y.key===_)if(y.tag===4&&y.stateNode.containerInfo===k.containerInfo&&y.stateNode.implementation===k.implementation){n(v,y.sibling),y=r(y,k.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=Pv(k,v.mode,C),y.return=v,v=y}return s(v);case Xr:return _=k._init,g(v,y,_(k._payload),C)}if(ec(k))return p(v,y,k,C);if(Jl(k))return m(v,y,k,C);ed(v,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,y!==null&&y.tag===6?(n(v,y.sibling),y=r(y,k),y.return=v,v=y):(n(v,y),y=Rv(k,v.mode,C),y.return=v,v=y),s(v)):n(v,y)}return g}var za=Ak(!0),Ok=Ak(!1),Ec={},Xi=ro(Ec),Tc=ro(Ec),$c=ro(Ec);function fs(t){if(t===Ec)throw Error(oe(174));return t}function Qg(t,e){switch(ot($c,e),ot(Tc,t),ot(Xi,Ec),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:qm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=qm(e,t)}ut(Xi),ot(Xi,e)}function Ba(){ut(Xi),ut(Tc),ut($c)}function Mk(t){fs($c.current);var e=fs(Xi.current),n=qm(e,t.type);e!==n&&(ot(Tc,t),ot(Xi,n))}function Jg(t){Tc.current===t&&(ut(Xi),ut(Tc))}var bt=ro(0);function td(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Zg=[];function ev(){for(var t=0;t<Zg.length;t++)Zg[t]._workInProgressVersionPrimary=null;Zg.length=0}var nd=gr.ReactCurrentDispatcher,tv=gr.ReactCurrentBatchConfig,ps=0,wt=null,Wt=null,Kt=null,id=!1,Ac=!1,Oc=0,JN=0;function fn(){throw Error(oe(321))}function nv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Oi(t[n],e[n]))return!1;return!0}function iv(t,e,n,i,r,o){if(ps=o,wt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,nd.current=t===null||t.memoizedState===null?n3:i3,t=n(i,r),Ac){o=0;do{if(Ac=!1,Oc=0,25<=o)throw Error(oe(301));o+=1,Kt=Wt=null,e.updateQueue=null,nd.current=r3,t=n(i,r)}while(Ac)}if(nd.current=sd,e=Wt!==null&&Wt.next!==null,ps=0,Kt=Wt=wt=null,id=!1,e)throw Error(oe(300));return t}function rv(){var t=Oc!==0;return Oc=0,t}function qi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?wt.memoizedState=Kt=t:Kt=Kt.next=t,Kt}function fi(){if(Wt===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Wt.next;var e=Kt===null?wt.memoizedState:Kt.next;if(e!==null)Kt=e,Wt=t;else{if(t===null)throw Error(oe(310));Wt=t,t={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Kt===null?wt.memoizedState=Kt=t:Kt=Kt.next=t}return Kt}function Mc(t,e){return typeof e=="function"?e(t):e}function ov(t){var e=fi(),n=e.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=t;var i=Wt,r=i.baseQueue,o=n.pending;if(o!==null){if(r!==null){var s=r.next;r.next=o.next,o.next=s}i.baseQueue=r=o,n.pending=null}if(r!==null){o=r.next,i=i.baseState;var l=s=null,a=null,u=o;do{var c=u.lane;if((ps&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:t(i,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=h,s=i):a=a.next=h,wt.lanes|=c,ms|=c}u=u.next}while(u!==null&&u!==o);a===null?s=i:a.next=l,Oi(i,e.memoizedState)||(Nn=!0),e.memoizedState=i,e.baseState=s,e.baseQueue=a,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do o=r.lane,wt.lanes|=o,ms|=o,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function sv(t){var e=fi(),n=e.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,o=e.memoizedState;if(r!==null){n.pending=null;var s=r=r.next;do o=t(o,s.action),s=s.next;while(s!==r);Oi(o,e.memoizedState)||(Nn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function Lk(){}function Rk(t,e){var n=wt,i=fi(),r=e(),o=!Oi(i.memoizedState,r);if(o&&(i.memoizedState=r,Nn=!0),i=i.queue,av(Ik.bind(null,n,i,t),[t]),i.getSnapshot!==e||o||Kt!==null&&Kt.memoizedState.tag&1){if(n.flags|=2048,Lc(9,Dk.bind(null,n,i,r,e),void 0,null),Gt===null)throw Error(oe(349));ps&30||Pk(n,e,r)}return r}function Pk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=wt.updateQueue,e===null?(e={lastEffect:null,stores:null},wt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Dk(t,e,n,i){e.value=n,e.getSnapshot=i,Nk(e)&&Fk(t)}function Ik(t,e,n){return n(function(){Nk(e)&&Fk(t)})}function Nk(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Oi(t,n)}catch{return!0}}function Fk(t){var e=_r(t,1);e!==null&&Di(e,t,1,-1)}function zk(t){var e=qi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mc,lastRenderedState:t},e.queue=t,t=t.dispatch=t3.bind(null,wt,t),[e.memoizedState,t]}function Lc(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=wt.updateQueue,e===null?(e={lastEffect:null,stores:null},wt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function Bk(){return fi().memoizedState}function rd(t,e,n,i){var r=qi();wt.flags|=t,r.memoizedState=Lc(1|e,n,void 0,i===void 0?null:i)}function od(t,e,n,i){var r=fi();i=i===void 0?null:i;var o=void 0;if(Wt!==null){var s=Wt.memoizedState;if(o=s.destroy,i!==null&&nv(i,s.deps)){r.memoizedState=Lc(e,n,o,i);return}}wt.flags|=t,r.memoizedState=Lc(1|e,n,o,i)}function jk(t,e){return rd(8390656,8,t,e)}function av(t,e){return od(2048,8,t,e)}function Vk(t,e){return od(4,2,t,e)}function Wk(t,e){return od(4,4,t,e)}function Hk(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Uk(t,e,n){return n=n!=null?n.concat([t]):null,od(4,4,Hk.bind(null,e,t),n)}function lv(){}function Kk(t,e){var n=fi();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&nv(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Gk(t,e){var n=fi();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&nv(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Yk(t,e,n){return ps&21?(Oi(n,e)||(n=wS(),wt.lanes|=n,ms|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Nn=!0),t.memoizedState=n)}function ZN(t,e){var n=et;et=n!==0&&4>n?n:4,t(!0);var i=tv.transition;tv.transition={};try{t(!1),e()}finally{et=n,tv.transition=i}}function Xk(){return fi().memoizedState}function e3(t,e,n){var i=fo(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},qk(t))Qk(e,n);else if(n=wk(t,e,n,i),n!==null){var r=En();Di(n,t,i,r),Jk(n,e,i)}}function t3(t,e,n){var i=fo(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(qk(t))Qk(e,r);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,l=o(s,n);if(r.hasEagerState=!0,r.eagerState=l,Oi(l,s)){var a=e.interleaved;a===null?(r.next=r,Gg(e)):(r.next=a.next,a.next=r),e.interleaved=r;return}}catch{}finally{}n=wk(t,e,r,i),n!==null&&(r=En(),Di(n,t,i,r),Jk(n,e,i))}}function qk(t){var e=t.alternate;return t===wt||e!==null&&e===wt}function Qk(t,e){Ac=id=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Jk(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,lg(t,n)}}var sd={readContext:di,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useInsertionEffect:fn,useLayoutEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useMutableSource:fn,useSyncExternalStore:fn,useId:fn,unstable_isNewReconciler:!1},n3={readContext:di,useCallback:function(t,e){return qi().memoizedState=[t,e===void 0?null:e],t},useContext:di,useEffect:jk,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,rd(4194308,4,Hk.bind(null,e,t),n)},useLayoutEffect:function(t,e){return rd(4194308,4,t,e)},useInsertionEffect:function(t,e){return rd(4,2,t,e)},useMemo:function(t,e){var n=qi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=qi();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=e3.bind(null,wt,t),[i.memoizedState,t]},useRef:function(t){var e=qi();return t={current:t},e.memoizedState=t},useState:zk,useDebugValue:lv,useDeferredValue:function(t){return qi().memoizedState=t},useTransition:function(){var t=zk(!1),e=t[0];return t=ZN.bind(null,t[1]),qi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=wt,r=qi();if(mt){if(n===void 0)throw Error(oe(407));n=n()}else{if(n=e(),Gt===null)throw Error(oe(349));ps&30||Pk(i,e,n)}r.memoizedState=n;var o={value:n,getSnapshot:e};return r.queue=o,jk(Ik.bind(null,i,o,t),[t]),i.flags|=2048,Lc(9,Dk.bind(null,i,o,n,e),void 0,null),n},useId:function(){var t=qi(),e=Gt.identifierPrefix;if(mt){var n=wr,i=br;n=(i&~(1<<32-Ai(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Oc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=JN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},i3={readContext:di,useCallback:Kk,useContext:di,useEffect:av,useImperativeHandle:Uk,useInsertionEffect:Vk,useLayoutEffect:Wk,useMemo:Gk,useReducer:ov,useRef:Bk,useState:function(){return ov(Mc)},useDebugValue:lv,useDeferredValue:function(t){var e=fi();return Yk(e,Wt.memoizedState,t)},useTransition:function(){var t=ov(Mc)[0],e=fi().memoizedState;return[t,e]},useMutableSource:Lk,useSyncExternalStore:Rk,useId:Xk,unstable_isNewReconciler:!1},r3={readContext:di,useCallback:Kk,useContext:di,useEffect:av,useImperativeHandle:Uk,useInsertionEffect:Vk,useLayoutEffect:Wk,useMemo:Gk,useReducer:sv,useRef:Bk,useState:function(){return sv(Mc)},useDebugValue:lv,useDeferredValue:function(t){var e=fi();return Wt===null?e.memoizedState=t:Yk(e,Wt.memoizedState,t)},useTransition:function(){var t=sv(Mc)[0],e=fi().memoizedState;return[t,e]},useMutableSource:Lk,useSyncExternalStore:Rk,useId:Xk,unstable_isNewReconciler:!1};function ja(t,e){try{var n="",i=e;do n+=LI(i),i=i.return;while(i);var r=n}catch(o){r=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:r,digest:null}}function cv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function uv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var o3=typeof WeakMap=="function"?WeakMap:Map;function Zk(t,e,n){n=xr(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){fd||(fd=!0,Cv=i),uv(t,e)},n}function eC(t,e,n){n=xr(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){uv(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){uv(t,e),typeof i!="function"&&(uo===null?uo=new Set([this]):uo.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function tC(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new o3;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=b3.bind(null,t,e,n),e.then(t,t))}function nC(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function iC(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=xr(-1,1),e.tag=2,lo(n,e,1))),n.lanes|=1),t)}var s3=gr.ReactCurrentOwner,Nn=!1;function Cn(t,e,n,i){e.child=t===null?Ok(e,null,n,i):za(e,t.child,n,i)}function rC(t,e,n,i,r){n=n.render;var o=e.ref;return Fa(e,r),i=iv(t,e,n,i,o,r),n=rv(),t!==null&&!Nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Sr(t,e,r)):(mt&&n&&Fg(e),e.flags|=1,Cn(t,e,i,r),e.child)}function oC(t,e,n,i,r){if(t===null){var o=n.type;return typeof o=="function"&&!Lv(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,sC(t,e,o,i,r)):(t=bd(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&r)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:yc,n(s,i)&&t.ref===e.ref)return Sr(t,e,r)}return e.flags|=1,t=mo(o,i),t.ref=e.ref,t.return=e,e.child=t}function sC(t,e,n,i,r){if(t!==null){var o=t.memoizedProps;if(yc(o,i)&&t.ref===e.ref)if(Nn=!1,e.pendingProps=i=o,(t.lanes&r)!==0)t.flags&131072&&(Nn=!0);else return e.lanes=t.lanes,Sr(t,e,r)}return hv(t,e,n,i,r)}function aC(t,e,n){var i=e.pendingProps,r=i.children,o=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(Wa,ti),ti|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ot(Wa,ti),ti|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:n,ot(Wa,ti),ti|=i}else o!==null?(i=o.baseLanes|n,e.memoizedState=null):i=n,ot(Wa,ti),ti|=i;return Cn(t,e,r,n),e.child}function lC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function hv(t,e,n,i,r){var o=In(n)?cs:dn.current;return o=Ra(e,o),Fa(e,r),n=iv(t,e,n,i,o,r),i=rv(),t!==null&&!Nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Sr(t,e,r)):(mt&&i&&Fg(e),e.flags|=1,Cn(t,e,n,r),e.child)}function cC(t,e,n,i,r){if(In(n)){var o=!0;Hh(e)}else o=!1;if(Fa(e,r),e.stateNode===null)ld(t,e),Ek(e,n,i),qg(e,n,i,r),i=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=di(u):(u=In(n)?cs:dn.current,u=Ra(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==i||a!==u)&&Tk(e,s,i,u),ao=!1;var d=e.memoizedState;s.state=d,Jh(e,i,s,r),a=e.memoizedState,l!==i||d!==a||Dn.current||ao?(typeof c=="function"&&(Xg(e,n,c,i),a=e.memoizedState),(l=ao||Ck(e,n,l,i,d,a,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=a),s.props=i,s.state=a,s.context=u,i=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,_k(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Li(e.type,l),s.props=u,h=e.pendingProps,d=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=di(a):(a=In(n)?cs:dn.current,a=Ra(e,a));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==h||d!==a)&&Tk(e,s,i,a),ao=!1,d=e.memoizedState,s.state=d,Jh(e,i,s,r);var p=e.memoizedState;l!==h||d!==p||Dn.current||ao?(typeof f=="function"&&(Xg(e,n,f,i),p=e.memoizedState),(u=ao||Ck(e,n,u,i,d,p,a)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,p,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,p,a)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),s.props=i,s.state=p,s.context=a,i=u):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),i=!1)}return dv(t,e,n,i,o,r)}function dv(t,e,n,i,r,o){lC(t,e);var s=(e.flags&128)!==0;if(!i&&!s)return r&&fk(e,n,!1),Sr(t,e,o);i=e.stateNode,s3.current=e;var l=s&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&s?(e.child=za(e,t.child,null,o),e.child=za(e,null,l,o)):Cn(t,e,l,o),e.memoizedState=i.state,r&&fk(e,n,!0),e.child}function uC(t){var e=t.stateNode;e.pendingContext?hk(t,e.pendingContext,e.pendingContext!==e.context):e.context&&hk(t,e.context,!1),Qg(t,e.containerInfo)}function hC(t,e,n,i,r){return Ia(),Vg(r),e.flags|=256,Cn(t,e,n,i),e.child}var fv={dehydrated:null,treeContext:null,retryLane:0};function pv(t){return{baseLanes:t,cachePool:null,transitions:null}}function dC(t,e,n){var i=e.pendingProps,r=bt.current,o=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(r&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),ot(bt,r&1),t===null)return jg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=i.children,t=i.fallback,o?(i=e.mode,o=e.child,s={mode:"hidden",children:s},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=wd(s,i,0,null),t=bs(t,i,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=pv(n),e.memoizedState=fv,t):mv(e,s));if(r=t.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return a3(t,e,s,i,l,r,n);if(o){o=i.fallback,s=e.mode,r=t.child,l=r.sibling;var a={mode:"hidden",children:i.children};return!(s&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=a,e.deletions=null):(i=mo(r,a),i.subtreeFlags=r.subtreeFlags&14680064),l!==null?o=mo(l,o):(o=bs(o,s,n,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,s=t.child.memoizedState,s=s===null?pv(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=fv,i}return o=t.child,t=o.sibling,i=mo(o,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function mv(t,e){return e=wd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ad(t,e,n,i){return i!==null&&Vg(i),za(e,t.child,null,n),t=mv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function a3(t,e,n,i,r,o,s){if(n)return e.flags&256?(e.flags&=-257,i=cv(Error(oe(422))),ad(t,e,s,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=i.fallback,r=e.mode,i=wd({mode:"visible",children:i.children},r,0,null),o=bs(o,r,s,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,e.mode&1&&za(e,t.child,null,s),e.child.memoizedState=pv(s),e.memoizedState=fv,o);if(!(e.mode&1))return ad(t,e,s,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var l=i.dgst;return i=l,o=Error(oe(419)),i=cv(o,i,void 0),ad(t,e,s,i)}if(l=(s&t.childLanes)!==0,Nn||l){if(i=Gt,i!==null){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|s)?0:r,r!==0&&r!==o.retryLane&&(o.retryLane=r,_r(t,r),Di(i,t,r,-1))}return Mv(),i=cv(Error(oe(421))),ad(t,e,s,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=w3.bind(null,t),r._reactRetry=e,null):(t=o.treeContext,ei=io(r.nextSibling),Zn=e,mt=!0,Mi=null,t!==null&&(ui[hi++]=br,ui[hi++]=wr,ui[hi++]=us,br=t.id,wr=t.overflow,us=e),e=mv(e,i.children),e.flags|=4096,e)}function fC(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Kg(t.return,e,n)}function gv(t,e,n,i,r){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function pC(t,e,n){var i=e.pendingProps,r=i.revealOrder,o=i.tail;if(Cn(t,e,i.children,n),i=bt.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fC(t,n,e);else if(t.tag===19)fC(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(ot(bt,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&td(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),gv(e,!1,r,n,o);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&td(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}gv(e,!0,n,null,o);break;case"together":gv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ld(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Sr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ms|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(oe(153));if(e.child!==null){for(t=e.child,n=mo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=mo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function l3(t,e,n){switch(e.tag){case 3:uC(e),Ia();break;case 5:Mk(e);break;case 1:In(e.type)&&Hh(e);break;case 4:Qg(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;ot(Xh,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(ot(bt,bt.current&1),e.flags|=128,null):n&e.child.childLanes?dC(t,e,n):(ot(bt,bt.current&1),t=Sr(t,e,n),t!==null?t.sibling:null);ot(bt,bt.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return pC(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ot(bt,bt.current),i)break;return null;case 22:case 23:return e.lanes=0,aC(t,e,n)}return Sr(t,e,n)}var mC,vv,gC,vC;mC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},vv=function(){},gC=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,fs(Xi.current);var o=null;switch(n){case"input":r=Km(t,r),i=Km(t,i),o=[];break;case"select":r=yt({},r,{value:void 0}),i=yt({},i,{value:void 0}),o=[];break;case"textarea":r=Xm(t,r),i=Xm(t,i),o=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=jh)}Qm(n,i);var s;n=null;for(u in r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var l=r[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ql.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in i){var a=i[u];if(l=r!=null?r[u]:void 0,i.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(o||(o=[]),o.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(o=o||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ql.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ct("scroll",t),o||l===a||(o=[])):(o=o||[]).push(u,a))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}},vC=function(t,e,n,i){n!==i&&(e.flags|=4)};function Rc(t,e){if(!mt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function pn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function c3(t,e,n){var i=e.pendingProps;switch(zg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pn(e),null;case 1:return In(e.type)&&Wh(),pn(e),null;case 3:return i=e.stateNode,Ba(),ut(Dn),ut(dn),ev(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Yh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Mi!==null&&($v(Mi),Mi=null))),vv(t,e),pn(e),null;case 5:Jg(e);var r=fs($c.current);if(n=e.type,t!==null&&e.stateNode!=null)gC(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(oe(166));return pn(e),null}if(t=fs(Xi.current),Yh(e)){i=e.stateNode,n=e.type;var o=e.memoizedProps;switch(i[Yi]=e,i[Sc]=o,t=(e.mode&1)!==0,n){case"dialog":ct("cancel",i),ct("close",i);break;case"iframe":case"object":case"embed":ct("load",i);break;case"video":case"audio":for(r=0;r<wc.length;r++)ct(wc[r],i);break;case"source":ct("error",i);break;case"img":case"image":case"link":ct("error",i),ct("load",i);break;case"details":ct("toggle",i);break;case"input":qx(i,o),ct("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},ct("invalid",i);break;case"textarea":Zx(i,o),ct("invalid",i)}Qm(n,o),r=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?i.textContent!==l&&(o.suppressHydrationWarning!==!0&&Bh(i.textContent,l,t),r=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Bh(i.textContent,l,t),r=["children",""+l]):Ql.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&ct("scroll",i)}switch(n){case"input":vh(i),Jx(i,o,!0);break;case"textarea":vh(i),tS(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=jh)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{s=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=nS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=s.createElement(n,{is:i.is}):(t=s.createElement(n),n==="select"&&(s=t,i.multiple?s.multiple=!0:i.size&&(s.size=i.size))):t=s.createElementNS(t,n),t[Yi]=e,t[Sc]=i,mC(t,e,!1,!1),e.stateNode=t;e:{switch(s=Jm(n,i),n){case"dialog":ct("cancel",t),ct("close",t),r=i;break;case"iframe":case"object":case"embed":ct("load",t),r=i;break;case"video":case"audio":for(r=0;r<wc.length;r++)ct(wc[r],t);r=i;break;case"source":ct("error",t),r=i;break;case"img":case"image":case"link":ct("error",t),ct("load",t),r=i;break;case"details":ct("toggle",t),r=i;break;case"input":qx(t,i),r=Km(t,i),ct("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=yt({},i,{value:void 0}),ct("invalid",t);break;case"textarea":Zx(t,i),r=Xm(t,i),ct("invalid",t);break;default:r=i}Qm(n,r),l=r;for(o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="style"?oS(t,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&iS(t,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&tc(t,a):typeof a=="number"&&tc(t,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ql.hasOwnProperty(o)?a!=null&&o==="onScroll"&&ct("scroll",t):a!=null&&Dm(t,o,a,s))}switch(n){case"input":vh(t),Jx(t,i,!1);break;case"textarea":vh(t),tS(t);break;case"option":i.value!=null&&t.setAttribute("value",""+qr(i.value));break;case"select":t.multiple=!!i.multiple,o=i.value,o!=null?_a(t,!!i.multiple,o,!1):i.defaultValue!=null&&_a(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=jh)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pn(e),null;case 6:if(t&&e.stateNode!=null)vC(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(oe(166));if(n=fs($c.current),fs(Xi.current),Yh(e)){if(i=e.stateNode,n=e.memoizedProps,i[Yi]=e,(o=i.nodeValue!==n)&&(t=Zn,t!==null))switch(t.tag){case 3:Bh(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Bh(i.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Yi]=e,e.stateNode=i}return pn(e),null;case 13:if(ut(bt),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(mt&&ei!==null&&e.mode&1&&!(e.flags&128))bk(),Ia(),e.flags|=98560,o=!1;else if(o=Yh(e),i!==null&&i.dehydrated!==null){if(t===null){if(!o)throw Error(oe(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(oe(317));o[Yi]=e}else Ia(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pn(e),o=!1}else Mi!==null&&($v(Mi),Mi=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||bt.current&1?Ht===0&&(Ht=3):Mv())),e.updateQueue!==null&&(e.flags|=4),pn(e),null);case 4:return Ba(),vv(t,e),t===null&&_c(e.stateNode.containerInfo),pn(e),null;case 10:return Ug(e.type._context),pn(e),null;case 17:return In(e.type)&&Wh(),pn(e),null;case 19:if(ut(bt),o=e.memoizedState,o===null)return pn(e),null;if(i=(e.flags&128)!==0,s=o.rendering,s===null)if(i)Rc(o,!1);else{if(Ht!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=td(t),s!==null){for(e.flags|=128,Rc(o,!1),i=s.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)o=n,t=i,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ot(bt,bt.current&1|2),e.child}t=t.sibling}o.tail!==null&&Pt()>Ha&&(e.flags|=128,i=!0,Rc(o,!1),e.lanes=4194304)}else{if(!i)if(t=td(s),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Rc(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!mt)return pn(e),null}else 2*Pt()-o.renderingStartTime>Ha&&n!==1073741824&&(e.flags|=128,i=!0,Rc(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Pt(),e.sibling=null,n=bt.current,ot(bt,i?n&1|2:n&1),e):(pn(e),null);case 22:case 23:return Ov(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?ti&1073741824&&(pn(e),e.subtreeFlags&6&&(e.flags|=8192)):pn(e),null;case 24:return null;case 25:return null}throw Error(oe(156,e.tag))}function u3(t,e){switch(zg(e),e.tag){case 1:return In(e.type)&&Wh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ba(),ut(Dn),ut(dn),ev(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Jg(e),null;case 13:if(ut(bt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(oe(340));Ia()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ut(bt),null;case 4:return Ba(),null;case 10:return Ug(e.type._context),null;case 22:case 23:return Ov(),null;case 24:return null;default:return null}}var cd=!1,mn=!1,h3=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Va(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Tt(t,e,i)}else n.current=null}function yv(t,e,n){try{n()}catch(i){Tt(t,e,i)}}var yC=!1;function d3(t,e){if(Og=Ah,t=XS(),xg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var f;h!==n||r!==0&&h.nodeType!==3||(l=s+r),h!==o||i!==0&&h.nodeType!==3||(a=s+i),h.nodeType===3&&(s+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++u===r&&(l=s),d===o&&++c===i&&(a=s),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mg={focusedElem:t,selectionRange:n},Ah=!1,ge=e;ge!==null;)if(e=ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ge=t;else for(;ge!==null;){e=ge;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,g=p.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?m:Li(e.type,m),g);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(C){Tt(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,ge=t;break}ge=e.return}return p=yC,yC=!1,p}function Pc(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var o=r.destroy;r.destroy=void 0,o!==void 0&&yv(e,n,o)}r=r.next}while(r!==i)}}function ud(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function bv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function bC(t){var e=t.alternate;e!==null&&(t.alternate=null,bC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Yi],delete e[Sc],delete e[Dg],delete e[YN],delete e[XN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function wC(t){return t.tag===5||t.tag===3||t.tag===4}function _C(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wv(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=jh));else if(i!==4&&(t=t.child,t!==null))for(wv(t,e,n),t=t.sibling;t!==null;)wv(t,e,n),t=t.sibling}function _v(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(_v(t,e,n),t=t.sibling;t!==null;)_v(t,e,n),t=t.sibling}var rn=null,Ri=!1;function co(t,e,n){for(n=n.child;n!==null;)xC(t,e,n),n=n.sibling}function xC(t,e,n){if(Gi&&typeof Gi.onCommitFiberUnmount=="function")try{Gi.onCommitFiberUnmount(Sh,n)}catch{}switch(n.tag){case 5:mn||Va(n,e);case 6:var i=rn,r=Ri;rn=null,co(t,e,n),rn=i,Ri=r,rn!==null&&(Ri?(t=rn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):rn.removeChild(n.stateNode));break;case 18:rn!==null&&(Ri?(t=rn,n=n.stateNode,t.nodeType===8?Pg(t.parentNode,n):t.nodeType===1&&Pg(t,n),dc(t)):Pg(rn,n.stateNode));break;case 4:i=rn,r=Ri,rn=n.stateNode.containerInfo,Ri=!0,co(t,e,n),rn=i,Ri=r;break;case 0:case 11:case 14:case 15:if(!mn&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var o=r,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&yv(n,e,s),r=r.next}while(r!==i)}co(t,e,n);break;case 1:if(!mn&&(Va(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(l){Tt(n,e,l)}co(t,e,n);break;case 21:co(t,e,n);break;case 22:n.mode&1?(mn=(i=mn)||n.memoizedState!==null,co(t,e,n),mn=i):co(t,e,n);break;default:co(t,e,n)}}function SC(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new h3),e.forEach(function(i){var r=_3.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function Pi(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var o=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:rn=l.stateNode,Ri=!1;break e;case 3:rn=l.stateNode.containerInfo,Ri=!0;break e;case 4:rn=l.stateNode.containerInfo,Ri=!0;break e}l=l.return}if(rn===null)throw Error(oe(160));xC(o,s,r),rn=null,Ri=!1;var a=r.alternate;a!==null&&(a.return=null),r.return=null}catch(u){Tt(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)kC(e,t),e=e.sibling}function kC(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pi(e,t),Qi(t),i&4){try{Pc(3,t,t.return),ud(3,t)}catch(m){Tt(t,t.return,m)}try{Pc(5,t,t.return)}catch(m){Tt(t,t.return,m)}}break;case 1:Pi(e,t),Qi(t),i&512&&n!==null&&Va(n,n.return);break;case 5:if(Pi(e,t),Qi(t),i&512&&n!==null&&Va(n,n.return),t.flags&32){var r=t.stateNode;try{tc(r,"")}catch(m){Tt(t,t.return,m)}}if(i&4&&(r=t.stateNode,r!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Qx(r,o),Jm(l,s);var u=Jm(l,o);for(s=0;s<a.length;s+=2){var c=a[s],h=a[s+1];c==="style"?oS(r,h):c==="dangerouslySetInnerHTML"?iS(r,h):c==="children"?tc(r,h):Dm(r,c,h,u)}switch(l){case"input":Gm(r,o);break;case"textarea":eS(r,o);break;case"select":var d=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?_a(r,!!o.multiple,f,!1):d!==!!o.multiple&&(o.defaultValue!=null?_a(r,!!o.multiple,o.defaultValue,!0):_a(r,!!o.multiple,o.multiple?[]:"",!1))}r[Sc]=o}catch(m){Tt(t,t.return,m)}}break;case 6:if(Pi(e,t),Qi(t),i&4){if(t.stateNode===null)throw Error(oe(162));r=t.stateNode,o=t.memoizedProps;try{r.nodeValue=o}catch(m){Tt(t,t.return,m)}}break;case 3:if(Pi(e,t),Qi(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{dc(e.containerInfo)}catch(m){Tt(t,t.return,m)}break;case 4:Pi(e,t),Qi(t);break;case 13:Pi(e,t),Qi(t),r=t.child,r.flags&8192&&(o=r.memoizedState!==null,r.stateNode.isHidden=o,!o||r.alternate!==null&&r.alternate.memoizedState!==null||(kv=Pt())),i&4&&SC(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(mn=(u=mn)||c,Pi(e,t),mn=u):Pi(e,t),Qi(t),i&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ge=t,c=t.child;c!==null;){for(h=ge=c;ge!==null;){switch(d=ge,f=d.child,d.tag){case 0:case 11:case 14:case 15:Pc(4,d,d.return);break;case 1:Va(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){i=d,n=d.return;try{e=i,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){Tt(i,n,m)}}break;case 5:Va(d,d.return);break;case 22:if(d.memoizedState!==null){TC(h);continue}}f!==null?(f.return=d,ge=f):TC(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{r=h.stateNode,u?(o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=h.stateNode,a=h.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=rS("display",s))}catch(m){Tt(t,t.return,m)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){Tt(t,t.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Pi(e,t),Qi(t),i&4&&SC(t);break;case 21:break;default:Pi(e,t),Qi(t)}}function Qi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(wC(n)){var i=n;break e}n=n.return}throw Error(oe(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(tc(r,""),i.flags&=-33);var o=_C(t);_v(t,o,r);break;case 3:case 4:var s=i.stateNode.containerInfo,l=_C(t);wv(t,l,s);break;default:throw Error(oe(161))}}catch(a){Tt(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function f3(t,e,n){ge=t,CC(t)}function CC(t,e,n){for(var i=(t.mode&1)!==0;ge!==null;){var r=ge,o=r.child;if(r.tag===22&&i){var s=r.memoizedState!==null||cd;if(!s){var l=r.alternate,a=l!==null&&l.memoizedState!==null||mn;l=cd;var u=mn;if(cd=s,(mn=a)&&!u)for(ge=r;ge!==null;)s=ge,a=s.child,s.tag===22&&s.memoizedState!==null?$C(r):a!==null?(a.return=s,ge=a):$C(r);for(;o!==null;)ge=o,CC(o),o=o.sibling;ge=r,cd=l,mn=u}EC(t)}else r.subtreeFlags&8772&&o!==null?(o.return=r,ge=o):EC(t)}}function EC(t){for(;ge!==null;){var e=ge;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:mn||ud(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!mn)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Li(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Sk(e,o,i);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Sk(e,s,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&dc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}mn||e.flags&512&&bv(e)}catch(d){Tt(e,e.return,d)}}if(e===t){ge=null;break}if(n=e.sibling,n!==null){n.return=e.return,ge=n;break}ge=e.return}}function TC(t){for(;ge!==null;){var e=ge;if(e===t){ge=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ge=n;break}ge=e.return}}function $C(t){for(;ge!==null;){var e=ge;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ud(4,e)}catch(a){Tt(e,n,a)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(a){Tt(e,r,a)}}var o=e.return;try{bv(e)}catch(a){Tt(e,o,a)}break;case 5:var s=e.return;try{bv(e)}catch(a){Tt(e,s,a)}}}catch(a){Tt(e,e.return,a)}if(e===t){ge=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ge=l;break}ge=e.return}}var p3=Math.ceil,hd=gr.ReactCurrentDispatcher,xv=gr.ReactCurrentOwner,pi=gr.ReactCurrentBatchConfig,Qe=0,Gt=null,It=null,on=0,ti=0,Wa=ro(0),Ht=0,Dc=null,ms=0,dd=0,Sv=0,Ic=null,Fn=null,kv=0,Ha=1/0,kr=null,fd=!1,Cv=null,uo=null,pd=!1,ho=null,md=0,Nc=0,Ev=null,gd=-1,vd=0;function En(){return Qe&6?Pt():gd!==-1?gd:gd=Pt()}function fo(t){return t.mode&1?Qe&2&&on!==0?on&-on:QN.transition!==null?(vd===0&&(vd=wS()),vd):(t=et,t!==0||(t=window.event,t=t===void 0?16:AS(t.type)),t):1}function Di(t,e,n,i){if(50<Nc)throw Nc=0,Ev=null,Error(oe(185));ac(t,n,i),(!(Qe&2)||t!==Gt)&&(t===Gt&&(!(Qe&2)&&(dd|=n),Ht===4&&po(t,on)),zn(t,i),n===1&&Qe===0&&!(e.mode&1)&&(Ha=Pt()+500,Uh&&so()))}function zn(t,e){var n=t.callbackNode;QI(t,e);var i=Eh(t,t===Gt?on:0);if(i===0)n!==null&&vS(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&vS(n),e===1)t.tag===0?qN(OC.bind(null,t)):pk(OC.bind(null,t)),KN(function(){!(Qe&6)&&so()}),n=null;else{switch(_S(i)){case 1:n=og;break;case 4:n=yS;break;case 16:n=xh;break;case 536870912:n=bS;break;default:n=xh}n=FC(n,AC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function AC(t,e){if(gd=-1,vd=0,Qe&6)throw Error(oe(327));var n=t.callbackNode;if(Ua()&&t.callbackNode!==n)return null;var i=Eh(t,t===Gt?on:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=yd(t,i);else{e=i;var r=Qe;Qe|=2;var o=LC();(Gt!==t||on!==e)&&(kr=null,Ha=Pt()+500,vs(t,e));do try{v3();break}catch(l){MC(t,l)}while(1);Hg(),hd.current=o,Qe=r,It!==null?e=0:(Gt=null,on=0,e=Ht)}if(e!==0){if(e===2&&(r=sg(t),r!==0&&(i=r,e=Tv(t,r))),e===1)throw n=Dc,vs(t,0),po(t,i),zn(t,Pt()),n;if(e===6)po(t,i);else{if(r=t.current.alternate,!(i&30)&&!m3(r)&&(e=yd(t,i),e===2&&(o=sg(t),o!==0&&(i=o,e=Tv(t,o))),e===1))throw n=Dc,vs(t,0),po(t,i),zn(t,Pt()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(oe(345));case 2:ys(t,Fn,kr);break;case 3:if(po(t,i),(i&130023424)===i&&(e=kv+500-Pt(),10<e)){if(Eh(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){En(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Rg(ys.bind(null,t,Fn,kr),e);break}ys(t,Fn,kr);break;case 4:if(po(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var s=31-Ai(i);o=1<<s,s=e[s],s>r&&(r=s),i&=~o}if(i=r,i=Pt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*p3(i/1960))-i,10<i){t.timeoutHandle=Rg(ys.bind(null,t,Fn,kr),i);break}ys(t,Fn,kr);break;case 5:ys(t,Fn,kr);break;default:throw Error(oe(329))}}}return zn(t,Pt()),t.callbackNode===n?AC.bind(null,t):null}function Tv(t,e){var n=Ic;return t.current.memoizedState.isDehydrated&&(vs(t,e).flags|=256),t=yd(t,e),t!==2&&(e=Fn,Fn=n,e!==null&&$v(e)),t}function $v(t){Fn===null?Fn=t:Fn.push.apply(Fn,t)}function m3(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!Oi(o(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function po(t,e){for(e&=~Sv,e&=~dd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ai(e),i=1<<n;t[n]=-1,e&=~i}}function OC(t){if(Qe&6)throw Error(oe(327));Ua();var e=Eh(t,0);if(!(e&1))return zn(t,Pt()),null;var n=yd(t,e);if(t.tag!==0&&n===2){var i=sg(t);i!==0&&(e=i,n=Tv(t,i))}if(n===1)throw n=Dc,vs(t,0),po(t,e),zn(t,Pt()),n;if(n===6)throw Error(oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ys(t,Fn,kr),zn(t,Pt()),null}function Av(t,e){var n=Qe;Qe|=1;try{return t(e)}finally{Qe=n,Qe===0&&(Ha=Pt()+500,Uh&&so())}}function gs(t){ho!==null&&ho.tag===0&&!(Qe&6)&&Ua();var e=Qe;Qe|=1;var n=pi.transition,i=et;try{if(pi.transition=null,et=1,t)return t()}finally{et=i,pi.transition=n,Qe=e,!(Qe&6)&&so()}}function Ov(){ti=Wa.current,ut(Wa)}function vs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,UN(n)),It!==null)for(n=It.return;n!==null;){var i=n;switch(zg(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Wh();break;case 3:Ba(),ut(Dn),ut(dn),ev();break;case 5:Jg(i);break;case 4:Ba();break;case 13:ut(bt);break;case 19:ut(bt);break;case 10:Ug(i.type._context);break;case 22:case 23:Ov()}n=n.return}if(Gt=t,It=t=mo(t.current,null),on=ti=e,Ht=0,Dc=null,Sv=dd=ms=0,Fn=Ic=null,ds!==null){for(e=0;e<ds.length;e++)if(n=ds[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,o=n.pending;if(o!==null){var s=o.next;o.next=r,i.next=s}n.pending=i}ds=null}return t}function MC(t,e){do{var n=It;try{if(Hg(),nd.current=sd,id){for(var i=wt.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}id=!1}if(ps=0,Kt=Wt=wt=null,Ac=!1,Oc=0,xv.current=null,n===null||n.return===null){Ht=1,Dc=e,It=null;break}e:{var o=t,s=n.return,l=n,a=e;if(e=on,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=nC(s);if(f!==null){f.flags&=-257,iC(f,s,l,o,e),f.mode&1&&tC(o,u,e),e=f,a=u;var p=e.updateQueue;if(p===null){var m=new Set;m.add(a),e.updateQueue=m}else p.add(a);break e}else{if(!(e&1)){tC(o,u,e),Mv();break e}a=Error(oe(426))}}else if(mt&&l.mode&1){var g=nC(s);if(g!==null){!(g.flags&65536)&&(g.flags|=256),iC(g,s,l,o,e),Vg(ja(a,l));break e}}o=a=ja(a,l),Ht!==4&&(Ht=2),Ic===null?Ic=[o]:Ic.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=Zk(o,a,e);xk(o,v);break e;case 1:l=a;var y=o.type,k=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(uo===null||!uo.has(k)))){o.flags|=65536,e&=-e,o.lanes|=e;var C=eC(o,l,e);xk(o,C);break e}}o=o.return}while(o!==null)}PC(n)}catch(T){e=T,It===n&&n!==null&&(It=n=n.return);continue}break}while(1)}function LC(){var t=hd.current;return hd.current=sd,t===null?sd:t}function Mv(){(Ht===0||Ht===3||Ht===2)&&(Ht=4),Gt===null||!(ms&268435455)&&!(dd&268435455)||po(Gt,on)}function yd(t,e){var n=Qe;Qe|=2;var i=LC();(Gt!==t||on!==e)&&(kr=null,vs(t,e));do try{g3();break}catch(r){MC(t,r)}while(1);if(Hg(),Qe=n,hd.current=i,It!==null)throw Error(oe(261));return Gt=null,on=0,Ht}function g3(){for(;It!==null;)RC(It)}function v3(){for(;It!==null&&!VI();)RC(It)}function RC(t){var e=NC(t.alternate,t,ti);t.memoizedProps=t.pendingProps,e===null?PC(t):It=e,xv.current=null}function PC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=u3(n,e),n!==null){n.flags&=32767,It=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ht=6,It=null;return}}else if(n=c3(n,e,ti),n!==null){It=n;return}if(e=e.sibling,e!==null){It=e;return}It=e=t}while(e!==null);Ht===0&&(Ht=5)}function ys(t,e,n){var i=et,r=pi.transition;try{pi.transition=null,et=1,y3(t,e,n,i)}finally{pi.transition=r,et=i}return null}function y3(t,e,n,i){do Ua();while(ho!==null);if(Qe&6)throw Error(oe(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(oe(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(JI(t,o),t===Gt&&(It=Gt=null,on=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pd||(pd=!0,FC(xh,function(){return Ua(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=pi.transition,pi.transition=null;var s=et;et=1;var l=Qe;Qe|=4,xv.current=null,d3(t,n),kC(n,t),FN(Mg),Ah=!!Og,Mg=Og=null,t.current=n,f3(n),WI(),Qe=l,et=s,pi.transition=o}else t.current=n;if(pd&&(pd=!1,ho=t,md=r),o=t.pendingLanes,o===0&&(uo=null),KI(n.stateNode),zn(t,Pt()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(fd)throw fd=!1,t=Cv,Cv=null,t;return md&1&&t.tag!==0&&Ua(),o=t.pendingLanes,o&1?t===Ev?Nc++:(Nc=0,Ev=t):Nc=0,so(),null}function Ua(){if(ho!==null){var t=_S(md),e=pi.transition,n=et;try{if(pi.transition=null,et=16>t?16:t,ho===null)var i=!1;else{if(t=ho,ho=null,md=0,Qe&6)throw Error(oe(331));var r=Qe;for(Qe|=4,ge=t.current;ge!==null;){var o=ge,s=o.child;if(ge.flags&16){var l=o.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(ge=u;ge!==null;){var c=ge;switch(c.tag){case 0:case 11:case 15:Pc(8,c,o)}var h=c.child;if(h!==null)h.return=c,ge=h;else for(;ge!==null;){c=ge;var d=c.sibling,f=c.return;if(bC(c),c===u){ge=null;break}if(d!==null){d.return=f,ge=d;break}ge=f}}}var p=o.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(m!==null)}}ge=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ge=s;else e:for(;ge!==null;){if(o=ge,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Pc(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,ge=v;break e}ge=o.return}}var y=t.current;for(ge=y;ge!==null;){s=ge;var k=s.child;if(s.subtreeFlags&2064&&k!==null)k.return=s,ge=k;else e:for(s=y;ge!==null;){if(l=ge,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ud(9,l)}}catch(T){Tt(l,l.return,T)}if(l===s){ge=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,ge=C;break e}ge=l.return}}if(Qe=r,so(),Gi&&typeof Gi.onPostCommitFiberRoot=="function")try{Gi.onPostCommitFiberRoot(Sh,t)}catch{}i=!0}return i}finally{et=n,pi.transition=e}}return!1}function DC(t,e,n){e=ja(n,e),e=Zk(t,e,1),t=lo(t,e,1),e=En(),t!==null&&(ac(t,1,e),zn(t,e))}function Tt(t,e,n){if(t.tag===3)DC(t,t,n);else for(;e!==null;){if(e.tag===3){DC(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(uo===null||!uo.has(i))){t=ja(n,t),t=eC(e,t,1),e=lo(e,t,1),t=En(),e!==null&&(ac(e,1,t),zn(e,t));break}}e=e.return}}function b3(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=En(),t.pingedLanes|=t.suspendedLanes&n,Gt===t&&(on&n)===n&&(Ht===4||Ht===3&&(on&130023424)===on&&500>Pt()-kv?vs(t,0):Sv|=n),zn(t,e)}function IC(t,e){e===0&&(t.mode&1?(e=Ch,Ch<<=1,!(Ch&130023424)&&(Ch=4194304)):e=1);var n=En();t=_r(t,e),t!==null&&(ac(t,e,n),zn(t,n))}function w3(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),IC(t,n)}function _3(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(oe(314))}i!==null&&i.delete(e),IC(t,n)}var NC;NC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Dn.current)Nn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Nn=!1,l3(t,e,n);Nn=!!(t.flags&131072)}else Nn=!1,mt&&e.flags&1048576&&mk(e,Gh,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;ld(t,e),t=e.pendingProps;var r=Ra(e,dn.current);Fa(e,n),r=iv(null,e,i,t,r,n);var o=rv();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,In(i)?(o=!0,Hh(e)):o=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Yg(e),r.updater=Zh,e.stateNode=r,r._reactInternals=e,qg(e,i,t,n),e=dv(null,e,i,!0,o,n)):(e.tag=0,mt&&o&&Fg(e),Cn(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(ld(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=S3(i),t=Li(i,t),r){case 0:e=hv(null,e,i,t,n);break e;case 1:e=cC(null,e,i,t,n);break e;case 11:e=rC(null,e,i,t,n);break e;case 14:e=oC(null,e,i,Li(i.type,t),n);break e}throw Error(oe(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Li(i,r),hv(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Li(i,r),cC(t,e,i,r,n);case 3:e:{if(uC(e),t===null)throw Error(oe(387));i=e.pendingProps,o=e.memoizedState,r=o.element,_k(t,e),Jh(e,i,null,n);var s=e.memoizedState;if(i=s.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){r=ja(Error(oe(423)),e),e=hC(t,e,i,n,r);break e}else if(i!==r){r=ja(Error(oe(424)),e),e=hC(t,e,i,n,r);break e}else for(ei=io(e.stateNode.containerInfo.firstChild),Zn=e,mt=!0,Mi=null,n=Ok(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ia(),i===r){e=Sr(t,e,n);break e}Cn(t,e,i,n)}e=e.child}return e;case 5:return Mk(e),t===null&&jg(e),i=e.type,r=e.pendingProps,o=t!==null?t.memoizedProps:null,s=r.children,Lg(i,r)?s=null:o!==null&&Lg(i,o)&&(e.flags|=32),lC(t,e),Cn(t,e,s,n),e.child;case 6:return t===null&&jg(e),null;case 13:return dC(t,e,n);case 4:return Qg(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=za(e,null,i,n):Cn(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Li(i,r),rC(t,e,i,r,n);case 7:return Cn(t,e,e.pendingProps,n),e.child;case 8:return Cn(t,e,e.pendingProps.children,n),e.child;case 12:return Cn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,o=e.memoizedProps,s=r.value,ot(Xh,i._currentValue),i._currentValue=s,o!==null)if(Oi(o.value,s)){if(o.children===r.children&&!Dn.current){e=Sr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var a=l.firstContext;a!==null;){if(a.context===i){if(o.tag===1){a=xr(-1,n&-n),a.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Kg(o.return,n,e),l.lanes|=n;break}a=a.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(oe(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Kg(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Cn(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Fa(e,n),r=di(r),i=i(r),e.flags|=1,Cn(t,e,i,n),e.child;case 14:return i=e.type,r=Li(i,e.pendingProps),r=Li(i.type,r),oC(t,e,i,r,n);case 15:return sC(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Li(i,r),ld(t,e),e.tag=1,In(i)?(t=!0,Hh(e)):t=!1,Fa(e,n),Ek(e,i,r),qg(e,i,r,n),dv(null,e,i,!0,t,n);case 19:return pC(t,e,n);case 22:return aC(t,e,n)}throw Error(oe(156,e.tag))};function FC(t,e){return gS(t,e)}function x3(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mi(t,e,n,i){return new x3(t,e,n,i)}function Lv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function S3(t){if(typeof t=="function")return Lv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Fm)return 11;if(t===jm)return 14}return 2}function mo(t,e){var n=t.alternate;return n===null?(n=mi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function bd(t,e,n,i,r,o){var s=2;if(i=t,typeof t=="function")Lv(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case wa:return bs(n.children,r,o,e);case Im:s=8,r|=8;break;case Nm:return t=mi(12,n,e,r|2),t.elementType=Nm,t.lanes=o,t;case zm:return t=mi(13,n,e,r),t.elementType=zm,t.lanes=o,t;case Bm:return t=mi(19,n,e,r),t.elementType=Bm,t.lanes=o,t;case Kx:return wd(n,r,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Hx:s=10;break e;case Ux:s=9;break e;case Fm:s=11;break e;case jm:s=14;break e;case Xr:s=16,i=null;break e}throw Error(oe(130,t==null?t:typeof t,""))}return e=mi(s,n,e,r),e.elementType=t,e.type=i,e.lanes=o,e}function bs(t,e,n,i){return t=mi(7,t,i,e),t.lanes=n,t}function wd(t,e,n,i){return t=mi(22,t,i,e),t.elementType=Kx,t.lanes=n,t.stateNode={isHidden:!1},t}function Rv(t,e,n){return t=mi(6,t,null,e),t.lanes=n,t}function Pv(t,e,n){return e=mi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function k3(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ag(0),this.expirationTimes=ag(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ag(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Dv(t,e,n,i,r,o,s,l,a){return t=new k3(t,e,n,l,a),e===1?(e=1,o===!0&&(e|=8)):e=0,o=mi(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yg(o),t}function C3(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ba,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function zC(t){if(!t)return oo;t=t._reactInternals;e:{if(as(t)!==t||t.tag!==1)throw Error(oe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(In(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(oe(171))}if(t.tag===1){var n=t.type;if(In(n))return dk(t,n,e)}return e}function BC(t,e,n,i,r,o,s,l,a){return t=Dv(n,i,!0,t,r,o,s,l,a),t.context=zC(null),n=t.current,i=En(),r=fo(n),o=xr(i,r),o.callback=e??null,lo(n,o,r),t.current.lanes=r,ac(t,r,i),zn(t,i),t}function _d(t,e,n,i){var r=e.current,o=En(),s=fo(r);return n=zC(n),e.context===null?e.context=n:e.pendingContext=n,e=xr(o,s),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=lo(r,e,s),t!==null&&(Di(t,r,s,o),Qh(t,r,s)),s}function xd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function jC(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Iv(t,e){jC(t,e),(t=t.alternate)&&jC(t,e)}function E3(){return null}var VC=typeof reportError=="function"?reportError:function(t){console.error(t)};function Nv(t){this._internalRoot=t}Sd.prototype.render=Nv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(oe(409));_d(t,e,null,null)},Sd.prototype.unmount=Nv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;gs(function(){_d(null,t,null,null)}),e[vr]=null}};function Sd(t){this._internalRoot=t}Sd.prototype.unstable_scheduleHydration=function(t){if(t){var e=kS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<eo.length&&e!==0&&e<eo[n].priority;n++);eo.splice(n,0,t),n===0&&TS(t)}};function Fv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function kd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function WC(){}function T3(t,e,n,i,r){if(r){if(typeof i=="function"){var o=i;i=function(){var u=xd(s);o.call(u)}}var s=BC(e,i,t,0,null,!1,!1,"",WC);return t._reactRootContainer=s,t[vr]=s.current,_c(t.nodeType===8?t.parentNode:t),gs(),s}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var l=i;i=function(){var u=xd(a);l.call(u)}}var a=Dv(t,0,!1,null,null,!1,!1,"",WC);return t._reactRootContainer=a,t[vr]=a.current,_c(t.nodeType===8?t.parentNode:t),gs(function(){_d(e,a,n,i)}),a}function Cd(t,e,n,i,r){var o=n._reactRootContainer;if(o){var s=o;if(typeof r=="function"){var l=r;r=function(){var a=xd(s);l.call(a)}}_d(e,s,t,r)}else s=T3(n,e,t,r,i);return xd(s)}xS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=sc(e.pendingLanes);n!==0&&(lg(e,n|1),zn(e,Pt()),!(Qe&6)&&(Ha=Pt()+500,so()))}break;case 13:gs(function(){var i=_r(t,1);if(i!==null){var r=En();Di(i,t,1,r)}}),Iv(t,1)}},cg=function(t){if(t.tag===13){var e=_r(t,134217728);if(e!==null){var n=En();Di(e,t,134217728,n)}Iv(t,134217728)}},SS=function(t){if(t.tag===13){var e=fo(t),n=_r(t,e);if(n!==null){var i=En();Di(n,t,e,i)}Iv(t,e)}},kS=function(){return et},CS=function(t,e){var n=et;try{return et=t,e()}finally{et=n}},tg=function(t,e,n){switch(e){case"input":if(Gm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Vh(i);if(!r)throw Error(oe(90));Xx(i),Gm(i,r)}}}break;case"textarea":eS(t,n);break;case"select":e=n.value,e!=null&&_a(t,!!n.multiple,e,!1)}},cS=Av,uS=gs;var $3={usingClientEntryPoint:!1,Events:[kc,Ma,Vh,aS,lS,Av]},Fc={findFiberByHostInstance:ls,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},A3={bundleType:Fc.bundleType,version:Fc.version,rendererPackageName:Fc.rendererPackageName,rendererConfig:Fc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=pS(t),t===null?null:t.stateNode},findFiberByHostInstance:Fc.findFiberByHostInstance||E3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ed=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ed.isDisabled&&Ed.supportsFiber)try{Sh=Ed.inject(A3),Gi=Ed}catch{}}qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$3,qn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fv(e))throw Error(oe(200));return C3(t,e,null,n)},qn.createRoot=function(t,e){if(!Fv(t))throw Error(oe(299));var n=!1,i="",r=VC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Dv(t,1,!1,null,null,n,!1,i,r),t[vr]=e.current,_c(t.nodeType===8?t.parentNode:t),new Nv(e)},qn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(oe(188)):(t=Object.keys(t).join(","),Error(oe(268,t)));return t=pS(e),t=t===null?null:t.stateNode,t},qn.flushSync=function(t){return gs(t)},qn.hydrate=function(t,e,n){if(!kd(e))throw Error(oe(200));return Cd(null,t,e,!0,n)},qn.hydrateRoot=function(t,e,n){if(!Fv(t))throw Error(oe(405));var i=n!=null&&n.hydratedSources||null,r=!1,o="",s=VC;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=BC(e,null,t,1,n??null,r,!1,o,s),t[vr]=e.current,_c(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Sd(e)},qn.render=function(t,e,n){if(!kd(e))throw Error(oe(200));return Cd(null,t,e,!1,n)},qn.unmountComponentAtNode=function(t){if(!kd(t))throw Error(oe(40));return t._reactRootContainer?(gs(function(){Cd(null,null,t,!1,function(){t._reactRootContainer=null,t[vr]=null})}),!0):!1},qn.unstable_batchedUpdates=Av,qn.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!kd(n))throw Error(oe(200));if(t==null||t._reactInternals===void 0)throw Error(oe(38));return Cd(t,e,n,!1,i)},qn.version="18.2.0-next-9e3b772b8-20220608";function HC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(HC)}catch(t){console.error(t)}}HC(),Nx.exports=qn;var zv=Nx.exports;const UC=Ti(zv);var KC=zv;Mm.createRoot=KC.createRoot,Mm.hydrateRoot=KC.hydrateRoot;const O3="modulepreload",M3=function(t,e){return new URL(t,e).href},GC={},go=function(e,n,i){return e()};var YC={exports:{}},L3="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",R3=L3,P3=R3;function XC(){}function qC(){}qC.resetWarningCache=XC;var D3=function(){function t(i,r,o,s,l,a){if(a!==P3){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:qC,resetWarningCache:XC};return n.PropTypes=n,n};YC.exports=D3();var Td=YC.exports;const Z=Ti(Td);function Bv(){return Bv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Bv.apply(this,arguments)}function I3(t,e){if(t==null)return{};var n=N3(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function N3(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var jv=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=I3(t,["color","size"]);return K.createElement("svg",Bv({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("line",{x1:"17",y1:"7",x2:"7",y2:"17"}),K.createElement("polyline",{points:"17 17 7 17 7 7"}))});jv.propTypes={color:Z.string,size:Z.oneOfType([Z.string,Z.number])},jv.displayName="ArrowDownLeft";const F3=jv;function Vv(){return Vv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Vv.apply(this,arguments)}function z3(t,e){if(t==null)return{};var n=B3(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function B3(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var Wv=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=z3(t,["color","size"]);return K.createElement("svg",Vv({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("line",{x1:"7",y1:"7",x2:"17",y2:"17"}),K.createElement("polyline",{points:"17 7 17 17 7 17"}))});Wv.propTypes={color:Z.string,size:Z.oneOfType([Z.string,Z.number])},Wv.displayName="ArrowDownRight";const j3=Wv;function Hv(){return Hv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Hv.apply(this,arguments)}function V3(t,e){if(t==null)return{};var n=W3(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function W3(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var Uv=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=V3(t,["color","size"]);return K.createElement("svg",Hv({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),K.createElement("polyline",{points:"12 19 5 12 12 5"}))});Uv.propTypes={color:Z.string,size:Z.oneOfType([Z.string,Z.number])},Uv.displayName="ArrowLeft";const zc=Uv;function Kv(){return Kv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Kv.apply(this,arguments)}function H3(t,e){if(t==null)return{};var n=U3(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function U3(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var Gv=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=H3(t,["color","size"]);return K.createElement("svg",Kv({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("circle",{cx:"12",cy:"12",r:"10"}),K.createElement("polyline",{points:"12 16 16 12 12 8"}),K.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))});Gv.propTypes={color:Z.string,size:Z.oneOfType([Z.string,Z.number])},Gv.displayName="ArrowRightCircle";const K3=Gv;function Yv(){return Yv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Yv.apply(this,arguments)}function G3(t,e){if(t==null)return{};var n=Y3(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function Y3(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var Xv=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=G3(t,["color","size"]);return K.createElement("svg",Yv({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("line",{x1:"17",y1:"17",x2:"7",y2:"7"}),K.createElement("polyline",{points:"7 17 7 7 17 7"}))});Xv.propTypes={color:Z.string,size:Z.oneOfType([Z.string,Z.number])},Xv.displayName="ArrowUpLeft";const X3=Xv;function qv(){return qv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},qv.apply(this,arguments)}function q3(t,e){if(t==null)return{};var n=Q3(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function Q3(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var Qv=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=q3(t,["color","size"]);return K.createElement("svg",qv({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("line",{x1:"7",y1:"17",x2:"17",y2:"7"}),K.createElement("polyline",{points:"7 7 17 7 17 17"}))});Qv.propTypes={color:Z.string,size:Z.oneOfType([Z.string,Z.number])},Qv.displayName="ArrowUpRight";const J3=Qv;function Jv(){return Jv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Jv.apply(this,arguments)}function Z3(t,e){if(t==null)return{};var n=e4(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function e4(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var Zv=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=Z3(t,["color","size"]);return K.createElement("svg",Jv({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("path",{d:"M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"}),K.createElement("path",{d:"M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"}))});Zv.propTypes={color:Z.string,size:Z.oneOfType([Z.string,Z.number])},Zv.displayName="Bold";const t4=Zv;function e0(){return e0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},e0.apply(this,arguments)}function n4(t,e){if(t==null)return{};var n=i4(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function i4(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var t0=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=n4(t,["color","size"]);return K.createElement("svg",e0({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("polyline",{points:"20 6 9 17 4 12"}))});t0.propTypes={color:Z.string,size:Z.oneOfType([Z.string,Z.number])},t0.displayName="Check";const r4=t0;function n0(){return n0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},n0.apply(this,arguments)}function o4(t,e){if(t==null)return{};var n=s4(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function s4(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var i0=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=o4(t,["color","size"]);return K.createElement("svg",n0({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("polyline",{points:"6 9 12 15 18 9"}))});i0.propTypes={color:Z.string,size:Z.oneOfType([Z.string,Z.number])},i0.displayName="ChevronDown";const a4=i0;function r0(){return r0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r0.apply(this,arguments)}function l4(t,e){if(t==null)return{};var n=c4(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function c4(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var o0=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=l4(t,["color","size"]);return K.createElement("svg",r0({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("polyline",{points:"16 18 22 12 16 6"}),K.createElement("polyline",{points:"8 6 2 12 8 18"}))});o0.propTypes={color:Z.string,size:Z.oneOfType([Z.string,Z.number])},o0.displayName="Code";const s0=o0;function a0(){return a0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},a0.apply(this,arguments)}function u4(t,e){if(t==null)return{};var n=h4(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function h4(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var l0=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=u4(t,["color","size"]);return K.createElement("svg",a0({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("polyline",{points:"9 14 4 9 9 4"}),K.createElement("path",{d:"M20 20v-7a4 4 0 0 0-4-4H4"}))});l0.propTypes={color:Z.string,size:Z.oneOfType([Z.string,Z.number])},l0.displayName="CornerUpLeft";const d4=l0;function c0(){return c0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},c0.apply(this,arguments)}function f4(t,e){if(t==null)return{};var n=p4(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function p4(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var u0=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=f4(t,["color","size"]);return K.createElement("svg",c0({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("polyline",{points:"15 14 20 9 15 4"}),K.createElement("path",{d:"M4 20v-7a4 4 0 0 1 4-4h12"}))});u0.propTypes={color:Z.string,size:Z.oneOfType([Z.string,Z.number])},u0.displayName="CornerUpRight";const m4=u0;function h0(){return h0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},h0.apply(this,arguments)}function g4(t,e){if(t==null)return{};var n=v4(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function v4(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var d0=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=g4(t,["color","size"]);return K.createElement("svg",h0({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("circle",{cx:"12",cy:"12",r:"10"}),K.createElement("line",{x1:"22",y1:"12",x2:"18",y2:"12"}),K.createElement("line",{x1:"6",y1:"12",x2:"2",y2:"12"}),K.createElement("line",{x1:"12",y1:"6",x2:"12",y2:"2"}),K.createElement("line",{x1:"12",y1:"22",x2:"12",y2:"18"}))});d0.propTypes={color:Z.string,size:Z.oneOfType([Z.string,Z.number])},d0.displayName="Crosshair";const QC=d0;function f0(){return f0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},f0.apply(this,arguments)}function y4(t,e){if(t==null)return{};var n=b4(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function b4(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var p0=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=y4(t,["color","size"]);return K.createElement("svg",f0({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("path",{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"}))});p0.propTypes={color:Z.string,size:Z.oneOfType([Z.string,Z.number])},p0.displayName="Droplet";const w4=p0;function m0(){return m0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},m0.apply(this,arguments)}function _4(t,e){if(t==null)return{};var n=x4(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function x4(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var g0=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=_4(t,["color","size"]);return K.createElement("svg",m0({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"}))});g0.propTypes={color:Z.string,size:Z.oneOfType([Z.string,Z.number])},g0.displayName="Folder";const S4=g0;function v0(){return v0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},v0.apply(this,arguments)}function k4(t,e){if(t==null)return{};var n=C4(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function C4(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var y0=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=k4(t,["color","size"]);return K.createElement("svg",v0({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),K.createElement("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),K.createElement("polyline",{points:"21 15 16 10 5 21"}))});y0.propTypes={color:Z.string,size:Z.oneOfType([Z.string,Z.number])},y0.displayName="Image";const b0=y0;function w0(){return w0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},w0.apply(this,arguments)}function E4(t,e){if(t==null)return{};var n=T4(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function T4(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var _0=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=E4(t,["color","size"]);return K.createElement("svg",w0({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("line",{x1:"19",y1:"4",x2:"10",y2:"4"}),K.createElement("line",{x1:"14",y1:"20",x2:"5",y2:"20"}),K.createElement("line",{x1:"15",y1:"4",x2:"9",y2:"20"}))});_0.propTypes={color:Z.string,size:Z.oneOfType([Z.string,Z.number])},_0.displayName="Italic";const $4=_0;function x0(){return x0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},x0.apply(this,arguments)}function A4(t,e){if(t==null)return{};var n=O4(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function O4(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var S0=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=A4(t,["color","size"]);return K.createElement("svg",x0({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("path",{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"}))});S0.propTypes={color:Z.string,size:Z.oneOfType([Z.string,Z.number])},S0.displayName="Key";const Ji=S0;function k0(){return k0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},k0.apply(this,arguments)}function M4(t,e){if(t==null)return{};var n=L4(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function L4(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var C0=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=M4(t,["color","size"]);return K.createElement("svg",k0({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("polygon",{points:"12 2 2 7 12 12 22 7 12 2"}),K.createElement("polyline",{points:"2 17 12 22 22 17"}),K.createElement("polyline",{points:"2 12 12 17 22 12"}))});C0.propTypes={color:Z.string,size:Z.oneOfType([Z.string,Z.number])},C0.displayName="Layers";const R4=C0;function E0(){return E0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},E0.apply(this,arguments)}function P4(t,e){if(t==null)return{};var n=D4(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function D4(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var T0=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=P4(t,["color","size"]);return K.createElement("svg",E0({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("path",{d:"M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"}),K.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))});T0.propTypes={color:Z.string,size:Z.oneOfType([Z.string,Z.number])},T0.displayName="Link2";const I4=T0;function $0(){return $0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},$0.apply(this,arguments)}function N4(t,e){if(t==null)return{};var n=F4(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function F4(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var A0=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=N4(t,["color","size"]);return K.createElement("svg",$0({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),K.createElement("circle",{cx:"12",cy:"10",r:"3"}))});A0.propTypes={color:Z.string,size:Z.oneOfType([Z.string,Z.number])},A0.displayName="MapPin";const z4=A0;function O0(){return O0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},O0.apply(this,arguments)}function B4(t,e){if(t==null)return{};var n=j4(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function j4(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var M0=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=B4(t,["color","size"]);return K.createElement("svg",O0({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("polygon",{points:"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"}),K.createElement("line",{x1:"8",y1:"2",x2:"8",y2:"18"}),K.createElement("line",{x1:"16",y1:"6",x2:"16",y2:"22"}))});M0.propTypes={color:Z.string,size:Z.oneOfType([Z.string,Z.number])},M0.displayName="Map";const JC=M0;function L0(){return L0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},L0.apply(this,arguments)}function V4(t,e){if(t==null)return{};var n=W4(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function W4(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var R0=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=V4(t,["color","size"]);return K.createElement("svg",L0({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});R0.propTypes={color:Z.string,size:Z.oneOfType([Z.string,Z.number])},R0.displayName="Minus";const P0=R0;function D0(){return D0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},D0.apply(this,arguments)}function H4(t,e){if(t==null)return{};var n=U4(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function U4(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var I0=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=H4(t,["color","size"]);return K.createElement("svg",D0({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),K.createElement("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),K.createElement("line",{x1:"12",y1:"17",x2:"12",y2:"21"}))});I0.propTypes={color:Z.string,size:Z.oneOfType([Z.string,Z.number])},I0.displayName="Monitor";const K4=I0;function N0(){return N0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},N0.apply(this,arguments)}function G4(t,e){if(t==null)return{};var n=Y4(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function Y4(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var F0=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=G4(t,["color","size"]);return K.createElement("svg",N0({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("polygon",{points:"3 11 22 2 13 21 11 13 3 11"}))});F0.propTypes={color:Z.string,size:Z.oneOfType([Z.string,Z.number])},F0.displayName="Navigation";const X4=F0;function z0(){return z0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},z0.apply(this,arguments)}function q4(t,e){if(t==null)return{};var n=Q4(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function Q4(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var B0=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=q4(t,["color","size"]);return K.createElement("svg",z0({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),K.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});B0.propTypes={color:Z.string,size:Z.oneOfType([Z.string,Z.number])},B0.displayName="Plus";const ZC=B0;function j0(){return j0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},j0.apply(this,arguments)}function J4(t,e){if(t==null)return{};var n=Z4(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function Z4(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var V0=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=J4(t,["color","size"]);return K.createElement("svg",j0({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("circle",{cx:"12",cy:"12",r:"3"}),K.createElement("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}))});V0.propTypes={color:Z.string,size:Z.oneOfType([Z.string,Z.number])},V0.displayName="Settings";const eF=V0;function W0(){return W0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},W0.apply(this,arguments)}function tF(t,e){if(t==null)return{};var n=nF(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function nF(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var H0=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=tF(t,["color","size"]);return K.createElement("svg",W0({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("rect",{x:"5",y:"2",width:"14",height:"20",rx:"2",ry:"2"}),K.createElement("line",{x1:"12",y1:"18",x2:"12.01",y2:"18"}))});H0.propTypes={color:Z.string,size:Z.oneOfType([Z.string,Z.number])},H0.displayName="Smartphone";const iF=H0;function U0(){return U0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},U0.apply(this,arguments)}function rF(t,e){if(t==null)return{};var n=oF(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function oF(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var K0=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=rF(t,["color","size"]);return K.createElement("svg",U0({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",ry:"2"}),K.createElement("line",{x1:"12",y1:"18",x2:"12.01",y2:"18"}))});K0.propTypes={color:Z.string,size:Z.oneOfType([Z.string,Z.number])},K0.displayName="Tablet";const sF=K0;function G0(){return G0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},G0.apply(this,arguments)}function aF(t,e){if(t==null)return{};var n=lF(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function lF(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var Y0=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=aF(t,["color","size"]);return K.createElement("svg",G0({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("polyline",{points:"3 6 5 6 21 6"}),K.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),K.createElement("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),K.createElement("line",{x1:"14",y1:"11",x2:"14",y2:"17"}))});Y0.propTypes={color:Z.string,size:Z.oneOfType([Z.string,Z.number])},Y0.displayName="Trash2";const cF=Y0;function X0(){return X0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},X0.apply(this,arguments)}function uF(t,e){if(t==null)return{};var n=hF(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function hF(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var q0=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=uF(t,["color","size"]);return K.createElement("svg",X0({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("polyline",{points:"16 16 12 12 8 16"}),K.createElement("line",{x1:"12",y1:"12",x2:"12",y2:"21"}),K.createElement("path",{d:"M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"}),K.createElement("polyline",{points:"16 16 12 12 8 16"}))});q0.propTypes={color:Z.string,size:Z.oneOfType([Z.string,Z.number])},q0.displayName="UploadCloud";const dF=q0;function Q0(){return Q0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Q0.apply(this,arguments)}function fF(t,e){if(t==null)return{};var n=pF(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function pF(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var J0=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=fF(t,["color","size"]);return K.createElement("svg",Q0({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),K.createElement("polyline",{points:"17 8 12 3 7 8"}),K.createElement("line",{x1:"12",y1:"3",x2:"12",y2:"15"}))});J0.propTypes={color:Z.string,size:Z.oneOfType([Z.string,Z.number])},J0.displayName="Upload";const mF=J0;function Z0(){return Z0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Z0.apply(this,arguments)}function gF(t,e){if(t==null)return{};var n=vF(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function vF(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var ey=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=gF(t,["color","size"]);return K.createElement("svg",Z0({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),K.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))});ey.propTypes={color:Z.string,size:Z.oneOfType([Z.string,Z.number])},ey.displayName="X";const ty=ey,eE=I.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),$d=I.createContext({}),Ad=I.createContext(null),Od=typeof document<"u",ny=Od?I.useLayoutEffect:I.useEffect,tE=I.createContext({strict:!1});function yF(t,e,n,i){const{visualElement:r}=I.useContext($d),o=I.useContext(tE),s=I.useContext(Ad),l=I.useContext(eE).reducedMotion,a=I.useRef();i=i||o.renderer,!a.current&&i&&(a.current=i(t,{visualState:e,parent:r,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:l}));const u=a.current;I.useInsertionEffect(()=>{u&&u.update(n,s)});const c=I.useRef(!!window.HandoffAppearAnimations);return ny(()=>{u&&(u.render(),c.current&&u.animationState&&u.animationState.animateChanges())}),I.useEffect(()=>{u&&(u.updateFeatures(),!c.current&&u.animationState&&u.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,c.current=!1)}),u}function Ka(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function bF(t,e,n){return I.useCallback(i=>{i&&t.mount&&t.mount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Ka(n)&&(n.current=i))},[e])}function Bc(t){return typeof t=="string"||Array.isArray(t)}function Md(t){return typeof t=="object"&&typeof t.start=="function"}const iy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ry=["initial",...iy];function Ld(t){return Md(t.animate)||ry.some(e=>Bc(t[e]))}function nE(t){return!!(Ld(t)||t.variants)}function wF(t,e){if(Ld(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Bc(n)?n:void 0,animate:Bc(i)?i:void 0}}return t.inherit!==!1?e:{}}function _F(t){const{initial:e,animate:n}=wF(t,I.useContext($d));return I.useMemo(()=>({initial:e,animate:n}),[iE(e),iE(n)])}function iE(t){return Array.isArray(t)?t.join(" "):t}const rE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},jc={};for(const t in rE)jc[t]={isEnabled:e=>rE[t].some(n=>!!e[n])};function xF(t){for(const e in t)jc[e]={...jc[e],...t[e]}}const oy=I.createContext({}),oE=I.createContext({}),SF=Symbol.for("motionComponentSymbol");function kF({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:r}){t&&xF(t);function o(l,a){let u;const c={...I.useContext(eE),...l,layoutId:CF(l)},{isStatic:h}=c,d=_F(l),f=i(l,h);if(!h&&Od){d.visualElement=yF(r,f,c,e);const p=I.useContext(oE),m=I.useContext(tE).strict;d.visualElement&&(u=d.visualElement.loadFeatures(c,m,t,p))}return I.createElement($d.Provider,{value:d},u&&d.visualElement?I.createElement(u,{visualElement:d.visualElement,...c}):null,n(r,l,bF(f,d.visualElement,a),f,h,d.visualElement))}const s=I.forwardRef(o);return s[SF]=r,s}function CF({layoutId:t}){const e=I.useContext(oy).id;return e&&t!==void 0?e+"-"+t:t}function EF(t){function e(i,r={}){return kF(t(i,r))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(i,r)=>(n.has(r)||n.set(r,e(r)),n.get(r))})}const TF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sy(t){return typeof t!="string"||t.includes("-")?!1:!!(TF.indexOf(t)>-1||/[A-Z]/.test(t))}const Rd={};function $F(t){Object.assign(Rd,t)}const Vc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ws=new Set(Vc);function sE(t,{layout:e,layoutId:n}){return ws.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Rd[t]||t==="opacity")}const Bn=t=>!!(t&&t.getVelocity),AF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},OF=Vc.length;function MF(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},i,r){let o="";for(let s=0;s<OF;s++){const l=Vc[s];if(t[l]!==void 0){const a=AF[l]||l;o+=`${a}(${t[l]}) `}}return e&&!t.z&&(o+="translateZ(0)"),o=o.trim(),r?o=r(t,i?"":o):n&&i&&(o="none"),o}const aE=t=>e=>typeof e=="string"&&e.startsWith(t),lE=aE("--"),ay=aE("var(--"),LF=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,RF=(t,e)=>e&&typeof t=="number"?e.transform(t):t,vo=(t,e,n)=>Math.min(Math.max(n,t),e),_s={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Wc={..._s,transform:t=>vo(0,1,t)},Pd={..._s,default:1},Hc=t=>Math.round(t*1e5)/1e5,Dd=/(-)?([\d]*\.?[\d])+/g,cE=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,PF=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Uc(t){return typeof t=="string"}const Kc=t=>({test:e=>Uc(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),yo=Kc("deg"),Zi=Kc("%"),Me=Kc("px"),DF=Kc("vh"),IF=Kc("vw"),uE={...Zi,parse:t=>Zi.parse(t)/100,transform:t=>Zi.transform(t*100)},hE={..._s,transform:Math.round},dE={borderWidth:Me,borderTopWidth:Me,borderRightWidth:Me,borderBottomWidth:Me,borderLeftWidth:Me,borderRadius:Me,radius:Me,borderTopLeftRadius:Me,borderTopRightRadius:Me,borderBottomRightRadius:Me,borderBottomLeftRadius:Me,width:Me,maxWidth:Me,height:Me,maxHeight:Me,size:Me,top:Me,right:Me,bottom:Me,left:Me,padding:Me,paddingTop:Me,paddingRight:Me,paddingBottom:Me,paddingLeft:Me,margin:Me,marginTop:Me,marginRight:Me,marginBottom:Me,marginLeft:Me,rotate:yo,rotateX:yo,rotateY:yo,rotateZ:yo,scale:Pd,scaleX:Pd,scaleY:Pd,scaleZ:Pd,skew:yo,skewX:yo,skewY:yo,distance:Me,translateX:Me,translateY:Me,translateZ:Me,x:Me,y:Me,z:Me,perspective:Me,transformPerspective:Me,opacity:Wc,originX:uE,originY:uE,originZ:Me,zIndex:hE,fillOpacity:Wc,strokeOpacity:Wc,numOctaves:hE};function ly(t,e,n,i){const{style:r,vars:o,transform:s,transformOrigin:l}=t;let a=!1,u=!1,c=!0;for(const h in e){const d=e[h];if(lE(h)){o[h]=d;continue}const f=dE[h],p=RF(d,f);if(ws.has(h)){if(a=!0,s[h]=p,!c)continue;d!==(f.default||0)&&(c=!1)}else h.startsWith("origin")?(u=!0,l[h]=p):r[h]=p}if(e.transform||(a||i?r.transform=MF(t.transform,n,c,i):r.transform&&(r.transform="none")),u){const{originX:h="50%",originY:d="50%",originZ:f=0}=l;r.transformOrigin=`${h} ${d} ${f}`}}const cy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function fE(t,e,n){for(const i in e)!Bn(e[i])&&!sE(i,n)&&(t[i]=e[i])}function NF({transformTemplate:t},e,n){return I.useMemo(()=>{const i=cy();return ly(i,e,{enableHardwareAcceleration:!n},t),Object.assign({},i.vars,i.style)},[e])}function FF(t,e,n){const i=t.style||{},r={};return fE(r,i,t),Object.assign(r,NF(t,e,n)),t.transformValues?t.transformValues(r):r}function zF(t,e,n){const i={},r=FF(t,e,n);return t.drag&&t.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(i.tabIndex=0),i.style=r,i}const BF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Id(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||BF.has(t)}let pE=t=>!Id(t);function jF(t){t&&(pE=e=>e.startsWith("on")?!Id(e):t(e))}try{jF(require("@emotion/is-prop-valid").default)}catch{}function VF(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(pE(r)||n===!0&&Id(r)||!e&&!Id(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}function mE(t,e,n){return typeof t=="string"?t:Me.transform(e+n*t)}function WF(t,e,n){const i=mE(e,t.x,t.width),r=mE(n,t.y,t.height);return`${i} ${r}`}const HF={offset:"stroke-dashoffset",array:"stroke-dasharray"},UF={offset:"strokeDashoffset",array:"strokeDasharray"};function KF(t,e,n=1,i=0,r=!0){t.pathLength=1;const o=r?HF:UF;t[o.offset]=Me.transform(-i);const s=Me.transform(e),l=Me.transform(n);t[o.array]=`${s} ${l}`}function uy(t,{attrX:e,attrY:n,attrScale:i,originX:r,originY:o,pathLength:s,pathSpacing:l=1,pathOffset:a=0,...u},c,h,d){if(ly(t,u,c,d),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p,dimensions:m}=t;f.transform&&(m&&(p.transform=f.transform),delete f.transform),m&&(r!==void 0||o!==void 0||p.transform)&&(p.transformOrigin=WF(m,r!==void 0?r:.5,o!==void 0?o:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),i!==void 0&&(f.scale=i),s!==void 0&&KF(f,s,l,a,!1)}const gE=()=>({...cy(),attrs:{}}),hy=t=>typeof t=="string"&&t.toLowerCase()==="svg";function GF(t,e,n,i){const r=I.useMemo(()=>{const o=gE();return uy(o,e,{enableHardwareAcceleration:!1},hy(i),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};fE(o,t.style,t),r.style={...o,...r.style}}return r}function YF(t=!1){return(n,i,r,{latestValues:o},s)=>{const a=(sy(n)?GF:zF)(i,o,s,n),c={...VF(i,typeof n=="string",t),...a,ref:r},{children:h}=i,d=I.useMemo(()=>Bn(h)?h.get():h,[h]);return I.createElement(n,{...c,children:d})}}const dy=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function vE(t,{style:e,vars:n},i,r){Object.assign(t.style,e,r&&r.getProjectionStyles(i));for(const o in n)t.style.setProperty(o,n[o])}const yE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function bE(t,e,n,i){vE(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(yE.has(r)?r:dy(r),e.attrs[r])}function fy(t,e){const{style:n}=t,i={};for(const r in n)(Bn(n[r])||e.style&&Bn(e.style[r])||sE(r,t))&&(i[r]=n[r]);return i}function wE(t,e){const n=fy(t,e);for(const i in t)if(Bn(t[i])||Bn(e[i])){const r=Vc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[r]=t[i]}return n}function py(t,e,n,i={},r={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,i,r)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,i,r)),e}function _E(t){const e=I.useRef(null);return e.current===null&&(e.current=t()),e.current}const Nd=t=>Array.isArray(t),XF=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),qF=t=>Nd(t)?t[t.length-1]||0:t;function Fd(t){const e=Bn(t)?t.get():t;return XF(e)?e.toValue():e}function QF({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},i,r,o){const s={latestValues:JF(i,r,o,t),renderState:e()};return n&&(s.mount=l=>n(i,l,s)),s}const xE=t=>(e,n)=>{const i=I.useContext($d),r=I.useContext(Ad),o=()=>QF(t,e,i,r);return n?o():_E(o)};function JF(t,e,n,i){const r={},o=i(t,{});for(const d in o)r[d]=Fd(o[d]);let{initial:s,animate:l}=t;const a=Ld(t),u=nE(t);e&&u&&!a&&t.inherit!==!1&&(s===void 0&&(s=e.initial),l===void 0&&(l=e.animate));let c=n?n.initial===!1:!1;c=c||s===!1;const h=c?l:s;return h&&typeof h!="boolean"&&!Md(h)&&(Array.isArray(h)?h:[h]).forEach(f=>{const p=py(t,f);if(!p)return;const{transitionEnd:m,transition:g,...v}=p;for(const y in v){let k=v[y];if(Array.isArray(k)){const C=c?k.length-1:0;k=k[C]}k!==null&&(r[y]=k)}for(const y in m)r[y]=m[y]}),r}const $t=t=>t;let SE=class{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}};function ZF(t){let e=new SE,n=new SE,i=0,r=!1,o=!1;const s=new WeakSet,l={schedule:(a,u=!1,c=!1)=>{const h=c&&r,d=h?e:n;return u&&s.add(a),d.add(a)&&h&&r&&(i=e.order.length),a},cancel:a=>{n.remove(a),s.delete(a)},process:a=>{if(r){o=!0;return}if(r=!0,[e,n]=[n,e],n.clear(),i=e.order.length,i)for(let u=0;u<i;u++){const c=e.order[u];c(a),s.has(c)&&(l.schedule(c),t())}r=!1,o&&(o=!1,l.process(a))}};return l}const zd=["prepare","read","update","preRender","render","postRender"],e5=40;function t5(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},o=zd.reduce((h,d)=>(h[d]=ZF(()=>n=!0),h),{}),s=h=>o[h].process(r),l=()=>{const h=performance.now();n=!1,r.delta=i?1e3/60:Math.max(Math.min(h-r.timestamp,e5),1),r.timestamp=h,r.isProcessing=!0,zd.forEach(s),r.isProcessing=!1,n&&e&&(i=!1,t(l))},a=()=>{n=!0,i=!0,r.isProcessing||t(l)};return{schedule:zd.reduce((h,d)=>{const f=o[d];return h[d]=(p,m=!1,g=!1)=>(n||a(),f.schedule(p,m,g)),h},{}),cancel:h=>zd.forEach(d=>o[d].cancel(h)),state:r,steps:o}}const{schedule:st,cancel:Cr,state:Yt,steps:my}=t5(typeof requestAnimationFrame<"u"?requestAnimationFrame:$t,!0),n5={useVisualState:xE({scrapeMotionValuesFromProps:wE,createRenderState:gE,onMount:(t,e,{renderState:n,latestValues:i})=>{st.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),st.render(()=>{uy(n,i,{enableHardwareAcceleration:!1},hy(e.tagName),t.transformTemplate),bE(e,n)})}})},i5={useVisualState:xE({scrapeMotionValuesFromProps:fy,createRenderState:cy})};function r5(t,{forwardMotionProps:e=!1},n,i){return{...sy(t)?n5:i5,preloadedFeatures:n,useRender:YF(e),createVisualElement:i,Component:t}}function Er(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}const kE=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Bd(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const o5=t=>e=>kE(e)&&t(e,Bd(e));function Tr(t,e,n,i){return Er(t,e,o5(n),i)}const s5=(t,e)=>n=>e(t(n)),bo=(...t)=>t.reduce(s5);function CE(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const EE=CE("dragHorizontal"),TE=CE("dragVertical");function $E(t){let e=!1;if(t==="y")e=TE();else if(t==="x")e=EE();else{const n=EE(),i=TE();n&&i?e=()=>{n(),i()}:(n&&n(),i&&i())}return e}function AE(){const t=$E(!0);return t?(t(),!1):!0}let wo=class{constructor(e){this.isMounted=!1,this.node=e}update(){}};function OE(t,e){const n="pointer"+(e?"enter":"leave"),i="onHover"+(e?"Start":"End"),r=(o,s)=>{if(o.type==="touch"||AE())return;const l=t.getProps();t.animationState&&l.whileHover&&t.animationState.setActive("whileHover",e),l[i]&&st.update(()=>l[i](o,s))};return Tr(t.current,n,r,{passive:!t.getProps()[i]})}let a5=class extends wo{mount(){this.unmount=bo(OE(this.node,!0),OE(this.node,!1))}unmount(){}},l5=class extends wo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=bo(Er(this.node.current,"focus",()=>this.onFocus()),Er(this.node.current,"blur",()=>this.onBlur()))}unmount(){}};const ME=(t,e)=>e?t===e?!0:ME(t,e.parentElement):!1;function gy(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Bd(n))}let c5=class extends wo{constructor(){super(...arguments),this.removeStartListeners=$t,this.removeEndListeners=$t,this.removeAccessibleListeners=$t,this.startPointerPress=(e,n)=>{if(this.removeEndListeners(),this.isPressing)return;const i=this.node.getProps(),o=Tr(window,"pointerup",(l,a)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c}=this.node.getProps();st.update(()=>{ME(this.node.current,l.target)?u&&u(l,a):c&&c(l,a)})},{passive:!(i.onTap||i.onPointerUp)}),s=Tr(window,"pointercancel",(l,a)=>this.cancelPress(l,a),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=bo(o,s),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=o=>{if(o.key!=="Enter"||this.isPressing)return;const s=l=>{l.key!=="Enter"||!this.checkPressEnd()||gy("up",(a,u)=>{const{onTap:c}=this.node.getProps();c&&st.update(()=>c(a,u))})};this.removeEndListeners(),this.removeEndListeners=Er(this.node.current,"keyup",s),gy("down",(l,a)=>{this.startPress(l,a)})},n=Er(this.node.current,"keydown",e),i=()=>{this.isPressing&&gy("cancel",(o,s)=>this.cancelPress(o,s))},r=Er(this.node.current,"blur",i);this.removeAccessibleListeners=bo(n,r)}}startPress(e,n){this.isPressing=!0;const{onTapStart:i,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&st.update(()=>i(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!AE()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&st.update(()=>i(e,n))}mount(){const e=this.node.getProps(),n=Tr(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),i=Er(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=bo(n,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}};const vy=new WeakMap,yy=new WeakMap,u5=t=>{const e=vy.get(t.target);e&&e(t)},h5=t=>{t.forEach(u5)};function d5({root:t,...e}){const n=t||document;yy.has(n)||yy.set(n,{});const i=yy.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(h5,{root:t,...e})),i[r]}function f5(t,e,n){const i=d5(e);return vy.set(t,n),i.observe(t),()=>{vy.delete(t),i.unobserve(t)}}const p5={some:0,all:1};let m5=class extends wo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:o}=e,s={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:p5[r]},l=a=>{const{isIntersecting:u}=a;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:h}=this.node.getProps(),d=u?c:h;d&&d(a)};return f5(this.node.current,s,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(g5(e,n))&&this.startObserver()}unmount(){}};function g5({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const v5={inView:{Feature:m5},tap:{Feature:c5},focus:{Feature:l5},hover:{Feature:a5}};function LE(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function y5(t){const e={};return t.values.forEach((n,i)=>e[i]=n.get()),e}function b5(t){const e={};return t.values.forEach((n,i)=>e[i]=n.getVelocity()),e}function jd(t,e,n){const i=t.getProps();return py(i,e,n!==void 0?n:i.custom,y5(t),b5(t))}const w5="data-"+dy("framerAppearId");let _5=$t,by=$t;const _o=t=>t*1e3,$r=t=>t/1e3,x5={current:!1},RE=t=>Array.isArray(t)&&typeof t[0]=="number";function PE(t){return!!(!t||typeof t=="string"&&DE[t]||RE(t)||Array.isArray(t)&&t.every(PE))}const Gc=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,DE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Gc([0,.65,.55,1]),circOut:Gc([.55,0,1,.45]),backIn:Gc([.31,.01,.66,-.59]),backOut:Gc([.33,1.53,.69,.99])};function IE(t){if(t)return RE(t)?Gc(t):Array.isArray(t)?t.map(IE):DE[t]}function S5(t,e,n,{delay:i=0,duration:r,repeat:o=0,repeatType:s="loop",ease:l,times:a}={}){const u={[e]:n};a&&(u.offset=a);const c=IE(l);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:i,duration:r,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"})}function k5(t,{repeat:e,repeatType:n="loop"}){const i=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[i]}const NE=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,C5=1e-7,E5=12;function T5(t,e,n,i,r){let o,s,l=0;do s=e+(n-e)/2,o=NE(s,i,r)-t,o>0?n=s:e=s;while(Math.abs(o)>C5&&++l<E5);return s}function Yc(t,e,n,i){if(t===e&&n===i)return $t;const r=o=>T5(o,0,1,t,n);return o=>o===0||o===1?o:NE(r(o),e,i)}const $5=Yc(.42,0,1,1),A5=Yc(0,0,.58,1),FE=Yc(.42,0,.58,1),O5=t=>Array.isArray(t)&&typeof t[0]!="number",zE=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,BE=t=>e=>1-t(1-e),jE=t=>1-Math.sin(Math.acos(t)),wy=BE(jE),M5=zE(wy),VE=Yc(.33,1.53,.69,.99),_y=BE(VE),L5=zE(_y),R5={linear:$t,easeIn:$5,easeInOut:FE,easeOut:A5,circIn:jE,circInOut:M5,circOut:wy,backIn:_y,backInOut:L5,backOut:VE,anticipate:t=>(t*=2)<1?.5*_y(t):.5*(2-Math.pow(2,-10*(t-1)))},WE=t=>{if(Array.isArray(t)){by(t.length===4);const[e,n,i,r]=t;return Yc(e,n,i,r)}else if(typeof t=="string")return R5[t];return t},xy=(t,e)=>n=>!!(Uc(n)&&PF.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),HE=(t,e,n)=>i=>{if(!Uc(i))return i;const[r,o,s,l]=i.match(Dd);return{[t]:parseFloat(r),[e]:parseFloat(o),[n]:parseFloat(s),alpha:l!==void 0?parseFloat(l):1}},P5=t=>vo(0,255,t),Sy={..._s,transform:t=>Math.round(P5(t))},xs={test:xy("rgb","red"),parse:HE("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Sy.transform(t)+", "+Sy.transform(e)+", "+Sy.transform(n)+", "+Hc(Wc.transform(i))+")"};function D5(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const ky={test:xy("#"),parse:D5,transform:xs.transform},Ga={test:xy("hsl","hue"),parse:HE("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Zi.transform(Hc(e))+", "+Zi.transform(Hc(n))+", "+Hc(Wc.transform(i))+")"},Tn={test:t=>xs.test(t)||ky.test(t)||Ga.test(t),parse:t=>xs.test(t)?xs.parse(t):Ga.test(t)?Ga.parse(t):ky.parse(t),transform:t=>Uc(t)?t:t.hasOwnProperty("red")?xs.transform(t):Ga.transform(t)},_t=(t,e,n)=>-n*t+n*e+t;function Cy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function I5({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,o=0,s=0;if(!e)r=o=s=n;else{const l=n<.5?n*(1+e):n+e-n*e,a=2*n-l;r=Cy(a,l,t+1/3),o=Cy(a,l,t),s=Cy(a,l,t-1/3)}return{red:Math.round(r*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:i}}const Ey=(t,e,n)=>{const i=t*t;return Math.sqrt(Math.max(0,n*(e*e-i)+i))},N5=[ky,xs,Ga],F5=t=>N5.find(e=>e.test(t));function UE(t){const e=F5(t);let n=e.parse(t);return e===Ga&&(n=I5(n)),n}const KE=(t,e)=>{const n=UE(t),i=UE(e),r={...n};return o=>(r.red=Ey(n.red,i.red,o),r.green=Ey(n.green,i.green,o),r.blue=Ey(n.blue,i.blue,o),r.alpha=_t(n.alpha,i.alpha,o),xs.transform(r))};function z5(t){var e,n;return isNaN(t)&&Uc(t)&&(((e=t.match(Dd))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(cE))===null||n===void 0?void 0:n.length)||0)>0}const GE={regex:LF,countKey:"Vars",token:"${v}",parse:$t},YE={regex:cE,countKey:"Colors",token:"${c}",parse:Tn.parse},XE={regex:Dd,countKey:"Numbers",token:"${n}",parse:_s.parse};function Ty(t,{regex:e,countKey:n,token:i,parse:r}){const o=t.tokenised.match(e);o&&(t["num"+n]=o.length,t.tokenised=t.tokenised.replace(e,i),t.values.push(...o.map(r)))}function Vd(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Ty(n,GE),Ty(n,YE),Ty(n,XE),n}function qE(t){return Vd(t).values}function QE(t){const{values:e,numColors:n,numVars:i,tokenised:r}=Vd(t),o=e.length;return s=>{let l=r;for(let a=0;a<o;a++)a<i?l=l.replace(GE.token,s[a]):a<i+n?l=l.replace(YE.token,Tn.transform(s[a])):l=l.replace(XE.token,Hc(s[a]));return l}}const B5=t=>typeof t=="number"?0:t;function j5(t){const e=qE(t);return QE(t)(e.map(B5))}const xo={test:z5,parse:qE,createTransformer:QE,getAnimatableNone:j5},JE=(t,e)=>n=>`${n>0?e:t}`;function ZE(t,e){return typeof t=="number"?n=>_t(t,e,n):Tn.test(t)?KE(t,e):t.startsWith("var(")?JE(t,e):tT(t,e)}const eT=(t,e)=>{const n=[...t],i=n.length,r=t.map((o,s)=>ZE(o,e[s]));return o=>{for(let s=0;s<i;s++)n[s]=r[s](o);return n}},V5=(t,e)=>{const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=ZE(t[r],e[r]));return r=>{for(const o in i)n[o]=i[o](r);return n}},tT=(t,e)=>{const n=xo.createTransformer(e),i=Vd(t),r=Vd(e);return i.numVars===r.numVars&&i.numColors===r.numColors&&i.numNumbers>=r.numNumbers?bo(eT(i.values,r.values),n):JE(t,e)},Xc=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},nT=(t,e)=>n=>_t(t,e,n);function W5(t){return typeof t=="number"?nT:typeof t=="string"?Tn.test(t)?KE:tT:Array.isArray(t)?eT:typeof t=="object"?V5:nT}function H5(t,e,n){const i=[],r=n||W5(t[0]),o=t.length-1;for(let s=0;s<o;s++){let l=r(t[s],t[s+1]);if(e){const a=Array.isArray(e)?e[s]||$t:e;l=bo(a,l)}i.push(l)}return i}function iT(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const o=t.length;if(by(o===e.length),o===1)return()=>e[0];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const s=H5(e,i,r),l=s.length,a=u=>{let c=0;if(l>1)for(;c<t.length-2&&!(u<t[c+1]);c++);const h=Xc(t[c],t[c+1],u);return s[c](h)};return n?u=>a(vo(t[0],t[o-1],u)):a}function U5(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=Xc(0,e,i);t.push(_t(n,1,r))}}function K5(t){const e=[0];return U5(e,t.length-1),e}function G5(t,e){return t.map(n=>n*e)}function Y5(t,e){return t.map(()=>e||FE).splice(0,t.length-1)}function Wd({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=O5(i)?i.map(WE):WE(i),o={done:!1,value:e[0]},s=G5(n&&n.length===e.length?n:K5(e),t),l=iT(s,e,{ease:Array.isArray(r)?r:Y5(e,r)});return{calculatedDuration:t,next:a=>(o.value=l(a),o.done=a>=t,o)}}function rT(t,e){return e?t*(1e3/e):0}const X5=5;function oT(t,e,n){const i=Math.max(e-X5,0);return rT(n-t(i),e-i)}const $y=.001,q5=.01,sT=10,Q5=.05,J5=1;function Z5({duration:t=800,bounce:e=.25,velocity:n=0,mass:i=1}){let r,o;_5(t<=_o(sT));let s=1-e;s=vo(Q5,J5,s),t=vo(q5,sT,$r(t)),s<1?(r=u=>{const c=u*s,h=c*t,d=c-n,f=Ay(u,s),p=Math.exp(-h);return $y-d/f*p},o=u=>{const h=u*s*t,d=h*n+n,f=Math.pow(s,2)*Math.pow(u,2)*t,p=Math.exp(-h),m=Ay(Math.pow(u,2),s);return(-r(u)+$y>0?-1:1)*((d-f)*p)/m}):(r=u=>{const c=Math.exp(-u*t),h=(u-n)*t+1;return-$y+c*h},o=u=>{const c=Math.exp(-u*t),h=(n-u)*(t*t);return c*h});const l=5/t,a=tz(r,o,l);if(t=_o(t),isNaN(a))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(a,2)*i;return{stiffness:u,damping:s*2*Math.sqrt(i*u),duration:t}}}const ez=12;function tz(t,e,n){let i=n;for(let r=1;r<ez;r++)i=i-t(i)/e(i);return i}function Ay(t,e){return t*Math.sqrt(1-e*e)}const nz=["duration","bounce"],iz=["stiffness","damping","mass"];function aT(t,e){return e.some(n=>t[n]!==void 0)}function rz(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!aT(t,iz)&&aT(t,nz)){const n=Z5(t);e={...e,...n,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function lT({keyframes:t,restDelta:e,restSpeed:n,...i}){const r=t[0],o=t[t.length-1],s={done:!1,value:r},{stiffness:l,damping:a,mass:u,velocity:c,duration:h,isResolvedFromDuration:d}=rz(i),f=c?-$r(c):0,p=a/(2*Math.sqrt(l*u)),m=o-r,g=$r(Math.sqrt(l/u)),v=Math.abs(m)<5;n||(n=v?.01:2),e||(e=v?.005:.5);let y;if(p<1){const k=Ay(g,p);y=C=>{const T=Math.exp(-p*g*C);return o-T*((f+p*g*m)/k*Math.sin(k*C)+m*Math.cos(k*C))}}else if(p===1)y=k=>o-Math.exp(-g*k)*(m+(f+g*m)*k);else{const k=g*Math.sqrt(p*p-1);y=C=>{const T=Math.exp(-p*g*C),_=Math.min(k*C,300);return o-T*((f+p*g*m)*Math.sinh(_)+k*m*Math.cosh(_))/k}}return{calculatedDuration:d&&h||null,next:k=>{const C=y(k);if(d)s.done=k>=h;else{let T=f;k!==0&&(p<1?T=oT(y,k,C):T=0);const _=Math.abs(T)<=n,E=Math.abs(o-C)<=e;s.done=_&&E}return s.value=s.done?o:C,s}}}function cT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:o=500,modifyTarget:s,min:l,max:a,restDelta:u=.5,restSpeed:c}){const h=t[0],d={done:!1,value:h},f=w=>l!==void 0&&w<l||a!==void 0&&w>a,p=w=>l===void 0?a:a===void 0||Math.abs(l-w)<Math.abs(a-w)?l:a;let m=n*e;const g=h+m,v=s===void 0?g:s(g);v!==g&&(m=v-h);const y=w=>-m*Math.exp(-w/i),k=w=>v+y(w),C=w=>{const S=y(w),b=k(w);d.done=Math.abs(S)<=u,d.value=d.done?v:b};let T,_;const E=w=>{f(d.value)&&(T=w,_=lT({keyframes:[d.value,p(d.value)],velocity:oT(k,w,d.value),damping:r,stiffness:o,restDelta:u,restSpeed:c}))};return E(0),{calculatedDuration:null,next:w=>{let S=!1;return!_&&T===void 0&&(S=!0,C(w),E(w)),T!==void 0&&w>T?_.next(w-T):(!S&&C(w),d)}}}const oz=t=>{const e=({timestamp:n})=>t(n);return{start:()=>st.update(e,!0),stop:()=>Cr(e),now:()=>Yt.isProcessing?Yt.timestamp:performance.now()}},uT=2e4;function hT(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<uT;)e+=n,i=t.next(e);return e>=uT?1/0:e}const sz={decay:cT,inertia:cT,tween:Wd,keyframes:Wd,spring:lT};function Hd({autoplay:t=!0,delay:e=0,driver:n=oz,keyframes:i,type:r="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:l="loop",onPlay:a,onStop:u,onComplete:c,onUpdate:h,...d}){let f=1,p=!1,m,g;const v=()=>{g=new Promise(z=>{m=z})};v();let y;const k=sz[r]||Wd;let C;k!==Wd&&typeof i[0]!="number"&&(C=iT([0,100],i,{clamp:!1}),i=[0,100]);const T=k({...d,keyframes:i});let _;l==="mirror"&&(_=k({...d,keyframes:[...i].reverse(),velocity:-(d.velocity||0)}));let E="idle",w=null,S=null,b=null;T.calculatedDuration===null&&o&&(T.calculatedDuration=hT(T));const{calculatedDuration:x}=T;let A=1/0,O=1/0;x!==null&&(A=x+s,O=A*(o+1)-s);let $=0;const M=z=>{if(S===null)return;f>0&&(S=Math.min(S,z)),f<0&&(S=Math.min(z-O/f,S)),w!==null?$=w:$=Math.round(z-S)*f;const F=$-e*(f>=0?1:-1),B=f>=0?F<0:F>O;$=Math.max(F,0),E==="finished"&&w===null&&($=O);let j=$,H=T;if(o){const Y=$/A;let ee=Math.floor(Y),ne=Y%1;!ne&&Y>=1&&(ne=1),ne===1&&ee--,ee=Math.min(ee,o+1);const ce=!!(ee%2);ce&&(l==="reverse"?(ne=1-ne,s&&(ne-=s/A)):l==="mirror"&&(H=_));let ue=vo(0,1,ne);$>O&&(ue=l==="reverse"&&ce?1:0),j=ue*A}const G=B?{done:!1,value:i[0]}:H.next(j);C&&(G.value=C(G.value));let{done:Q}=G;!B&&x!==null&&(Q=f>=0?$>=O:$<=0);const J=w===null&&(E==="finished"||E==="running"&&Q);return h&&h(G.value),J&&N(),G},R=()=>{y&&y.stop(),y=void 0},P=()=>{E="idle",R(),m(),v(),S=b=null},N=()=>{E="finished",c&&c(),R(),m()},D=()=>{if(p)return;y||(y=n(M));const z=y.now();a&&a(),w!==null?S=z-w:(!S||E==="finished")&&(S=z),E==="finished"&&v(),b=S,w=null,E="running",y.start()};t&&D();const V={then(z,F){return g.then(z,F)},get time(){return $r($)},set time(z){z=_o(z),$=z,w!==null||!y||f===0?w=z:S=y.now()-z/f},get duration(){const z=T.calculatedDuration===null?hT(T):T.calculatedDuration;return $r(z)},get speed(){return f},set speed(z){z===f||!y||(f=z,V.time=$r($))},get state(){return E},play:D,pause:()=>{E="paused",w=$},stop:()=>{p=!0,E!=="idle"&&(E="idle",u&&u(),P())},cancel:()=>{b!==null&&M(b),P()},complete:()=>{E="finished"},sample:z=>(S=0,M(z))};return V}function az(t){let e;return()=>(e===void 0&&(e=t()),e)}const lz=az(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),cz=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Ud=10,uz=2e4,hz=(t,e)=>e.type==="spring"||t==="backgroundColor"||!PE(e.ease);function dz(t,e,{onUpdate:n,onComplete:i,...r}){if(!(lz()&&cz.has(e)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0&&r.type!=="inertia"))return!1;let s=!1,l,a;const u=()=>{a=new Promise(y=>{l=y})};u();let{keyframes:c,duration:h=300,ease:d,times:f}=r;if(hz(e,r)){const y=Hd({...r,repeat:0,delay:0});let k={done:!1,value:c[0]};const C=[];let T=0;for(;!k.done&&T<uz;)k=y.sample(T),C.push(k.value),T+=Ud;f=void 0,c=C,h=T-Ud,d="linear"}const p=S5(t.owner.current,e,c,{...r,duration:h,ease:d,times:f});r.syncStart&&(p.startTime=Yt.isProcessing?Yt.timestamp:document.timeline?document.timeline.currentTime:performance.now());const m=()=>p.cancel(),g=()=>{st.update(m),l(),u()};return p.onfinish=()=>{t.set(k5(c,r)),i&&i(),g()},{then(y,k){return a.then(y,k)},attachTimeline(y){return p.timeline=y,p.onfinish=null,$t},get time(){return $r(p.currentTime||0)},set time(y){p.currentTime=_o(y)},get speed(){return p.playbackRate},set speed(y){p.playbackRate=y},get duration(){return $r(h)},play:()=>{s||(p.play(),Cr(m))},pause:()=>p.pause(),stop:()=>{if(s=!0,p.playState==="idle")return;const{currentTime:y}=p;if(y){const k=Hd({...r,autoplay:!1});t.setWithVelocity(k.sample(y-Ud).value,k.sample(y).value,Ud)}g()},complete:()=>p.finish(),cancel:g}}function fz({keyframes:t,delay:e,onUpdate:n,onComplete:i}){const r=()=>(n&&n(t[t.length-1]),i&&i(),{time:0,speed:1,duration:0,play:$t,pause:$t,stop:$t,then:o=>(o(),Promise.resolve()),cancel:$t,complete:$t});return e?Hd({keyframes:[0,1],duration:0,delay:e,onComplete:r}):r()}const pz={type:"spring",stiffness:500,damping:25,restSpeed:10},mz=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),gz={type:"keyframes",duration:.8},vz={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},yz=(t,{keyframes:e})=>e.length>2?gz:ws.has(t)?t.startsWith("scale")?mz(e[1]):pz:vz,Oy=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(xo.test(e)||e==="0")&&!e.startsWith("url(")),bz=new Set(["brightness","contrast","saturate","opacity"]);function wz(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Dd)||[];if(!i)return t;const r=n.replace(i,"");let o=bz.has(e)?1:0;return i!==n&&(o*=100),e+"("+o+r+")"}const _z=/([a-z-]*)\(.*?\)/g,My={...xo,getAnimatableNone:t=>{const e=t.match(_z);return e?e.map(wz).join(" "):t}},xz={...dE,color:Tn,backgroundColor:Tn,outlineColor:Tn,fill:Tn,stroke:Tn,borderColor:Tn,borderTopColor:Tn,borderRightColor:Tn,borderBottomColor:Tn,borderLeftColor:Tn,filter:My,WebkitFilter:My},Ly=t=>xz[t];function dT(t,e){let n=Ly(t);return n!==My&&(n=xo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const fT=t=>/^0[^.\s]+$/.test(t);function Sz(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||fT(t)}function kz(t,e,n,i){const r=Oy(e,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const s=i.from!==void 0?i.from:t.get();let l;const a=[];for(let u=0;u<o.length;u++)o[u]===null&&(o[u]=u===0?s:o[u-1]),Sz(o[u])&&a.push(u),typeof o[u]=="string"&&o[u]!=="none"&&o[u]!=="0"&&(l=o[u]);if(r&&a.length&&l)for(let u=0;u<a.length;u++){const c=a[u];o[c]=dT(e,l)}return o}function Cz({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:o,repeatType:s,repeatDelay:l,from:a,elapsed:u,...c}){return!!Object.keys(c).length}function pT(t,e){return t[e]||t.default||t}const Ry=(t,e,n,i={})=>r=>{const o=pT(i,t)||{},s=o.delay||i.delay||0;let{elapsed:l=0}=i;l=l-_o(s);const a=kz(e,t,n,o),u=a[0],c=a[a.length-1],h=Oy(t,u),d=Oy(t,c);let f={keyframes:a,velocity:e.getVelocity(),ease:"easeOut",...o,delay:-l,onUpdate:p=>{e.set(p),o.onUpdate&&o.onUpdate(p)},onComplete:()=>{r(),o.onComplete&&o.onComplete()}};if(Cz(o)||(f={...f,...yz(t,f)}),f.duration&&(f.duration=_o(f.duration)),f.repeatDelay&&(f.repeatDelay=_o(f.repeatDelay)),!h||!d||x5.current||o.type===!1)return fz(f);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const p=dz(e,t,f);if(p)return p}return Hd(f)};function Kd(t){return!!(Bn(t)&&t.add)}const mT=t=>/^\-?\d*\.?\d+$/.test(t);function Py(t,e){t.indexOf(e)===-1&&t.push(e)}function Dy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let Iy=class{constructor(){this.subscriptions=[]}add(e){return Py(this.subscriptions,e),()=>Dy(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let o=0;o<r;o++){const s=this.subscriptions[o];s&&s(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}};const Ez=t=>!isNaN(parseFloat(t));let Tz=class{constructor(e,n={}){this.version="10.16.4",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(i,r=!0)=>{this.prev=this.current,this.current=i;const{delta:o,timestamp:s}=Yt;this.lastUpdated!==s&&(this.timeDelta=o,this.lastUpdated=s,st.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>st.postRender(this.velocityCheck),this.velocityCheck=({timestamp:i})=>{i!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=Ez(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Iy);const i=this.events[e].add(n);return e==="change"?()=>{i(),st.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=e,this.timeDelta=i}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?rT(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function Ya(t,e){return new Tz(t,e)}const gT=t=>e=>e.test(t),vT=[_s,Me,Zi,yo,IF,DF,{test:t=>t==="auto",parse:t=>t}],qc=t=>vT.find(gT(t)),$z=[...vT,Tn,xo],Az=t=>$z.find(gT(t));function Oz(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ya(n))}function Mz(t,e){const n=jd(t,e);let{transitionEnd:i={},transition:r={},...o}=n?t.makeTargetAnimatable(n,!1):{};o={...o,...i};for(const s in o){const l=qF(o[s]);Oz(t,s,l)}}function Lz(t,e,n){var i,r;const o=Object.keys(e).filter(l=>!t.hasValue(l)),s=o.length;if(s)for(let l=0;l<s;l++){const a=o[l],u=e[a];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(r=(i=n[a])!==null&&i!==void 0?i:t.readValue(a))!==null&&r!==void 0?r:e[a]),c!=null&&(typeof c=="string"&&(mT(c)||fT(c))?c=parseFloat(c):!Az(c)&&xo.test(u)&&(c=dT(a,u)),t.addValue(a,Ya(c,{owner:t})),n[a]===void 0&&(n[a]=c),c!==null&&t.setBaseTarget(a,c))}}function Rz(t,e){return e?(e[t]||e.default||e).from:void 0}function Pz(t,e,n){const i={};for(const r in t){const o=Rz(r,e);if(o!==void 0)i[r]=o;else{const s=n.getValue(r);s&&(i[r]=s.get())}}return i}function Dz({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function yT(t,e,{delay:n=0,transitionOverride:i,type:r}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:s,...l}=t.makeTargetAnimatable(e);const a=t.getValue("willChange");i&&(o=i);const u=[],c=r&&t.animationState&&t.animationState.getState()[r];for(const h in l){const d=t.getValue(h),f=l[h];if(!d||f===void 0||c&&Dz(c,h))continue;const p={delay:n,elapsed:0,...o};if(window.HandoffAppearAnimations&&!d.hasAnimated){const g=t.getProps()[w5];g&&(p.elapsed=window.HandoffAppearAnimations(g,h,d,st),p.syncStart=!0)}d.start(Ry(h,d,f,t.shouldReduceMotion&&ws.has(h)?{type:!1}:p));const m=d.animation;Kd(a)&&(a.add(h),m.then(()=>a.remove(h))),u.push(m)}return s&&Promise.all(u).then(()=>{s&&Mz(t,s)}),u}function Ny(t,e,n={}){const i=jd(t,e,n.custom);let{transition:r=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(r=n.transitionOverride);const o=i?()=>Promise.all(yT(t,i,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(a=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:h}=r;return Iz(t,e,u+a,c,h,n)}:()=>Promise.resolve(),{when:l}=r;if(l){const[a,u]=l==="beforeChildren"?[o,s]:[s,o];return a().then(()=>u())}else return Promise.all([o(),s(n.delay)])}function Iz(t,e,n=0,i=0,r=1,o){const s=[],l=(t.variantChildren.size-1)*i,a=r===1?(u=0)=>u*i:(u=0)=>l-u*i;return Array.from(t.variantChildren).sort(Nz).forEach((u,c)=>{u.notify("AnimationStart",e),s.push(Ny(u,e,{...o,delay:n+a(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(s)}function Nz(t,e){return t.sortNodePosition(e)}function Fz(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(o=>Ny(t,o,n));i=Promise.all(r)}else if(typeof e=="string")i=Ny(t,e,n);else{const r=typeof e=="function"?jd(t,e,n.custom):e;i=Promise.all(yT(t,r,n))}return i.then(()=>t.notify("AnimationComplete",e))}const zz=[...iy].reverse(),Bz=iy.length;function jz(t){return e=>Promise.all(e.map(({animation:n,options:i})=>Fz(t,n,i)))}function Vz(t){let e=jz(t);const n=Hz();let i=!0;const r=(a,u)=>{const c=jd(t,u);if(c){const{transition:h,transitionEnd:d,...f}=c;a={...a,...f,...d}}return a};function o(a){e=a(t)}function s(a,u){const c=t.getProps(),h=t.getVariantContext(!0)||{},d=[],f=new Set;let p={},m=1/0;for(let v=0;v<Bz;v++){const y=zz[v],k=n[y],C=c[y]!==void 0?c[y]:h[y],T=Bc(C),_=y===u?k.isActive:null;_===!1&&(m=v);let E=C===h[y]&&C!==c[y]&&T;if(E&&i&&t.manuallyAnimateOnMount&&(E=!1),k.protectedKeys={...p},!k.isActive&&_===null||!C&&!k.prevProp||Md(C)||typeof C=="boolean")continue;const w=Wz(k.prevProp,C);let S=w||y===u&&k.isActive&&!E&&T||v>m&&T;const b=Array.isArray(C)?C:[C];let x=b.reduce(r,{});_===!1&&(x={});const{prevResolvedValues:A={}}=k,O={...A,...x},$=M=>{S=!0,f.delete(M),k.needsAnimating[M]=!0};for(const M in O){const R=x[M],P=A[M];p.hasOwnProperty(M)||(R!==P?Nd(R)&&Nd(P)?!LE(R,P)||w?$(M):k.protectedKeys[M]=!0:R!==void 0?$(M):f.add(M):R!==void 0&&f.has(M)?$(M):k.protectedKeys[M]=!0)}k.prevProp=C,k.prevResolvedValues=x,k.isActive&&(p={...p,...x}),i&&t.blockInitialAnimation&&(S=!1),S&&!E&&d.push(...b.map(M=>({animation:M,options:{type:y,...a}})))}if(f.size){const v={};f.forEach(y=>{const k=t.getBaseTarget(y);k!==void 0&&(v[y]=k)}),d.push({animation:v})}let g=!!d.length;return i&&c.initial===!1&&!t.manuallyAnimateOnMount&&(g=!1),i=!1,g?e(d):Promise.resolve()}function l(a,u,c){var h;if(n[a].isActive===u)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(a,u)}),n[a].isActive=u;const d=s(c,a);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:s,setActive:l,setAnimateFunction:o,getState:()=>n}}function Wz(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!LE(e,t):!1}function Ss(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Hz(){return{animate:Ss(!0),whileInView:Ss(),whileHover:Ss(),whileTap:Ss(),whileDrag:Ss(),whileFocus:Ss(),exit:Ss()}}let Uz=class extends wo{constructor(e){super(e),e.animationState||(e.animationState=Vz(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Md(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}},Kz=0;const Gz={animation:{Feature:Uz},exit:{Feature:class extends wo{constructor(){super(...arguments),this.id=Kz++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e,{custom:i??this.node.getProps().custom});n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},bT=(t,e)=>Math.abs(t-e);function Yz(t,e){const n=bT(t.x,e.x),i=bT(t.y,e.y);return Math.sqrt(n**2+i**2)}let wT=class{constructor(e,n,{transformPagePoint:i}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=zy(this.lastMoveEventInfo,this.history),c=this.startEvent!==null,h=Yz(u.offset,{x:0,y:0})>=3;if(!c&&!h)return;const{point:d}=u,{timestamp:f}=Yt;this.history.push({...d,timestamp:f});const{onStart:p,onMove:m}=this.handlers;c||(p&&p(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,u)},this.handlePointerMove=(u,c)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=Fy(c,this.transformPagePoint),st.update(this.updatePoint,!0)},this.handlePointerUp=(u,c)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:h,onSessionEnd:d}=this.handlers,f=zy(u.type==="pointercancel"?this.lastMoveEventInfo:Fy(c,this.transformPagePoint),this.history);this.startEvent&&h&&h(u,f),d&&d(u,f)},!kE(e))return;this.handlers=n,this.transformPagePoint=i;const r=Bd(e),o=Fy(r,this.transformPagePoint),{point:s}=o,{timestamp:l}=Yt;this.history=[{...s,timestamp:l}];const{onSessionStart:a}=n;a&&a(e,zy(o,this.history)),this.removeListeners=bo(Tr(window,"pointermove",this.handlePointerMove),Tr(window,"pointerup",this.handlePointerUp),Tr(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Cr(this.updatePoint)}};function Fy(t,e){return e?{point:e(t.point)}:t}function _T(t,e){return{x:t.x-e.x,y:t.y-e.y}}function zy({point:t},e){return{point:t,delta:_T(t,xT(e)),offset:_T(t,Xz(e)),velocity:qz(e,.1)}}function Xz(t){return t[0]}function xT(t){return t[t.length-1]}function qz(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=xT(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>_o(e)));)n--;if(!i)return{x:0,y:0};const o=$r(r.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const s={x:(r.x-i.x)/o,y:(r.y-i.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function ni(t){return t.max-t.min}function By(t,e=0,n=.01){return Math.abs(t-e)<=n}function ST(t,e,n,i=.5){t.origin=i,t.originPoint=_t(e.min,e.max,t.origin),t.scale=ni(n)/ni(e),(By(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=_t(n.min,n.max,t.origin)-t.originPoint,(By(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Qc(t,e,n,i){ST(t.x,e.x,n.x,i?i.originX:void 0),ST(t.y,e.y,n.y,i?i.originY:void 0)}function kT(t,e,n){t.min=n.min+e.min,t.max=t.min+ni(e)}function Qz(t,e,n){kT(t.x,e.x,n.x),kT(t.y,e.y,n.y)}function CT(t,e,n){t.min=e.min-n.min,t.max=t.min+ni(e)}function Jc(t,e,n){CT(t.x,e.x,n.x),CT(t.y,e.y,n.y)}function Jz(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?_t(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?_t(n,t,i.max):Math.min(t,n)),t}function ET(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Zz(t,{top:e,left:n,bottom:i,right:r}){return{x:ET(t.x,n,r),y:ET(t.y,e,i)}}function TT(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function eB(t,e){return{x:TT(t.x,e.x),y:TT(t.y,e.y)}}function tB(t,e){let n=.5;const i=ni(t),r=ni(e);return r>i?n=Xc(e.min,e.max-i,t.min):i>r&&(n=Xc(t.min,t.max-r,e.min)),vo(0,1,n)}function nB(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const jy=.35;function iB(t=jy){return t===!1?t=0:t===!0&&(t=jy),{x:$T(t,"left","right"),y:$T(t,"top","bottom")}}function $T(t,e,n){return{min:AT(t,e),max:AT(t,n)}}function AT(t,e){return typeof t=="number"?t:t[e]||0}const OT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Xa=()=>({x:OT(),y:OT()}),MT=()=>({min:0,max:0}),Nt=()=>({x:MT(),y:MT()});function er(t){return[t("x"),t("y")]}function LT({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function rB({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function oB(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Vy(t){return t===void 0||t===1}function Wy({scale:t,scaleX:e,scaleY:n}){return!Vy(t)||!Vy(e)||!Vy(n)}function ks(t){return Wy(t)||RT(t)||t.z||t.rotate||t.rotateX||t.rotateY}function RT(t){return PT(t.x)||PT(t.y)}function PT(t){return t&&t!=="0%"}function Gd(t,e,n){const i=t-n,r=e*i;return n+r}function DT(t,e,n,i,r){return r!==void 0&&(t=Gd(t,r,i)),Gd(t,n,i)+e}function Hy(t,e=0,n=1,i,r){t.min=DT(t.min,e,n,i,r),t.max=DT(t.max,e,n,i,r)}function IT(t,{x:e,y:n}){Hy(t.x,e.translate,e.scale,e.originPoint),Hy(t.y,n.translate,n.scale,n.originPoint)}function sB(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let o,s;for(let l=0;l<r;l++){o=n[l],s=o.projectionDelta;const a=o.instance;a&&a.style&&a.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&qa(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,IT(t,s)),i&&ks(o.latestValues)&&qa(t,o.latestValues))}e.x=NT(e.x),e.y=NT(e.y)}function NT(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function So(t,e){t.min=t.min+e,t.max=t.max+e}function FT(t,e,[n,i,r]){const o=e[r]!==void 0?e[r]:.5,s=_t(t.min,t.max,o);Hy(t,e[n],e[i],s,e.scale)}const aB=["x","scaleX","originX"],lB=["y","scaleY","originY"];function qa(t,e){FT(t.x,e,aB),FT(t.y,e,lB)}function zT(t,e){return LT(oB(t.getBoundingClientRect(),e))}function cB(t,e,n){const i=zT(t,n),{scroll:r}=e;return r&&(So(i.x,r.offset.x),So(i.y,r.offset.y)),i}const uB=new WeakMap;let hB=class{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Nt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=a=>{this.stopAnimation(),n&&this.snapToCursor(Bd(a,"page").point)},o=(a,u)=>{const{drag:c,dragPropagation:h,onDragStart:d}=this.getProps();if(c&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=$E(c),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),er(p=>{let m=this.getAxisMotionValue(p).get()||0;if(Zi.test(m)){const{projection:g}=this.visualElement;if(g&&g.layout){const v=g.layout.layoutBox[p];v&&(m=ni(v)*(parseFloat(m)/100))}}this.originPoint[p]=m}),d&&st.update(()=>d(a,u),!1,!0);const{animationState:f}=this.visualElement;f&&f.setActive("whileDrag",!0)},s=(a,u)=>{const{dragPropagation:c,dragDirectionLock:h,onDirectionLock:d,onDrag:f}=this.getProps();if(!c&&!this.openGlobalLock)return;const{offset:p}=u;if(h&&this.currentDirection===null){this.currentDirection=dB(p),this.currentDirection!==null&&d&&d(this.currentDirection);return}this.updateAxis("x",u.point,p),this.updateAxis("y",u.point,p),this.visualElement.render(),f&&f(a,u)},l=(a,u)=>this.stop(a,u);this.panSession=new wT(e,{onSessionStart:r,onStart:o,onMove:s,onSessionEnd:l},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:o}=this.getProps();o&&st.update(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!Yd(e,r,this.currentDirection))return;const o=this.getAxisMotionValue(e);let s=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(s=Jz(s,this.constraints[e],this.elastic[e])),o.set(s)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),{layout:i}=this.visualElement.projection||{},r=this.constraints;e&&Ka(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=Zz(i.layoutBox,e):this.constraints=!1,this.elastic=iB(n),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&er(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=nB(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ka(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=cB(i,r.root,this.visualElement.getTransformPagePoint());let s=eB(r.layout.layoutBox,o);if(n){const l=n(rB(s));this.hasMutatedConstraints=!!l,l&&(s=LT(l))}return s}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:l}=this.getProps(),a=this.constraints||{},u=er(c=>{if(!Yd(c,n,this.currentDirection))return;let h=a&&a[c]||{};s&&(h={min:0,max:0});const d=r?200:1e6,f=r?40:1e7,p={type:"inertia",velocity:i?e[c]:0,bounceStiffness:d,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...o,...h};return this.startAxisValueAnimation(c,p)});return Promise.all(u).then(l)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return i.start(Ry(e,i,0,n))}stopAnimation(){er(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){er(n=>{const{drag:i}=this.getProps();if(!Yd(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(n);if(r&&r.layout){const{min:s,max:l}=r.layout.layoutBox[n];o.set(e[n]-_t(s,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Ka(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};er(s=>{const l=this.getAxisMotionValue(s);if(l){const a=l.get();r[s]=tB({min:a,max:a},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),er(s=>{if(!Yd(s,e,null))return;const l=this.getAxisMotionValue(s),{min:a,max:u}=this.constraints[s];l.set(_t(a,u,r[s]))})}addListeners(){if(!this.visualElement.current)return;uB.set(this.visualElement,this);const e=this.visualElement.current,n=Tr(e,"pointerdown",a=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(a)}),i=()=>{const{dragConstraints:a}=this.getProps();Ka(a)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,o=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),i();const s=Er(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:a,hasLayoutChanged:u})=>{this.isDragging&&u&&(er(c=>{const h=this.getAxisMotionValue(c);h&&(this.originPoint[c]+=a[c].translate,h.set(h.get()+a[c].translate))}),this.visualElement.render())});return()=>{s(),n(),o(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:s=jy,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:o,dragElastic:s,dragMomentum:l}}};function Yd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function dB(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}let fB=class extends wo{constructor(e){super(e),this.removeGroupControls=$t,this.removeListeners=$t,this.controls=new hB(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$t}unmount(){this.removeGroupControls(),this.removeListeners()}};const BT=t=>(e,n)=>{t&&st.update(()=>t(e,n))};let pB=class extends wo{constructor(){super(...arguments),this.removePointerDownListener=$t}onPointerDown(e){this.session=new wT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:BT(e),onStart:BT(n),onMove:i,onEnd:(o,s)=>{delete this.session,r&&st.update(()=>r(o,s))}}}mount(){this.removePointerDownListener=Tr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}};function mB(){const t=I.useContext(Ad);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:i}=t,r=I.useId();return I.useEffect(()=>i(r),[]),!e&&n?[!1,()=>n&&n(r)]:[!0]}const Xd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function jT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Zc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Me.test(t))t=parseFloat(t);else return t;const n=jT(t,e.target.x),i=jT(t,e.target.y);return`${n}% ${i}%`}},gB={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=xo.parse(t);if(r.length>5)return i;const o=xo.createTransformer(t),s=typeof r[0]!="number"?1:0,l=n.x.scale*e.x,a=n.y.scale*e.y;r[0+s]/=l,r[1+s]/=a;const u=_t(l,a,.5);return typeof r[2+s]=="number"&&(r[2+s]/=u),typeof r[3+s]=="number"&&(r[3+s]/=u),o(r)}};let vB=class extends K.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:o}=e;$F(yB),o&&(n.group&&n.group.add(o),i&&i.register&&r&&i.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Xd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:o}=this.props,s=i.projection;return s&&(s.isPresent=o,r||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||st.postRender(()=>{const l=s.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}};function VT(t){const[e,n]=mB(),i=I.useContext(oy);return K.createElement(vB,{...t,layoutGroup:i,switchLayoutGroup:I.useContext(oE),isPresent:e,safeToRemove:n})}const yB={borderRadius:{...Zc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zc,borderTopRightRadius:Zc,borderBottomLeftRadius:Zc,borderBottomRightRadius:Zc,boxShadow:gB},WT=["TopLeft","TopRight","BottomLeft","BottomRight"],bB=WT.length,HT=t=>typeof t=="string"?parseFloat(t):t,UT=t=>typeof t=="number"||Me.test(t);function wB(t,e,n,i,r,o){r?(t.opacity=_t(0,n.opacity!==void 0?n.opacity:1,_B(i)),t.opacityExit=_t(e.opacity!==void 0?e.opacity:1,0,xB(i))):o&&(t.opacity=_t(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let s=0;s<bB;s++){const l=`border${WT[s]}Radius`;let a=KT(e,l),u=KT(n,l);if(a===void 0&&u===void 0)continue;a||(a=0),u||(u=0),a===0||u===0||UT(a)===UT(u)?(t[l]=Math.max(_t(HT(a),HT(u),i),0),(Zi.test(u)||Zi.test(a))&&(t[l]+="%")):t[l]=u}(e.rotate||n.rotate)&&(t.rotate=_t(e.rotate||0,n.rotate||0,i))}function KT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const _B=GT(0,.5,wy),xB=GT(.5,.95,$t);function GT(t,e,n){return i=>i<t?0:i>e?1:n(Xc(t,e,i))}function YT(t,e){t.min=e.min,t.max=e.max}function gi(t,e){YT(t.x,e.x),YT(t.y,e.y)}function XT(t,e,n,i,r){return t-=e,t=Gd(t,1/n,i),r!==void 0&&(t=Gd(t,1/r,i)),t}function SB(t,e=0,n=1,i=.5,r,o=t,s=t){if(Zi.test(e)&&(e=parseFloat(e),e=_t(s.min,s.max,e/100)-s.min),typeof e!="number")return;let l=_t(o.min,o.max,i);t===o&&(l-=e),t.min=XT(t.min,e,n,l,r),t.max=XT(t.max,e,n,l,r)}function qT(t,e,[n,i,r],o,s){SB(t,e[n],e[i],e[r],e.scale,o,s)}const kB=["x","scaleX","originX"],CB=["y","scaleY","originY"];function QT(t,e,n,i){qT(t.x,e,kB,n?n.x:void 0,i?i.x:void 0),qT(t.y,e,CB,n?n.y:void 0,i?i.y:void 0)}function JT(t){return t.translate===0&&t.scale===1}function ZT(t){return JT(t.x)&&JT(t.y)}function EB(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function e$(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function t$(t){return ni(t.x)/ni(t.y)}let TB=class{constructor(){this.members=[]}add(e){Py(this.members,e),e.scheduleRender()}remove(e){if(Dy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const o=this.members[r];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}};function n$(t,e,n){let i="";const r=t.x.translate/e.x,o=t.y.translate/e.y;if((r||o)&&(i=`translate3d(${r}px, ${o}px, 0) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:a,rotateX:u,rotateY:c}=n;a&&(i+=`rotate(${a}deg) `),u&&(i+=`rotateX(${u}deg) `),c&&(i+=`rotateY(${c}deg) `)}const s=t.x.scale*e.x,l=t.y.scale*e.y;return(s!==1||l!==1)&&(i+=`scale(${s}, ${l})`),i||"none"}const $B=(t,e)=>t.depth-e.depth;let AB=class{constructor(){this.children=[],this.isDirty=!1}add(e){Py(this.children,e),this.isDirty=!0}remove(e){Dy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort($B),this.isDirty=!1,this.children.forEach(e)}};function OB(t,e){const n=performance.now(),i=({timestamp:r})=>{const o=r-n;o>=e&&(Cr(i),t(o-e))};return st.read(i,!0),()=>Cr(i)}function MB(t){window.MotionDebug&&window.MotionDebug.record(t)}function LB(t){return t instanceof SVGElement&&t.tagName!=="svg"}function RB(t,e,n){const i=Bn(t)?t:Ya(t);return i.start(Ry("",i,e,n)),i.animation}const i$=["","X","Y","Z"],r$=1e3;let PB=0;const Cs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function o$({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(s={},l=e==null?void 0:e()){this.id=PB++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Cs.totalNodes=Cs.resolvedTargetDeltas=Cs.recalculatedProjection=0,this.nodes.forEach(NB),this.nodes.forEach(VB),this.nodes.forEach(WB),this.nodes.forEach(FB),MB(Cs)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let a=0;a<this.path.length;a++)this.path[a].shouldResetTransform=!0;this.root===this&&(this.nodes=new AB)}addEventListener(s,l){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new Iy),this.eventHandlers.get(s).add(l)}notifyListeners(s,...l){const a=this.eventHandlers.get(s);a&&a.notify(...l)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=LB(s),this.instance=s;const{layoutId:a,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||a)&&(this.isLayoutDirty=!0),t){let h;const d=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=OB(d,250),Xd.hasAnimatedSinceResize&&(Xd.hasAnimatedSinceResize=!1,this.nodes.forEach(a$))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d,hasRelativeTargetChanged:f,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||c.getDefaultTransition()||YB,{onLayoutAnimationStart:g,onLayoutAnimationComplete:v}=c.getProps(),y=!this.targetLayout||!e$(this.targetLayout,p)||f,k=!d&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||k||d&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,k);const C={...pT(m,"layout"),onPlay:g,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else d||a$(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Cr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(HB),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const h=this.path[c];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:a}=this.options;if(l===void 0&&!a)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(s$);return}this.isUpdating||this.nodes.forEach(BB),this.isUpdating=!1,this.nodes.forEach(jB),this.nodes.forEach(DB),this.nodes.forEach(IB),this.clearAllSnapshots();const l=performance.now();Yt.delta=vo(0,1e3/60,l-Yt.timestamp),Yt.timestamp=l,Yt.isProcessing=!0,my.update.process(Yt),my.preRender.process(Yt),my.render.process(Yt),Yt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(zB),this.sharedNodes.forEach(UB)}scheduleUpdateProjection(){st.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){st.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let a=0;a<this.path.length;a++)this.path[a].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Nt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:i(this.instance),offset:n(this.instance)})}resetTransform(){if(!r)return;const s=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!ZT(this.projectionDelta),a=this.getTransformTemplate(),u=a?a(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;s&&(l||ks(this.latestValues)||c)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const l=this.measurePageBox();let a=this.removeElementScroll(l);return s&&(a=this.removeTransform(a)),XB(a),{animationId:this.root.animationId,measuredBox:l,layoutBox:a,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Nt();const l=s.measureViewportBox(),{scroll:a}=this.root;return a&&(So(l.x,a.offset.x),So(l.y,a.offset.y)),l}removeElementScroll(s){const l=Nt();gi(l,s);for(let a=0;a<this.path.length;a++){const u=this.path[a],{scroll:c,options:h}=u;if(u!==this.root&&c&&h.layoutScroll){if(c.isRoot){gi(l,s);const{scroll:d}=this.root;d&&(So(l.x,-d.offset.x),So(l.y,-d.offset.y))}So(l.x,c.offset.x),So(l.y,c.offset.y)}}return l}applyTransform(s,l=!1){const a=Nt();gi(a,s);for(let u=0;u<this.path.length;u++){const c=this.path[u];!l&&c.options.layoutScroll&&c.scroll&&c!==c.root&&qa(a,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),ks(c.latestValues)&&qa(a,c.latestValues)}return ks(this.latestValues)&&qa(a,this.latestValues),a}removeTransform(s){const l=Nt();gi(l,s);for(let a=0;a<this.path.length;a++){const u=this.path[a];if(!u.instance||!ks(u.latestValues))continue;Wy(u.latestValues)&&u.updateSnapshot();const c=Nt(),h=u.measurePageBox();gi(c,h),QT(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return ks(this.latestValues)&&QT(l,this.latestValues),l}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Yt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var l;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==a;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:d}=this.options;if(!(!this.layout||!(h||d))){if(this.resolvedRelativeTargetAt=Yt.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nt(),this.relativeTargetOrigin=Nt(),Jc(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),gi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Nt(),this.targetWithTransforms=Nt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Qz(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):gi(this.target,this.layout.layoutBox),IT(this.target,this.targetDelta)):gi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nt(),this.relativeTargetOrigin=Nt(),Jc(this.relativeTargetOrigin,this.target,f.target),gi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Cs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Wy(this.parent.latestValues)||RT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const l=this.getLead(),a=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Yt.timestamp&&(u=!1),u)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;gi(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;sB(this.layoutCorrected,this.treeScale,this.path,a),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:p}=l;if(!p){this.projectionTransform&&(this.projectionDelta=Xa(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Xa(),this.projectionDeltaWithTransform=Xa());const m=this.projectionTransform;Qc(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=n$(this.projectionDelta,this.treeScale),(this.projectionTransform!==m||this.treeScale.x!==d||this.treeScale.y!==f)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Cs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,l=!1){const a=this.snapshot,u=a?a.latestValues:{},c={...this.latestValues},h=Xa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const d=Nt(),f=a?a.source:void 0,p=this.layout?this.layout.source:void 0,m=f!==p,g=this.getStack(),v=!g||g.members.length<=1,y=!!(m&&!v&&this.options.crossfade===!0&&!this.path.some(GB));this.animationProgress=0;let k;this.mixTargetDelta=C=>{const T=C/1e3;l$(h.x,s.x,T),l$(h.y,s.y,T),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Jc(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),KB(this.relativeTarget,this.relativeTargetOrigin,d,T),k&&EB(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=Nt()),gi(k,this.relativeTarget)),m&&(this.animationValues=c,wB(c,u,this.latestValues,T,y,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Cr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=st.update(()=>{Xd.hasAnimatedSinceResize=!0,this.currentAnimation=RB(0,r$,{...s,onUpdate:l=>{this.mixTargetDelta(l),s.onUpdate&&s.onUpdate(l)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(r$),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:l,target:a,layout:u,latestValues:c}=s;if(!(!l||!a||!u)){if(this!==s&&this.layout&&u&&f$(this.options.animationType,this.layout.layoutBox,u.layoutBox)){a=this.target||Nt();const h=ni(this.layout.layoutBox.x);a.x.min=s.target.x.min,a.x.max=a.x.min+h;const d=ni(this.layout.layoutBox.y);a.y.min=s.target.y.min,a.y.max=a.y.min+d}gi(l,a),qa(l,c),Qc(this.projectionDeltaWithTransform,this.layoutCorrected,l,c)}}registerSharedNode(s,l){this.sharedNodes.has(s)||this.sharedNodes.set(s,new TB),this.sharedNodes.get(s).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:l}=this.options;return l?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:l}=this.options;return l?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:l,preserveFollowOpacity:a}={}){const u=this.getStack();u&&u.promote(this,a),s&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let l=!1;const{latestValues:a}=s;if((a.rotate||a.rotateX||a.rotateY||a.rotateZ)&&(l=!0),!l)return;const u={};for(let c=0;c<i$.length;c++){const h="rotate"+i$[c];a[h]&&(u[h]=a[h],s.setStaticValue(h,0))}s.render();for(const c in u)s.setStaticValue(c,u[c]);s.scheduleRender()}getProjectionStyles(s={}){var l,a;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Fd(s.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=Fd(s.pointerEvents)||""),this.hasProjected&&!ks(this.latestValues)&&(m.transform=c?c({},""):"none",this.hasProjected=!1),m}const d=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=n$(this.projectionDeltaWithTransform,this.treeScale,d),c&&(u.transform=c(d,u.transform));const{x:f,y:p}=this.projectionDelta;u.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,h.animationValues?u.opacity=h===this?(a=(l=d.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&a!==void 0?a:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:u.opacity=h===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const m in Rd){if(d[m]===void 0)continue;const{correct:g,applyTo:v}=Rd[m],y=u.transform==="none"?d[m]:g(d[m],h);if(v){const k=v.length;for(let C=0;C<k;C++)u[v[C]]=y}else u[m]=y}return this.options.layoutId&&(u.pointerEvents=h===this?Fd(s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var l;return(l=s.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(s$),this.root.sharedNodes.clear()}}}function DB(t){t.updateLayout()}function IB(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=t.layout,{animationType:o}=t.options,s=n.source!==t.layout.source;o==="size"?er(h=>{const d=s?n.measuredBox[h]:n.layoutBox[h],f=ni(d);d.min=i[h].min,d.max=d.min+f}):f$(o,n.layoutBox,i)&&er(h=>{const d=s?n.measuredBox[h]:n.layoutBox[h],f=ni(i[h]);d.max=d.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+f)});const l=Xa();Qc(l,i,n.layoutBox);const a=Xa();s?Qc(a,t.applyTransform(r,!0),n.measuredBox):Qc(a,i,n.layoutBox);const u=!ZT(l);let c=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:d,layout:f}=h;if(d&&f){const p=Nt();Jc(p,n.layoutBox,d.layoutBox);const m=Nt();Jc(m,i,f.layoutBox),e$(p,m)||(c=!0),h.options.layoutRoot&&(t.relativeTarget=m,t.relativeTargetOrigin=p,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:a,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function NB(t){Cs.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function FB(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function zB(t){t.clearSnapshot()}function s$(t){t.clearMeasurements()}function BB(t){t.isLayoutDirty=!1}function jB(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function a$(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function VB(t){t.resolveTargetDelta()}function WB(t){t.calcProjection()}function HB(t){t.resetRotation()}function UB(t){t.removeLeadSnapshot()}function l$(t,e,n){t.translate=_t(e.translate,0,n),t.scale=_t(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function c$(t,e,n,i){t.min=_t(e.min,n.min,i),t.max=_t(e.max,n.max,i)}function KB(t,e,n,i){c$(t.x,e.x,n.x,i),c$(t.y,e.y,n.y,i)}function GB(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const YB={duration:.45,ease:[.4,0,.1,1]},u$=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),h$=u$("applewebkit/")&&!u$("chrome/")?Math.round:$t;function d$(t){t.min=h$(t.min),t.max=h$(t.max)}function XB(t){d$(t.x),d$(t.y)}function f$(t,e,n){return t==="position"||t==="preserve-aspect"&&!By(t$(e),t$(n),.2)}const qB=o$({attachResizeListener:(t,e)=>Er(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Uy={current:void 0},p$=o$({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Uy.current){const t=new qB({});t.mount(window),t.setOptions({layoutScroll:!0}),Uy.current=t}return Uy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),QB={pan:{Feature:pB},drag:{Feature:fB,ProjectionNode:p$,MeasureLayout:VT}},JB=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function ZB(t){const e=JB.exec(t);if(!e)return[,];const[,n,i]=e;return[n,i]}function Ky(t,e,n=1){const[i,r]=ZB(t);if(!i)return;const o=window.getComputedStyle(e).getPropertyValue(i);if(o){const s=o.trim();return mT(s)?parseFloat(s):s}else return ay(r)?Ky(r,e,n+1):r}function e6(t,{...e},n){const i=t.current;if(!(i instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(r=>{const o=r.get();if(!ay(o))return;const s=Ky(o,i);s&&r.set(s)});for(const r in e){const o=e[r];if(!ay(o))continue;const s=Ky(o,i);s&&(e[r]=s,n||(n={}),n[r]===void 0&&(n[r]=o))}return{target:e,transitionEnd:n}}const t6=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),m$=t=>t6.has(t),n6=t=>Object.keys(t).some(m$),g$=t=>t===_s||t===Me,v$=(t,e)=>parseFloat(t.split(", ")[e]),y$=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/);if(r)return v$(r[1],e);{const o=i.match(/^matrix\((.+)\)$/);return o?v$(o[1],t):0}},i6=new Set(["x","y","z"]),r6=Vc.filter(t=>!i6.has(t));function o6(t){const e=[];return r6.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Qa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:y$(4,13),y:y$(5,14)};Qa.translateX=Qa.x,Qa.translateY=Qa.y;const s6=(t,e,n)=>{const i=e.measureViewportBox(),r=e.current,o=getComputedStyle(r),{display:s}=o,l={};s==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{l[u]=Qa[u](i,o)}),e.render();const a=e.measureViewportBox();return n.forEach(u=>{const c=e.getValue(u);c&&c.jump(l[u]),t[u]=Qa[u](a,o)}),t},a6=(t,e,n={},i={})=>{e={...e},i={...i};const r=Object.keys(e).filter(m$);let o=[],s=!1;const l=[];if(r.forEach(a=>{const u=t.getValue(a);if(!t.hasValue(a))return;let c=n[a],h=qc(c);const d=e[a];let f;if(Nd(d)){const p=d.length,m=d[0]===null?1:0;c=d[m],h=qc(c);for(let g=m;g<p&&d[g]!==null;g++)f?by(qc(d[g])===f):f=qc(d[g])}else f=qc(d);if(h!==f)if(g$(h)&&g$(f)){const p=u.get();typeof p=="string"&&u.set(parseFloat(p)),typeof d=="string"?e[a]=parseFloat(d):Array.isArray(d)&&f===Me&&(e[a]=d.map(parseFloat))}else h!=null&&h.transform&&(f!=null&&f.transform)&&(c===0||d===0)?c===0?u.set(f.transform(c)):e[a]=h.transform(d):(s||(o=o6(t),s=!0),l.push(a),i[a]=i[a]!==void 0?i[a]:e[a],u.jump(d))}),l.length){const a=l.indexOf("height")>=0?window.pageYOffset:null,u=s6(e,t,l);return o.length&&o.forEach(([c,h])=>{t.getValue(c).set(h)}),t.render(),Od&&a!==null&&window.scrollTo({top:a}),{target:u,transitionEnd:i}}else return{target:e,transitionEnd:i}};function l6(t,e,n,i){return n6(e)?a6(t,e,n,i):{target:e,transitionEnd:i}}const c6=(t,e,n,i)=>{const r=e6(t,e,i);return e=r.target,i=r.transitionEnd,l6(t,e,n,i)},Gy={current:null},b$={current:!1};function u6(){if(b$.current=!0,!!Od)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Gy.current=t.matches;t.addListener(e),e()}else Gy.current=!1}function h6(t,e,n){const{willChange:i}=e;for(const r in e){const o=e[r],s=n[r];if(Bn(o))t.addValue(r,o),Kd(i)&&i.add(r);else if(Bn(s))t.addValue(r,Ya(o,{owner:t})),Kd(i)&&i.remove(r);else if(s!==o)if(t.hasValue(r)){const l=t.getValue(r);!l.hasAnimated&&l.set(o)}else{const l=t.getStaticValue(r);t.addValue(r,Ya(l!==void 0?l:o,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const w$=new WeakMap,_$=Object.keys(jc),d6=_$.length,x$=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],f6=ry.length;let p6=class{constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>st.render(this.render,!1,!0);const{latestValues:l,renderState:a}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=a,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=s,this.isControllingVariants=Ld(n),this.isVariantNode=nE(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(n,{});for(const h in c){const d=c[h];l[h]!==void 0&&Bn(d)&&(d.set(l[h],!1),Kd(u)&&u.add(h))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,w$.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),b$.current||u6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Gy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){w$.delete(this.current),this.projection&&this.projection.unmount(),Cr(this.notifyUpdate),Cr(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const i=ws.has(e),r=n.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&st.update(this.notifyUpdate,!1,!0),i&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),o()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},i,r,o){let s,l;for(let a=0;a<d6;a++){const u=_$[a],{isEnabled:c,Feature:h,ProjectionNode:d,MeasureLayout:f}=jc[u];d&&(s=d),c(n)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),f&&(l=f))}if(!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:a,layout:u,drag:c,dragConstraints:h,layoutScroll:d,layoutRoot:f}=n;this.projection.setOptions({layoutId:a,layout:u,alwaysMeasureLayout:!!c||h&&Ka(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,layoutScroll:d,layoutRoot:f})}return l}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Nt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<x$.length;i++){const r=x$[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const o=e["on"+r];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=h6(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const n={};for(let i=0;i<f6;i++){const r=ry[i],o=this.props[r];(Bc(o)||o===!1)&&(n[r]=o)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Ya(n,{owner:this}),this.addValue(e,i)),i}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props,r=typeof i=="string"||typeof i=="object"?(n=py(this.props,i))===null||n===void 0?void 0:n[e]:void 0;if(i&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Bn(o)?o:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Iy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}},S$=class extends p6{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...i},{transformValues:r},o){let s=Pz(i,e||{},this);if(r&&(n&&(n=r(n)),i&&(i=r(i)),s&&(s=r(s))),o){Lz(this,i,s);const l=c6(this,i,s,n);n=l.transitionEnd,i=l.target}return{transition:e,transitionEnd:n,...i}}};function m6(t){return window.getComputedStyle(t)}let g6=class extends S${readValueFromInstance(e,n){if(ws.has(n)){const i=Ly(n);return i&&i.default||0}else{const i=m6(e),r=(lE(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return zT(e,n)}build(e,n,i,r){ly(e,n,i,r.transformTemplate)}scrapeMotionValuesFromProps(e,n){return fy(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Bn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,i,r){vE(e,n,i,r)}},v6=class extends S${constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ws.has(n)){const i=Ly(n);return i&&i.default||0}return n=yE.has(n)?n:dy(n),e.getAttribute(n)}measureInstanceViewportBox(){return Nt()}scrapeMotionValuesFromProps(e,n){return wE(e,n)}build(e,n,i,r){uy(e,n,i,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,i,r){bE(e,n,i,r)}mount(e){this.isSVGTag=hy(e.tagName),super.mount(e)}};const y6=(t,e)=>sy(t)?new v6(e,{enableHardwareAcceleration:!1}):new g6(e,{enableHardwareAcceleration:!0}),b6={...Gz,...v5,...QB,...{layout:{ProjectionNode:p$,MeasureLayout:VT}}},w6=EF((t,e)=>r5(t,e,b6,y6));function k$(){const t=I.useRef(!1);return ny(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function _6(){const t=k$(),[e,n]=I.useState(0),i=I.useCallback(()=>{t.current&&n(e+1)},[e]);return[I.useCallback(()=>st.postRender(i),[i]),e]}let x6=class extends I.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}};function S6({children:t,isPresent:e}){const n=I.useId(),i=I.useRef(null),r=I.useRef({width:0,height:0,top:0,left:0});return I.useInsertionEffect(()=>{const{width:o,height:s,top:l,left:a}=r.current;if(e||!i.current||!o||!s)return;i.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${s}px !important;
            top: ${l}px !important;
            left: ${a}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),I.createElement(x6,{isPresent:e,childRef:i,sizeRef:r},I.cloneElement(t,{ref:i}))}const Yy=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:o,mode:s})=>{const l=_E(k6),a=I.useId(),u=I.useMemo(()=>({id:a,initial:e,isPresent:n,custom:r,onExitComplete:c=>{l.set(c,!0);for(const h of l.values())if(!h)return;i&&i()},register:c=>(l.set(c,!1),()=>l.delete(c))}),o?void 0:[n]);return I.useMemo(()=>{l.forEach((c,h)=>l.set(h,!1))},[n]),I.useEffect(()=>{!n&&!l.size&&i&&i()},[n]),s==="popLayout"&&(t=I.createElement(S6,{isPresent:n},t)),I.createElement(Ad.Provider,{value:u},t)};function k6(){return new Map}function C6(t){return I.useEffect(()=>()=>t(),[])}const Ja=t=>t.key||"";function E6(t,e){t.forEach(n=>{const i=Ja(n);e.set(i,n)})}function T6(t){const e=[];return I.Children.forEach(t,n=>{I.isValidElement(n)&&e.push(n)}),e}const Es=({children:t,custom:e,initial:n=!0,onExitComplete:i,exitBeforeEnter:r,presenceAffectsLayout:o=!0,mode:s="sync"})=>{const l=I.useContext(oy).forceRender||_6()[0],a=k$(),u=T6(t);let c=u;const h=I.useRef(new Map).current,d=I.useRef(c),f=I.useRef(new Map).current,p=I.useRef(!0);if(ny(()=>{p.current=!1,E6(u,f),d.current=c}),C6(()=>{p.current=!0,f.clear(),h.clear()}),p.current)return I.createElement(I.Fragment,null,c.map(y=>I.createElement(Yy,{key:Ja(y),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:s},y)));c=[...c];const m=d.current.map(Ja),g=u.map(Ja),v=m.length;for(let y=0;y<v;y++){const k=m[y];g.indexOf(k)===-1&&!h.has(k)&&h.set(k,void 0)}return s==="wait"&&h.size&&(c=[]),h.forEach((y,k)=>{if(g.indexOf(k)!==-1)return;const C=f.get(k);if(!C)return;const T=m.indexOf(k);let _=y;if(!_){const E=()=>{f.delete(k),h.delete(k);const w=d.current.findIndex(S=>S.key===k);if(d.current.splice(w,1),!h.size){if(d.current=u,a.current===!1)return;l(),i&&i()}};_=I.createElement(Yy,{key:Ja(C),isPresent:!1,onExitComplete:E,custom:e,presenceAffectsLayout:o,mode:s},C),h.set(k,_)}c.splice(T,0,_)}),c=c.map(y=>{const k=y.key;return h.has(k)?y:I.createElement(Yy,{key:Ja(y),isPresent:!0,presenceAffectsLayout:o,mode:s},y)}),I.createElement(I.Fragment,null,h.size?c:c.map(y=>I.cloneElement(y)))},Ts=I.forwardRef(({children:t},e)=>L(w6.div,{ref:e,className:"panel",initial:{x:40,opacity:0},animate:{x:0,opacity:1},exit:{x:40,opacity:0},transition:{type:"spring",damping:30,stiffness:600},children:t}));var C$={exports:{}};/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function E$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E$(Object(n),!0).forEach(function(i){$6(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E$(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function qd(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qd=function(e){return typeof e}:qd=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qd(t)}function $6(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vi(){return vi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},vi.apply(this,arguments)}function A6(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function O6(t,e){if(t==null)return{};var n=A6(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function M6(t){return L6(t)||R6(t)||P6(t)||D6()}function L6(t){if(Array.isArray(t))return Xy(t)}function R6(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function P6(t,e){if(t){if(typeof t=="string")return Xy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xy(t,e)}}function Xy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function D6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var I6="1.15.0";function Ar(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var Or=Ar(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),eu=Ar(/Edge/i),T$=Ar(/firefox/i),tu=Ar(/safari/i)&&!Ar(/chrome/i)&&!Ar(/android/i),$$=Ar(/iP(ad|od|hone)/i),A$=Ar(/chrome/i)&&Ar(/android/i),O$={capture:!1,passive:!1};function Ye(t,e,n){t.addEventListener(e,n,!Or&&O$)}function Ue(t,e,n){t.removeEventListener(e,n,!Or&&O$)}function Qd(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function N6(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Ii(t,e,n,i){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&Qd(t,e):Qd(t,e))||i&&t===n)return t;if(t===n)break}while(t=N6(t))}return null}var M$=/\s+/g;function xt(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var i=(" "+t.className+" ").replace(M$," ").replace(" "+e+" "," ");t.className=(i+(n?" "+e:"")).replace(M$," ")}}function be(t,e,n){var i=t&&t.style;if(i){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in i)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),i[e]=n+(typeof n=="string"?"":"px")}}function $s(t,e){var n="";if(typeof t=="string")n=t;else do{var i=be(t,"transform");i&&i!=="none"&&(n=i+" "+n)}while(!e&&(t=t.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(n)}function L$(t,e,n){if(t){var i=t.getElementsByTagName(e),r=0,o=i.length;if(n)for(;r<o;r++)n(i[r],r);return i}return[]}function nr(){var t=document.scrollingElement;return t||document.documentElement}function gt(t,e,n,i,r){if(!(!t.getBoundingClientRect&&t!==window)){var o,s,l,a,u,c,h;if(t!==window&&t.parentNode&&t!==nr()?(o=t.getBoundingClientRect(),s=o.top,l=o.left,a=o.bottom,u=o.right,c=o.height,h=o.width):(s=0,l=0,a=window.innerHeight,u=window.innerWidth,c=window.innerHeight,h=window.innerWidth),(e||n)&&t!==window&&(r=r||t.parentNode,!Or))do if(r&&r.getBoundingClientRect&&(be(r,"transform")!=="none"||n&&be(r,"position")!=="static")){var d=r.getBoundingClientRect();s-=d.top+parseInt(be(r,"border-top-width")),l-=d.left+parseInt(be(r,"border-left-width")),a=s+o.height,u=l+o.width;break}while(r=r.parentNode);if(i&&t!==window){var f=$s(r||t),p=f&&f.a,m=f&&f.d;f&&(s/=m,l/=p,h/=p,c/=m,a=s+c,u=l+h)}return{top:s,left:l,bottom:a,right:u,width:h,height:c}}}function R$(t,e,n){for(var i=ko(t,!0),r=gt(t)[e];i;){var o=gt(i)[n],s=void 0;if(n==="top"||n==="left"?s=r>=o:s=r<=o,!s)return i;if(i===nr())break;i=ko(i,!1)}return!1}function Za(t,e,n,i){for(var r=0,o=0,s=t.children;o<s.length;){if(s[o].style.display!=="none"&&s[o]!==Le.ghost&&(i||s[o]!==Le.dragged)&&Ii(s[o],n.draggable,t,!1)){if(r===e)return s[o];r++}o++}return null}function qy(t,e){for(var n=t.lastElementChild;n&&(n===Le.ghost||be(n,"display")==="none"||e&&!Qd(n,e));)n=n.previousElementSibling;return n||null}function At(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==Le.clone&&(!e||Qd(t,e))&&n++;return n}function P$(t){var e=0,n=0,i=nr();if(t)do{var r=$s(t),o=r.a,s=r.d;e+=t.scrollLeft*o,n+=t.scrollTop*s}while(t!==i&&(t=t.parentNode));return[e,n]}function F6(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var i in e)if(e.hasOwnProperty(i)&&e[i]===t[n][i])return Number(n)}return-1}function ko(t,e){if(!t||!t.getBoundingClientRect)return nr();var n=t,i=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=be(n);if(n.clientWidth<n.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return nr();if(i||e)return n;i=!0}}while(n=n.parentNode);return nr()}function z6(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Qy(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var nu;function D$(t,e){return function(){if(!nu){var n=arguments,i=this;n.length===1?t.call(i,n[0]):t.apply(i,n),nu=setTimeout(function(){nu=void 0},e)}}}function B6(){clearTimeout(nu),nu=void 0}function I$(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function Jy(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function N$(t,e){be(t,"position","absolute"),be(t,"top",e.top),be(t,"left",e.left),be(t,"width",e.width),be(t,"height",e.height)}function Zy(t){be(t,"position",""),be(t,"top",""),be(t,"left",""),be(t,"width",""),be(t,"height","")}var gn="Sortable"+new Date().getTime();function j6(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var i=[].slice.call(this.el.children);i.forEach(function(r){if(!(be(r,"display")==="none"||r===Le.ghost)){t.push({target:r,rect:gt(r)});var o=tr({},t[t.length-1].rect);if(r.thisAnimationDuration){var s=$s(r,!0);s&&(o.top-=s.f,o.left-=s.e)}r.fromRect=o}})}},addAnimationState:function(i){t.push(i)},removeAnimationState:function(i){t.splice(F6(t,{target:i}),1)},animateAll:function(i){var r=this;if(!this.options.animation){clearTimeout(e),typeof i=="function"&&i();return}var o=!1,s=0;t.forEach(function(l){var a=0,u=l.target,c=u.fromRect,h=gt(u),d=u.prevFromRect,f=u.prevToRect,p=l.rect,m=$s(u,!0);m&&(h.top-=m.f,h.left-=m.e),u.toRect=h,u.thisAnimationDuration&&Qy(d,h)&&!Qy(c,h)&&(p.top-h.top)/(p.left-h.left)===(c.top-h.top)/(c.left-h.left)&&(a=W6(p,d,f,r.options)),Qy(h,c)||(u.prevFromRect=c,u.prevToRect=h,a||(a=r.options.animation),r.animate(u,p,h,a)),a&&(o=!0,s=Math.max(s,a),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},a),u.thisAnimationDuration=a)}),clearTimeout(e),o?e=setTimeout(function(){typeof i=="function"&&i()},s):typeof i=="function"&&i(),t=[]},animate:function(i,r,o,s){if(s){be(i,"transition",""),be(i,"transform","");var l=$s(this.el),a=l&&l.a,u=l&&l.d,c=(r.left-o.left)/(a||1),h=(r.top-o.top)/(u||1);i.animatingX=!!c,i.animatingY=!!h,be(i,"transform","translate3d("+c+"px,"+h+"px,0)"),this.forRepaintDummy=V6(i),be(i,"transition","transform "+s+"ms"+(this.options.easing?" "+this.options.easing:"")),be(i,"transform","translate3d(0,0,0)"),typeof i.animated=="number"&&clearTimeout(i.animated),i.animated=setTimeout(function(){be(i,"transition",""),be(i,"transform",""),i.animated=!1,i.animatingX=!1,i.animatingY=!1},s)}}}}function V6(t){return t.offsetWidth}function W6(t,e,n,i){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*i.animation}var el=[],eb={initializeByDefault:!0},iu={mount:function(e){for(var n in eb)eb.hasOwnProperty(n)&&!(n in e)&&(e[n]=eb[n]);el.forEach(function(i){if(i.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),el.push(e)},pluginEvent:function(e,n,i){var r=this;this.eventCanceled=!1,i.cancel=function(){r.eventCanceled=!0};var o=e+"Global";el.forEach(function(s){n[s.pluginName]&&(n[s.pluginName][o]&&n[s.pluginName][o](tr({sortable:n},i)),n.options[s.pluginName]&&n[s.pluginName][e]&&n[s.pluginName][e](tr({sortable:n},i)))})},initializePlugins:function(e,n,i,r){el.forEach(function(l){var a=l.pluginName;if(!(!e.options[a]&&!l.initializeByDefault)){var u=new l(e,n,e.options);u.sortable=e,u.options=e.options,e[a]=u,vi(i,u.defaults)}});for(var o in e.options)if(e.options.hasOwnProperty(o)){var s=this.modifyOption(e,o,e.options[o]);typeof s<"u"&&(e.options[o]=s)}},getEventProperties:function(e,n){var i={};return el.forEach(function(r){typeof r.eventProperties=="function"&&vi(i,r.eventProperties.call(n[r.pluginName],e))}),i},modifyOption:function(e,n,i){var r;return el.forEach(function(o){e[o.pluginName]&&o.optionListeners&&typeof o.optionListeners[n]=="function"&&(r=o.optionListeners[n].call(e[o.pluginName],i))}),r}};function ru(t){var e=t.sortable,n=t.rootEl,i=t.name,r=t.targetEl,o=t.cloneEl,s=t.toEl,l=t.fromEl,a=t.oldIndex,u=t.newIndex,c=t.oldDraggableIndex,h=t.newDraggableIndex,d=t.originalEvent,f=t.putSortable,p=t.extraEventProperties;if(e=e||n&&n[gn],!!e){var m,g=e.options,v="on"+i.charAt(0).toUpperCase()+i.substr(1);window.CustomEvent&&!Or&&!eu?m=new CustomEvent(i,{bubbles:!0,cancelable:!0}):(m=document.createEvent("Event"),m.initEvent(i,!0,!0)),m.to=s||n,m.from=l||n,m.item=r||n,m.clone=o,m.oldIndex=a,m.newIndex=u,m.oldDraggableIndex=c,m.newDraggableIndex=h,m.originalEvent=d,m.pullMode=f?f.lastPutMode:void 0;var y=tr(tr({},p),iu.getEventProperties(i,e));for(var k in y)m[k]=y[k];n&&n.dispatchEvent(m),g[v]&&g[v].call(e,m)}}var H6=["evt"],jn=function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=i.evt,o=O6(i,H6);iu.pluginEvent.bind(Le)(e,n,tr({dragEl:ae,parentEl:Ot,ghostEl:ze,rootEl:vt,nextEl:As,lastDownEl:Jd,cloneEl:St,cloneHidden:Co,dragStarted:su,putSortable:sn,activeSortable:Le.active,originalEvent:r,oldIndex:tl,oldDraggableIndex:ou,newIndex:ii,newDraggableIndex:Eo,hideGhostForTarget:H$,unhideGhostForTarget:U$,cloneNowHidden:function(){Co=!0},cloneNowShown:function(){Co=!1},dispatchSortableEvent:function(l){$n({sortable:n,name:l,originalEvent:r})}},o))};function $n(t){ru(tr({putSortable:sn,cloneEl:St,targetEl:ae,rootEl:vt,oldIndex:tl,oldDraggableIndex:ou,newIndex:ii,newDraggableIndex:Eo},t))}var ae,Ot,ze,vt,As,Jd,St,Co,tl,ii,ou,Eo,Zd,sn,nl=!1,ef=!1,tf=[],Os,Ni,tb,nb,F$,z$,su,il,au,lu=!1,nf=!1,rf,vn,ib=[],rb=!1,of=[],sf=typeof document<"u",af=$$,B$=eu||Or?"cssFloat":"float",U6=sf&&!A$&&!$$&&"draggable"in document.createElement("div"),j$=function(){if(sf){if(Or)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),V$=function(e,n){var i=be(e),r=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),o=Za(e,0,n),s=Za(e,1,n),l=o&&be(o),a=s&&be(s),u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+gt(o).width,c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+gt(s).width;if(i.display==="flex")return i.flexDirection==="column"||i.flexDirection==="column-reverse"?"vertical":"horizontal";if(i.display==="grid")return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&l.float&&l.float!=="none"){var h=l.float==="left"?"left":"right";return s&&(a.clear==="both"||a.clear===h)?"vertical":"horizontal"}return o&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||u>=r&&i[B$]==="none"||s&&i[B$]==="none"&&u+c>r)?"vertical":"horizontal"},K6=function(e,n,i){var r=i?e.left:e.top,o=i?e.right:e.bottom,s=i?e.width:e.height,l=i?n.left:n.top,a=i?n.right:n.bottom,u=i?n.width:n.height;return r===l||o===a||r+s/2===l+u/2},G6=function(e,n){var i;return tf.some(function(r){var o=r[gn].options.emptyInsertThreshold;if(!(!o||qy(r))){var s=gt(r),l=e>=s.left-o&&e<=s.right+o,a=n>=s.top-o&&n<=s.bottom+o;if(l&&a)return i=r}}),i},W$=function(e){function n(o,s){return function(l,a,u,c){var h=l.options.group.name&&a.options.group.name&&l.options.group.name===a.options.group.name;if(o==null&&(s||h))return!0;if(o==null||o===!1)return!1;if(s&&o==="clone")return o;if(typeof o=="function")return n(o(l,a,u,c),s)(l,a,u,c);var d=(s?l:a).options.group.name;return o===!0||typeof o=="string"&&o===d||o.join&&o.indexOf(d)>-1}}var i={},r=e.group;(!r||qd(r)!="object")&&(r={name:r}),i.name=r.name,i.checkPull=n(r.pull,!0),i.checkPut=n(r.put),i.revertClone=r.revertClone,e.group=i},H$=function(){!j$&&ze&&be(ze,"display","none")},U$=function(){!j$&&ze&&be(ze,"display","")};sf&&!A$&&document.addEventListener("click",function(t){if(ef)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),ef=!1,!1},!0);var Ms=function(e){if(ae){e=e.touches?e.touches[0]:e;var n=G6(e.clientX,e.clientY);if(n){var i={};for(var r in e)e.hasOwnProperty(r)&&(i[r]=e[r]);i.target=i.rootEl=n,i.preventDefault=void 0,i.stopPropagation=void 0,n[gn]._onDragOver(i)}}},Y6=function(e){ae&&ae.parentNode[gn]._isOutsideThisEl(e.target)};function Le(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=vi({},e),t[gn]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return V$(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(s,l){s.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Le.supportPointer!==!1&&"PointerEvent"in window&&!tu,emptyInsertThreshold:5};iu.initializePlugins(this,t,n);for(var i in n)!(i in e)&&(e[i]=n[i]);W$(e);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=e.forceFallback?!1:U6,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?Ye(t,"pointerdown",this._onTapStart):(Ye(t,"mousedown",this._onTapStart),Ye(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(Ye(t,"dragover",this),Ye(t,"dragenter",this)),tf.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),vi(this,j6())}Le.prototype={constructor:Le,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(il=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,ae):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,i=this.el,r=this.options,o=r.preventOnFilter,s=e.type,l=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,a=(l||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||a,c=r.filter;if(nj(i),!ae&&!(/mousedown|pointerdown/.test(s)&&e.button!==0||r.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&tu&&a&&a.tagName.toUpperCase()==="SELECT")&&(a=Ii(a,r.draggable,i,!1),!(a&&a.animated)&&Jd!==a)){if(tl=At(a),ou=At(a,r.draggable),typeof c=="function"){if(c.call(this,e,a,this)){$n({sortable:n,rootEl:u,name:"filter",targetEl:a,toEl:i,fromEl:i}),jn("filter",n,{evt:e}),o&&e.cancelable&&e.preventDefault();return}}else if(c&&(c=c.split(",").some(function(h){if(h=Ii(u,h.trim(),i,!1),h)return $n({sortable:n,rootEl:h,name:"filter",targetEl:a,fromEl:i,toEl:i}),jn("filter",n,{evt:e}),!0}),c)){o&&e.cancelable&&e.preventDefault();return}r.handle&&!Ii(u,r.handle,i,!1)||this._prepareDragStart(e,l,a)}}},_prepareDragStart:function(e,n,i){var r=this,o=r.el,s=r.options,l=o.ownerDocument,a;if(i&&!ae&&i.parentNode===o){var u=gt(i);if(vt=o,ae=i,Ot=ae.parentNode,As=ae.nextSibling,Jd=i,Zd=s.group,Le.dragged=ae,Os={target:ae,clientX:(n||e).clientX,clientY:(n||e).clientY},F$=Os.clientX-u.left,z$=Os.clientY-u.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,ae.style["will-change"]="all",a=function(){if(jn("delayEnded",r,{evt:e}),Le.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!T$&&r.nativeDraggable&&(ae.draggable=!0),r._triggerDragStart(e,n),$n({sortable:r,name:"choose",originalEvent:e}),xt(ae,s.chosenClass,!0)},s.ignore.split(",").forEach(function(c){L$(ae,c.trim(),ob)}),Ye(l,"dragover",Ms),Ye(l,"mousemove",Ms),Ye(l,"touchmove",Ms),Ye(l,"mouseup",r._onDrop),Ye(l,"touchend",r._onDrop),Ye(l,"touchcancel",r._onDrop),T$&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ae.draggable=!0),jn("delayStart",this,{evt:e}),s.delay&&(!s.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(eu||Or))){if(Le.eventCanceled){this._onDrop();return}Ye(l,"mouseup",r._disableDelayedDrag),Ye(l,"touchend",r._disableDelayedDrag),Ye(l,"touchcancel",r._disableDelayedDrag),Ye(l,"mousemove",r._delayedDragTouchMoveHandler),Ye(l,"touchmove",r._delayedDragTouchMoveHandler),s.supportPointer&&Ye(l,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(a,s.delay)}else a()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ae&&ob(ae),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;Ue(e,"mouseup",this._disableDelayedDrag),Ue(e,"touchend",this._disableDelayedDrag),Ue(e,"touchcancel",this._disableDelayedDrag),Ue(e,"mousemove",this._delayedDragTouchMoveHandler),Ue(e,"touchmove",this._delayedDragTouchMoveHandler),Ue(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?Ye(document,"pointermove",this._onTouchMove):n?Ye(document,"touchmove",this._onTouchMove):Ye(document,"mousemove",this._onTouchMove):(Ye(ae,"dragend",this),Ye(vt,"dragstart",this._onDragStart));try{document.selection?cf(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(nl=!1,vt&&ae){jn("dragStarted",this,{evt:n}),this.nativeDraggable&&Ye(document,"dragover",Y6);var i=this.options;!e&&xt(ae,i.dragClass,!1),xt(ae,i.ghostClass,!0),Le.active=this,e&&this._appendGhost(),$n({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(Ni){this._lastX=Ni.clientX,this._lastY=Ni.clientY,H$();for(var e=document.elementFromPoint(Ni.clientX,Ni.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Ni.clientX,Ni.clientY),e!==n);)n=e;if(ae.parentNode[gn]._isOutsideThisEl(e),n)do{if(n[gn]){var i=void 0;if(i=n[gn]._onDragOver({clientX:Ni.clientX,clientY:Ni.clientY,target:e,rootEl:n}),i&&!this.options.dragoverBubble)break}e=n}while(n=n.parentNode);U$()}},_onTouchMove:function(e){if(Os){var n=this.options,i=n.fallbackTolerance,r=n.fallbackOffset,o=e.touches?e.touches[0]:e,s=ze&&$s(ze,!0),l=ze&&s&&s.a,a=ze&&s&&s.d,u=af&&vn&&P$(vn),c=(o.clientX-Os.clientX+r.x)/(l||1)+(u?u[0]-ib[0]:0)/(l||1),h=(o.clientY-Os.clientY+r.y)/(a||1)+(u?u[1]-ib[1]:0)/(a||1);if(!Le.active&&!nl){if(i&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<i)return;this._onDragStart(e,!0)}if(ze){s?(s.e+=c-(tb||0),s.f+=h-(nb||0)):s={a:1,b:0,c:0,d:1,e:c,f:h};var d="matrix(".concat(s.a,",").concat(s.b,",").concat(s.c,",").concat(s.d,",").concat(s.e,",").concat(s.f,")");be(ze,"webkitTransform",d),be(ze,"mozTransform",d),be(ze,"msTransform",d),be(ze,"transform",d),tb=c,nb=h,Ni=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!ze){var e=this.options.fallbackOnBody?document.body:vt,n=gt(ae,!0,af,!0,e),i=this.options;if(af){for(vn=e;be(vn,"position")==="static"&&be(vn,"transform")==="none"&&vn!==document;)vn=vn.parentNode;vn!==document.body&&vn!==document.documentElement?(vn===document&&(vn=nr()),n.top+=vn.scrollTop,n.left+=vn.scrollLeft):vn=nr(),ib=P$(vn)}ze=ae.cloneNode(!0),xt(ze,i.ghostClass,!1),xt(ze,i.fallbackClass,!0),xt(ze,i.dragClass,!0),be(ze,"transition",""),be(ze,"transform",""),be(ze,"box-sizing","border-box"),be(ze,"margin",0),be(ze,"top",n.top),be(ze,"left",n.left),be(ze,"width",n.width),be(ze,"height",n.height),be(ze,"opacity","0.8"),be(ze,"position",af?"absolute":"fixed"),be(ze,"zIndex","100000"),be(ze,"pointerEvents","none"),Le.ghost=ze,e.appendChild(ze),be(ze,"transform-origin",F$/parseInt(ze.style.width)*100+"% "+z$/parseInt(ze.style.height)*100+"%")}},_onDragStart:function(e,n){var i=this,r=e.dataTransfer,o=i.options;if(jn("dragStart",this,{evt:e}),Le.eventCanceled){this._onDrop();return}jn("setupClone",this),Le.eventCanceled||(St=Jy(ae),St.removeAttribute("id"),St.draggable=!1,St.style["will-change"]="",this._hideClone(),xt(St,this.options.chosenClass,!1),Le.clone=St),i.cloneId=cf(function(){jn("clone",i),!Le.eventCanceled&&(i.options.removeCloneOnHide||vt.insertBefore(St,ae),i._hideClone(),$n({sortable:i,name:"clone"}))}),!n&&xt(ae,o.dragClass,!0),n?(ef=!0,i._loopId=setInterval(i._emulateDragOver,50)):(Ue(document,"mouseup",i._onDrop),Ue(document,"touchend",i._onDrop),Ue(document,"touchcancel",i._onDrop),r&&(r.effectAllowed="move",o.setData&&o.setData.call(i,r,ae)),Ye(document,"drop",i),be(ae,"transform","translateZ(0)")),nl=!0,i._dragStartId=cf(i._dragStarted.bind(i,n,e)),Ye(document,"selectstart",i),su=!0,tu&&be(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,i=e.target,r,o,s,l=this.options,a=l.group,u=Le.active,c=Zd===a,h=l.sort,d=sn||u,f,p=this,m=!1;if(rb)return;function g(N,D){jn(N,p,tr({evt:e,isOwner:c,axis:f?"vertical":"horizontal",revert:s,dragRect:r,targetRect:o,canSort:h,fromSortable:d,target:i,completed:y,onMove:function(z,F){return lf(vt,n,ae,r,z,gt(z),e,F)},changed:k},D))}function v(){g("dragOverAnimationCapture"),p.captureAnimationState(),p!==d&&d.captureAnimationState()}function y(N){return g("dragOverCompleted",{insertion:N}),N&&(c?u._hideClone():u._showClone(p),p!==d&&(xt(ae,sn?sn.options.ghostClass:u.options.ghostClass,!1),xt(ae,l.ghostClass,!0)),sn!==p&&p!==Le.active?sn=p:p===Le.active&&sn&&(sn=null),d===p&&(p._ignoreWhileAnimating=i),p.animateAll(function(){g("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==d&&(d.animateAll(),d._ignoreWhileAnimating=null)),(i===ae&&!ae.animated||i===n&&!i.animated)&&(il=null),!l.dragoverBubble&&!e.rootEl&&i!==document&&(ae.parentNode[gn]._isOutsideThisEl(e.target),!N&&Ms(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function k(){ii=At(ae),Eo=At(ae,l.draggable),$n({sortable:p,name:"change",toEl:n,newIndex:ii,newDraggableIndex:Eo,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),i=Ii(i,l.draggable,n,!0),g("dragOver"),Le.eventCanceled)return m;if(ae.contains(e.target)||i.animated&&i.animatingX&&i.animatingY||p._ignoreWhileAnimating===i)return y(!1);if(ef=!1,u&&!l.disabled&&(c?h||(s=Ot!==vt):sn===this||(this.lastPutMode=Zd.checkPull(this,u,ae,e))&&a.checkPut(this,u,ae,e))){if(f=this._getDirection(e,i)==="vertical",r=gt(ae),g("dragOverValid"),Le.eventCanceled)return m;if(s)return Ot=vt,v(),this._hideClone(),g("revert"),Le.eventCanceled||(As?vt.insertBefore(ae,As):vt.appendChild(ae)),y(!0);var C=qy(n,l.draggable);if(!C||J6(e,f,this)&&!C.animated){if(C===ae)return y(!1);if(C&&n===e.target&&(i=C),i&&(o=gt(i)),lf(vt,n,ae,r,i,o,e,!!i)!==!1)return v(),C&&C.nextSibling?n.insertBefore(ae,C.nextSibling):n.appendChild(ae),Ot=n,k(),y(!0)}else if(C&&Q6(e,f,this)){var T=Za(n,0,l,!0);if(T===ae)return y(!1);if(i=T,o=gt(i),lf(vt,n,ae,r,i,o,e,!1)!==!1)return v(),n.insertBefore(ae,T),Ot=n,k(),y(!0)}else if(i.parentNode===n){o=gt(i);var _=0,E,w=ae.parentNode!==n,S=!K6(ae.animated&&ae.toRect||r,i.animated&&i.toRect||o,f),b=f?"top":"left",x=R$(i,"top","top")||R$(ae,"top","top"),A=x?x.scrollTop:void 0;il!==i&&(E=o[b],lu=!1,nf=!S&&l.invertSwap||w),_=Z6(e,i,o,f,S?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,nf,il===i);var O;if(_!==0){var $=At(ae);do $-=_,O=Ot.children[$];while(O&&(be(O,"display")==="none"||O===ze))}if(_===0||O===i)return y(!1);il=i,au=_;var M=i.nextElementSibling,R=!1;R=_===1;var P=lf(vt,n,ae,r,i,o,e,R);if(P!==!1)return(P===1||P===-1)&&(R=P===1),rb=!0,setTimeout(q6,30),v(),R&&!M?n.appendChild(ae):i.parentNode.insertBefore(ae,R?M:i),x&&I$(x,0,A-x.scrollTop),Ot=ae.parentNode,E!==void 0&&!nf&&(rf=Math.abs(E-gt(i)[b])),k(),y(!0)}if(n.contains(ae))return y(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Ue(document,"mousemove",this._onTouchMove),Ue(document,"touchmove",this._onTouchMove),Ue(document,"pointermove",this._onTouchMove),Ue(document,"dragover",Ms),Ue(document,"mousemove",Ms),Ue(document,"touchmove",Ms)},_offUpEvents:function(){var e=this.el.ownerDocument;Ue(e,"mouseup",this._onDrop),Ue(e,"touchend",this._onDrop),Ue(e,"pointerup",this._onDrop),Ue(e,"touchcancel",this._onDrop),Ue(document,"selectstart",this)},_onDrop:function(e){var n=this.el,i=this.options;if(ii=At(ae),Eo=At(ae,i.draggable),jn("drop",this,{evt:e}),Ot=ae&&ae.parentNode,ii=At(ae),Eo=At(ae,i.draggable),Le.eventCanceled){this._nulling();return}nl=!1,nf=!1,lu=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),sb(this.cloneId),sb(this._dragStartId),this.nativeDraggable&&(Ue(document,"drop",this),Ue(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),tu&&be(document.body,"user-select",""),be(ae,"transform",""),e&&(su&&(e.cancelable&&e.preventDefault(),!i.dropBubble&&e.stopPropagation()),ze&&ze.parentNode&&ze.parentNode.removeChild(ze),(vt===Ot||sn&&sn.lastPutMode!=="clone")&&St&&St.parentNode&&St.parentNode.removeChild(St),ae&&(this.nativeDraggable&&Ue(ae,"dragend",this),ob(ae),ae.style["will-change"]="",su&&!nl&&xt(ae,sn?sn.options.ghostClass:this.options.ghostClass,!1),xt(ae,this.options.chosenClass,!1),$n({sortable:this,name:"unchoose",toEl:Ot,newIndex:null,newDraggableIndex:null,originalEvent:e}),vt!==Ot?(ii>=0&&($n({rootEl:Ot,name:"add",toEl:Ot,fromEl:vt,originalEvent:e}),$n({sortable:this,name:"remove",toEl:Ot,originalEvent:e}),$n({rootEl:Ot,name:"sort",toEl:Ot,fromEl:vt,originalEvent:e}),$n({sortable:this,name:"sort",toEl:Ot,originalEvent:e})),sn&&sn.save()):ii!==tl&&ii>=0&&($n({sortable:this,name:"update",toEl:Ot,originalEvent:e}),$n({sortable:this,name:"sort",toEl:Ot,originalEvent:e})),Le.active&&((ii==null||ii===-1)&&(ii=tl,Eo=ou),$n({sortable:this,name:"end",toEl:Ot,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){jn("nulling",this),vt=ae=Ot=ze=As=St=Jd=Co=Os=Ni=su=ii=Eo=tl=ou=il=au=sn=Zd=Le.dragged=Le.ghost=Le.clone=Le.active=null,of.forEach(function(e){e.checked=!0}),of.length=tb=nb=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":ae&&(this._onDragOver(e),X6(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,i=this.el.children,r=0,o=i.length,s=this.options;r<o;r++)n=i[r],Ii(n,s.draggable,this.el,!1)&&e.push(n.getAttribute(s.dataIdAttr)||tj(n));return e},sort:function(e,n){var i={},r=this.el;this.toArray().forEach(function(o,s){var l=r.children[s];Ii(l,this.options.draggable,r,!1)&&(i[o]=l)},this),n&&this.captureAnimationState(),e.forEach(function(o){i[o]&&(r.removeChild(i[o]),r.appendChild(i[o]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return Ii(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var i=this.options;if(n===void 0)return i[e];var r=iu.modifyOption(this,e,n);typeof r<"u"?i[e]=r:i[e]=n,e==="group"&&W$(i)},destroy:function(){jn("destroy",this);var e=this.el;e[gn]=null,Ue(e,"mousedown",this._onTapStart),Ue(e,"touchstart",this._onTapStart),Ue(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Ue(e,"dragover",this),Ue(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),tf.splice(tf.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Co){if(jn("hideClone",this),Le.eventCanceled)return;be(St,"display","none"),this.options.removeCloneOnHide&&St.parentNode&&St.parentNode.removeChild(St),Co=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Co){if(jn("showClone",this),Le.eventCanceled)return;ae.parentNode==vt&&!this.options.group.revertClone?vt.insertBefore(St,ae):As?vt.insertBefore(St,As):vt.appendChild(St),this.options.group.revertClone&&this.animate(ae,St),be(St,"display",""),Co=!1}}};function X6(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function lf(t,e,n,i,r,o,s,l){var a,u=t[gn],c=u.options.onMove,h;return window.CustomEvent&&!Or&&!eu?a=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(a=document.createEvent("Event"),a.initEvent("move",!0,!0)),a.to=e,a.from=t,a.dragged=n,a.draggedRect=i,a.related=r||e,a.relatedRect=o||gt(e),a.willInsertAfter=l,a.originalEvent=s,t.dispatchEvent(a),c&&(h=c.call(u,a,s)),h}function ob(t){t.draggable=!1}function q6(){rb=!1}function Q6(t,e,n){var i=gt(Za(n.el,0,n.options,!0)),r=10;return e?t.clientX<i.left-r||t.clientY<i.top&&t.clientX<i.right:t.clientY<i.top-r||t.clientY<i.bottom&&t.clientX<i.left}function J6(t,e,n){var i=gt(qy(n.el,n.options.draggable)),r=10;return e?t.clientX>i.right+r||t.clientX<=i.right&&t.clientY>i.bottom&&t.clientX>=i.left:t.clientX>i.right&&t.clientY>i.top||t.clientX<=i.right&&t.clientY>i.bottom+r}function Z6(t,e,n,i,r,o,s,l){var a=i?t.clientY:t.clientX,u=i?n.height:n.width,c=i?n.top:n.left,h=i?n.bottom:n.right,d=!1;if(!s){if(l&&rf<u*r){if(!lu&&(au===1?a>c+u*o/2:a<h-u*o/2)&&(lu=!0),lu)d=!0;else if(au===1?a<c+rf:a>h-rf)return-au}else if(a>c+u*(1-r)/2&&a<h-u*(1-r)/2)return ej(e)}return d=d||s,d&&(a<c+u*o/2||a>h-u*o/2)?a>c+u/2?1:-1:0}function ej(t){return At(ae)<At(t)?1:-1}function tj(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,i=0;n--;)i+=e.charCodeAt(n);return i.toString(36)}function nj(t){of.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var i=e[n];i.checked&&of.push(i)}}function cf(t){return setTimeout(t,0)}function sb(t){return clearTimeout(t)}sf&&Ye(document,"touchmove",function(t){(Le.active||nl)&&t.cancelable&&t.preventDefault()}),Le.utils={on:Ye,off:Ue,css:be,find:L$,is:function(e,n){return!!Ii(e,n,e,!1)},extend:z6,throttle:D$,closest:Ii,toggleClass:xt,clone:Jy,index:At,nextTick:cf,cancelNextTick:sb,detectDirection:V$,getChild:Za},Le.get=function(t){return t[gn]},Le.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&(Le.utils=tr(tr({},Le.utils),i.utils)),iu.mount(i)})},Le.create=function(t,e){return new Le(t,e)},Le.version=I6;var Ft=[],cu,ab,lb=!1,cb,ub,uf,uu;function ij(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var i=n.originalEvent;this.sortable.nativeDraggable?Ye(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Ye(document,"pointermove",this._handleFallbackAutoScroll):i.touches?Ye(document,"touchmove",this._handleFallbackAutoScroll):Ye(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var i=n.originalEvent;!this.options.dragOverBubble&&!i.rootEl&&this._handleAutoScroll(i)},drop:function(){this.sortable.nativeDraggable?Ue(document,"dragover",this._handleAutoScroll):(Ue(document,"pointermove",this._handleFallbackAutoScroll),Ue(document,"touchmove",this._handleFallbackAutoScroll),Ue(document,"mousemove",this._handleFallbackAutoScroll)),K$(),hf(),B6()},nulling:function(){uf=ab=cu=lb=uu=cb=ub=null,Ft.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,i){var r=this,o=(n.touches?n.touches[0]:n).clientX,s=(n.touches?n.touches[0]:n).clientY,l=document.elementFromPoint(o,s);if(uf=n,i||this.options.forceAutoScrollFallback||eu||Or||tu){hb(n,this.options,l,i);var a=ko(l,!0);lb&&(!uu||o!==cb||s!==ub)&&(uu&&K$(),uu=setInterval(function(){var u=ko(document.elementFromPoint(o,s),!0);u!==a&&(a=u,hf()),hb(n,r.options,u,i)},10),cb=o,ub=s)}else{if(!this.options.bubbleScroll||ko(l,!0)===nr()){hf();return}hb(n,this.options,ko(l,!1),!1)}}},vi(t,{pluginName:"scroll",initializeByDefault:!0})}function hf(){Ft.forEach(function(t){clearInterval(t.pid)}),Ft=[]}function K$(){clearInterval(uu)}var hb=D$(function(t,e,n,i){if(e.scroll){var r=(t.touches?t.touches[0]:t).clientX,o=(t.touches?t.touches[0]:t).clientY,s=e.scrollSensitivity,l=e.scrollSpeed,a=nr(),u=!1,c;ab!==n&&(ab=n,hf(),cu=e.scroll,c=e.scrollFn,cu===!0&&(cu=ko(n,!0)));var h=0,d=cu;do{var f=d,p=gt(f),m=p.top,g=p.bottom,v=p.left,y=p.right,k=p.width,C=p.height,T=void 0,_=void 0,E=f.scrollWidth,w=f.scrollHeight,S=be(f),b=f.scrollLeft,x=f.scrollTop;f===a?(T=k<E&&(S.overflowX==="auto"||S.overflowX==="scroll"||S.overflowX==="visible"),_=C<w&&(S.overflowY==="auto"||S.overflowY==="scroll"||S.overflowY==="visible")):(T=k<E&&(S.overflowX==="auto"||S.overflowX==="scroll"),_=C<w&&(S.overflowY==="auto"||S.overflowY==="scroll"));var A=T&&(Math.abs(y-r)<=s&&b+k<E)-(Math.abs(v-r)<=s&&!!b),O=_&&(Math.abs(g-o)<=s&&x+C<w)-(Math.abs(m-o)<=s&&!!x);if(!Ft[h])for(var $=0;$<=h;$++)Ft[$]||(Ft[$]={});(Ft[h].vx!=A||Ft[h].vy!=O||Ft[h].el!==f)&&(Ft[h].el=f,Ft[h].vx=A,Ft[h].vy=O,clearInterval(Ft[h].pid),(A!=0||O!=0)&&(u=!0,Ft[h].pid=setInterval((function(){i&&this.layer===0&&Le.active._onTouchMove(uf);var M=Ft[this.layer].vy?Ft[this.layer].vy*l:0,R=Ft[this.layer].vx?Ft[this.layer].vx*l:0;typeof c=="function"&&c.call(Le.dragged.parentNode[gn],R,M,t,uf,Ft[this.layer].el)!=="continue"||I$(Ft[this.layer].el,R,M)}).bind({layer:h}),24))),h++}while(e.bubbleScroll&&d!==a&&(d=ko(d,!1)));lb=u}},30),G$=function(e){var n=e.originalEvent,i=e.putSortable,r=e.dragEl,o=e.activeSortable,s=e.dispatchSortableEvent,l=e.hideGhostForTarget,a=e.unhideGhostForTarget;if(n){var u=i||o;l();var c=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,h=document.elementFromPoint(c.clientX,c.clientY);a(),u&&!u.el.contains(h)&&(s("spill"),this.onSpill({dragEl:r,putSortable:i}))}};function db(){}db.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,i=e.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var r=Za(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(n,r):this.sortable.el.appendChild(n),this.sortable.animateAll(),i&&i.animateAll()},drop:G$},vi(db,{pluginName:"revertOnSpill"});function fb(){}fb.prototype={onSpill:function(e){var n=e.dragEl,i=e.putSortable,r=i||this.sortable;r.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),r.animateAll()},drop:G$},vi(fb,{pluginName:"removeOnSpill"});var yi;function rj(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(n){var i=n.dragEl;yi=i},dragOverValid:function(n){var i=n.completed,r=n.target,o=n.onMove,s=n.activeSortable,l=n.changed,a=n.cancel;if(s.options.swap){var u=this.sortable.el,c=this.options;if(r&&r!==u){var h=yi;o(r)!==!1?(xt(r,c.swapClass,!0),yi=r):yi=null,h&&h!==yi&&xt(h,c.swapClass,!1)}l(),i(!0),a()}},drop:function(n){var i=n.activeSortable,r=n.putSortable,o=n.dragEl,s=r||this.sortable,l=this.options;yi&&xt(yi,l.swapClass,!1),yi&&(l.swap||r&&r.options.swap)&&o!==yi&&(s.captureAnimationState(),s!==i&&i.captureAnimationState(),oj(o,yi),s.animateAll(),s!==i&&i.animateAll())},nulling:function(){yi=null}},vi(t,{pluginName:"swap",eventProperties:function(){return{swapItem:yi}}})}function oj(t,e){var n=t.parentNode,i=e.parentNode,r,o;!n||!i||n.isEqualNode(e)||i.isEqualNode(t)||(r=At(t),o=At(e),n.isEqualNode(i)&&r<o&&o++,n.insertBefore(e,n.children[r]),i.insertBefore(t,i.children[o]))}var Ie=[],ri=[],hu,Fi,du=!1,Vn=!1,rl=!1,at,fu,df;function sj(){function t(e){for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));e.options.avoidImplicitDeselect||(e.options.supportPointer?Ye(document,"pointerup",this._deselectMultiDrag):(Ye(document,"mouseup",this._deselectMultiDrag),Ye(document,"touchend",this._deselectMultiDrag))),Ye(document,"keydown",this._checkKeyDown),Ye(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,avoidImplicitDeselect:!1,setData:function(r,o){var s="";Ie.length&&Fi===e?Ie.forEach(function(l,a){s+=(a?", ":"")+l.textContent}):s=o.textContent,r.setData("Text",s)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(n){var i=n.dragEl;at=i},delayEnded:function(){this.isMultiDrag=~Ie.indexOf(at)},setupClone:function(n){var i=n.sortable,r=n.cancel;if(this.isMultiDrag){for(var o=0;o<Ie.length;o++)ri.push(Jy(Ie[o])),ri[o].sortableIndex=Ie[o].sortableIndex,ri[o].draggable=!1,ri[o].style["will-change"]="",xt(ri[o],this.options.selectedClass,!1),Ie[o]===at&&xt(ri[o],this.options.chosenClass,!1);i._hideClone(),r()}},clone:function(n){var i=n.sortable,r=n.rootEl,o=n.dispatchSortableEvent,s=n.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||Ie.length&&Fi===i&&(Y$(!0,r),o("clone"),s()))},showClone:function(n){var i=n.cloneNowShown,r=n.rootEl,o=n.cancel;this.isMultiDrag&&(Y$(!1,r),ri.forEach(function(s){be(s,"display","")}),i(),df=!1,o())},hideClone:function(n){var i=this;n.sortable;var r=n.cloneNowHidden,o=n.cancel;this.isMultiDrag&&(ri.forEach(function(s){be(s,"display","none"),i.options.removeCloneOnHide&&s.parentNode&&s.parentNode.removeChild(s)}),r(),df=!0,o())},dragStartGlobal:function(n){n.sortable,!this.isMultiDrag&&Fi&&Fi.multiDrag._deselectMultiDrag(),Ie.forEach(function(i){i.sortableIndex=At(i)}),Ie=Ie.sort(function(i,r){return i.sortableIndex-r.sortableIndex}),rl=!0},dragStarted:function(n){var i=this,r=n.sortable;if(this.isMultiDrag){if(this.options.sort&&(r.captureAnimationState(),this.options.animation)){Ie.forEach(function(s){s!==at&&be(s,"position","absolute")});var o=gt(at,!1,!0,!0);Ie.forEach(function(s){s!==at&&N$(s,o)}),Vn=!0,du=!0}r.animateAll(function(){Vn=!1,du=!1,i.options.animation&&Ie.forEach(function(s){Zy(s)}),i.options.sort&&ff()})}},dragOver:function(n){var i=n.target,r=n.completed,o=n.cancel;Vn&&~Ie.indexOf(i)&&(r(!1),o())},revert:function(n){var i=n.fromSortable,r=n.rootEl,o=n.sortable,s=n.dragRect;Ie.length>1&&(Ie.forEach(function(l){o.addAnimationState({target:l,rect:Vn?gt(l):s}),Zy(l),l.fromRect=s,i.removeAnimationState(l)}),Vn=!1,aj(!this.options.removeCloneOnHide,r))},dragOverCompleted:function(n){var i=n.sortable,r=n.isOwner,o=n.insertion,s=n.activeSortable,l=n.parentEl,a=n.putSortable,u=this.options;if(o){if(r&&s._hideClone(),du=!1,u.animation&&Ie.length>1&&(Vn||!r&&!s.options.sort&&!a)){var c=gt(at,!1,!0,!0);Ie.forEach(function(d){d!==at&&(N$(d,c),l.appendChild(d))}),Vn=!0}if(!r)if(Vn||ff(),Ie.length>1){var h=df;s._showClone(i),s.options.animation&&!df&&h&&ri.forEach(function(d){s.addAnimationState({target:d,rect:fu}),d.fromRect=fu,d.thisAnimationDuration=null})}else s._showClone(i)}},dragOverAnimationCapture:function(n){var i=n.dragRect,r=n.isOwner,o=n.activeSortable;if(Ie.forEach(function(l){l.thisAnimationDuration=null}),o.options.animation&&!r&&o.multiDrag.isMultiDrag){fu=vi({},i);var s=$s(at,!0);fu.top-=s.f,fu.left-=s.e}},dragOverAnimationComplete:function(){Vn&&(Vn=!1,ff())},drop:function(n){var i=n.originalEvent,r=n.rootEl,o=n.parentEl,s=n.sortable,l=n.dispatchSortableEvent,a=n.oldIndex,u=n.putSortable,c=u||this.sortable;if(i){var h=this.options,d=o.children;if(!rl)if(h.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),xt(at,h.selectedClass,!~Ie.indexOf(at)),~Ie.indexOf(at))Ie.splice(Ie.indexOf(at),1),hu=null,ru({sortable:s,rootEl:r,name:"deselect",targetEl:at,originalEvent:i});else{if(Ie.push(at),ru({sortable:s,rootEl:r,name:"select",targetEl:at,originalEvent:i}),i.shiftKey&&hu&&s.el.contains(hu)){var f=At(hu),p=At(at);if(~f&&~p&&f!==p){var m,g;for(p>f?(g=f,m=p):(g=p,m=f+1);g<m;g++)~Ie.indexOf(d[g])||(xt(d[g],h.selectedClass,!0),Ie.push(d[g]),ru({sortable:s,rootEl:r,name:"select",targetEl:d[g],originalEvent:i}))}}else hu=at;Fi=c}if(rl&&this.isMultiDrag){if(Vn=!1,(o[gn].options.sort||o!==r)&&Ie.length>1){var v=gt(at),y=At(at,":not(."+this.options.selectedClass+")");if(!du&&h.animation&&(at.thisAnimationDuration=null),c.captureAnimationState(),!du&&(h.animation&&(at.fromRect=v,Ie.forEach(function(C){if(C.thisAnimationDuration=null,C!==at){var T=Vn?gt(C):v;C.fromRect=T,c.addAnimationState({target:C,rect:T})}})),ff(),Ie.forEach(function(C){d[y]?o.insertBefore(C,d[y]):o.appendChild(C),y++}),a===At(at))){var k=!1;Ie.forEach(function(C){if(C.sortableIndex!==At(C)){k=!0;return}}),k&&l("update")}Ie.forEach(function(C){Zy(C)}),c.animateAll()}Fi=c}(r===o||u&&u.lastPutMode!=="clone")&&ri.forEach(function(C){C.parentNode&&C.parentNode.removeChild(C)})}},nullingGlobal:function(){this.isMultiDrag=rl=!1,ri.length=0},destroyGlobal:function(){this._deselectMultiDrag(),Ue(document,"pointerup",this._deselectMultiDrag),Ue(document,"mouseup",this._deselectMultiDrag),Ue(document,"touchend",this._deselectMultiDrag),Ue(document,"keydown",this._checkKeyDown),Ue(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(n){if(!(typeof rl<"u"&&rl)&&Fi===this.sortable&&!(n&&Ii(n.target,this.options.draggable,this.sortable.el,!1))&&!(n&&n.button!==0))for(;Ie.length;){var i=Ie[0];xt(i,this.options.selectedClass,!1),Ie.shift(),ru({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:i,originalEvent:n})}},_checkKeyDown:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},vi(t,{pluginName:"multiDrag",utils:{select:function(n){var i=n.parentNode[gn];!i||!i.options.multiDrag||~Ie.indexOf(n)||(Fi&&Fi!==i&&(Fi.multiDrag._deselectMultiDrag(),Fi=i),xt(n,i.options.selectedClass,!0),Ie.push(n))},deselect:function(n){var i=n.parentNode[gn],r=Ie.indexOf(n);!i||!i.options.multiDrag||!~r||(xt(n,i.options.selectedClass,!1),Ie.splice(r,1))}},eventProperties:function(){var n=this,i=[],r=[];return Ie.forEach(function(o){i.push({multiDragElement:o,index:o.sortableIndex});var s;Vn&&o!==at?s=-1:Vn?s=At(o,":not(."+n.options.selectedClass+")"):s=At(o),r.push({multiDragElement:o,index:s})}),{items:M6(Ie),clones:[].concat(ri),oldIndicies:i,newIndicies:r}},optionListeners:{multiDragKey:function(n){return n=n.toLowerCase(),n==="ctrl"?n="Control":n.length>1&&(n=n.charAt(0).toUpperCase()+n.substr(1)),n}}})}function aj(t,e){Ie.forEach(function(n,i){var r=e.children[n.sortableIndex+(t?Number(i):0)];r?e.insertBefore(n,r):e.appendChild(n)})}function Y$(t,e){ri.forEach(function(n,i){var r=e.children[n.sortableIndex+(t?Number(i):0)];r?e.insertBefore(n,r):e.appendChild(n)})}function ff(){Ie.forEach(function(t){t!==at&&t.parentNode&&t.parentNode.removeChild(t)})}Le.mount(new ij),Le.mount(fb,db);const lj=Sx(Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:sj,Sortable:Le,Swap:rj,default:Le},Symbol.toStringTag,{value:"Module"})));var X$={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var i=[],r=0;r<arguments.length;r++){var o=arguments[r];if(o){var s=typeof o;if(s==="string"||s==="number")i.push(o);else if(Array.isArray(o)){if(o.length){var l=n.apply(null,o);l&&i.push(l)}}else if(s==="object")if(o.toString===Object.prototype.toString)for(var a in o)e.call(o,a)&&o[a]&&i.push(a);else i.push(o.toString())}}return i.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(X$);var cj=X$.exports,uj="Invariant failed";function hj(t,e){if(!t)throw new Error(uj)}const dj=Sx(Object.freeze(Object.defineProperty({__proto__:null,default:hj},Symbol.toStringTag,{value:"Module"})));(function(t){var e=lj,n=cj,i=I,r=dj;function o(_){return _&&_.__esModule?_.default:_}function s(_,E,w,S){Object.defineProperty(_,E,{get:w,set:S,enumerable:!0,configurable:!0})}function l(_,E){return Object.keys(E).forEach(function(w){w==="default"||w==="__esModule"||_.hasOwnProperty(w)||Object.defineProperty(_,w,{enumerable:!0,get:function(){return E[w]}})}),_}s(t.exports,"Sortable",()=>$882b6d93070905b3$re_export$Sortable),s(t.exports,"Direction",()=>$882b6d93070905b3$re_export$Direction),s(t.exports,"DOMRect",()=>$882b6d93070905b3$re_export$DOMRect),s(t.exports,"GroupOptions",()=>$882b6d93070905b3$re_export$GroupOptions),s(t.exports,"MoveEvent",()=>$882b6d93070905b3$re_export$MoveEvent),s(t.exports,"Options",()=>$882b6d93070905b3$re_export$Options),s(t.exports,"PullResult",()=>$882b6d93070905b3$re_export$PullResult),s(t.exports,"PutResult",()=>$882b6d93070905b3$re_export$PutResult),s(t.exports,"SortableEvent",()=>$882b6d93070905b3$re_export$SortableEvent),s(t.exports,"SortableOptions",()=>$882b6d93070905b3$re_export$SortableOptions),s(t.exports,"Utils",()=>$882b6d93070905b3$re_export$Utils),s(t.exports,"ReactSortable",()=>C);function a(_){_.parentElement!==null&&_.parentElement.removeChild(_)}function u(_,E,w){const S=_.children[w]||null;_.insertBefore(E,S)}function c(_){_.forEach(E=>a(E.element))}function h(_){_.forEach(E=>{u(E.parentElement,E.element,E.oldIndex)})}function d(_,E){const w=g(_),S={parentElement:_.from};let b=[];switch(w){case"normal":b=[{element:_.item,newIndex:_.newIndex,oldIndex:_.oldIndex,parentElement:_.from}];break;case"swap":const O={element:_.item,oldIndex:_.oldIndex,newIndex:_.newIndex,...S},$={element:_.swapItem,oldIndex:_.newIndex,newIndex:_.oldIndex,...S};b=[O,$];break;case"multidrag":b=_.oldIndicies.map((M,R)=>({element:M.multiDragElement,oldIndex:M.index,newIndex:_.newIndicies[R].index,...S}));break}return v(b,E)}function f(_,E){const w=p(_,E);return m(_,w)}function p(_,E){const w=[...E];return _.concat().reverse().forEach(S=>w.splice(S.oldIndex,1)),w}function m(_,E,w,S){const b=[...E];return _.forEach(x=>{const A=S&&w&&S(x.item,w);b.splice(x.newIndex,0,A||x.item)}),b}function g(_){return _.oldIndicies&&_.oldIndicies.length>0?"multidrag":_.swapItem?"swap":"normal"}function v(_,E){return _.map(S=>({...S,item:E[S.oldIndex]})).sort((S,b)=>S.oldIndex-b.oldIndex)}function y(_){const{list:E,setList:w,children:S,tag:b,style:x,className:A,clone:O,onAdd:$,onChange:M,onChoose:R,onClone:P,onEnd:N,onFilter:D,onRemove:V,onSort:z,onStart:F,onUnchoose:B,onUpdate:j,onMove:H,onSpill:G,onSelect:Q,onDeselect:J,...Y}=_;return Y}const k={dragging:null};class C extends i.Component{constructor(E){super(E),this.ref=(0,i.createRef)();const w=[...E.list].map(S=>Object.assign(S,{chosen:!1,selected:!1}));E.setList(w,this.sortable,k),o(r)(!E.plugins,`
Plugins prop is no longer supported.
Instead, mount it with "Sortable.mount(new MultiDrag())"
Please read the updated README.md at https://github.com/SortableJS/react-sortablejs.
      `)}componentDidMount(){if(this.ref.current===null)return;const E=this.makeOptions();o(e).create(this.ref.current,E)}componentDidUpdate(E){E.disabled!==this.props.disabled&&this.sortable&&this.sortable.option("disabled",this.props.disabled)}render(){const{tag:E,style:w,className:S,id:b}=this.props,x={style:w,className:S,id:b},A=!E||E===null?"div":E;return(0,i.createElement)(A,{ref:this.ref,...x},this.getChildren())}getChildren(){const{children:E,dataIdAttr:w,selectedClass:S="sortable-selected",chosenClass:b="sortable-chosen",dragClass:x="sortable-drag",fallbackClass:A="sortable-falback",ghostClass:O="sortable-ghost",swapClass:$="sortable-swap-highlight",filter:M="sortable-filter",list:R}=this.props;if(!E||E==null)return null;const P=w||"data-id";return i.Children.map(E,(N,D)=>{if(N===void 0)return;const V=R[D]||{},{className:z}=N.props,F=typeof M=="string"&&{[M.replace(".","")]:!!V.filtered},B=o(n)(z,{[S]:V.selected,[b]:V.chosen,...F});return(0,i.cloneElement)(N,{[P]:N.key,className:B})})}get sortable(){const E=this.ref.current;if(E===null)return null;const w=Object.keys(E).find(S=>S.includes("Sortable"));return w?E[w]:null}makeOptions(){const E=["onAdd","onChoose","onDeselect","onEnd","onRemove","onSelect","onSpill","onStart","onUnchoose","onUpdate"],w=["onChange","onClone","onFilter","onSort"],S=y(this.props);return E.forEach(x=>S[x]=this.prepareOnHandlerPropAndDOM(x)),w.forEach(x=>S[x]=this.prepareOnHandlerProp(x)),{...S,onMove:(x,A)=>{const{onMove:O}=this.props,$=x.willInsertAfter||-1;if(!O)return $;const M=O(x,A,this.sortable,k);return typeof M>"u"?!1:M}}}prepareOnHandlerPropAndDOM(E){return w=>{this.callOnHandlerProp(w,E),this[E](w)}}prepareOnHandlerProp(E){return w=>{this.callOnHandlerProp(w,E)}}callOnHandlerProp(E,w){const S=this.props[w];S&&S(E,this.sortable,k)}onAdd(E){const{list:w,setList:S,clone:b}=this.props,x=[...k.dragging.props.list],A=d(E,x);c(A);const O=m(A,w,E,b).map($=>Object.assign($,{selected:!1}));S(O,this.sortable,k)}onRemove(E){const{list:w,setList:S}=this.props,b=g(E),x=d(E,w);h(x);let A=[...w];if(E.pullMode!=="clone")A=p(x,A);else{let O=x;switch(b){case"multidrag":O=x.map(($,M)=>({...$,element:E.clones[M]}));break;case"normal":O=x.map($=>({...$,element:E.clone}));break;case"swap":default:o(r)(!0,`mode "${b}" cannot clone. Please remove "props.clone" from <ReactSortable/> when using the "${b}" plugin`)}c(O),x.forEach($=>{const M=$.oldIndex,R=this.props.clone($.item,E);A.splice(M,1,R)})}A=A.map(O=>Object.assign(O,{selected:!1})),S(A,this.sortable,k)}onUpdate(E){const{list:w,setList:S}=this.props,b=d(E,w);c(b),h(b);const x=f(b,w);return S(x,this.sortable,k)}onStart(){k.dragging=this}onEnd(){k.dragging=null}onChoose(E){const{list:w,setList:S}=this.props,b=w.map((x,A)=>{let O=x;return A===E.oldIndex&&(O=Object.assign(x,{chosen:!0})),O});S(b,this.sortable,k)}onUnchoose(E){const{list:w,setList:S}=this.props,b=w.map((x,A)=>{let O=x;return A===E.oldIndex&&(O=Object.assign(O,{chosen:!1})),O});S(b,this.sortable,k)}onSpill(E){const{removeOnSpill:w,revertOnSpill:S}=this.props;w&&!S&&a(E.item)}onSelect(E){const{list:w,setList:S}=this.props,b=w.map(x=>Object.assign(x,{selected:!1}));E.newIndicies.forEach(x=>{const A=x.index;if(A===-1){console.log(`"${E.type}" had indice of "${x.index}", which is probably -1 and doesn't usually happen here.`),console.log(E);return}b[A].selected=!0}),S(b,this.sortable,k)}onDeselect(E){const{list:w,setList:S}=this.props,b=w.map(x=>Object.assign(x,{selected:!1}));E.newIndicies.forEach(x=>{const A=x.index;A!==-1&&(b[A].selected=!0)}),S(b,this.sortable,k)}}iI(C,"defaultProps",{clone:E=>E});var T={};l(t.exports,T)})(C$);var fj=C$.exports,q$={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var i=[],r=0;r<arguments.length;r++){var o=arguments[r];if(o){var s=typeof o;if(s==="string"||s==="number")i.push(o);else if(Array.isArray(o)){if(o.length){var l=n.apply(null,o);l&&i.push(l)}}else if(s==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){i.push(o.toString());continue}for(var a in o)e.call(o,a)&&o[a]&&i.push(a)}}}return i.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(q$);var pj=q$.exports;const An=Ti(pj);function mj(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}else return Array.from(t)}var pb=!1;if(typeof window<"u"){var Q$={get passive(){pb=!0}};window.addEventListener("testPassive",null,Q$),window.removeEventListener("testPassive",null,Q$)}var J$=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),To=[],pf=!1,Z$=-1,pu=void 0,mu=void 0,eA=function(e){return To.some(function(n){return!!(n.options.allowTouchMove&&n.options.allowTouchMove(e))})},mf=function(e){var n=e||window.event;return eA(n.target)||n.touches.length>1?!0:(n.preventDefault&&n.preventDefault(),!1)},gj=function(e){if(mu===void 0){var n=!!e&&e.reserveScrollBarGap===!0,i=window.innerWidth-document.documentElement.clientWidth;n&&i>0&&(mu=document.body.style.paddingRight,document.body.style.paddingRight=i+"px")}pu===void 0&&(pu=document.body.style.overflow,document.body.style.overflow="hidden")},vj=function(){mu!==void 0&&(document.body.style.paddingRight=mu,mu=void 0),pu!==void 0&&(document.body.style.overflow=pu,pu=void 0)},yj=function(e){return e?e.scrollHeight-e.scrollTop<=e.clientHeight:!1},bj=function(e,n){var i=e.targetTouches[0].clientY-Z$;return eA(e.target)?!1:n&&n.scrollTop===0&&i>0||yj(n)&&i<0?mf(e):(e.stopPropagation(),!0)},wj=function(e,n){if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!To.some(function(r){return r.targetElement===e})){var i={targetElement:e,options:n||{}};To=[].concat(mj(To),[i]),J$?(e.ontouchstart=function(r){r.targetTouches.length===1&&(Z$=r.targetTouches[0].clientY)},e.ontouchmove=function(r){r.targetTouches.length===1&&bj(r,e)},pf||(document.addEventListener("touchmove",mf,pb?{passive:!1}:void 0),pf=!0)):gj(n)}},_j=function(e){if(!e){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}To=To.filter(function(n){return n.targetElement!==e}),J$?(e.ontouchstart=null,e.ontouchmove=null,pf&&To.length===0&&(document.removeEventListener("touchmove",mf,pb?{passive:!1}:void 0),pf=!1)):To.length||vj()};function xj(t=null){let[e,n]=K.useState(t);const{current:i}=K.useRef({current:e});return Object.defineProperty(i,"current",{get:()=>e,set:r=>{Object.is(e,r)||(e=r,n(r))}}),i}function Sj(t,e={isStateful:!0}){const n=xj(null),i=I.useRef(null),r=e.isStateful?n:i;return K.useEffect(()=>{!t||(typeof t=="function"?t(r.current):t.current=r.current)}),r}function gf(){return gf=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},gf.apply(this,arguments)}var kj=function(e){var n=e.classes,i=e.classNames,r=e.styles,o=e.id,s=e.closeIcon,l=e.onClick;return K.createElement("button",{id:o,className:An(n.closeButton,i==null?void 0:i.closeButton),style:r==null?void 0:r.closeButton,onClick:l,"data-testid":"close-button"},s||K.createElement("svg",{className:i==null?void 0:i.closeIcon,style:r==null?void 0:r.closeIcon,width:28,height:28,viewBox:"0 0 36 36","data-testid":"close-icon"},K.createElement("path",{d:"M28.5 9.62L26.38 7.5 18 15.88 9.62 7.5 7.5 9.62 15.88 18 7.5 26.38l2.12 2.12L18 20.12l8.38 8.38 2.12-2.12L20.12 18z"})))},vf=typeof window<"u",tA=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'];function Cj(t){return t.offsetParent===null||getComputedStyle(t).visibility==="hidden"}function Ej(t,e){for(var n=0;n<t.length;n++)if(t[n].checked&&t[n].form===e)return t[n]}function Tj(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!0;var e=t.form||t.ownerDocument,n=e.querySelectorAll('input[type="radio"][name="'+t.name+'"]'),i=Ej(n,t.form);return i===t||i===void 0&&n[0]===t}function nA(t){for(var e=document.activeElement,n=t.querySelectorAll(tA.join(",")),i=[],r=0;r<n.length;r++){var o=n[r];(e===o||!o.disabled&&Aj(o)>-1&&!Cj(o)&&Tj(o))&&i.push(o)}return i}function $j(t,e){if(!(!t||t.key!=="Tab")){if(!e||!e.contains)return process,!1;if(!e.contains(t.target))return!1;var n=nA(e),i=n[0],r=n[n.length-1];return t.shiftKey&&t.target===i?(r.focus(),t.preventDefault(),!0):!t.shiftKey&&t.target===r?(i.focus(),t.preventDefault(),!0):!1}}function Aj(t){var e=parseInt(t.getAttribute("tabindex"),10);return isNaN(e)?Oj(t)?0:t.tabIndex:e}function Oj(t){return t.getAttribute("contentEditable")}var Mj=function(e){var n=e.container,i=e.initialFocusRef,r=I.useRef();return I.useEffect(function(){var o=function(u){n!=null&&n.current&&$j(u,n.current)};if(vf&&document.addEventListener("keydown",o),vf&&(n!=null&&n.current)){var s=function(){tA.findIndex(function(u){var c;return(c=document.activeElement)==null?void 0:c.matches(u)})!==-1&&(r.current=document.activeElement)};if(i)s(),requestAnimationFrame(function(){var a;(a=i.current)==null||a.focus()});else{var l=nA(n.current);l[0]&&(s(),l[0].focus())}}return function(){if(vf){var a;document.removeEventListener("keydown",o),(a=r.current)==null||a.focus()}}},[n,i]),null},ol=[],mb={add:function(e){ol.push(e)},remove:function(e){ol=ol.filter(function(n){return n!==e})},isTopModal:function(e){return!!ol.length&&ol[ol.length-1]===e}};function Lj(t,e){I.useEffect(function(){return e&&mb.add(t),function(){mb.remove(t)}},[e,t])}var Rj=function(e,n,i,r,o){var s=I.useRef(null);I.useEffect(function(){return n&&e.current&&r&&(s.current=e.current,wj(e.current,{reserveScrollBarGap:o})),function(){s.current&&(_j(s.current),s.current=null)}},[n,i,e,r,o])},ir={root:"react-responsive-modal-root",overlay:"react-responsive-modal-overlay",overlayAnimationIn:"react-responsive-modal-overlay-in",overlayAnimationOut:"react-responsive-modal-overlay-out",modalContainer:"react-responsive-modal-container",modalContainerCenter:"react-responsive-modal-containerCenter",modal:"react-responsive-modal-modal",modalAnimationIn:"react-responsive-modal-modal-in",modalAnimationOut:"react-responsive-modal-modal-out",closeButton:"react-responsive-modal-closeButton"},iA=K.forwardRef(function(t,e){var n,i,r,o,s=t.open,l=t.center,a=t.blockScroll,u=a===void 0?!0:a,c=t.closeOnEsc,h=c===void 0?!0:c,d=t.closeOnOverlayClick,f=d===void 0?!0:d,p=t.container,m=t.showCloseIcon,g=m===void 0?!0:m,v=t.closeIconId,y=t.closeIcon,k=t.focusTrapped,C=k===void 0?!0:k,T=t.initialFocusRef,_=T===void 0?void 0:T,E=t.animationDuration,w=E===void 0?300:E,S=t.classNames,b=t.styles,x=t.role,A=x===void 0?"dialog":x,O=t.ariaDescribedby,$=t.ariaLabelledby,M=t.containerId,R=t.modalId,P=t.onClose,N=t.onEscKeyDown,D=t.onOverlayClick,V=t.onAnimationEnd,z=t.children,F=t.reserveScrollBarGap,B=Sj(e),j=I.useRef(null),H=I.useRef(null),G=I.useRef(null);G.current===null&&vf&&(G.current=document.createElement("div"));var Q=I.useState(!1),J=Q[0],Y=Q[1];Lj(j,s),Rj(j,s,J,u,F);var ee=function(){G.current&&!p&&!document.body.contains(G.current)&&document.body.appendChild(G.current),document.addEventListener("keydown",ce)},ne=function(){G.current&&!p&&document.body.contains(G.current)&&document.body.removeChild(G.current),document.removeEventListener("keydown",ce)},ce=function(tt){tt.keyCode!==27||!mb.isTopModal(j)||(N==null||N(tt),h&&P())};I.useEffect(function(){return function(){J&&ne()}},[J]),I.useEffect(function(){s&&!J&&(Y(!0),ee())},[s]);var ue=function(tt){if(H.current===null&&(H.current=!0),!H.current){H.current=null;return}D==null||D(tt),f&&P(),H.current=null},we=function(){H.current=!1},he=function(){s||Y(!1),V==null||V()},fe=p||G.current,Xe=s?(n=S==null?void 0:S.overlayAnimationIn)!=null?n:ir.overlayAnimationIn:(i=S==null?void 0:S.overlayAnimationOut)!=null?i:ir.overlayAnimationOut,Ke=s?(r=S==null?void 0:S.modalAnimationIn)!=null?r:ir.modalAnimationIn:(o=S==null?void 0:S.modalAnimationOut)!=null?o:ir.modalAnimationOut;return J&&fe?UC.createPortal(K.createElement("div",{className:An(ir.root,S==null?void 0:S.root),style:b==null?void 0:b.root,"data-testid":"root"},K.createElement("div",{className:An(ir.overlay,S==null?void 0:S.overlay),"data-testid":"overlay","aria-hidden":!0,style:gf({animation:Xe+" "+w+"ms"},b==null?void 0:b.overlay)}),K.createElement("div",{ref:j,id:M,className:An(ir.modalContainer,l&&ir.modalContainerCenter,S==null?void 0:S.modalContainer),style:b==null?void 0:b.modalContainer,"data-testid":"modal-container",onClick:ue},K.createElement("div",{ref:B,className:An(ir.modal,S==null?void 0:S.modal),style:gf({animation:Ke+" "+w+"ms"},b==null?void 0:b.modal),onMouseDown:we,onMouseUp:we,onClick:we,onAnimationEnd:he,id:R,role:A,"aria-modal":"true","aria-labelledby":$,"aria-describedby":O,"data-testid":"modal",tabIndex:-1},C&&K.createElement(Mj,{container:B,initialFocusRef:_}),z,g&&K.createElement(kj,{classes:ir,classNames:S,styles:b,closeIcon:y,onClick:P,id:v})))),fe):null});const Ane="";var rA={exports:{}},gu={},yf={exports:{}},gb={},vb={},oA;function yb(){if(oA)return vb;oA=1;function t(i){this.__parent=i,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}t.prototype.clone_empty=function(){var i=new t(this.__parent);return i.set_indent(this.__indent_count,this.__alignment_count),i},t.prototype.item=function(i){return i<0?this.__items[this.__items.length+i]:this.__items[i]},t.prototype.has_match=function(i){for(var r=this.__items.length-1;r>=0;r--)if(this.__items[r].match(i))return!0;return!1},t.prototype.set_indent=function(i,r){this.is_empty()&&(this.__indent_count=i||0,this.__alignment_count=r||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},t.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},t.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},t.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var i=this.__parent.current_line;return i.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),i.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),i.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,i.__items[0]===" "&&(i.__items.splice(0,1),i.__character_count-=1),!0}return!1},t.prototype.is_empty=function(){return this.__items.length===0},t.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},t.prototype.push=function(i){this.__items.push(i);var r=i.lastIndexOf(`
`);r!==-1?this.__character_count=i.length-r:this.__character_count+=i.length},t.prototype.pop=function(){var i=null;return this.is_empty()||(i=this.__items.pop(),this.__character_count-=i.length),i},t.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},t.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},t.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),this.__character_count-=1},t.prototype.toString=function(){var i="";return this.is_empty()?this.__parent.indent_empty_lines&&(i=this.__parent.get_indent_string(this.__indent_count)):(i=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),i+=this.__items.join("")),i};function e(i,r){this.__cache=[""],this.__indent_size=i.indent_size,this.__indent_string=i.indent_char,i.indent_with_tabs||(this.__indent_string=new Array(i.indent_size+1).join(i.indent_char)),r=r||"",i.indent_level>0&&(r=new Array(i.indent_level+1).join(this.__indent_string)),this.__base_string=r,this.__base_string_length=r.length}e.prototype.get_indent_size=function(i,r){var o=this.__base_string_length;return r=r||0,i<0&&(o=0),o+=i*this.__indent_size,o+=r,o},e.prototype.get_indent_string=function(i,r){var o=this.__base_string;return r=r||0,i<0&&(i=0,o=""),r+=i*this.__indent_size,this.__ensure_cache(r),o+=this.__cache[r],o},e.prototype.__ensure_cache=function(i){for(;i>=this.__cache.length;)this.__add_column()},e.prototype.__add_column=function(){var i=this.__cache.length,r=0,o="";this.__indent_size&&i>=this.__indent_size&&(r=Math.floor(i/this.__indent_size),i-=r*this.__indent_size,o=new Array(r+1).join(this.__indent_string)),i&&(o+=new Array(i+1).join(" ")),this.__cache.push(o)};function n(i,r){this.__indent_cache=new e(i,r),this.raw=!1,this._end_with_newline=i.end_with_newline,this.indent_size=i.indent_size,this.wrap_line_length=i.wrap_line_length,this.indent_empty_lines=i.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new t(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}return n.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},n.prototype.get_line_number=function(){return this.__lines.length},n.prototype.get_indent_string=function(i,r){return this.__indent_cache.get_indent_string(i,r)},n.prototype.get_indent_size=function(i,r){return this.__indent_cache.get_indent_size(i,r)},n.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},n.prototype.add_new_line=function(i){return this.is_empty()||!i&&this.just_added_newline()?!1:(this.raw||this.__add_outputline(),!0)},n.prototype.get_code=function(i){this.trim(!0);var r=this.current_line.pop();r&&(r[r.length-1]===`
`&&(r=r.replace(/\n+$/g,"")),this.current_line.push(r)),this._end_with_newline&&this.__add_outputline();var o=this.__lines.join(`
`);return i!==`
`&&(o=o.replace(/[\n]/g,i)),o},n.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},n.prototype.set_indent=function(i,r){return i=i||0,r=r||0,this.next_line.set_indent(i,r),this.__lines.length>1?(this.current_line.set_indent(i,r),!0):(this.current_line.set_indent(),!1)},n.prototype.add_raw_token=function(i){for(var r=0;r<i.newlines;r++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(i.whitespace_before),this.current_line.push(i.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},n.prototype.add_token=function(i){this.__add_space_before_token(),this.current_line.push(i),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},n.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},n.prototype.remove_indent=function(i){for(var r=this.__lines.length;i<r;)this.__lines[i]._remove_indent(),i++;this.current_line._remove_wrap_indent()},n.prototype.trim=function(i){for(i=i===void 0?!1:i,this.current_line.trim();i&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},n.prototype.just_added_newline=function(){return this.current_line.is_empty()},n.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},n.prototype.ensure_empty_line_above=function(i,r){for(var o=this.__lines.length-2;o>=0;){var s=this.__lines[o];if(s.is_empty())break;if(s.item(0).indexOf(i)!==0&&s.item(-1)!==r){this.__lines.splice(o+1,0,new t(this)),this.previous_line=this.__lines[this.__lines.length-2];break}o--}},vb.Output=n,vb}var bb={},sA;function aA(){if(sA)return bb;sA=1;function t(e,n,i,r){this.type=e,this.text=n,this.comments_before=null,this.newlines=i||0,this.whitespace_before=r||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}return bb.Token=t,bb}var wb={},lA;function cA(){return lA||(lA=1,function(t){var e="\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a",n="\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a",i="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc",r="\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f",o="(?:\\\\u[0-9a-fA-F]{4}|["+e+i+"])",s="(?:\\\\u[0-9a-fA-F]{4}|["+n+i+r+"])*";t.identifier=new RegExp(o+s,"g"),t.identifierStart=new RegExp(o),t.identifierMatch=new RegExp("(?:\\\\u[0-9a-fA-F]{4}|["+n+i+r+"])+"),t.newline=/[\n\r\u2028\u2029]/,t.lineBreak=new RegExp(`\r
|`+t.newline.source),t.allLineBreaks=new RegExp(t.lineBreak.source,"g")}(wb)),wb}var _b={},vu={},uA;function xb(){if(uA)return vu;uA=1;function t(i,r){this.raw_options=e(i,r),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}t.prototype._get_array=function(i,r){var o=this.raw_options[i],s=r||[];return typeof o=="object"?o!==null&&typeof o.concat=="function"&&(s=o.concat()):typeof o=="string"&&(s=o.split(/[^a-zA-Z0-9_\/\-]+/)),s},t.prototype._get_boolean=function(i,r){var o=this.raw_options[i],s=o===void 0?!!r:!!o;return s},t.prototype._get_characters=function(i,r){var o=this.raw_options[i],s=r||"";return typeof o=="string"&&(s=o.replace(/\\r/,"\r").replace(/\\n/,`
`).replace(/\\t/,"	")),s},t.prototype._get_number=function(i,r){var o=this.raw_options[i];r=parseInt(r,10),isNaN(r)&&(r=0);var s=parseInt(o,10);return isNaN(s)&&(s=r),s},t.prototype._get_selection=function(i,r,o){var s=this._get_selection_list(i,r,o);if(s.length!==1)throw new Error("Invalid Option Value: The option '"+i+`' can only be one of the following values:
`+r+`
You passed in: '`+this.raw_options[i]+"'");return s[0]},t.prototype._get_selection_list=function(i,r,o){if(!r||r.length===0)throw new Error("Selection list cannot be empty.");if(o=o||[r[0]],!this._is_valid_selection(o,r))throw new Error("Invalid Default Value!");var s=this._get_array(i,o);if(!this._is_valid_selection(s,r))throw new Error("Invalid Option Value: The option '"+i+`' can contain only the following values:
`+r+`
You passed in: '`+this.raw_options[i]+"'");return s},t.prototype._is_valid_selection=function(i,r){return i.length&&r.length&&!i.some(function(o){return r.indexOf(o)===-1})};function e(i,r){var o={};i=n(i);var s;for(s in i)s!==r&&(o[s]=i[s]);if(r&&i[r])for(s in i[r])o[s]=i[r][s];return o}function n(i){var r={},o;for(o in i){var s=o.replace(/-/g,"_");r[s]=i[o]}return r}return vu.Options=t,vu.normalizeOpts=n,vu.mergeOpts=e,vu}var hA;function dA(){if(hA)return _b;hA=1;var t=xb().Options,e=["before-newline","after-newline","preserve-newline"];function n(i){t.call(this,i,"js");var r=this.raw_options.brace_style||null;r==="expand-strict"?this.raw_options.brace_style="expand":r==="collapse-preserve-inline"?this.raw_options.brace_style="collapse,preserve-inline":this.raw_options.braces_on_own_line!==void 0&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse");var o=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=!1,this.brace_style="collapse";for(var s=0;s<o.length;s++)o[s]==="preserve-inline"?this.brace_preserve_inline=!0:this.brace_style=o[s];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",e),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}return n.prototype=new t,_b.Options=n,_b}var sl={},Sb={},fA;function kb(){if(fA)return Sb;fA=1;var t=RegExp.prototype.hasOwnProperty("sticky");function e(n){this.__input=n||"",this.__input_length=this.__input.length,this.__position=0}return e.prototype.restart=function(){this.__position=0},e.prototype.back=function(){this.__position>0&&(this.__position-=1)},e.prototype.hasNext=function(){return this.__position<this.__input_length},e.prototype.next=function(){var n=null;return this.hasNext()&&(n=this.__input.charAt(this.__position),this.__position+=1),n},e.prototype.peek=function(n){var i=null;return n=n||0,n+=this.__position,n>=0&&n<this.__input_length&&(i=this.__input.charAt(n)),i},e.prototype.__match=function(n,i){n.lastIndex=i;var r=n.exec(this.__input);return r&&!(t&&n.sticky)&&r.index!==i&&(r=null),r},e.prototype.test=function(n,i){return i=i||0,i+=this.__position,i>=0&&i<this.__input_length?!!this.__match(n,i):!1},e.prototype.testChar=function(n,i){var r=this.peek(i);return n.lastIndex=0,r!==null&&n.test(r)},e.prototype.match=function(n){var i=this.__match(n,this.__position);return i?this.__position+=i[0].length:i=null,i},e.prototype.read=function(n,i,r){var o="",s;return n&&(s=this.match(n),s&&(o+=s[0])),i&&(s||!n)&&(o+=this.readUntil(i,r)),o},e.prototype.readUntil=function(n,i){var r="",o=this.__position;n.lastIndex=this.__position;var s=n.exec(this.__input);return s?(o=s.index,i&&(o+=s[0].length)):o=this.__input_length,r=this.__input.substring(this.__position,o),this.__position=o,r},e.prototype.readUntilAfter=function(n){return this.readUntil(n,!0)},e.prototype.get_regexp=function(n,i){var r=null,o="g";return i&&t&&(o="y"),typeof n=="string"&&n!==""?r=new RegExp(n,o):n&&(r=new RegExp(n.source,o)),r},e.prototype.get_literal_regexp=function(n){return RegExp(n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},e.prototype.peekUntilAfter=function(n){var i=this.__position,r=this.readUntilAfter(n);return this.__position=i,r},e.prototype.lookBack=function(n){var i=this.__position-1;return i>=n.length&&this.__input.substring(i-n.length,i).toLowerCase()===n},Sb.InputScanner=e,Sb}var bf={},Cb={},pA;function Pj(){if(pA)return Cb;pA=1;function t(e){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=e}return t.prototype.restart=function(){this.__position=0},t.prototype.isEmpty=function(){return this.__tokens_length===0},t.prototype.hasNext=function(){return this.__position<this.__tokens_length},t.prototype.next=function(){var e=null;return this.hasNext()&&(e=this.__tokens[this.__position],this.__position+=1),e},t.prototype.peek=function(e){var n=null;return e=e||0,e+=this.__position,e>=0&&e<this.__tokens_length&&(n=this.__tokens[e]),n},t.prototype.add=function(e){this.__parent_token&&(e.parent=this.__parent_token),this.__tokens.push(e),this.__tokens_length+=1},Cb.TokenStream=t,Cb}var Eb={},Tb={},mA;function wf(){if(mA)return Tb;mA=1;function t(e,n){this._input=e,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,n&&(this._starting_pattern=this._input.get_regexp(n._starting_pattern,!0),this._match_pattern=this._input.get_regexp(n._match_pattern,!0),this._until_pattern=this._input.get_regexp(n._until_pattern),this._until_after=n._until_after)}return t.prototype.read=function(){var e=this._input.read(this._starting_pattern);return(!this._starting_pattern||e)&&(e+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),e},t.prototype.read_match=function(){return this._input.match(this._match_pattern)},t.prototype.until_after=function(e){var n=this._create();return n._until_after=!0,n._until_pattern=this._input.get_regexp(e),n._update(),n},t.prototype.until=function(e){var n=this._create();return n._until_after=!1,n._until_pattern=this._input.get_regexp(e),n._update(),n},t.prototype.starting_with=function(e){var n=this._create();return n._starting_pattern=this._input.get_regexp(e,!0),n._update(),n},t.prototype.matching=function(e){var n=this._create();return n._match_pattern=this._input.get_regexp(e,!0),n._update(),n},t.prototype._create=function(){return new t(this._input,this)},t.prototype._update=function(){},Tb.Pattern=t,Tb}var gA;function Dj(){if(gA)return Eb;gA=1;var t=wf().Pattern;function e(n,i){t.call(this,n,i),i?this._line_regexp=this._input.get_regexp(i._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}return e.prototype=new t,e.prototype.__set_whitespace_patterns=function(n,i){n+="\\t ",i+="\\n\\r",this._match_pattern=this._input.get_regexp("["+n+i+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+i+"]")},e.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var n=this._input.read(this._match_pattern);if(n===" ")this.whitespace_before_token=" ";else if(n){var i=this.__split(this._newline_regexp,n);this.newline_count=i.length-1,this.whitespace_before_token=i[this.newline_count]}return n},e.prototype.matching=function(n,i){var r=this._create();return r.__set_whitespace_patterns(n,i),r._update(),r},e.prototype._create=function(){return new e(this._input,this)},e.prototype.__split=function(n,i){n.lastIndex=0;for(var r=0,o=[],s=n.exec(i);s;)o.push(i.substring(r,s.index)),r=s.index+s[0].length,s=n.exec(i);return r<i.length?o.push(i.substring(r,i.length)):o.push(""),o},Eb.WhitespacePattern=e,Eb}var vA;function _f(){if(vA)return bf;vA=1;var t=kb().InputScanner,e=aA().Token,n=Pj().TokenStream,i=Dj().WhitespacePattern,r={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},o=function(s,l){this._input=new t(s),this._options=l||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new i(this._input)};return o.prototype.tokenize=function(){this._input.restart(),this.__tokens=new n,this._reset();for(var s,l=new e(r.START,""),a=null,u=[],c=new n;l.type!==r.EOF;){for(s=this._get_next_token(l,a);this._is_comment(s);)c.add(s),s=this._get_next_token(l,a);c.isEmpty()||(s.comments_before=c,c=new n),s.parent=a,this._is_opening(s)?(u.push(a),a=s):a&&this._is_closing(s,a)&&(s.opened=a,a.closed=s,a=u.pop(),s.parent=a),s.previous=l,l.next=s,this.__tokens.add(s),l=s}return this.__tokens},o.prototype._is_first_token=function(){return this.__tokens.isEmpty()},o.prototype._reset=function(){},o.prototype._get_next_token=function(s,l){this._readWhitespace();var a=this._input.read(/.+/g);return a?this._create_token(r.RAW,a):this._create_token(r.EOF,"")},o.prototype._is_comment=function(s){return!1},o.prototype._is_opening=function(s){return!1},o.prototype._is_closing=function(s,l){return!1},o.prototype._create_token=function(s,l){var a=new e(s,l,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token);return a},o.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},bf.Tokenizer=o,bf.TOKEN=r,bf}var $b={},yA;function Ab(){if(yA)return $b;yA=1;function t(e,n){e=typeof e=="string"?e:e.source,n=typeof n=="string"?n:n.source,this.__directives_block_pattern=new RegExp(e+/ beautify( \w+[:]\w+)+ /.source+n,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(e+/\sbeautify\signore:end\s/.source+n,"g")}return t.prototype.get_directives=function(e){if(!e.match(this.__directives_block_pattern))return null;var n={};this.__directive_pattern.lastIndex=0;for(var i=this.__directive_pattern.exec(e);i;)n[i[1]]=i[2],i=this.__directive_pattern.exec(e);return n},t.prototype.readIgnored=function(e){return e.readUntilAfter(this.__directives_end_ignore_pattern)},$b.Directives=t,$b}var Ob={},bA;function wA(){if(bA)return Ob;bA=1;var t=wf().Pattern,e={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function n(i,r){t.call(this,i,r),this.__template_pattern=null,this._disabled=Object.assign({},e),this._excluded=Object.assign({},e),r&&(this.__template_pattern=this._input.get_regexp(r.__template_pattern),this._excluded=Object.assign(this._excluded,r._excluded),this._disabled=Object.assign(this._disabled,r._disabled));var o=new t(i);this.__patterns={handlebars_comment:o.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:o.starting_with(/{{{/).until_after(/}}}/),handlebars:o.starting_with(/{{/).until_after(/}}/),php:o.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:o.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:o.starting_with(/{%/).until_after(/%}/),django_value:o.starting_with(/{{/).until_after(/}}/),django_comment:o.starting_with(/{#/).until_after(/#}/),smarty:o.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:o.starting_with(/{\*/).until_after(/\*}/),smarty_literal:o.starting_with(/{literal}/).until_after(/{\/literal}/)}}return n.prototype=new t,n.prototype._create=function(){return new n(this._input,this)},n.prototype._update=function(){this.__set_templated_pattern()},n.prototype.disable=function(i){var r=this._create();return r._disabled[i]=!0,r._update(),r},n.prototype.read_options=function(i){var r=this._create();for(var o in e)r._disabled[o]=i.templating.indexOf(o)===-1;return r._update(),r},n.prototype.exclude=function(i){var r=this._create();return r._excluded[i]=!0,r._update(),r},n.prototype.read=function(){var i="";this._match_pattern?i=this._input.read(this._starting_pattern):i=this._input.read(this._starting_pattern,this.__template_pattern);for(var r=this._read_template();r;)this._match_pattern?r+=this._input.read(this._match_pattern):r+=this._input.readUntil(this.__template_pattern),i+=r,r=this._read_template();return this._until_after&&(i+=this._input.readUntilAfter(this._until_pattern)),i},n.prototype.__set_templated_pattern=function(){var i=[];this._disabled.php||i.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||i.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||i.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(i.push(this.__patterns.django._starting_pattern.source),i.push(this.__patterns.django_value._starting_pattern.source),i.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||i.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&i.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+i.join("|")+")")},n.prototype._read_template=function(){var i="",r=this._input.peek();if(r==="<"){var o=this._input.peek(1);!this._disabled.php&&!this._excluded.php&&o==="?"&&(i=i||this.__patterns.php.read()),!this._disabled.erb&&!this._excluded.erb&&o==="%"&&(i=i||this.__patterns.erb.read())}else r==="{"&&(!this._disabled.handlebars&&!this._excluded.handlebars&&(i=i||this.__patterns.handlebars_comment.read(),i=i||this.__patterns.handlebars_unescaped.read(),i=i||this.__patterns.handlebars.read()),this._disabled.django||(!this._excluded.django&&!this._excluded.handlebars&&(i=i||this.__patterns.django_value.read()),this._excluded.django||(i=i||this.__patterns.django_comment.read(),i=i||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(i=i||this.__patterns.smarty_comment.read(),i=i||this.__patterns.smarty_literal.read(),i=i||this.__patterns.smarty.read()));return i},Ob.TemplatablePattern=n,Ob}var _A;function xf(){if(_A)return sl;_A=1;var t=kb().InputScanner,e=_f().Tokenizer,n=_f().TOKEN,i=Ab().Directives,r=cA(),o=wf().Pattern,s=wA().TemplatablePattern;function l(_,E){return E.indexOf(_)!==-1}var a={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:n.START,RAW:n.RAW,EOF:n.EOF},u=new i(/\/\*/,/\*\//),c=/0[xX][0123456789abcdefABCDEF_]*n?|0[oO][01234567_]*n?|0[bB][01_]*n?|\d[\d_]*n|(?:\.\d[\d_]*|\d[\d_]*\.?[\d_]*)(?:[eE][+-]?[\d_]+)?/,h=/[0-9]/,d=/[^\d\.]/,f=">>> === !== &&= ??= ||= << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),p=">>>= ... >>= <<= === >>> !== **= &&= ??= ||= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |";p=p.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&"),p="\\?\\.(?!\\d) "+p,p=p.replace(/ /g,"|");var m=new RegExp(p),g="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),v=g.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as","class","extends"]),y=new RegExp("^(?:"+v.join("|")+")$"),k,C=function(_,E){e.call(this,_,E),this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var w=new o(this._input),S=new s(this._input).read_options(this._options);this.__patterns={template:S,identifier:S.starting_with(r.identifier).matching(r.identifierMatch),number:w.matching(c),punct:w.matching(m),comment:w.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:w.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:w.matching(/<!--/),html_comment_end:w.matching(/-->/),include:w.starting_with(/#include/).until_after(r.lineBreak),shebang:w.starting_with(/#!/).until_after(r.lineBreak),xml:w.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[^}]+?}|!\[CDATA\[[^\]]*?\]\]|)(\s*{[^}]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{([^{}]|{[^}]+?})+?}))*\s*(\/?)\s*>/),single_quote:S.until(/['\\\n\r\u2028\u2029]/),double_quote:S.until(/["\\\n\r\u2028\u2029]/),template_text:S.until(/[`\\$]/),template_expression:S.until(/[`}\\]/)}};C.prototype=new e,C.prototype._is_comment=function(_){return _.type===a.COMMENT||_.type===a.BLOCK_COMMENT||_.type===a.UNKNOWN},C.prototype._is_opening=function(_){return _.type===a.START_BLOCK||_.type===a.START_EXPR},C.prototype._is_closing=function(_,E){return(_.type===a.END_BLOCK||_.type===a.END_EXPR)&&E&&(_.text==="]"&&E.text==="["||_.text===")"&&E.text==="("||_.text==="}"&&E.text==="{")},C.prototype._reset=function(){k=!1},C.prototype._get_next_token=function(_,E){var w=null;this._readWhitespace();var S=this._input.peek();return S===null?this._create_token(a.EOF,""):(w=w||this._read_non_javascript(S),w=w||this._read_string(S),w=w||this._read_pair(S,this._input.peek(1)),w=w||this._read_word(_),w=w||this._read_singles(S),w=w||this._read_comment(S),w=w||this._read_regexp(S,_),w=w||this._read_xml(S,_),w=w||this._read_punctuation(),w=w||this._create_token(a.UNKNOWN,this._input.next()),w)},C.prototype._read_word=function(_){var E;if(E=this.__patterns.identifier.read(),E!=="")return E=E.replace(r.allLineBreaks,`
`),!(_.type===a.DOT||_.type===a.RESERVED&&(_.text==="set"||_.text==="get"))&&y.test(E)?(E==="in"||E==="of")&&(_.type===a.WORD||_.type===a.STRING)?this._create_token(a.OPERATOR,E):this._create_token(a.RESERVED,E):this._create_token(a.WORD,E);if(E=this.__patterns.number.read(),E!=="")return this._create_token(a.WORD,E)},C.prototype._read_singles=function(_){var E=null;return _==="("||_==="["?E=this._create_token(a.START_EXPR,_):_===")"||_==="]"?E=this._create_token(a.END_EXPR,_):_==="{"?E=this._create_token(a.START_BLOCK,_):_==="}"?E=this._create_token(a.END_BLOCK,_):_===";"?E=this._create_token(a.SEMICOLON,_):_==="."&&d.test(this._input.peek(1))?E=this._create_token(a.DOT,_):_===","&&(E=this._create_token(a.COMMA,_)),E&&this._input.next(),E},C.prototype._read_pair=function(_,E){var w=null;return _==="#"&&E==="{"&&(w=this._create_token(a.START_BLOCK,_+E)),w&&(this._input.next(),this._input.next()),w},C.prototype._read_punctuation=function(){var _=this.__patterns.punct.read();if(_!=="")return _==="="?this._create_token(a.EQUALS,_):_==="?."?this._create_token(a.DOT,_):this._create_token(a.OPERATOR,_)},C.prototype._read_non_javascript=function(_){var E="";if(_==="#"){if(this._is_first_token()&&(E=this.__patterns.shebang.read(),E))return this._create_token(a.UNKNOWN,E.trim()+`
`);if(E=this.__patterns.include.read(),E)return this._create_token(a.UNKNOWN,E.trim()+`
`);_=this._input.next();var w="#";if(this._input.hasNext()&&this._input.testChar(h)){do _=this._input.next(),w+=_;while(this._input.hasNext()&&_!=="#"&&_!=="=");return _==="#"||(this._input.peek()==="["&&this._input.peek(1)==="]"?(w+="[]",this._input.next(),this._input.next()):this._input.peek()==="{"&&this._input.peek(1)==="}"&&(w+="{}",this._input.next(),this._input.next())),this._create_token(a.WORD,w)}this._input.back()}else if(_==="<"&&this._is_first_token()){if(E=this.__patterns.html_comment_start.read(),E){for(;this._input.hasNext()&&!this._input.testChar(r.newline);)E+=this._input.next();return k=!0,this._create_token(a.COMMENT,E)}}else if(k&&_==="-"&&(E=this.__patterns.html_comment_end.read(),E))return k=!1,this._create_token(a.COMMENT,E);return null},C.prototype._read_comment=function(_){var E=null;if(_==="/"){var w="";if(this._input.peek(1)==="*"){w=this.__patterns.block_comment.read();var S=u.get_directives(w);S&&S.ignore==="start"&&(w+=u.readIgnored(this._input)),w=w.replace(r.allLineBreaks,`
`),E=this._create_token(a.BLOCK_COMMENT,w),E.directives=S}else this._input.peek(1)==="/"&&(w=this.__patterns.comment.read(),E=this._create_token(a.COMMENT,w))}return E},C.prototype._read_string=function(_){if(_==="`"||_==="'"||_==='"'){var E=this._input.next();return this.has_char_escapes=!1,_==="`"?E+=this._read_string_recursive("`",!0,"${"):E+=this._read_string_recursive(_),this.has_char_escapes&&this._options.unescape_strings&&(E=T(E)),this._input.peek()===_&&(E+=this._input.next()),E=E.replace(r.allLineBreaks,`
`),this._create_token(a.STRING,E)}return null},C.prototype._allow_regexp_or_xml=function(_){return _.type===a.RESERVED&&l(_.text,["return","case","throw","else","do","typeof","yield"])||_.type===a.END_EXPR&&_.text===")"&&_.opened.previous.type===a.RESERVED&&l(_.opened.previous.text,["if","while","for"])||l(_.type,[a.COMMENT,a.START_EXPR,a.START_BLOCK,a.START,a.END_BLOCK,a.OPERATOR,a.EQUALS,a.EOF,a.SEMICOLON,a.COMMA])},C.prototype._read_regexp=function(_,E){if(_==="/"&&this._allow_regexp_or_xml(E)){for(var w=this._input.next(),S=!1,b=!1;this._input.hasNext()&&(S||b||this._input.peek()!==_)&&!this._input.testChar(r.newline);)w+=this._input.peek(),S?S=!1:(S=this._input.peek()==="\\",this._input.peek()==="["?b=!0:this._input.peek()==="]"&&(b=!1)),this._input.next();return this._input.peek()===_&&(w+=this._input.next(),w+=this._input.read(r.identifier)),this._create_token(a.STRING,w)}return null},C.prototype._read_xml=function(_,E){if(this._options.e4x&&_==="<"&&this._allow_regexp_or_xml(E)){var w="",S=this.__patterns.xml.read_match();if(S){for(var b=S[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),x=b.indexOf("{")===0,A=0;S;){var O=!!S[1],$=S[2],M=!!S[S.length-1]||$.slice(0,8)==="![CDATA[";if(!M&&($===b||x&&$.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(O?--A:++A),w+=S[0],A<=0)break;S=this.__patterns.xml.read_match()}return S||(w+=this._input.match(/[\s\S]*/g)[0]),w=w.replace(r.allLineBreaks,`
`),this._create_token(a.STRING,w)}}return null};function T(_){for(var E="",w=0,S=new t(_),b=null;S.hasNext();)if(b=S.match(/([\s]|[^\\]|\\\\)+/g),b&&(E+=b[0]),S.peek()==="\\"){if(S.next(),S.peek()==="x")b=S.match(/x([0-9A-Fa-f]{2})/g);else if(S.peek()==="u")b=S.match(/u([0-9A-Fa-f]{4})/g);else{E+="\\",S.hasNext()&&(E+=S.next());continue}if(!b||(w=parseInt(b[1],16),w>126&&w<=255&&b[0].indexOf("x")===0))return _;if(w>=0&&w<32){E+="\\"+b[0];continue}else w===34||w===39||w===92?E+="\\"+String.fromCharCode(w):E+=String.fromCharCode(w)}return E}return C.prototype._read_string_recursive=function(_,E,w){var S,b;_==="'"?b=this.__patterns.single_quote:_==='"'?b=this.__patterns.double_quote:_==="`"?b=this.__patterns.template_text:_==="}"&&(b=this.__patterns.template_expression);for(var x=b.read(),A="";this._input.hasNext();){if(A=this._input.next(),A===_||!E&&r.newline.test(A)){this._input.back();break}else A==="\\"&&this._input.hasNext()?(S=this._input.peek(),S==="x"||S==="u"?this.has_char_escapes=!0:S==="\r"&&this._input.peek(1)===`
`&&this._input.next(),A+=this._input.next()):w&&(w==="${"&&A==="$"&&this._input.peek()==="{"&&(A+=this._input.next()),w===A&&(_==="`"?A+=this._read_string_recursive("}",E,"`"):A+=this._read_string_recursive("`",E,"${"),this._input.hasNext()&&(A+=this._input.next())));A+=b.read(),x+=A}return x},sl.Tokenizer=C,sl.TOKEN=a,sl.positionable_operators=f.slice(),sl.line_starters=g.slice(),sl}var xA;function Ij(){if(xA)return gb;xA=1;var t=yb().Output,e=aA().Token,n=cA(),i=dA().Options,r=xf().Tokenizer,o=xf().line_starters,s=xf().positionable_operators,l=xf().TOKEN;function a(b,x){return x.indexOf(b)!==-1}function u(b){return b.replace(/^\s+/g,"")}function c(b){for(var x={},A=0;A<b.length;A++)x[b[A].replace(/-/g,"_")]=b[A];return x}function h(b,x){return b&&b.type===l.RESERVED&&b.text===x}function d(b,x){return b&&b.type===l.RESERVED&&a(b.text,x)}var f=["case","return","do","if","throw","else","await","break","continue","async"],p=["before-newline","after-newline","preserve-newline"],m=c(p),g=[m.before_newline,m.preserve_newline],v={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};function y(b,x){x.multiline_frame||x.mode===v.ForInitializer||x.mode===v.Conditional||b.remove_indent(x.start_line_index)}function k(b){b=b.replace(n.allLineBreaks,`
`);for(var x=[],A=b.indexOf(`
`);A!==-1;)x.push(b.substring(0,A)),b=b.substring(A+1),A=b.indexOf(`
`);return b.length&&x.push(b),x}function C(b){return b===v.ArrayLiteral}function T(b){return a(b,[v.Expression,v.ForInitializer,v.Conditional])}function _(b,x){for(var A=0;A<b.length;A++){var O=b[A].trim();if(O.charAt(0)!==x)return!1}return!0}function E(b,x){for(var A=0,O=b.length,$;A<O;A++)if($=b[A],$&&$.indexOf(x)!==0)return!1;return!0}function w(b,x){x=x||{},this._source_text=b||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new i(x)}w.prototype.create_flags=function(b,x){var A=0;b&&(A=b.indentation_level,!this._output.just_added_newline()&&b.line_indent_level>A&&(A=b.line_indent_level));var O={mode:x,parent:b,last_token:b?b.last_token:new e(l.START_BLOCK,""),last_word:b?b.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,class_start_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,case_block:!1,indentation_level:A,alignment:0,line_indent_level:b?b.line_indent_level:A,start_line_index:this._output.get_line_number(),ternary_depth:0};return O},w.prototype._reset=function(b){var x=b.match(/^[\t ]*/)[0];this._last_last_text="",this._output=new t(this._options,x),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(v.BlockStatement);var A=new r(b,this._options);return this._tokens=A.tokenize(),b},w.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var b,x=this._reset(this._source_text),A=this._options.eol;this._options.eol==="auto"&&(A=`
`,x&&n.lineBreak.test(x||"")&&(A=x.match(n.lineBreak)[0]));for(var O=this._tokens.next();O;)this.handle_token(O),this._last_last_text=this._flags.last_token.text,this._flags.last_token=O,O=this._tokens.next();return b=this._output.get_code(A),b},w.prototype.handle_token=function(b,x){b.type===l.START_EXPR?this.handle_start_expr(b):b.type===l.END_EXPR?this.handle_end_expr(b):b.type===l.START_BLOCK?this.handle_start_block(b):b.type===l.END_BLOCK?this.handle_end_block(b):b.type===l.WORD?this.handle_word(b):b.type===l.RESERVED?this.handle_word(b):b.type===l.SEMICOLON?this.handle_semicolon(b):b.type===l.STRING?this.handle_string(b):b.type===l.EQUALS?this.handle_equals(b):b.type===l.OPERATOR?this.handle_operator(b):b.type===l.COMMA?this.handle_comma(b):b.type===l.BLOCK_COMMENT?this.handle_block_comment(b,x):b.type===l.COMMENT?this.handle_comment(b,x):b.type===l.DOT?this.handle_dot(b):b.type===l.EOF?this.handle_eof(b):b.type===l.UNKNOWN?this.handle_unknown(b,x):this.handle_unknown(b,x)},w.prototype.handle_whitespace_and_comments=function(b,x){var A=b.newlines,O=this._options.keep_array_indentation&&C(this._flags.mode);if(b.comments_before)for(var $=b.comments_before.next();$;)this.handle_whitespace_and_comments($,x),this.handle_token($,x),$=b.comments_before.next();if(O)for(var M=0;M<A;M+=1)this.print_newline(M>0,x);else if(this._options.max_preserve_newlines&&A>this._options.max_preserve_newlines&&(A=this._options.max_preserve_newlines),this._options.preserve_newlines&&A>1){this.print_newline(!1,x);for(var R=1;R<A;R+=1)this.print_newline(!0,x)}};var S=["async","break","continue","return","throw","yield"];return w.prototype.allow_wrap_or_preserved_newline=function(b,x){if(x=x===void 0?!1:x,!this._output.just_added_newline()){var A=this._options.preserve_newlines&&b.newlines||x,O=a(this._flags.last_token.text,s)||a(b.text,s);if(O){var $=a(this._flags.last_token.text,s)&&a(this._options.operator_position,g)||a(b.text,s);A=A&&$}if(A)this.print_newline(!1,!0);else if(this._options.wrap_line_length){if(d(this._flags.last_token,S))return;this._output.set_wrap_point()}}},w.prototype.print_newline=function(b,x){if(!x&&this._flags.last_token.text!==";"&&this._flags.last_token.text!==","&&this._flags.last_token.text!=="="&&(this._flags.last_token.type!==l.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++"))for(var A=this._tokens.peek();this._flags.mode===v.Statement&&!(this._flags.if_block&&h(A,"else"))&&!this._flags.do_block;)this.restore_mode();this._output.add_new_line(b)&&(this._flags.multiline_frame=!0)},w.prototype.print_token_line_indentation=function(b){this._output.just_added_newline()&&(this._options.keep_array_indentation&&b.newlines&&(b.text==="["||C(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(b.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))},w.prototype.print_token=function(b){if(this._output.raw){this._output.add_raw_token(b);return}if(this._options.comma_first&&b.previous&&b.previous.type===l.COMMA&&this._output.just_added_newline()&&this._output.previous_line.last()===","){var x=this._output.previous_line.pop();this._output.previous_line.is_empty()&&(this._output.previous_line.push(x),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(b),this._output.add_token(","),this._output.space_before_token=!0}this.print_token_line_indentation(b),this._output.non_breaking_space=!0,this._output.add_token(b.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0)},w.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},w.prototype.deindent=function(){this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(this._flags.indentation_level-=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},w.prototype.set_mode=function(b){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,b),this._flags=this.create_flags(this._previous_flags,b),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},w.prototype.restore_mode=function(){this._flag_store.length>0&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===v.Statement&&y(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},w.prototype.start_of_object_property=function(){return this._flags.parent.mode===v.ObjectLiteral&&this._flags.mode===v.Statement&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||d(this._flags.last_token,["get","set"]))},w.prototype.start_of_statement=function(b){var x=!1;return x=x||d(this._flags.last_token,["var","let","const"])&&b.type===l.WORD,x=x||h(this._flags.last_token,"do"),x=x||!(this._flags.parent.mode===v.ObjectLiteral&&this._flags.mode===v.Statement)&&d(this._flags.last_token,S)&&!b.newlines,x=x||h(this._flags.last_token,"else")&&!(h(b,"if")&&!b.comments_before),x=x||this._flags.last_token.type===l.END_EXPR&&(this._previous_flags.mode===v.ForInitializer||this._previous_flags.mode===v.Conditional),x=x||this._flags.last_token.type===l.WORD&&this._flags.mode===v.BlockStatement&&!this._flags.in_case&&!(b.text==="--"||b.text==="++")&&this._last_last_text!=="function"&&b.type!==l.WORD&&b.type!==l.RESERVED,x=x||this._flags.mode===v.ObjectLiteral&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||d(this._flags.last_token,["get","set"])),x?(this.set_mode(v.Statement),this.indent(),this.handle_whitespace_and_comments(b,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(b,d(b,["do","for","if","while"])),!0):!1},w.prototype.handle_start_expr=function(b){this.start_of_statement(b)||this.handle_whitespace_and_comments(b);var x=v.Expression;if(b.text==="["){if(this._flags.last_token.type===l.WORD||this._flags.last_token.text===")"){d(this._flags.last_token,o)&&(this._output.space_before_token=!0),this.print_token(b),this.set_mode(x),this.indent(),this._options.space_in_paren&&(this._output.space_before_token=!0);return}x=v.ArrayLiteral,C(this._flags.mode)&&(this._flags.last_token.text==="["||this._flags.last_token.text===","&&(this._last_last_text==="]"||this._last_last_text==="}"))&&(this._options.keep_array_indentation||this.print_newline()),a(this._flags.last_token.type,[l.START_EXPR,l.END_EXPR,l.WORD,l.OPERATOR,l.DOT])||(this._output.space_before_token=!0)}else{if(this._flags.last_token.type===l.RESERVED)this._flags.last_token.text==="for"?(this._output.space_before_token=this._options.space_before_conditional,x=v.ForInitializer):a(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,x=v.Conditional):a(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:this._flags.last_token.text==="import"&&b.whitespace_before===""?this._output.space_before_token=!1:(a(this._flags.last_token.text,o)||this._flags.last_token.text==="catch")&&(this._output.space_before_token=!0);else if(this._flags.last_token.type===l.EQUALS||this._flags.last_token.type===l.OPERATOR)this.start_of_object_property()||this.allow_wrap_or_preserved_newline(b);else if(this._flags.last_token.type===l.WORD){this._output.space_before_token=!1;var A=this._tokens.peek(-3);if(this._options.space_after_named_function&&A){var O=this._tokens.peek(-4);d(A,["async","function"])||A.text==="*"&&d(O,["async","function"])?this._output.space_before_token=!0:this._flags.mode===v.ObjectLiteral?(A.text==="{"||A.text===","||A.text==="*"&&(O.text==="{"||O.text===","))&&(this._output.space_before_token=!0):this._flags.parent&&this._flags.parent.class_start_block&&(this._output.space_before_token=!0)}}else this.allow_wrap_or_preserved_newline(b);(this._flags.last_token.type===l.RESERVED&&(this._flags.last_word==="function"||this._flags.last_word==="typeof")||this._flags.last_token.text==="*"&&(a(this._last_last_text,["function","yield"])||this._flags.mode===v.ObjectLiteral&&a(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function)}this._flags.last_token.text===";"||this._flags.last_token.type===l.START_BLOCK?this.print_newline():(this._flags.last_token.type===l.END_EXPR||this._flags.last_token.type===l.START_EXPR||this._flags.last_token.type===l.END_BLOCK||this._flags.last_token.text==="."||this._flags.last_token.type===l.COMMA)&&this.allow_wrap_or_preserved_newline(b,b.newlines),this.print_token(b),this.set_mode(x),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()},w.prototype.handle_end_expr=function(b){for(;this._flags.mode===v.Statement;)this.restore_mode();this.handle_whitespace_and_comments(b),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(b,b.text==="]"&&C(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type===l.START_EXPR&&!this._options.space_in_empty_paren?(this._output.trim(),this._output.space_before_token=!1):this._output.space_before_token=!0),this.deindent(),this.print_token(b),this.restore_mode(),y(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===v.Conditional&&(this._previous_flags.mode=v.Expression,this._flags.do_block=!1,this._flags.do_while=!1)},w.prototype.handle_start_block=function(b){this.handle_whitespace_and_comments(b);var x=this._tokens.peek(),A=this._tokens.peek(1);this._flags.last_word==="switch"&&this._flags.last_token.type===l.END_EXPR?(this.set_mode(v.BlockStatement),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(v.BlockStatement):A&&(a(A.text,[":",","])&&a(x.type,[l.STRING,l.WORD,l.RESERVED])||a(x.text,["get","set","..."])&&a(A.type,[l.WORD,l.RESERVED]))?a(this._last_last_text,["class","interface"])&&!a(A.text,[":",","])?this.set_mode(v.BlockStatement):this.set_mode(v.ObjectLiteral):this._flags.last_token.type===l.OPERATOR&&this._flags.last_token.text==="=>"?this.set_mode(v.BlockStatement):a(this._flags.last_token.type,[l.EQUALS,l.START_EXPR,l.COMMA,l.OPERATOR])||d(this._flags.last_token,["return","throw","import","default"])?this.set_mode(v.ObjectLiteral):this.set_mode(v.BlockStatement),this._flags.last_token&&d(this._flags.last_token.previous,["class","extends"])&&(this._flags.class_start_block=!0);var O=!x.comments_before&&x.text==="}",$=O&&this._flags.last_word==="function"&&this._flags.last_token.type===l.END_EXPR;if(this._options.brace_preserve_inline){var M=0,R=null;this._flags.inline_frame=!0;do if(M+=1,R=this._tokens.peek(M-1),R.newlines){this._flags.inline_frame=!1;break}while(R.type!==l.EOF&&!(R.type===l.END_BLOCK&&R.opened===b))}(this._options.brace_style==="expand"||this._options.brace_style==="none"&&b.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==l.OPERATOR&&($||this._flags.last_token.type===l.EQUALS||d(this._flags.last_token,f)&&this._flags.last_token.text!=="else")?this._output.space_before_token=!0:this.print_newline(!1,!0):(C(this._previous_flags.mode)&&(this._flags.last_token.type===l.START_EXPR||this._flags.last_token.type===l.COMMA)&&((this._flags.last_token.type===l.COMMA||this._options.space_in_paren)&&(this._output.space_before_token=!0),(this._flags.last_token.type===l.COMMA||this._flags.last_token.type===l.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(b),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==l.OPERATOR&&this._flags.last_token.type!==l.START_EXPR&&(a(this._flags.last_token.type,[l.START_BLOCK,l.SEMICOLON])&&!this._flags.inline_frame?this.print_newline():this._output.space_before_token=!0)),this.print_token(b),this.indent(),!O&&!(this._options.brace_preserve_inline&&this._flags.inline_frame)&&this.print_newline()},w.prototype.handle_end_block=function(b){for(this.handle_whitespace_and_comments(b);this._flags.mode===v.Statement;)this.restore_mode();var x=this._flags.last_token.type===l.START_BLOCK;this._flags.inline_frame&&!x?this._output.space_before_token=!0:this._options.brace_style==="expand"?x||this.print_newline():x||(C(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(b)},w.prototype.handle_word=function(b){if(b.type===l.RESERVED){if(a(b.text,["set","get"])&&this._flags.mode!==v.ObjectLiteral)b.type=l.WORD;else if(b.text==="import"&&a(this._tokens.peek().text,["(","."]))b.type=l.WORD;else if(a(b.text,["as","from"])&&!this._flags.import_block)b.type=l.WORD;else if(this._flags.mode===v.ObjectLiteral){var x=this._tokens.peek();x.text===":"&&(b.type=l.WORD)}}if(this.start_of_statement(b)?d(this._flags.last_token,["var","let","const"])&&b.type===l.WORD&&(this._flags.declaration_statement=!0):b.newlines&&!T(this._flags.mode)&&(this._flags.last_token.type!==l.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++")&&this._flags.last_token.type!==l.EQUALS&&(this._options.preserve_newlines||!d(this._flags.last_token,["var","let","const","set","get"]))?(this.handle_whitespace_and_comments(b),this.print_newline()):this.handle_whitespace_and_comments(b),this._flags.do_block&&!this._flags.do_while)if(h(b,"while")){this._output.space_before_token=!0,this.print_token(b),this._output.space_before_token=!0,this._flags.do_while=!0;return}else this.print_newline(),this._flags.do_block=!1;if(this._flags.if_block)if(!this._flags.else_block&&h(b,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===v.Statement;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&d(b,["case","default"])){this.print_newline(),!this._flags.case_block&&(this._flags.case_body||this._options.jslint_happy)&&this.deindent(),this._flags.case_body=!1,this.print_token(b),this._flags.in_case=!0;return}if((this._flags.last_token.type===l.COMMA||this._flags.last_token.type===l.START_EXPR||this._flags.last_token.type===l.EQUALS||this._flags.last_token.type===l.OPERATOR)&&(this.start_of_object_property()||this.allow_wrap_or_preserved_newline(b)),h(b,"function")){(a(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!(a(this._flags.last_token.text,["(","[","{",":","=",","])||this._flags.last_token.type===l.OPERATOR))&&!this._output.just_added_blankline()&&!b.comments_before&&(this.print_newline(),this.print_newline(!0)),this._flags.last_token.type===l.RESERVED||this._flags.last_token.type===l.WORD?d(this._flags.last_token,["get","set","new","export"])||d(this._flags.last_token,S)?this._output.space_before_token=!0:h(this._flags.last_token,"default")&&this._last_last_text==="export"?this._output.space_before_token=!0:this._flags.last_token.text==="declare"?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===l.OPERATOR||this._flags.last_token.text==="="?this._output.space_before_token=!0:!this._flags.multiline_frame&&(T(this._flags.mode)||C(this._flags.mode))||this.print_newline(),this.print_token(b),this._flags.last_word=b.text;return}var A="NONE";if(this._flags.last_token.type===l.END_BLOCK?this._previous_flags.inline_frame?A="SPACE":d(b,["else","catch","finally","from"])?this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&b.newlines?A="NEWLINE":(A="SPACE",this._output.space_before_token=!0):A="NEWLINE":this._flags.last_token.type===l.SEMICOLON&&this._flags.mode===v.BlockStatement?A="NEWLINE":this._flags.last_token.type===l.SEMICOLON&&T(this._flags.mode)?A="SPACE":this._flags.last_token.type===l.STRING?A="NEWLINE":this._flags.last_token.type===l.RESERVED||this._flags.last_token.type===l.WORD||this._flags.last_token.text==="*"&&(a(this._last_last_text,["function","yield"])||this._flags.mode===v.ObjectLiteral&&a(this._last_last_text,["{",","]))?A="SPACE":this._flags.last_token.type===l.START_BLOCK?this._flags.inline_frame?A="SPACE":A="NEWLINE":this._flags.last_token.type===l.END_EXPR&&(this._output.space_before_token=!0,A="NEWLINE"),d(b,o)&&this._flags.last_token.text!==")"&&(this._flags.inline_frame||this._flags.last_token.text==="else"||this._flags.last_token.text==="export"?A="SPACE":A="NEWLINE"),d(b,["else","catch","finally"]))if((!(this._flags.last_token.type===l.END_BLOCK&&this._previous_flags.mode===v.BlockStatement)||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&b.newlines)&&!this._flags.inline_frame)this.print_newline();else{this._output.trim(!0);var O=this._output.current_line;O.last()!=="}"&&this.print_newline(),this._output.space_before_token=!0}else A==="NEWLINE"?d(this._flags.last_token,f)?this._output.space_before_token=!0:this._flags.last_token.text==="declare"&&d(b,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==l.END_EXPR?(this._flags.last_token.type!==l.START_EXPR||!d(b,["var","let","const"]))&&this._flags.last_token.text!==":"&&(h(b,"if")&&h(b.previous,"else")?this._output.space_before_token=!0:this.print_newline()):d(b,o)&&this._flags.last_token.text!==")"&&this.print_newline():this._flags.multiline_frame&&C(this._flags.mode)&&this._flags.last_token.text===","&&this._last_last_text==="}"?this.print_newline():A==="SPACE"&&(this._output.space_before_token=!0);b.previous&&(b.previous.type===l.WORD||b.previous.type===l.RESERVED)&&(this._output.space_before_token=!0),this.print_token(b),this._flags.last_word=b.text,b.type===l.RESERVED&&(b.text==="do"?this._flags.do_block=!0:b.text==="if"?this._flags.if_block=!0:b.text==="import"?this._flags.import_block=!0:this._flags.import_block&&h(b,"from")&&(this._flags.import_block=!1))},w.prototype.handle_semicolon=function(b){this.start_of_statement(b)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(b);for(var x=this._tokens.peek();this._flags.mode===v.Statement&&!(this._flags.if_block&&h(x,"else"))&&!this._flags.do_block;)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(b)},w.prototype.handle_string=function(b){b.text.startsWith("`")&&b.newlines===0&&b.whitespace_before===""&&(b.previous.text===")"||this._flags.last_token.type===l.WORD)||(this.start_of_statement(b)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(b),this._flags.last_token.type===l.RESERVED||this._flags.last_token.type===l.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===l.COMMA||this._flags.last_token.type===l.START_EXPR||this._flags.last_token.type===l.EQUALS||this._flags.last_token.type===l.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(b):b.text.startsWith("`")&&this._flags.last_token.type===l.END_EXPR&&(b.previous.text==="]"||b.previous.text===")")&&b.newlines===0?this._output.space_before_token=!0:this.print_newline())),this.print_token(b)},w.prototype.handle_equals=function(b){this.start_of_statement(b)||this.handle_whitespace_and_comments(b),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(b),this._output.space_before_token=!0},w.prototype.handle_comma=function(b){this.handle_whitespace_and_comments(b,!0),this.print_token(b),this._output.space_before_token=!0,this._flags.declaration_statement?(T(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(b)):this._flags.mode===v.ObjectLiteral||this._flags.mode===v.Statement&&this._flags.parent.mode===v.ObjectLiteral?(this._flags.mode===v.Statement&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(b)},w.prototype.handle_operator=function(b){var x=b.text==="*"&&(d(this._flags.last_token,["function","yield"])||a(this._flags.last_token.type,[l.START_BLOCK,l.COMMA,l.END_BLOCK,l.SEMICOLON])),A=a(b.text,["-","+"])&&(a(this._flags.last_token.type,[l.START_BLOCK,l.START_EXPR,l.EQUALS,l.OPERATOR])||a(this._flags.last_token.text,o)||this._flags.last_token.text===",");if(!this.start_of_statement(b)){var O=!x;this.handle_whitespace_and_comments(b,O)}if(b.text==="*"&&this._flags.last_token.type===l.DOT){this.print_token(b);return}if(b.text==="::"){this.print_token(b);return}if(this._flags.last_token.type===l.OPERATOR&&a(this._options.operator_position,g)&&this.allow_wrap_or_preserved_newline(b),b.text===":"&&this._flags.in_case){this.print_token(b),this._flags.in_case=!1,this._flags.case_body=!0,this._tokens.peek().type!==l.START_BLOCK?(this.indent(),this.print_newline(),this._flags.case_block=!1):(this._flags.case_block=!0,this._output.space_before_token=!0);return}var $=!0,M=!0,R=!1;if(b.text===":"?this._flags.ternary_depth===0?$=!1:(this._flags.ternary_depth-=1,R=!0):b.text==="?"&&(this._flags.ternary_depth+=1),!A&&!x&&this._options.preserve_newlines&&a(b.text,s)){var P=b.text===":",N=P&&R,D=P&&!R;switch(this._options.operator_position){case m.before_newline:this._output.space_before_token=!D,this.print_token(b),(!P||N)&&this.allow_wrap_or_preserved_newline(b),this._output.space_before_token=!0;return;case m.after_newline:this._output.space_before_token=!0,!P||N?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(b):this._output.space_before_token=!1,this.print_token(b),this._output.space_before_token=!0;return;case m.preserve_newline:D||this.allow_wrap_or_preserved_newline(b),$=!(this._output.just_added_newline()||D),this._output.space_before_token=$,this.print_token(b),this._output.space_before_token=!0;return}}if(x){this.allow_wrap_or_preserved_newline(b),$=!1;var V=this._tokens.peek();M=V&&a(V.type,[l.WORD,l.RESERVED])}else if(b.text==="...")this.allow_wrap_or_preserved_newline(b),$=this._flags.last_token.type===l.START_BLOCK,M=!1;else if(a(b.text,["--","++","!","~"])||A){if((this._flags.last_token.type===l.COMMA||this._flags.last_token.type===l.START_EXPR)&&this.allow_wrap_or_preserved_newline(b),$=!1,M=!1,b.newlines&&(b.text==="--"||b.text==="++"||b.text==="~")){var z=d(this._flags.last_token,f)&&b.newlines;z&&(this._previous_flags.if_block||this._previous_flags.else_block)&&this.restore_mode(),this.print_newline(z,!0)}this._flags.last_token.text===";"&&T(this._flags.mode)&&($=!0),this._flags.last_token.type===l.RESERVED?$=!0:this._flags.last_token.type===l.END_EXPR?$=!(this._flags.last_token.text==="]"&&(b.text==="--"||b.text==="++")):this._flags.last_token.type===l.OPERATOR&&($=a(b.text,["--","-","++","+"])&&a(this._flags.last_token.text,["--","-","++","+"]),a(b.text,["+","-"])&&a(this._flags.last_token.text,["--","++"])&&(M=!0)),(this._flags.mode===v.BlockStatement&&!this._flags.inline_frame||this._flags.mode===v.Statement)&&(this._flags.last_token.text==="{"||this._flags.last_token.text===";")&&this.print_newline()}this._output.space_before_token=this._output.space_before_token||$,this.print_token(b),this._output.space_before_token=M},w.prototype.handle_block_comment=function(b,x){if(this._output.raw){this._output.add_raw_token(b),b.directives&&b.directives.preserve==="end"&&(this._output.raw=this._options.test_output_raw);return}if(b.directives){this.print_newline(!1,x),this.print_token(b),b.directives.preserve==="start"&&(this._output.raw=!0),this.print_newline(!1,!0);return}if(!n.newline.test(b.text)&&!b.newlines){this._output.space_before_token=!0,this.print_token(b),this._output.space_before_token=!0;return}else this.print_block_commment(b,x)},w.prototype.print_block_commment=function(b,x){var A=k(b.text),O,$=!1,M=!1,R=b.whitespace_before,P=R.length;if(this.print_newline(!1,x),this.print_token_line_indentation(b),this._output.add_token(A[0]),this.print_newline(!1,x),A.length>1){for(A=A.slice(1),$=_(A,"*"),M=E(A,R),$&&(this._flags.alignment=1),O=0;O<A.length;O++)$?(this.print_token_line_indentation(b),this._output.add_token(u(A[O]))):M&&A[O]?(this.print_token_line_indentation(b),this._output.add_token(A[O].substring(P))):(this._output.current_line.set_indent(-1),this._output.add_token(A[O])),this.print_newline(!1,x);this._flags.alignment=0}},w.prototype.handle_comment=function(b,x){b.newlines?this.print_newline(!1,x):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(b),this.print_newline(!1,x)},w.prototype.handle_dot=function(b){this.start_of_statement(b)||this.handle_whitespace_and_comments(b,!0),this._flags.last_token.text.match("^[0-9]+$")&&(this._output.space_before_token=!0),d(this._flags.last_token,f)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(b,this._flags.last_token.text===")"&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(b)},w.prototype.handle_unknown=function(b,x){this.print_token(b),b.text[b.text.length-1]===`
`&&this.print_newline(!1,x)},w.prototype.handle_eof=function(b){for(;this._flags.mode===v.Statement;)this.restore_mode();this.handle_whitespace_and_comments(b)},gb.Beautifier=w,gb}var SA;function Nj(){if(SA)return yf.exports;SA=1;var t=Ij().Beautifier,e=dA().Options;function n(i,r){var o=new t(i,r);return o.beautify()}return yf.exports=n,yf.exports.defaultOptions=function(){return new e},yf.exports}var Sf={exports:{}},Mb={},Lb={},kA;function CA(){if(kA)return Lb;kA=1;var t=xb().Options;function e(n){t.call(this,n,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var i=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||i;var r=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var o=0;o<r.length;o++)r[o]!=="expand"?this.brace_style="collapse":this.brace_style=r[o]}return e.prototype=new t,Lb.Options=e,Lb}var EA;function Fj(){if(EA)return Mb;EA=1;var t=CA().Options,e=yb().Output,n=kb().InputScanner,i=Ab().Directives,r=new i(/\/\*/,/\*\//),o=/\r\n|[\r\n]/,s=/\r\n|[\r\n]/g,l=/\s/,a=/(?:\s|\n)+/g,u=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,c=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function h(d,f){this._source_text=d||"",this._options=new t(f),this._ch=null,this._input=null,this.NESTED_AT_RULE={page:!0,"font-face":!0,keyframes:!0,media:!0,supports:!0,document:!0},this.CONDITIONAL_GROUP_RULE={media:!0,supports:!0,document:!0},this.NON_SEMICOLON_NEWLINE_PROPERTY=["grid-template-areas","grid-template"]}return h.prototype.eatString=function(d){var f="";for(this._ch=this._input.next();this._ch;){if(f+=this._ch,this._ch==="\\")f+=this._input.next();else if(d.indexOf(this._ch)!==-1||this._ch===`
`)break;this._ch=this._input.next()}return f},h.prototype.eatWhitespace=function(d){for(var f=l.test(this._input.peek()),p=0;l.test(this._input.peek());)this._ch=this._input.next(),d&&this._ch===`
`&&(p===0||p<this._options.max_preserve_newlines)&&(p++,this._output.add_new_line(!0));return f},h.prototype.foundNestedPseudoClass=function(){for(var d=0,f=1,p=this._input.peek(f);p;){if(p==="{")return!0;if(p==="(")d+=1;else if(p===")"){if(d===0)return!1;d-=1}else if(p===";"||p==="}")return!1;f++,p=this._input.peek(f)}return!1},h.prototype.print_string=function(d){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(d)},h.prototype.preserveSingleSpace=function(d){d&&(this._output.space_before_token=!0)},h.prototype.indent=function(){this._indentLevel++},h.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--},h.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var d=this._source_text,f=this._options.eol;f==="auto"&&(f=`
`,d&&o.test(d||"")&&(f=d.match(o)[0])),d=d.replace(s,`
`);var p=d.match(/^[\t ]*/)[0];this._output=new e(this._options,p),this._input=new n(d),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var m=0,g=!1,v=!1,y=!1,k=!1,C=!1,T=this._ch,_=!1,E,w,S;E=this._input.read(a),w=E!=="",S=T,this._ch=this._input.next(),this._ch==="\\"&&this._input.hasNext()&&(this._ch+=this._input.next()),T=this._ch,this._ch;)if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line(),this._input.back();var b=this._input.read(u),x=r.get_directives(b);x&&x.ignore==="start"&&(b+=r.readIgnored(this._input)),this.print_string(b),this.eatWhitespace(!0),this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/")this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(c)),this.eatWhitespace(!0);else if(this._ch==="$"){this.preserveSingleSpace(w),this.print_string(this._ch);var A=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);A.match(/[ :]$/)&&(A=this.eatString(": ").replace(/\s$/,""),this.print_string(A),this._output.space_before_token=!0),A=A.replace(/\s$/,""),m===0&&A.indexOf(":")!==-1&&(v=!0,this.indent())}else if(this._ch==="@")if(this.preserveSingleSpace(w),this._input.peek()==="{")this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var O=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);O.match(/[ :]$/)&&(O=this.eatString(": ").replace(/\s$/,""),this.print_string(O),this._output.space_before_token=!0),O=O.replace(/\s$/,""),m===0&&O.indexOf(":")!==-1?(v=!0,this.indent()):O in this.NESTED_AT_RULE?(this._nestedLevel+=1,O in this.CONDITIONAL_GROUP_RULE&&(y=!0)):m===0&&!v&&(k=!0)}else if(this._ch==="#"&&this._input.peek()==="{")this.preserveSingleSpace(w),this.print_string(this._ch+this.eatString("}"));else if(this._ch==="{")v&&(v=!1,this.outdent()),k=!1,y?(y=!1,g=this._indentLevel>=this._nestedLevel):g=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&g&&this._output.previous_line&&this._output.previous_line.item(-1)!=="{"&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,this._options.brace_style==="expand"?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(S==="("?this._output.space_before_token=!1:S!==","&&this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line();else if(this._ch==="}")this.outdent(),this._output.add_new_line(),S==="{"&&this._output.trim(!0),v&&(this.outdent(),v=!1),this.print_string(this._ch),g=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&this._input.peek()!=="}"&&this._output.add_new_line(!0),this._input.peek()===")"&&(this._output.trim(!0),this._options.brace_style==="expand"&&this._output.add_new_line(!0));else if(this._ch===":"){for(var $=0;$<this.NON_SEMICOLON_NEWLINE_PROPERTY.length;$++)if(this._input.lookBack(this.NON_SEMICOLON_NEWLINE_PROPERTY[$])){_=!0;break}(g||y)&&!(this._input.lookBack("&")||this.foundNestedPseudoClass())&&!this._input.lookBack("(")&&!k&&m===0?(this.print_string(":"),v||(v=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):(this._input.lookBack(" ")&&(this._output.space_before_token=!0),this._input.peek()===":"?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":"))}else if(this._ch==='"'||this._ch==="'"){var M=S==='"'||S==="'";this.preserveSingleSpace(M||w),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)}else if(this._ch===";")_=!1,m===0?(v&&(this.outdent(),v=!1),k=!1,this.print_string(this._ch),this.eatWhitespace(!0),this._input.peek()!=="/"&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0);else if(this._ch==="(")if(this._input.lookBack("url"))this.print_string(this._ch),this.eatWhitespace(),m++,this.indent(),this._ch=this._input.next(),this._ch===")"||this._ch==='"'||this._ch==="'"?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),m&&(m--,this.outdent()));else{var R=!1;this._input.lookBack("with")&&(R=!0),this.preserveSingleSpace(w||R),this.print_string(this._ch),v&&S==="$"&&this._options.selector_separator_newline?(this._output.add_new_line(),C=!0):(this.eatWhitespace(),m++,this.indent())}else if(this._ch===")")m&&(m--,this.outdent()),C&&this._input.peek()===";"&&this._options.selector_separator_newline&&(C=!1,this.outdent(),this._output.add_new_line()),this.print_string(this._ch);else if(this._ch===",")this.print_string(this._ch),this.eatWhitespace(!0),this._options.selector_separator_newline&&(!v||C)&&m===0&&!k?this._output.add_new_line():this._output.space_before_token=!0;else if((this._ch===">"||this._ch==="+"||this._ch==="~")&&!v&&m===0)this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&l.test(this._ch)&&(this._ch=""));else if(this._ch==="]")this.print_string(this._ch);else if(this._ch==="[")this.preserveSingleSpace(w),this.print_string(this._ch);else if(this._ch==="=")this.eatWhitespace(),this.print_string("="),l.test(this._ch)&&(this._ch="");else if(this._ch==="!"&&!this._input.lookBack("\\"))this._output.space_before_token=!0,this.print_string(this._ch);else{var P=S==='"'||S==="'";this.preserveSingleSpace(P||w),this.print_string(this._ch),!this._output.just_added_newline()&&this._input.peek()===`
`&&_&&this._output.add_new_line()}var N=this._output.get_code(f);return N},Mb.Beautifier=h,Mb}var TA;function zj(){if(TA)return Sf.exports;TA=1;var t=Fj().Beautifier,e=CA().Options;function n(i,r){var o=new t(i,r);return o.beautify()}return Sf.exports=n,Sf.exports.defaultOptions=function(){return new e},Sf.exports}var kf={exports:{}},Rb={},Pb={},$A;function AA(){if($A)return Pb;$A=1;var t=xb().Options;function e(n){t.call(this,n,"html"),this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_min_attrs=this._get_number("wrap_attributes_min_attrs",2),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.inline_custom_elements=this._get_boolean("inline_custom_elements",!0),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}return e.prototype=new t,Pb.Options=e,Pb}var Cf={},OA;function MA(){if(OA)return Cf;OA=1;var t=_f().Tokenizer,e=_f().TOKEN,n=Ab().Directives,i=wA().TemplatablePattern,r=wf().Pattern,o={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:e.START,RAW:e.RAW,EOF:e.EOF},s=new n(/<\!--/,/-->/),l=function(a,u){t.call(this,a,u),this._current_tag_name="";var c=new i(this._input).read_options(this._options),h=new r(this._input);if(this.__patterns={word:c.until(/[\n\r\t <]/),single_quote:c.until_after(/'/),double_quote:c.until_after(/"/),attribute:c.until(/[\n\r\t =>]|\/>/),element_name:c.until(/[\n\r\t >\/]/),handlebars_comment:h.starting_with(/{{!--/).until_after(/--}}/),handlebars:h.starting_with(/{{/).until_after(/}}/),handlebars_open:h.until(/[\n\r\t }]/),handlebars_raw_close:h.until(/}}/),comment:h.starting_with(/<!--/).until_after(/-->/),cdata:h.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:h.starting_with(/<!\[/).until_after(/]>/),processing:h.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var d=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=h.matching(d).until_after(d)}};return l.prototype=new t,l.prototype._is_comment=function(a){return!1},l.prototype._is_opening=function(a){return a.type===o.TAG_OPEN},l.prototype._is_closing=function(a,u){return a.type===o.TAG_CLOSE&&u&&((a.text===">"||a.text==="/>")&&u.text[0]==="<"||a.text==="}}"&&u.text[0]==="{"&&u.text[1]==="{")},l.prototype._reset=function(){this._current_tag_name=""},l.prototype._get_next_token=function(a,u){var c=null;this._readWhitespace();var h=this._input.peek();return h===null?this._create_token(o.EOF,""):(c=c||this._read_open_handlebars(h,u),c=c||this._read_attribute(h,a,u),c=c||this._read_close(h,u),c=c||this._read_raw_content(h,a,u),c=c||this._read_content_word(h),c=c||this._read_comment_or_cdata(h),c=c||this._read_processing(h),c=c||this._read_open(h,u),c=c||this._create_token(o.UNKNOWN,this._input.next()),c)},l.prototype._read_comment_or_cdata=function(a){var u=null,c=null,h=null;if(a==="<"){var d=this._input.peek(1);d==="!"&&(c=this.__patterns.comment.read(),c?(h=s.get_directives(c),h&&h.ignore==="start"&&(c+=s.readIgnored(this._input))):c=this.__patterns.cdata.read()),c&&(u=this._create_token(o.COMMENT,c),u.directives=h)}return u},l.prototype._read_processing=function(a){var u=null,c=null,h=null;if(a==="<"){var d=this._input.peek(1);(d==="!"||d==="?")&&(c=this.__patterns.conditional_comment.read(),c=c||this.__patterns.processing.read()),c&&(u=this._create_token(o.COMMENT,c),u.directives=h)}return u},l.prototype._read_open=function(a,u){var c=null,h=null;return u||a==="<"&&(c=this._input.next(),this._input.peek()==="/"&&(c+=this._input.next()),c+=this.__patterns.element_name.read(),h=this._create_token(o.TAG_OPEN,c)),h},l.prototype._read_open_handlebars=function(a,u){var c=null,h=null;return u||this._options.indent_handlebars&&a==="{"&&this._input.peek(1)==="{"&&(this._input.peek(2)==="!"?(c=this.__patterns.handlebars_comment.read(),c=c||this.__patterns.handlebars.read(),h=this._create_token(o.COMMENT,c)):(c=this.__patterns.handlebars_open.read(),h=this._create_token(o.TAG_OPEN,c))),h},l.prototype._read_close=function(a,u){var c=null,h=null;return u&&(u.text[0]==="<"&&(a===">"||a==="/"&&this._input.peek(1)===">")?(c=this._input.next(),a==="/"&&(c+=this._input.next()),h=this._create_token(o.TAG_CLOSE,c)):u.text[0]==="{"&&a==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),h=this._create_token(o.TAG_CLOSE,"}}"))),h},l.prototype._read_attribute=function(a,u,c){var h=null,d="";if(c&&c.text[0]==="<")if(a==="=")h=this._create_token(o.EQUALS,this._input.next());else if(a==='"'||a==="'"){var f=this._input.next();a==='"'?f+=this.__patterns.double_quote.read():f+=this.__patterns.single_quote.read(),h=this._create_token(o.VALUE,f)}else d=this.__patterns.attribute.read(),d&&(u.type===o.EQUALS?h=this._create_token(o.VALUE,d):h=this._create_token(o.ATTRIBUTE,d));return h},l.prototype._is_content_unformatted=function(a){return this._options.void_elements.indexOf(a)===-1&&(this._options.content_unformatted.indexOf(a)!==-1||this._options.unformatted.indexOf(a)!==-1)},l.prototype._read_raw_content=function(a,u,c){var h="";if(c&&c.text[0]==="{")h=this.__patterns.handlebars_raw_close.read();else if(u.type===o.TAG_CLOSE&&u.opened.text[0]==="<"&&u.text[0]!=="/"){var d=u.opened.text.substr(1).toLowerCase();if(d==="script"||d==="style"){var f=this._read_comment_or_cdata(a);if(f)return f.type=o.TEXT,f;h=this._input.readUntil(new RegExp("</"+d+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(d)&&(h=this._input.readUntil(new RegExp("</"+d+"[\\n\\r\\t ]*?>","ig")))}return h?this._create_token(o.TEXT,h):null},l.prototype._read_content_word=function(a){var u="";if(this._options.unformatted_content_delimiter&&a===this._options.unformatted_content_delimiter[0]&&(u=this.__patterns.unformatted_content_delimiter.read()),u||(u=this.__patterns.word.read()),u)return this._create_token(o.TEXT,u)},Cf.Tokenizer=l,Cf.TOKEN=o,Cf}var LA;function Bj(){if(LA)return Rb;LA=1;var t=AA().Options,e=yb().Output,n=MA().Tokenizer,i=MA().TOKEN,r=/\r\n|[\r\n]/,o=/\r\n|[\r\n]/g,s=function(g,v){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=g.max_preserve_newlines,this.preserve_newlines=g.preserve_newlines,this._output=new e(g,v)};s.prototype.current_line_has_match=function(g){return this._output.current_line.has_match(g)},s.prototype.set_space_before_token=function(g,v){this._output.space_before_token=g,this._output.non_breaking_space=v},s.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()},s.prototype.add_raw_token=function(g){this._output.add_raw_token(g)},s.prototype.print_preserved_newlines=function(g){var v=0;g.type!==i.TEXT&&g.previous.type!==i.TEXT&&(v=g.newlines?1:0),this.preserve_newlines&&(v=g.newlines<this.max_preserve_newlines+1?g.newlines:this.max_preserve_newlines+1);for(var y=0;y<v;y++)this.print_newline(y>0);return v!==0},s.prototype.traverse_whitespace=function(g){return g.whitespace_before||g.newlines?(this.print_preserved_newlines(g)||(this._output.space_before_token=!0),!0):!1},s.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped},s.prototype.print_newline=function(g){this._output.add_new_line(g)},s.prototype.print_token=function(g){g.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(g.text))},s.prototype.indent=function(){this.indent_level++},s.prototype.get_full_indent=function(g){return g=this.indent_level+(g||0),g<1?"":this._output.get_indent_string(g)};var l=function(g){for(var v=null,y=g.next;y.type!==i.EOF&&g.closed!==y;){if(y.type===i.ATTRIBUTE&&y.text==="type"){y.next&&y.next.type===i.EQUALS&&y.next.next&&y.next.next.type===i.VALUE&&(v=y.next.next.text);break}y=y.next}return v},a=function(g,v){var y=null,k=null;return v.closed?(g==="script"?y="text/javascript":g==="style"&&(y="text/css"),y=l(v)||y,y.search("text/css")>-1?k="css":y.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?k="javascript":y.search(/(text|application|dojo)\/(x-)?(html)/)>-1?k="html":y.search(/test\/null/)>-1&&(k="null"),k):null};function u(g,v){return v.indexOf(g)!==-1}function c(g,v,y){this.parent=g||null,this.tag=v?v.tag_name:"",this.indent_level=y||0,this.parser_token=v||null}function h(g){this._printer=g,this._current_frame=null}h.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null},h.prototype.record_tag=function(g){var v=new c(this._current_frame,g,this._printer.indent_level);this._current_frame=v},h.prototype._try_pop_frame=function(g){var v=null;return g&&(v=g.parser_token,this._printer.indent_level=g.indent_level,this._current_frame=g.parent),v},h.prototype._get_frame=function(g,v){for(var y=this._current_frame;y&&g.indexOf(y.tag)===-1;){if(v&&v.indexOf(y.tag)!==-1){y=null;break}y=y.parent}return y},h.prototype.try_pop=function(g,v){var y=this._get_frame([g],v);return this._try_pop_frame(y)},h.prototype.indent_to_tag=function(g){var v=this._get_frame(g);v&&(this._printer.indent_level=v.indent_level)};function d(g,v,y,k){this._source_text=g||"",v=v||{},this._js_beautify=y,this._css_beautify=k,this._tag_stack=null;var C=new t(v,"html");this._options=C,this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,5)==="force",this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline",this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned",this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple",this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,8)==="preserve",this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}d.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var g=this._source_text,v=this._options.eol;this._options.eol==="auto"&&(v=`
`,g&&r.test(g)&&(v=g.match(r)[0])),g=g.replace(o,`
`);var y=g.match(/^[\t ]*/)[0],k={text:"",type:""},C=new f,T=new s(this._options,y),_=new n(g,this._options).tokenize();this._tag_stack=new h(T);for(var E=null,w=_.next();w.type!==i.EOF;)w.type===i.TAG_OPEN||w.type===i.COMMENT?(E=this._handle_tag_open(T,w,C,k,_),C=E):w.type===i.ATTRIBUTE||w.type===i.EQUALS||w.type===i.VALUE||w.type===i.TEXT&&!C.tag_complete?E=this._handle_inside_tag(T,w,C,k):w.type===i.TAG_CLOSE?E=this._handle_tag_close(T,w,C):w.type===i.TEXT?E=this._handle_text(T,w,C):T.add_raw_token(w),k=E,w=_.next();var S=T._output.get_code(v);return S},d.prototype._handle_tag_close=function(g,v,y){var k={text:v.text,type:v.type};return g.alignment_size=0,y.tag_complete=!0,g.set_space_before_token(v.newlines||v.whitespace_before!=="",!0),y.is_unformatted?g.add_raw_token(v):(y.tag_start_char==="<"&&(g.set_space_before_token(v.text[0]==="/",!0),this._is_wrap_attributes_force_expand_multiline&&y.has_wrapped_attrs&&g.print_newline(!1)),g.print_token(v)),y.indent_content&&!(y.is_unformatted||y.is_content_unformatted)&&(g.indent(),y.indent_content=!1),!y.is_inline_element&&!(y.is_unformatted||y.is_content_unformatted)&&g.set_wrap_point(),k},d.prototype._handle_inside_tag=function(g,v,y,k){var C=y.has_wrapped_attrs,T={text:v.text,type:v.type};return g.set_space_before_token(v.newlines||v.whitespace_before!=="",!0),y.is_unformatted?g.add_raw_token(v):y.tag_start_char==="{"&&v.type===i.TEXT?g.print_preserved_newlines(v)?(v.newlines=0,g.add_raw_token(v)):g.print_token(v):(v.type===i.ATTRIBUTE?g.set_space_before_token(!0):(v.type===i.EQUALS||v.type===i.VALUE&&v.previous.type===i.EQUALS)&&g.set_space_before_token(!1),v.type===i.ATTRIBUTE&&y.tag_start_char==="<"&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(g.traverse_whitespace(v),C=C||v.newlines!==0),this._is_wrap_attributes_force&&y.attr_count>=this._options.wrap_attributes_min_attrs&&(k.type!==i.TAG_OPEN||this._is_wrap_attributes_force_expand_multiline)&&(g.print_newline(!1),C=!0)),g.print_token(v),C=C||g.previous_token_wrapped(),y.has_wrapped_attrs=C),T},d.prototype._handle_text=function(g,v,y){var k={text:v.text,type:"TK_CONTENT"};return y.custom_beautifier_name?this._print_custom_beatifier_text(g,v,y):y.is_unformatted||y.is_content_unformatted?g.add_raw_token(v):(g.traverse_whitespace(v),g.print_token(v)),k},d.prototype._print_custom_beatifier_text=function(g,v,y){var k=this;if(v.text!==""){var C=v.text,T,_=1,E="",w="";y.custom_beautifier_name==="javascript"&&typeof this._js_beautify=="function"?T=this._js_beautify:y.custom_beautifier_name==="css"&&typeof this._css_beautify=="function"?T=this._css_beautify:y.custom_beautifier_name==="html"&&(T=function($,M){var R=new d($,M,k._js_beautify,k._css_beautify);return R.beautify()}),this._options.indent_scripts==="keep"?_=0:this._options.indent_scripts==="separate"&&(_=-g.indent_level);var S=g.get_full_indent(_);if(C=C.replace(/\n[ \t]*$/,""),y.custom_beautifier_name!=="html"&&C[0]==="<"&&C.match(/^(<!--|<!\[CDATA\[)/)){var b=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(C);if(!b){g.add_raw_token(v);return}E=S+b[1]+`
`,C=b[4],b[5]&&(w=S+b[5]),C=C.replace(/\n[ \t]*$/,""),(b[2]||b[3].indexOf(`
`)!==-1)&&(b=b[3].match(/[ \t]+$/),b&&(v.whitespace_before=b[0]))}if(C)if(T){var x=function(){this.eol=`
`};x.prototype=this._options.raw_options;var A=new x;C=T(S+C,A)}else{var O=v.whitespace_before;O&&(C=C.replace(new RegExp(`
(`+O+")?","g"),`
`)),C=S+C.replace(/\n/g,`
`+S)}E&&(C?C=E+C+`
`+w:C=E+w),g.print_newline(!1),C&&(v.text=C,v.whitespace_before="",v.newlines=0,g.add_raw_token(v),g.print_newline(!0))}},d.prototype._handle_tag_open=function(g,v,y,k,C){var T=this._get_tag_open_token(v);if((y.is_unformatted||y.is_content_unformatted)&&!y.is_empty_element&&v.type===i.TAG_OPEN&&!T.is_start_tag?(g.add_raw_token(v),T.start_tag_token=this._tag_stack.try_pop(T.tag_name)):(g.traverse_whitespace(v),this._set_tag_position(g,v,T,y,k),T.is_inline_element||g.set_wrap_point(),g.print_token(v)),T.is_start_tag&&this._is_wrap_attributes_force){var _=0,E;do E=C.peek(_),E.type===i.ATTRIBUTE&&(T.attr_count+=1),_+=1;while(E.type!==i.EOF&&E.type!==i.TAG_CLOSE)}return(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(T.alignment_size=v.text.length+1),!T.tag_complete&&!T.is_unformatted&&(g.alignment_size=T.alignment_size),T};var f=function(g,v){if(this.parent=g||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",!v)this.tag_complete=!0;else{var y;this.tag_start_char=v.text[0],this.text=v.text,this.tag_start_char==="<"?(y=v.text.match(/^<([^\s>]*)/),this.tag_check=y?y[1]:""):(y=v.text.match(/^{{~?(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=y?y[1]:"",(v.text.startsWith("{{#>")||v.text.startsWith("{{~#>"))&&this.tag_check[0]===">"&&(this.tag_check===">"&&v.next!==null?this.tag_check=v.next.text.split(" ")[0]:this.tag_check=v.text.split(">")[1])),this.tag_check=this.tag_check.toLowerCase(),v.type===i.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||v.closed&&v.closed.text==="/>";var k=2;this.tag_start_char==="{"&&this.text.length>=3&&this.text.charAt(2)==="~"&&(k=3),this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(k)))}};d.prototype._get_tag_open_token=function(g){var v=new f(this._tag_stack.get_parser_token(),g);return v.alignment_size=this._options.wrap_attributes_indent_size,v.is_end_tag=v.is_end_tag||u(v.tag_check,this._options.void_elements),v.is_empty_element=v.tag_complete||v.is_start_tag&&v.is_end_tag,v.is_unformatted=!v.tag_complete&&u(v.tag_check,this._options.unformatted),v.is_content_unformatted=!v.is_empty_element&&u(v.tag_check,this._options.content_unformatted),v.is_inline_element=u(v.tag_name,this._options.inline)||this._options.inline_custom_elements&&v.tag_name.includes("-")||v.tag_start_char==="{",v},d.prototype._set_tag_position=function(g,v,y,k,C){if(y.is_empty_element||(y.is_end_tag?y.start_tag_token=this._tag_stack.try_pop(y.tag_name):(this._do_optional_end_element(y)&&(y.is_inline_element||g.print_newline(!1)),this._tag_stack.record_tag(y),(y.tag_name==="script"||y.tag_name==="style")&&!(y.is_unformatted||y.is_content_unformatted)&&(y.custom_beautifier_name=a(y.tag_check,v)))),u(y.tag_check,this._options.extra_liners)&&(g.print_newline(!1),g._output.just_added_blankline()||g.print_newline(!0)),y.is_empty_element){if(y.tag_start_char==="{"&&y.tag_check==="else"){this._tag_stack.indent_to_tag(["if","unless","each"]),y.indent_content=!0;var T=g.current_line_has_match(/{{#if/);T||g.print_newline(!1)}y.tag_name==="!--"&&C.type===i.TAG_CLOSE&&k.is_end_tag&&y.text.indexOf(`
`)===-1||(y.is_inline_element||y.is_unformatted||g.print_newline(!1),this._calcluate_parent_multiline(g,y))}else if(y.is_end_tag){var _=!1;_=y.start_tag_token&&y.start_tag_token.multiline_content,_=_||!y.is_inline_element&&!(k.is_inline_element||k.is_unformatted)&&!(C.type===i.TAG_CLOSE&&y.start_tag_token===k)&&C.type!=="TK_CONTENT",(y.is_content_unformatted||y.is_unformatted)&&(_=!1),_&&g.print_newline(!1)}else y.indent_content=!y.custom_beautifier_name,y.tag_start_char==="<"&&(y.tag_name==="html"?y.indent_content=this._options.indent_inner_html:y.tag_name==="head"?y.indent_content=this._options.indent_head_inner_html:y.tag_name==="body"&&(y.indent_content=this._options.indent_body_inner_html)),!(y.is_inline_element||y.is_unformatted)&&(C.type!=="TK_CONTENT"||y.is_content_unformatted)&&g.print_newline(!1),this._calcluate_parent_multiline(g,y)},d.prototype._calcluate_parent_multiline=function(g,v){v.parent&&g._output.just_added_newline()&&!((v.is_inline_element||v.is_unformatted)&&v.parent.is_inline_element)&&(v.parent.multiline_content=!0)};var p=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","menu","nav","ol","p","pre","section","table","ul"],m=["a","audio","del","ins","map","noscript","video"];return d.prototype._do_optional_end_element=function(g){var v=null;if(!(g.is_empty_element||!g.is_start_tag||!g.parent)){if(g.tag_name==="body")v=v||this._tag_stack.try_pop("head");else if(g.tag_name==="li")v=v||this._tag_stack.try_pop("li",["ol","ul","menu"]);else if(g.tag_name==="dd"||g.tag_name==="dt")v=v||this._tag_stack.try_pop("dt",["dl"]),v=v||this._tag_stack.try_pop("dd",["dl"]);else if(g.parent.tag_name==="p"&&p.indexOf(g.tag_name)!==-1){var y=g.parent.parent;(!y||m.indexOf(y.tag_name)===-1)&&(v=v||this._tag_stack.try_pop("p"))}else g.tag_name==="rp"||g.tag_name==="rt"?(v=v||this._tag_stack.try_pop("rt",["ruby","rtc"]),v=v||this._tag_stack.try_pop("rp",["ruby","rtc"])):g.tag_name==="optgroup"?v=v||this._tag_stack.try_pop("optgroup",["select"]):g.tag_name==="option"?v=v||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):g.tag_name==="colgroup"?v=v||this._tag_stack.try_pop("caption",["table"]):g.tag_name==="thead"?(v=v||this._tag_stack.try_pop("caption",["table"]),v=v||this._tag_stack.try_pop("colgroup",["table"])):g.tag_name==="tbody"||g.tag_name==="tfoot"?(v=v||this._tag_stack.try_pop("caption",["table"]),v=v||this._tag_stack.try_pop("colgroup",["table"]),v=v||this._tag_stack.try_pop("thead",["table"]),v=v||this._tag_stack.try_pop("tbody",["table"])):g.tag_name==="tr"?(v=v||this._tag_stack.try_pop("caption",["table"]),v=v||this._tag_stack.try_pop("colgroup",["table"]),v=v||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"])):(g.tag_name==="th"||g.tag_name==="td")&&(v=v||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]),v=v||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return g.parent=this._tag_stack.get_parser_token(),v}},Rb.Beautifier=d,Rb}var RA;function jj(){if(RA)return kf.exports;RA=1;var t=Bj().Beautifier,e=AA().Options;function n(i,r,o,s){var l=new t(i,r,o,s);return l.beautify()}return kf.exports=n,kf.exports.defaultOptions=function(){return new e},kf.exports}var PA;function Vj(){if(PA)return gu;PA=1;var t=Nj(),e=zj(),n=jj();function i(r,o,s,l){return s=s||t,l=l||e,n(r,o,s,l)}return i.defaultOptions=n.defaultOptions,gu.js=t,gu.css=e,gu.html=i,gu}(function(t){function e(n,i,r){var o=function(s,l){return n.js_beautify(s,l)};return o.js=n.js_beautify,o.css=i.css_beautify,o.html=r.html_beautify,o.js_beautify=n.js_beautify,o.css_beautify=i.css_beautify,o.html_beautify=r.html_beautify,o}(function(n){var i=Vj();i.js_beautify=i.js,i.css_beautify=i.css,i.html_beautify=i.html,n.exports=e(i,i,i)})(t)})(rA);var Wj=rA.exports;const Hj=Ti(Wj),Uj=I.lazy(()=>go(()=>Promise.resolve().then(()=>IO),void 0,pt&&pt.src||new URL("admin/mapplic-admin.js",document.baseURI).href)),Db=({open:t,setOpen:e,mode:n,title:i="Code Editor",content:r,setContent:o})=>{const[s,l]=I.useState(""),[a,u]=I.useState(!1);I.useEffect(()=>{t===!0&&l((f=>{if(n==="json")return JSON.stringify(f,null,"	");if(n==="html")return Hj.html(f,{indent_size:4})})(r))},[t]);const c=d=>{l(d),u(!0)},h=()=>{try{o(n==="json"?JSON.parse(s):s),e(!1),u(!1)}catch{alert("The JSON is invalid, therefore it cannot be saved.")}};return L(iA,{classNames:{modal:"mapplic-admin-ui"},open:t,onClose:()=>e(!1),closeIcon:L(ty,{size:16}),center:!0,children:X("div",{className:"flex flex-col gap-4",children:[L("h3",{className:"text-xl font-bold",children:i}),L("div",{className:"field",style:{backgroundColor:"#E8E8E8"},children:L(I.Suspense,{fallback:L("p",{children:"loading"}),children:L(Uj,{value:s,mode:n,theme:"xcode",fontSize:13,name:"code-editor",width:"800px",height:"480px",wrapEnabled:!0,wrapBehaviours:!0,wrap:"free",showGutter:!0,showPrintMargin:!1,onChange:c})})}),X("div",{className:"auto-layout align-center space-between",children:[L("small",{children:"Code editing zone for expert users only."}),X("div",{className:"auto-layout",children:[L("button",{className:"mapplic-button",onClick:()=>{e(!1)},children:"Cancel"}),L("button",{className:"mapplic-button mapplic-button-primary",disabled:!a,onClick:h,children:"Update"})]})]})]})})},Mr=({highlight:t,setSelected:e,label:n,list:i=[],setList:r,def:o=!1,preselected:s=!1,keyAttribute:l,nameAttribute:a,newItem:u,back:c})=>{const[h,d]=I.useState(!1);u||(u={[l]:"item"+Date.now(),[a]:"New item"});const f=m=>{r([m,...i]),e(m[l])};I.useEffect(()=>{o&&!i.some(m=>m[l]===o[l])&&r([o,...i])},[]),I.useEffect(()=>{s&&i.find(m=>m.id===s)&&e(s)},[s]);const p=(m,g,v)=>{v.dragging&&r(m)};return X("div",{className:"mapplic-admin-list",children:[L(Db,{open:h,setOpen:d,mode:"json",title:`${n} - data`,content:i.map(({chosen:m,selected:g,...v})=>v),setContent:r}),X("div",{className:"mapplic-admin-list-header",children:[X("div",{style:{display:"flex",alignItems:"center",gap:4,marginLeft:c?-8:0},children:[c&&L("button",{type:"button",className:"mapplic-admin-button",onClick:c,children:L(zc,{size:16})}),L("h4",{children:n}),L("button",{type:"button",className:"code-button",onClick:()=>d(!0),children:L(s0,{size:12})})]}),X("button",{type:"button",className:t?"btn btn-secondary btn-sm rounded-lg":"mapplic-admin-button",onClick:()=>f(u),children:[t&&"Add",L(ZC,{size:16})]})]}),X("div",{className:"mapplic-admin-list-body",children:[i.length<1&&X("i",{className:"mapplic-empty-message",children:["There are no ",n.toLowerCase()," yet."]}),o&&L("ul",{className:An("mapplic-admin-list-items",{long:i.length>1}),children:L(DA,{item:o,nameAttribute:a,onClick:()=>e(o[l])},o[l])}),L(fj.ReactSortable,{tag:"ul",list:i,setList:p,animation:150,className:"mapplic-admin-list-items",delayOnTouchStart:!0,delay:1,children:i.map(m=>L(DA,{item:m,nameAttribute:a,onClick:()=>e(m[l]),hide:o&&m[l]===o[l]},m[l]))})]})]})},DA=({item:t,nameAttribute:e,onClick:n,hide:i})=>L("li",{className:"mapplic-admin-list-item",style:{display:i?"none":"flex"},children:L("button",{type:"button",onClick:n,children:t[e]||L("i",{children:"Untitled"})})}),Lr=I.forwardRef(({list:t,setList:e,selected:n,setSelected:i,keyAttribute:r,nameAttribute:o,render:s,def:l=!1,samples:a=!1},u)=>{const[c,h]=I.useState(!1),d=()=>t.find(v=>v[r]===n),f=()=>{if(!a)return{};const v=d();return a.find(y=>y.id===(v==null?void 0:v.sample))||a.find(y=>y.id==="def")||{}},p=(v,y=n)=>{e(t.map(k=>k[r]===y?v:k),!c),h(!0),y===n&&v[r]!==y&&i(v[r])},m=(v=n)=>{l&&n===l[r]||(e(t.filter(y=>y[r]!==v)),i(!1))},g=(v,y)=>{let k={...d(),[v]:y};y===""&&delete k[v],p(k)};return L(Ts,{ref:u,children:L("div",{className:"panel-content",children:X("div",{className:"panel-inner",children:[X("div",{className:"gap-2 panel-header",style:{padding:" 16px 12px 0 12px"},children:[L("button",{type:"button",className:"mapplic-admin-button",onClick:()=>i(!1),children:L(zc,{size:16})}),L("b",{className:"whitespace-nowrap text-ellipsis overflow-hidden",children:d()[o]||L("i",{children:"Untitled"})}),L("button",{type:"button",className:"mapplic-admin-button warn",disabled:l,onClick:()=>m(),children:L(cF,{size:16})})]}),L("div",{className:"mapplic-panel-group",children:s(d(),g,f())})]})})})});function $o(){return($o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function yu(t,e){if(t==null)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)e.indexOf(n=o[i])>=0||(r[n]=t[n]);return r}function bu(t){var e=I.useRef(t),n=I.useRef(function(i){e.current&&e.current(i)});return e.current=t,n.current}var al=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t<e?e:t},wu=function(t){return"touches"in t},Ib=function(t){return t&&t.ownerDocument.defaultView||self},IA=function(t,e,n){var i=t.getBoundingClientRect(),r=wu(e)?function(o,s){for(var l=0;l<o.length;l++)if(o[l].identifier===s)return o[l];return o[0]}(e.touches,n):e;return{left:al((r.pageX-(i.left+Ib(t).pageXOffset))/i.width),top:al((r.pageY-(i.top+Ib(t).pageYOffset))/i.height)}},NA=function(t){!wu(t)&&t.preventDefault()},Nb=K.memo(function(t){var e=t.onMove,n=t.onKey,i=yu(t,["onMove","onKey"]),r=I.useRef(null),o=bu(e),s=bu(n),l=I.useRef(null),a=I.useRef(!1),u=I.useMemo(function(){var f=function(g){NA(g),(wu(g)?g.touches.length>0:g.buttons>0)&&r.current?o(IA(r.current,g,l.current)):m(!1)},p=function(){return m(!1)};function m(g){var v=a.current,y=Ib(r.current),k=g?y.addEventListener:y.removeEventListener;k(v?"touchmove":"mousemove",f),k(v?"touchend":"mouseup",p)}return[function(g){var v=g.nativeEvent,y=r.current;if(y&&(NA(v),!function(C,T){return T&&!wu(C)}(v,a.current)&&y)){if(wu(v)){a.current=!0;var k=v.changedTouches||[];k.length&&(l.current=k[0].identifier)}y.focus(),o(IA(y,v,l.current)),m(!0)}},function(g){var v=g.which||g.keyCode;v<37||v>40||(g.preventDefault(),s({left:v===39?.05:v===37?-.05:0,top:v===40?.05:v===38?-.05:0}))},m]},[s,o]),c=u[0],h=u[1],d=u[2];return I.useEffect(function(){return d},[d]),K.createElement("div",$o({},i,{onTouchStart:c,onMouseDown:c,className:"react-colorful__interactive",ref:r,onKeyDown:h,tabIndex:0,role:"slider"}))}),_u=function(t){return t.filter(Boolean).join(" ")},Fb=function(t){var e=t.color,n=t.left,i=t.top,r=i===void 0?.5:i,o=_u(["react-colorful__pointer",t.className]);return K.createElement("div",{className:o,style:{top:100*r+"%",left:100*n+"%"}},K.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},Xt=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n},FA=function(t){return Yj(zb(t))},zb=function(t){return t[0]==="#"&&(t=t.substring(1)),t.length<6?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Xt(parseInt(t[3]+t[3],16)/255,2):1}:{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16),a:t.length===8?Xt(parseInt(t.substring(6,8),16)/255,2):1}},zA=function(t){return Gj(Kj(t))},BA=function(t){var e=t.s,n=t.v,i=t.a,r=(200-e)*n/100;return{h:Xt(t.h),s:Xt(r>0&&r<200?e*n/100/(r<=100?r:200-r)*100:0),l:Xt(r/2),a:Xt(i,2)}},Bb=function(t){var e=BA(t);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},jb=function(t){var e=BA(t);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},Kj=function(t){var e=t.h,n=t.s,i=t.v,r=t.a;e=e/360*6,n/=100,i/=100;var o=Math.floor(e),s=i*(1-n),l=i*(1-(e-o)*n),a=i*(1-(1-e+o)*n),u=o%6;return{r:Xt(255*[i,l,s,s,a,i][u]),g:Xt(255*[a,i,i,l,s,s][u]),b:Xt(255*[s,s,a,i,i,l][u]),a:Xt(r,2)}},Ef=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},Gj=function(t){var e=t.r,n=t.g,i=t.b,r=t.a,o=r<1?Ef(Xt(255*r)):"";return"#"+Ef(e)+Ef(n)+Ef(i)+o},Yj=function(t){var e=t.r,n=t.g,i=t.b,r=t.a,o=Math.max(e,n,i),s=o-Math.min(e,n,i),l=s?o===e?(n-i)/s:o===n?2+(i-e)/s:4+(e-n)/s:0;return{h:Xt(60*(l<0?l+6:l)),s:Xt(o?s/o*100:0),v:Xt(o/255*100),a:r}},jA=K.memo(function(t){var e=t.hue,n=t.onChange,i=_u(["react-colorful__hue",t.className]);return K.createElement("div",{className:i},K.createElement(Nb,{onMove:function(r){n({h:360*r.left})},onKey:function(r){n({h:al(e+360*r.left,0,360)})},"aria-label":"Hue","aria-valuenow":Xt(e),"aria-valuemax":"360","aria-valuemin":"0"},K.createElement(Fb,{className:"react-colorful__hue-pointer",left:e/360,color:Bb({h:e,s:100,v:100,a:1})})))}),VA=K.memo(function(t){var e=t.hsva,n=t.onChange,i={backgroundColor:Bb({h:e.h,s:100,v:100,a:1})};return K.createElement("div",{className:"react-colorful__saturation",style:i},K.createElement(Nb,{onMove:function(r){n({s:100*r.left,v:100-100*r.top})},onKey:function(r){n({s:al(e.s+100*r.left,0,100),v:al(e.v-100*r.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Xt(e.s)+"%, Brightness "+Xt(e.v)+"%"},K.createElement(Fb,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:Bb(e)})))}),WA=function(t,e){if(t===e)return!0;for(var n in t)if(t[n]!==e[n])return!1;return!0},HA=function(t,e){return t.toLowerCase()===e.toLowerCase()||WA(zb(t),zb(e))};function UA(t,e,n){var i=bu(n),r=I.useState(function(){return t.toHsva(e)}),o=r[0],s=r[1],l=I.useRef({color:e,hsva:o});I.useEffect(function(){if(!t.equal(e,l.current.color)){var u=t.toHsva(e);l.current={hsva:u,color:e},s(u)}},[e,t]),I.useEffect(function(){var u;WA(o,l.current.hsva)||t.equal(u=t.fromHsva(o),l.current.color)||(l.current={hsva:o,color:u},i(u))},[o,t,i]);var a=I.useCallback(function(u){s(function(c){return Object.assign({},c,u)})},[]);return[o,a]}var Xj=typeof window<"u"?I.useLayoutEffect:I.useEffect,qj=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},KA=new Map,GA=function(t){Xj(function(){var e=t.current?t.current.ownerDocument:document;if(e!==void 0&&!KA.has(e)){var n=e.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,KA.set(e,n);var i=qj();i&&n.setAttribute("nonce",i),e.head.appendChild(n)}},[])},Qj=function(t){var e=t.className,n=t.colorModel,i=t.color,r=i===void 0?n.defaultColor:i,o=t.onChange,s=yu(t,["className","colorModel","color","onChange"]),l=I.useRef(null);GA(l);var a=UA(n,r,o),u=a[0],c=a[1],h=_u(["react-colorful",e]);return K.createElement("div",$o({},s,{ref:l,className:h}),K.createElement(VA,{hsva:u,onChange:c}),K.createElement(jA,{hue:u.h,onChange:c,className:"react-colorful__last-control"}))},Jj={defaultColor:"000",toHsva:FA,fromHsva:function(t){return zA({h:t.h,s:t.s,v:t.v,a:1})},equal:HA},Zj=function(t){return K.createElement(Qj,$o({},t,{colorModel:Jj}))},eV=function(t){var e=t.className,n=t.hsva,i=t.onChange,r={backgroundImage:"linear-gradient(90deg, "+jb(Object.assign({},n,{a:0}))+", "+jb(Object.assign({},n,{a:1}))+")"},o=_u(["react-colorful__alpha",e]),s=Xt(100*n.a);return K.createElement("div",{className:o},K.createElement("div",{className:"react-colorful__alpha-gradient",style:r}),K.createElement(Nb,{onMove:function(l){i({a:l.left})},onKey:function(l){i({a:al(n.a+l.left)})},"aria-label":"Alpha","aria-valuetext":s+"%","aria-valuenow":s,"aria-valuemin":"0","aria-valuemax":"100"},K.createElement(Fb,{className:"react-colorful__alpha-pointer",left:n.a,color:jb(n)})))},tV=function(t){var e=t.className,n=t.colorModel,i=t.color,r=i===void 0?n.defaultColor:i,o=t.onChange,s=yu(t,["className","colorModel","color","onChange"]),l=I.useRef(null);GA(l);var a=UA(n,r,o),u=a[0],c=a[1],h=_u(["react-colorful",e]);return K.createElement("div",$o({},s,{ref:l,className:h}),K.createElement(VA,{hsva:u,onChange:c}),K.createElement(jA,{hue:u.h,onChange:c}),K.createElement(eV,{hsva:u,onChange:c,className:"react-colorful__last-control"}))},nV={defaultColor:"0001",toHsva:FA,fromHsva:zA,equal:HA},iV=function(t){return K.createElement(tV,$o({},t,{colorModel:nV}))},rV=/^#?([0-9A-F]{3,8})$/i,oV=function(t){var e=t.color,n=e===void 0?"":e,i=t.onChange,r=t.onBlur,o=t.escape,s=t.validate,l=t.format,a=t.process,u=yu(t,["color","onChange","onBlur","escape","validate","format","process"]),c=I.useState(function(){return o(n)}),h=c[0],d=c[1],f=bu(i),p=bu(r),m=I.useCallback(function(v){var y=o(v.target.value);d(y),s(y)&&f(a?a(y):y)},[o,a,s,f]),g=I.useCallback(function(v){s(v.target.value)||d(o(n)),p(v)},[n,o,s,p]);return I.useEffect(function(){d(o(n))},[n,o]),K.createElement("input",$o({},u,{value:l?l(h):h,spellCheck:"false",onChange:m,onBlur:g}))},YA=function(t){return"#"+t},sV=function(t){var e=t.prefixed,n=t.alpha,i=yu(t,["prefixed","alpha"]),r=I.useCallback(function(s){return s.replace(/([^0-9A-F]+)/gi,"").substring(0,n?8:6)},[n]),o=I.useCallback(function(s){return function(l,a){var u=rV.exec(l),c=u?u[1].length:0;return c===3||c===6||!!a&&c===4||!!a&&c===8}(s,n)},[n]);return K.createElement(oV,$o({},i,{escape:r,format:e?YA:void 0,process:YA,validate:o}))};const aV=(t,e)=>{I.useEffect(()=>{let n=!1,i=!1;const r=s=>{n||!i||!t.current||t.current.contains(s.target)||e(s)},o=s=>{i=t.current,n=t.current&&t.current.contains(s.target)};return document.addEventListener("mousedown",o),document.addEventListener("touchstart",o),document.addEventListener("click",r),()=>{document.removeEventListener("mousedown",o),document.removeEventListener("touchstart",o),document.removeEventListener("click",r)}},[t,e])},XA=t=>{let e;const n=new Set,i=(c,h)=>{const d=typeof c=="function"?c(e):c;if(!Object.is(d,e)){const f=e;e=h??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(p=>p(e,f))}},r=()=>e,a={setState:i,getState:r,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{n.clear()}},u=e=t(i,r,a);return a},lV=t=>t?XA(t):XA;var qA={exports:{}},QA={},JA={exports:{}},ZA={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ll=I;function cV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var uV=typeof Object.is=="function"?Object.is:cV,hV=ll.useState,dV=ll.useEffect,fV=ll.useLayoutEffect,pV=ll.useDebugValue;function mV(t,e){var n=e(),i=hV({inst:{value:n,getSnapshot:e}}),r=i[0].inst,o=i[1];return fV(function(){r.value=n,r.getSnapshot=e,Vb(r)&&o({inst:r})},[t,n,e]),dV(function(){return Vb(r)&&o({inst:r}),t(function(){Vb(r)&&o({inst:r})})},[t]),pV(n),n}function Vb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!uV(t,n)}catch{return!0}}function gV(t,e){return e()}var vV=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?gV:mV;ZA.useSyncExternalStore=ll.useSyncExternalStore!==void 0?ll.useSyncExternalStore:vV,JA.exports=ZA;var yV=JA.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tf=I,bV=yV;function wV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _V=typeof Object.is=="function"?Object.is:wV,xV=bV.useSyncExternalStore,SV=Tf.useRef,kV=Tf.useEffect,CV=Tf.useMemo,EV=Tf.useDebugValue;QA.useSyncExternalStoreWithSelector=function(t,e,n,i,r){var o=SV(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=CV(function(){function a(f){if(!u){if(u=!0,c=f,f=i(f),r!==void 0&&s.hasValue){var p=s.value;if(r(p,f))return h=p}return h=f}if(p=h,_V(c,f))return p;var m=i(f);return r!==void 0&&r(p,m)?p:(c=f,h=m)}var u=!1,c,h,d=n===void 0?null:n;return[function(){return a(e())},d===null?void 0:function(){return a(d())}]},[e,n,i,r]);var l=xV(t,o[0],o[1]);return kV(function(){s.hasValue=!0,s.value=l},[l]),EV(l),l},qA.exports=QA;var TV=qA.exports;const $V=Ti(TV),{useDebugValue:AV}=K,{useSyncExternalStoreWithSelector:OV}=$V;let One=!1;const MV=t=>t;function LV(t,e=MV,n){const i=OV(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return AV(i),i}const eO=t=>{const e=typeof t=="function"?lV(t):t,n=(i,r)=>LV(e,i,r);return Object.assign(n,e),n},cl=(t=>t?eO(t):eO)((t,e)=>({dir:"../",initStore:n=>{const i=Object.fromEntries(Object.entries(n).filter(([r,o])=>o!==void 0));t(i)},setDir:n=>t({dir:n})})),tO=I.createContext(),RV=({value:t,children:e})=>L(tO.Provider,{value:t,children:e}),Ls=t=>{const e=I.useContext(tO),n=cl(i=>i.saveMap);return e&&typeof e=="function"?L(e,{...t}):n==="wp"?L(PV,{...t}):L(Wn,{...t})},PV=({label:t,value:e="",placeholder:n="",onChange:i})=>L($i,{children:L(Rs,{text:t,children:X("div",{className:"field",children:[L("div",{className:"field-inner",children:L("input",{type:"text",value:e,placeholder:n,onChange:o=>i(o.target.value)})}),L("button",{type:"button",onClick:o=>{if(o.preventDefault(),typeof wp<"u"){const s=wp.media({title:"Select Image"});s.open(),s.on("select",()=>{const l=s.state().get("selection").first().toJSON();i(l.url)})}},children:L(b0,{size:16})})]})})}),Ne=({label:t,active:e=!0,value:n,values:i={true:"On",false:"Off"},nullValue:r,onChange:o,...s})=>{if(!e)return null;const l=u=>u==="true"?!0:u==="false"?!1:u,a=u=>{o(n===u&&r!==void 0?r:u)};return L(Rs,{text:t,children:L("div",{className:"field switch",...s,children:Object.entries(i).map(([u,c])=>L("button",{type:"button",className:An({selected:n===l(u)}),onClick:()=>a(l(u)),children:c},u))})})},$e=({type:t="text",label:e,active:n=!0,value:i="",onChange:r,placeholder:o,suffix:s,icon:l,button:a,spellCheck:u=!1,validate:c=()=>!1,...h})=>{if(!n)return null;const[d,f]=I.useState(!1),[p,m]=I.useState(null),g=v=>{m(!1);try{r(v.target.value,!d),f(!0),c(v.target.value)}catch(y){m(y)}};return L(Rs,{text:e,children:X("div",{children:[X("div",{className:An("field",{error:p}),children:[X("div",{className:"field-inner",children:[L("input",{...h,type:t,value:i,placeholder:o,spellCheck:u,onFocus:()=>f(!1),onChange:g}),s&&L("span",{children:s}),l&&l]}),a&&L("button",{type:"button",children:L(b0,{size:16})})]}),p&&L("small",{className:"mapplic-error",children:p.message})]})})},Wn=({type:t="text",label:e,active:n=!0,value:i="",onChange:r,placeholder:o,suffix:s,icon:l,button:a,spellCheck:u=!1,validate:c=()=>!1,...h})=>{const[d,f]=I.useState(!1),[p,m]=I.useState(null),g=()=>d!==!1?d:i,v=()=>{if(d!==!1)try{c(d),r(d),f(!1)}catch(y){m(y)}};return n?L(Rs,{text:e,children:X("div",{children:[X("div",{className:An("field",{error:p}),children:[X("div",{className:"field-inner",children:[L("input",{...h,type:t,value:g(),placeholder:o,spellCheck:u,onChange:y=>{f(y.target.value!==i?y.target.value:!1),m(!1)},onKeyDown:y=>{y.key==="Enter"&&v()}}),s&&L("span",{children:s}),l&&l]}),a&&L("button",{type:"button",children:L(b0,{size:16})}),d!==!1&&L("button",{type:"buton",children:L(K3,{size:16,onClick:v})})]}),p&&L("small",{className:"mapplic-error",children:p.message})]})}):null},yn=({label:t,active:e=!0,disabled:n=!1,value:i="",values:r,onChange:o,...s})=>{if(!e)return;const l=u=>{s.multiple?o(Array.from(u.target.selectedOptions,c=>c.value)):o(u.target.value)};return L(Rs,{text:t,children:L("div",{className:"field",children:L("div",{className:"field-inner",children:L("select",{value:(()=>s.multiple&&typeof i=="string"?i.split(",").map(u=>u.trim()):i)(),disabled:n,onChange:l,...s,children:Object.entries(r).map(([u,c])=>L("option",{value:u,children:c},u))})})})})},oi=({label:t,value:e="",onChange:n,alpha:i=!0,...r})=>{const[o,s]=I.useState(!1),l=I.useRef(),a=I.useCallback(()=>s(!1),[]);return aV(l,a),L(Rs,{text:t,children:X("div",{className:"field",children:[o&&L("div",{className:"popover",ref:l,children:i?L(iV,{color:e,onChange:n}):L(Zj,{color:e,onChange:n})}),L("div",{className:"swatch",onClick:()=>s(!0),style:{backgroundColor:e}}),X("div",{className:"field-inner",children:[L(sV,{...r,type:"text",color:e,onClick:()=>s(!0),onChange:n,onInput:c=>{c.target.value===""&&n("")},alpha:i}),e!==""&&L(ty,{size:16,style:{cursor:"pointer"},onClick:()=>n("")})]})]})})},Wb=({active:t=!0,label:e,value:n,onChange:i,...r})=>{const o=s=>{let l=!0;const a=s.target.value.split(",").map(u=>/^[-+]?([0-9]+(\.[0-9]+)?|\.[0-9]+)$/.test(u.trim())?parseFloat(u):(l=!1,null));i(l?a:s.target.value)};return t?L(Rs,{text:e,children:L("div",{className:An("field",{error:!Array.isArray(n)}),children:L("div",{className:"field-inner",children:L("input",{...r,type:"text",spellCheck:!1,value:n,onChange:o})})})}):null},Rs=({text:t=!1,children:e,above:n=!1})=>t?X("label",{className:An("field-label",{above:n}),children:[L("span",{children:t}),e]}):e,ul={"top-left":L(X3,{size:16}),"top-right":L(J3,{size:16}),"bottom-left":L(F3,{size:16}),"bottom-right":L(j3,{size:16})},nO={"":"(Default)",hidden:"Hidden",circle:"Circle",dot:"Dot",square:"Square",rounded:"Rounded",pin1:"Pin 1",pin2:"Pin 2",thumb:"Thumbnail",pulse:"Pulsating",text:"Text"},iO={"":"(Default)",tooltip:"Tooltip",none:"Do nothing",sidebar:"Sidebar popup",link:"Open link"},rO={"":"(Default)",_blank:"Blank",_self:"Self",_parent:"Parent",_top:"Top"},Rr=(t,e,n)=>{const i=!e.some(r=>r[n].toLowerCase()===t.toLowerCase());if(!i)throw Error(n.toUpperCase()+" must be unique!");return i},Pr=t=>{if(!t)throw Error("This field cannot be empty!");return t},Hb=t=>{if(!/^[a-zA-Z]/.test(t))throw new Error("It cannot start with a number");if(/\s/.test(t))throw new Error("It cannot contain spaces");if(!/^[a-zA-Z0-9_-]+$/.test(t))throw new Error("It cannot contain special characters other than underscore (_) or hyphen(-).");return t},Ub=t=>t==null?void 0:t.reduce((e,n)=>(e[n.name]=n.name,e),{}),Ps=({title:t,checked:e,onChange:n,back:i,chevron:r})=>X("div",{className:"mapplic-title-toggle",style:{marginBottom:e?0:-10},children:[X("div",{style:{display:"flex",alignItems:"center",gap:4,marginLeft:i?-8:0},children:[i&&L("button",{type:"button",className:"mapplic-admin-button",onClick:i,children:L(zc,{size:16})}),L("h4",{children:t})]}),L("button",{type:"button",className:"mapplic-admin-button",onClick:()=>n(!e),children:r?L(a4,{size:16,className:An("transition-all transform",{"rotate-180":e})}):e?L(P0,{size:16}):L(ZC,{size:16})})]}),Dr=({active:t,children:e,...n})=>t?L("div",{...n,children:e}):null,Ir=({active:t=!1,children:e})=>t?e:null,Ao=(t,e,n="id")=>{let i=0;return t&&(i=(t==null?void 0:t.reduce((r,o)=>{var l;const s=(l=o[n])!=null&&l.startsWith(e)?parseInt(o[n].slice(e.length),10):t.length;return s>r?s:r},0))||(t==null?void 0:t.length)),e+(i+1)},DV=t=>(e,n,i)=>{const r=i.subscribe;return i.subscribe=(s,l,a)=>{let u=s;if(l){const c=(a==null?void 0:a.equalityFn)||Object.is;let h=s(i.getState());u=d=>{const f=s(d);if(!c(h,f)){const p=h;l(h=f,p)}},a!=null&&a.fireImmediately&&l(h,h)}return r(u)},t(e,n,i)},oO=t=>{let e;const n=new Set,i=(a,u)=>{const c=typeof a=="function"?a(e):a;if(!Object.is(c,e)){const h=e;e=u??typeof c!="object"?c:Object.assign({},e,c),n.forEach(d=>d(e,h))}},r=()=>e,l={setState:i,getState:r,subscribe:a=>(n.add(a),()=>n.delete(a)),destroy:()=>{n.clear()}};return e=t(i,r,l),l},IV=t=>t?oO(t):oO;var sO={exports:{}},aO={},lO={exports:{}},cO={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hl=I;function NV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var FV=typeof Object.is=="function"?Object.is:NV,zV=hl.useState,BV=hl.useEffect,jV=hl.useLayoutEffect,VV=hl.useDebugValue;function WV(t,e){var n=e(),i=zV({inst:{value:n,getSnapshot:e}}),r=i[0].inst,o=i[1];return jV(function(){r.value=n,r.getSnapshot=e,Kb(r)&&o({inst:r})},[t,n,e]),BV(function(){return Kb(r)&&o({inst:r}),t(function(){Kb(r)&&o({inst:r})})},[t]),VV(n),n}function Kb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!FV(t,n)}catch{return!0}}function HV(t,e){return e()}var UV=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?HV:WV;cO.useSyncExternalStore=hl.useSyncExternalStore!==void 0?hl.useSyncExternalStore:UV,lO.exports=cO;var KV=lO.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $f=I,GV=KV;function YV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var XV=typeof Object.is=="function"?Object.is:YV,qV=GV.useSyncExternalStore,QV=$f.useRef,JV=$f.useEffect,ZV=$f.useMemo,eW=$f.useDebugValue;aO.useSyncExternalStoreWithSelector=function(t,e,n,i,r){var o=QV(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=ZV(function(){function a(f){if(!u){if(u=!0,c=f,f=i(f),r!==void 0&&s.hasValue){var p=s.value;if(r(p,f))return h=p}return h=f}if(p=h,XV(c,f))return p;var m=i(f);return r!==void 0&&r(p,m)?p:(c=f,h=m)}var u=!1,c,h,d=n===void 0?null:n;return[function(){return a(e())},d===null?void 0:function(){return a(d())}]},[e,n,i,r]);var l=qV(t,o[0],o[1]);return JV(function(){s.hasValue=!0,s.value=l},[l]),eW(l),l},sO.exports=aO;var tW=sO.exports;const nW=Ti(tW),{useSyncExternalStoreWithSelector:iW}=nW;let Rne=!1;function rW(t,e=t.getState,n){const i=iW(t.subscribe,t.getState,t.getServerState||t.getState,e,n);return I.useDebugValue(i),i}const zt=(t,e=2)=>{const n=Math.pow(10,e);return Math.round(t*n)/n},oW=t=>t==null?void 0:t.split(/[#?]/)[0].split(".").pop().trim().toLowerCase(),uO=(t,e="desc")=>!t||!t[e]?"":t[e].replace(/{{(\w+)}}/gi,(n,i)=>t[i.toLowerCase()]),sW=t=>{if(!t)return"#fff";t=t.replace("#","");const[e,n,i]=t.match(/.{2}/g).map(s=>parseInt(s,16));return(.299*e+.587*n+.114*i)/255>.8?"#000":"#fff"},aW=()=>IV(DV((t,e)=>({selectedVector:null,setSelectedVector:n=>t({selectedVector:n}),getVectorById:(n=e().selectedVector)=>{var i,r;return(r=(i=e().data)==null?void 0:i.routes)==null?void 0:r.find(o=>o.id===n)},routesEditing:!1,setRoutesEditing:n=>t({routesEditing:n}),from:null,to:null,setFrom:n=>t({from:n,to:e().to===n?null:e().to}),setTo:n=>t({to:n,from:e().from===n?null:e().from}),setAny:n=>{!e().to||e().from?e().setTo(n):e().setFrom(n),t({routesOpened:!0})},hasRoute:n=>e().routeGraph.some(i=>i.end===n),routesAccessible:!1,setRoutesAccessible:n=>t({routesAccessible:n}),routesOpened:!1,setRoutesOpened:n=>t({routesOpened:n}),routeGraph:[],setRouteGraph:n=>t({routeGraph:n}),paths:[],setPaths:n=>t({paths:n}),animatedPath:!1,setAnimatedPath:n=>{const i=e().paths[n];t({animatedPath:n,layer:i?i[0].layer:e().layer})},setFixedFrom:n=>{t(i=>{var r;return{from:n,data:{...i.data,settings:{...i.data.settings,wayfindingFixedFrom:n},locations:(r=i.data.locations)==null?void 0:r.map(o=>o.id!==n?o:{...o,disable:!1})}}})},outerSettings:{},setOuterSettings:n=>t({outerSettings:n}),loading:!0,dataLoaded:!1,error:null,admin:!1,hovered:!1,offset:{w:0,h:0},setOffset:n=>t(i=>({offset:{...i.offset,...n}})),target:{scale:1,x:.5,y:.5},pos:{scale:1,x:.5,y:.5},location:void 0,transition:{duration:0},breakpoint:{},dragging:!1,sidebarClosed:!1,portrait:!1,layer:!1,filters:{},filterLogic:{},filtersOpened:!1,estPos:{},data:{},csv:[],latLonCache:{},setLatLonCache:()=>{var l;const n=(l=e().data)==null?void 0:l.settings;if(!(n!=null&&n.geo)||!(n!=null&&n.extent)){t({latLonCache:{}});return}let i=n.extent[2]-n.extent[0],r=n.extent[1]*Math.PI/180,o=(n==null?void 0:n.mapWidth)/i*360/(2*Math.PI),s=o/2*Math.log((1+Math.sin(r))/(1-Math.sin(r)));t({latLonCache:{deltaLon:i,mapWidth:o,mapOffsetY:s}})},latLonToXY:n=>{var o;const i=(o=e().data)==null?void 0:o.settings;if(!n||!i.geo||!i.extent)return!1;const r=n[0]*Math.PI/180;return[(n[1]-i.extent[0])*(i.mapWidth/e().latLonCache.deltaLon)/i.mapWidth,(i.mapHeight-(e().latLonCache.mapWidth/2*Math.log((1+Math.sin(r))/(1-Math.sin(r)))-e().latLonCache.mapOffsetY))/i.mapHeight]},containerMessage:null,setContainerMessage:n=>t({containerMessage:n}),setData:n=>t(i=>({data:{...i.data,...n}})),setAdmin:n=>t({admin:n}),fetchData:async n=>{if(typeof n=="object"&&n!==null){e().process(n);return}if(typeof n=="string"&&n.trim().charAt(0)==="{"){e().process(JSON.parse(n));return}try{let r=await(await fetch(n)).json();t({source:n}),e().process(r)}catch(i){console.error("An error occurred while fetching map data: ",i),t({loading:!1,error:"Couldn't fetch map data.",data:{}})}},migrate:n=>(n.layers=n.levels,delete n.levels,n.layers.forEach(i=>{"map"in i&&(i.file=i.map,delete i.map),"title"in i&&(i.name=i.title,delete i.title)}),n.settings={mapWidth:n.mapwidth,mapHeight:n.mapheight,resetButton:"bottom-right",zoomButtons:"bottom-right",layerSwitcher:"top-right",zoom:!0,maxZoom:3},delete n.mapwidth,delete n.mapheight,n.breakpoints=[{container:600,below:9e3,name:"all-screens"},{portrait:!0,name:"mobile",below:480}],n.locations||(n.locations=n.layers.map(i=>i.locations).flat().map(i=>({layer:n.layers.find(r=>r.locations.includes(i)).id,...i})),n.layers.forEach(i=>delete i.locations)),n.locations.forEach(i=>{"description"in i&&(i.desc=i.description,delete i.description),"x"in i&&"y"in i&&(i.coord=[parseFloat(i.x),parseFloat(i.y)],delete i.x,delete i.y),"fill"in i&&(i.color=i.fill,delete i.fill)}),n),process:n=>{var r,o,s;n.layers||(n=e().migrate(n));const i={...n.settings,...e().outerSettings};t({loading:!1,data:{...n,settings:i},layer:(i==null?void 0:i.layer)||(n==null?void 0:n.layers[0].id),sidebarClosed:(i==null?void 0:i.sidebarClosed)&&(i==null?void 0:i.toggleSidebar),filters:n.filters?Object.fromEntries(n.filters.filter(l=>!l.disable).map(l=>[l.id,l.default])):{},filtersOpened:(i==null?void 0:i.filtersOpened)&&!(i!=null&&i.sidebarClosed)||!1,routesOpened:((r=n==null?void 0:n.settings)==null?void 0:r.wayfindingOpened)||!1}),(!((o=n==null?void 0:n.settings)!=null&&o.csv)||!((s=n==null?void 0:n.settings)!=null&&s.csvEnabled))&&t({dataLoaded:!0}),e().setFilterLogic()},fetchCsv:async n=>{var i,r,o,s;if(!((r=(i=e().data)==null?void 0:i.settings)!=null&&r.csv)&&!((s=(o=e().data)==null?void 0:o.settings)!=null&&s.csvEnabled))return!1;try{const l=await n;t({csv:l})}catch(l){console.error("An error occured while fetching the CSV file: ",l),t({csv:[]})}finally{t({dataLoaded:!0})}},setFilterLogic:()=>{var o;let n=!1;const i=(s,l)=>{var a;if(l===((a=e().filterLogic[s])==null?void 0:a.logic))return e().filterLogic.apply;try{return n=!0,new Function("l","value",`return !value || ${l} ? true : false`)}catch(u){console.error(u.message);return}};let r;(o=e().data)!=null&&o.filters&&(r=Object.fromEntries(e().data.filters.filter(s=>!s.disable).map(s=>[s.id,{logic:s.logic,apply:i(s.id,s.logic)}]))),n&&t({filterLogic:r})},setCsv:n=>t({csv:n}),setHovered:n=>t({hovered:n}),setTarget:n=>t(i=>({target:{...i.target,...n}})),setPos:n=>t({pos:n}),setTransition:n=>t({transition:n}),setDragging:n=>t({dragging:n}),setBreakpoint:n=>t({breakpoint:n}),setSearch:n=>t({search:n}),setEstPos:n=>t({estPos:n}),setNewLocation:n=>t({newLocation:n}),switchLayer:n=>t({layer:n}),getLayer:(n=e().layer)=>e().data.layers.find(i=>i.id===n),getFilterCount:()=>Object.values(e().filters).filter(n=>n===!0||(n==null?void 0:n.length)>0).length,displayList:(n=!0)=>{var o,s,l;let i=new Set((o=e().data.locations)==null?void 0:o.map(a=>a.id)),r=[...((s=e().data)==null?void 0:s.locations)||[],...(l=e().csv)==null?void 0:l.filter(a=>!i.has(a.id))].filter(a=>a.sample!=="true").map(a=>e().getSampledLocation(a)).filter(a=>a.disable!==!0&&(a.hide!==!0||n));return e().data.settings.exclude&&(r=r.filter(new Function("l",`return ${e().data.settings.exclude}`))),r=e().applyFilters(r),e().filters.group&&(r=e().applyGroups(r)),e().search&&(r=r.filter(e().appliedSearch)),e().data.settings.ordered&&(r=r.sort((a,u)=>{var c;return(c=a.title)==null?void 0:c.localeCompare(u.title)})),r},applyFilters:n=>e().data.filters?e().data.filters.reduce((i,r)=>{var o;if(!((o=e().filterLogic[r.id])!=null&&o.apply))return i;try{const s=e().filters[r.id];return i.filter(l=>e().filterLogic[r.id].apply(l,s))}catch{return i}},[...n]):n,clearFilters:()=>t(n=>({search:"",sidebarClosed:!1,filtersOpened:!1,filters:Object.keys(n.filters).reduce((i,r)=>({...i,[r]:!1}),{})})),applyGroups:n=>e().filters.group.length<1?n:n.filter(i=>i.group?e().filters.group.some(r=>i.group.includes(r)):!1),appliedSearch:n=>{var i;return n.title?(i=`${n==null?void 0:n.title} ${n==null?void 0:n.about}`)==null?void 0:i.toLowerCase().normalize("NFD").includes(e().search.toLowerCase().normalize("NFD")):!0},toggleGroup:(n,i)=>t(r=>({filters:{...r.filters,group:i?r.filters.group.filter(o=>o!==n.name):r.filters.group?[...r.filters.group,n.name]:[n.name]}})),setFilter:(n,i)=>t(r=>({filters:{...r.filters,[n]:i}})),getGlobalSample:()=>{var n,i;return((n=e().data.samples)==null?void 0:n.find(r=>r.id==="def"))||((i=e().data.locations)==null?void 0:i.find(r=>r.id==="def"))},getSample:(n,i="sample")=>{var r,o,s,l;return((o=(r=e().data)==null?void 0:r.samples)==null?void 0:o.find(a=>a.id===(n==null?void 0:n[i])))||((l=(s=e().data)==null?void 0:s.locations)==null?void 0:l.find(a=>a.id===(n==null?void 0:n[i])))||n&&e().getGlobalSample()||{}},getCoord:n=>{var i;return{coord:(n==null?void 0:n.coord)||((i=e().estPos[n==null?void 0:n.id])==null?void 0:i.coord)||e().latLonToXY(n==null?void 0:n.latlon)}},getSampledLocation:(n=e().getLocationById(),i="sample")=>{const r={...e().getCoord(n),...e().getSample(n,i),...n};return r.desc=uO(r,"desc"),r.about=uO(r,"about"),r},getLocationById:(n=e().location)=>{var i;return[...((i=e().data)==null?void 0:i.locations)||[],...e().csv].find(r=>r.id===n)||{}},openLocation:(n,i=.8)=>{const r=e().getLocationById(n);if(!(r!=null&&r.id)){e().admin&&t({newLocation:n});return}if(r.disable&&!e().admin)return;if(r.action==="link"){window.location.href=r.link;return}const o=e().getSampledLocation(r);t(s=>({location:o.id,newLocation:!1,transition:{duration:i},layer:o.layer||s.layer,target:{scale:(o==null?void 0:o.zoom)||e().data.settings.maxZoom,x:o.coord[0],y:o.coord[1]},sidebarClosed:s.sidebarClosed?o.action!=="sidebar":!1}))},closeLocation:(n=!1)=>{(n||e().data.settings.closeReset)&&(e().setTransition({duration:.4}),e().setTarget({scale:1})),t({location:null,newLocation:!1})},toggleSidebar:n=>t(i=>({location:!1,filtersOpened:!1,transition:{duration:0},sidebarClosed:n===void 0?!i.sidebarClosed:!n})),toggleFilters:n=>t(i=>({sidebarClosed:!1,filtersOpened:!i.filtersOpened}))}))),hO=I.createContext(null),lW=({children:t,onStore:e})=>{const n=aW();return I.useEffect(()=>{e&&e(n)},[e,n]),L(hO.Provider,{value:n,children:t})},U=t=>{const e=I.useContext(hO);if(e===null)throw new Error("no provider");return rW(e,t)},cW=I.forwardRef(({setOpened:t,updateSetting:e,updateList:n},i)=>{const r=U(u=>u.data),[o,s]=I.useState(!1),l=(u="(All layers)")=>{var c;return(c=r==null?void 0:r.layers)==null?void 0:c.reduce((h,d)=>(h[d.id]=d.name,h),{"":u})},a=(u,c)=>X("div",{className:"option-group",children:[L(Wn,{label:"ID",value:u.id,onChange:h=>c("id",h),validate:h=>Rr(h,r.layers,"id")&&Pr(h),icon:L(Ji,{size:16})}),L($e,{label:"Name",value:u.name,onChange:h=>c("name",h),autoFocus:!0}),L(Ls,{label:"File",value:u.file,onChange:h=>c("file",h),placeholder:"Map URL",button:!0})]});return X(Ts,{ref:i,children:[L("div",{className:"panel-content",children:X("div",{className:"panel-inner",children:[L("div",{className:"mapplic-panel-group",children:L(Mr,{selected:o,setSelected:s,label:"Layers",list:r.layers,setList:u=>n("layers",u),newItem:{id:Ao(r.layers,"layer"),name:"New layer"},keyAttribute:"id",nameAttribute:"name",back:()=>t(!1)})}),X("div",{className:"mapplic-panel-group",children:[L("h4",{children:"Layer options"}),X("div",{className:"mapplic-panel-options",children:[L(Wn,{label:"File width",type:"number",value:r.settings.mapWidth,onChange:u=>e("mapWidth",parseFloat(u)),placeholder:"REQURED",suffix:"PX"}),L(Wn,{label:"File height",type:"number",value:r.settings.mapHeight,onChange:u=>e("mapHeight",parseFloat(u)),placeholder:"REQURED",suffix:"PX"}),L(yn,{label:"Default",values:l("(First layer)"),value:r.settings.layer,onChange:u=>e("layer",u)}),L(Ne,{label:"Selector",value:r.settings.layerSwitcher,values:ul,onChange:u=>e("layerSwitcher",u),nullValue:""})]})]}),X("div",{className:"mapplic-panel-group",children:[L(Ps,{title:"Geocalibration",checked:r.settings.geo,onChange:u=>e("geo",u)}),L(Wb,{label:"Extent",active:r.settings.geo||!1,value:r.settings.extent,onChange:u=>e("extent",u),placeholder:"min-lon, min-lat, max-lon, max-lat"})]})]})}),L("div",{className:"panel-child",children:L(Es,{children:o&&L(Lr,{list:r.layers,setList:u=>n("layers",u),selected:o,setSelected:s,keyAttribute:"id",nameAttribute:"name",render:a})})})]})});var dO={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){(function(n,i){t.exports=i()})(it,function n(){var i=typeof self<"u"?self:typeof window<"u"?window:i!==void 0?i:{},r=!i.document&&!!i.postMessage,o=i.IS_PAPA_WORKER||!1,s={},l=0,a={parse:function(w,S){var b=(S=S||{}).dynamicTyping||!1;if(E(b)&&(S.dynamicTypingFunction=b,b={}),S.dynamicTyping=b,S.transform=!!E(S.transform)&&S.transform,S.worker&&a.WORKERS_SUPPORTED){var x=function(){if(!a.WORKERS_SUPPORTED)return!1;var O=(M=i.URL||i.webkitURL||null,R=n.toString(),a.BLOB_URL||(a.BLOB_URL=M.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",R,")();"],{type:"text/javascript"})))),$=new i.Worker(O),M,R;return $.onmessage=y,$.id=l++,s[$.id]=$}();return x.userStep=S.step,x.userChunk=S.chunk,x.userComplete=S.complete,x.userError=S.error,S.step=E(S.step),S.chunk=E(S.chunk),S.complete=E(S.complete),S.error=E(S.error),delete S.worker,void x.postMessage({input:w,config:S,workerId:x.id})}var A=null;return a.NODE_STREAM_INPUT,typeof w=="string"?(w=function(O){return O.charCodeAt(0)===65279?O.slice(1):O}(w),A=S.download?new h(S):new f(S)):w.readable===!0&&E(w.read)&&E(w.on)?A=new p(S):(i.File&&w instanceof File||w instanceof Object)&&(A=new d(S)),A.stream(w)},unparse:function(w,S){var b=!1,x=!0,A=",",O=`\r
`,$='"',M=$+$,R=!1,P=null,N=!1;(function(){if(typeof S=="object"){if(typeof S.delimiter!="string"||a.BAD_DELIMITERS.filter(function(F){return S.delimiter.indexOf(F)!==-1}).length||(A=S.delimiter),(typeof S.quotes=="boolean"||typeof S.quotes=="function"||Array.isArray(S.quotes))&&(b=S.quotes),typeof S.skipEmptyLines!="boolean"&&typeof S.skipEmptyLines!="string"||(R=S.skipEmptyLines),typeof S.newline=="string"&&(O=S.newline),typeof S.quoteChar=="string"&&($=S.quoteChar),typeof S.header=="boolean"&&(x=S.header),Array.isArray(S.columns)){if(S.columns.length===0)throw new Error("Option columns is empty");P=S.columns}S.escapeChar!==void 0&&(M=S.escapeChar+$),(typeof S.escapeFormulae=="boolean"||S.escapeFormulae instanceof RegExp)&&(N=S.escapeFormulae instanceof RegExp?S.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var D=new RegExp(g($),"g");if(typeof w=="string"&&(w=JSON.parse(w)),Array.isArray(w)){if(!w.length||Array.isArray(w[0]))return V(null,w,R);if(typeof w[0]=="object")return V(P||Object.keys(w[0]),w,R)}else if(typeof w=="object")return typeof w.data=="string"&&(w.data=JSON.parse(w.data)),Array.isArray(w.data)&&(w.fields||(w.fields=w.meta&&w.meta.fields||P),w.fields||(w.fields=Array.isArray(w.data[0])?w.fields:typeof w.data[0]=="object"?Object.keys(w.data[0]):[]),Array.isArray(w.data[0])||typeof w.data[0]=="object"||(w.data=[w.data])),V(w.fields||[],w.data||[],R);throw new Error("Unable to serialize unrecognized input");function V(F,B,j){var H="";typeof F=="string"&&(F=JSON.parse(F)),typeof B=="string"&&(B=JSON.parse(B));var G=Array.isArray(F)&&0<F.length,Q=!Array.isArray(B[0]);if(G&&x){for(var J=0;J<F.length;J++)0<J&&(H+=A),H+=z(F[J],J);0<B.length&&(H+=O)}for(var Y=0;Y<B.length;Y++){var ee=G?F.length:B[Y].length,ne=!1,ce=G?Object.keys(B[Y]).length===0:B[Y].length===0;if(j&&!G&&(ne=j==="greedy"?B[Y].join("").trim()==="":B[Y].length===1&&B[Y][0].length===0),j==="greedy"&&G){for(var ue=[],we=0;we<ee;we++){var he=Q?F[we]:we;ue.push(B[Y][he])}ne=ue.join("").trim()===""}if(!ne){for(var fe=0;fe<ee;fe++){0<fe&&!ce&&(H+=A);var Xe=G&&Q?F[fe]:fe;H+=z(B[Y][Xe],fe)}Y<B.length-1&&(!j||0<ee&&!ce)&&(H+=O)}}return H}function z(F,B){if(F==null)return"";if(F.constructor===Date)return JSON.stringify(F).slice(1,25);var j=!1;N&&typeof F=="string"&&N.test(F)&&(F="'"+F,j=!0);var H=F.toString().replace(D,M);return(j=j||b===!0||typeof b=="function"&&b(F,B)||Array.isArray(b)&&b[B]||function(G,Q){for(var J=0;J<Q.length;J++)if(-1<G.indexOf(Q[J]))return!0;return!1}(H,a.BAD_DELIMITERS)||-1<H.indexOf(A)||H.charAt(0)===" "||H.charAt(H.length-1)===" ")?$+H+$:H}}};if(a.RECORD_SEP=String.fromCharCode(30),a.UNIT_SEP=String.fromCharCode(31),a.BYTE_ORDER_MARK="\uFEFF",a.BAD_DELIMITERS=["\r",`
`,'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!r&&!!i.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=v,a.ParserHandle=m,a.NetworkStreamer=h,a.FileStreamer=d,a.StringStreamer=f,a.ReadableStreamStreamer=p,i.jQuery){var u=i.jQuery;u.fn.parse=function(w){var S=w.config||{},b=[];return this.each(function(O){if(!(u(this).prop("tagName").toUpperCase()==="INPUT"&&u(this).attr("type").toLowerCase()==="file"&&i.FileReader)||!this.files||this.files.length===0)return!0;for(var $=0;$<this.files.length;$++)b.push({file:this.files[$],inputElem:this,instanceConfig:u.extend({},S)})}),x(),this;function x(){if(b.length!==0){var O,$,M,R,P=b[0];if(E(w.before)){var N=w.before(P.file,P.inputElem);if(typeof N=="object"){if(N.action==="abort")return O="AbortError",$=P.file,M=P.inputElem,R=N.reason,void(E(w.error)&&w.error({name:O},$,M,R));if(N.action==="skip")return void A();typeof N.config=="object"&&(P.instanceConfig=u.extend(P.instanceConfig,N.config))}else if(N==="skip")return void A()}var D=P.instanceConfig.complete;P.instanceConfig.complete=function(V){E(D)&&D(V,P.file,P.inputElem),A()},a.parse(P.file,P.instanceConfig)}else E(w.complete)&&w.complete()}function A(){b.splice(0,1),x()}}}function c(w){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(S){var b=T(S);b.chunkSize=parseInt(b.chunkSize),S.step||S.chunk||(b.chunkSize=null),this._handle=new m(b),(this._handle.streamer=this)._config=b}).call(this,w),this.parseChunk=function(S,b){if(this.isFirstChunk&&E(this._config.beforeFirstChunk)){var x=this._config.beforeFirstChunk(S);x!==void 0&&(S=x)}this.isFirstChunk=!1,this._halted=!1;var A=this._partialLine+S;this._partialLine="";var O=this._handle.parse(A,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var $=O.meta.cursor;this._finished||(this._partialLine=A.substring($-this._baseIndex),this._baseIndex=$),O&&O.data&&(this._rowCount+=O.data.length);var M=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(o)i.postMessage({results:O,workerId:a.WORKER_ID,finished:M});else if(E(this._config.chunk)&&!b){if(this._config.chunk(O,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);O=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(O.data),this._completeResults.errors=this._completeResults.errors.concat(O.errors),this._completeResults.meta=O.meta),this._completed||!M||!E(this._config.complete)||O&&O.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),M||O&&O.meta.paused||this._nextChunk(),O}this._halted=!0},this._sendError=function(S){E(this._config.error)?this._config.error(S):o&&this._config.error&&i.postMessage({workerId:a.WORKER_ID,error:S,finished:!1})}}function h(w){var S;(w=w||{}).chunkSize||(w.chunkSize=a.RemoteChunkSize),c.call(this,w),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(b){this._input=b,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(S=new XMLHttpRequest,this._config.withCredentials&&(S.withCredentials=this._config.withCredentials),r||(S.onload=_(this._chunkLoaded,this),S.onerror=_(this._chunkError,this)),S.open(this._config.downloadRequestBody?"POST":"GET",this._input,!r),this._config.downloadRequestHeaders){var b=this._config.downloadRequestHeaders;for(var x in b)S.setRequestHeader(x,b[x])}if(this._config.chunkSize){var A=this._start+this._config.chunkSize-1;S.setRequestHeader("Range","bytes="+this._start+"-"+A)}try{S.send(this._config.downloadRequestBody)}catch(O){this._chunkError(O.message)}r&&S.status===0&&this._chunkError()}},this._chunkLoaded=function(){S.readyState===4&&(S.status<200||400<=S.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:S.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(b){var x=b.getResponseHeader("Content-Range");return x===null?-1:parseInt(x.substring(x.lastIndexOf("/")+1))}(S),this.parseChunk(S.responseText)))},this._chunkError=function(b){var x=S.statusText||b;this._sendError(new Error(x))}}function d(w){var S,b;(w=w||{}).chunkSize||(w.chunkSize=a.LocalChunkSize),c.call(this,w);var x=typeof FileReader<"u";this.stream=function(A){this._input=A,b=A.slice||A.webkitSlice||A.mozSlice,x?((S=new FileReader).onload=_(this._chunkLoaded,this),S.onerror=_(this._chunkError,this)):S=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var A=this._input;if(this._config.chunkSize){var O=Math.min(this._start+this._config.chunkSize,this._input.size);A=b.call(A,this._start,O)}var $=S.readAsText(A,this._config.encoding);x||this._chunkLoaded({target:{result:$}})},this._chunkLoaded=function(A){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(A.target.result)},this._chunkError=function(){this._sendError(S.error)}}function f(w){var S;c.call(this,w=w||{}),this.stream=function(b){return S=b,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var b,x=this._config.chunkSize;return x?(b=S.substring(0,x),S=S.substring(x)):(b=S,S=""),this._finished=!S,this.parseChunk(b)}}}function p(w){c.call(this,w=w||{});var S=[],b=!0,x=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(A){this._input=A,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){x&&S.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),S.length?this.parseChunk(S.shift()):b=!0},this._streamData=_(function(A){try{S.push(typeof A=="string"?A:A.toString(this._config.encoding)),b&&(b=!1,this._checkIsFinished(),this.parseChunk(S.shift()))}catch(O){this._streamError(O)}},this),this._streamError=_(function(A){this._streamCleanUp(),this._sendError(A)},this),this._streamEnd=_(function(){this._streamCleanUp(),x=!0,this._streamData("")},this),this._streamCleanUp=_(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function m(w){var S,b,x,A=Math.pow(2,53),O=-A,$=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,M=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,R=this,P=0,N=0,D=!1,V=!1,z=[],F={data:[],errors:[],meta:{}};if(E(w.step)){var B=w.step;w.step=function(Y){if(F=Y,G())H();else{if(H(),F.data.length===0)return;P+=Y.data.length,w.preview&&P>w.preview?b.abort():(F.data=F.data[0],B(F,R))}}}function j(Y){return w.skipEmptyLines==="greedy"?Y.join("").trim()==="":Y.length===1&&Y[0].length===0}function H(){return F&&x&&(J("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),x=!1),w.skipEmptyLines&&(F.data=F.data.filter(function(Y){return!j(Y)})),G()&&function(){if(!F)return;function Y(ne,ce){E(w.transformHeader)&&(ne=w.transformHeader(ne,ce)),z.push(ne)}if(Array.isArray(F.data[0])){for(var ee=0;G()&&ee<F.data.length;ee++)F.data[ee].forEach(Y);F.data.splice(0,1)}else F.data.forEach(Y)}(),function(){if(!F||!w.header&&!w.dynamicTyping&&!w.transform)return F;function Y(ne,ce){var ue,we=w.header?{}:[];for(ue=0;ue<ne.length;ue++){var he=ue,fe=ne[ue];w.header&&(he=ue>=z.length?"__parsed_extra":z[ue]),w.transform&&(fe=w.transform(fe,he)),fe=Q(he,fe),he==="__parsed_extra"?(we[he]=we[he]||[],we[he].push(fe)):we[he]=fe}return w.header&&(ue>z.length?J("FieldMismatch","TooManyFields","Too many fields: expected "+z.length+" fields but parsed "+ue,N+ce):ue<z.length&&J("FieldMismatch","TooFewFields","Too few fields: expected "+z.length+" fields but parsed "+ue,N+ce)),we}var ee=1;return!F.data.length||Array.isArray(F.data[0])?(F.data=F.data.map(Y),ee=F.data.length):F.data=Y(F.data,0),w.header&&F.meta&&(F.meta.fields=z),N+=ee,F}()}function G(){return w.header&&z.length===0}function Q(Y,ee){return ne=Y,w.dynamicTypingFunction&&w.dynamicTyping[ne]===void 0&&(w.dynamicTyping[ne]=w.dynamicTypingFunction(ne)),(w.dynamicTyping[ne]||w.dynamicTyping)===!0?ee==="true"||ee==="TRUE"||ee!=="false"&&ee!=="FALSE"&&(function(ce){if($.test(ce)){var ue=parseFloat(ce);if(O<ue&&ue<A)return!0}return!1}(ee)?parseFloat(ee):M.test(ee)?new Date(ee):ee===""?null:ee):ee;var ne}function J(Y,ee,ne,ce){var ue={type:Y,code:ee,message:ne};ce!==void 0&&(ue.row=ce),F.errors.push(ue)}this.parse=function(Y,ee,ne){var ce=w.quoteChar||'"';if(w.newline||(w.newline=function(he,fe){he=he.substring(0,1048576);var Xe=new RegExp(g(fe)+"([^]*?)"+g(fe),"gm"),Ke=(he=he.replace(Xe,"")).split("\r"),Je=he.split(`
`),tt=1<Je.length&&Je[0].length<Ke[0].length;if(Ke.length===1||tt)return`
`;for(var nt=0,Ee=0;Ee<Ke.length;Ee++)Ke[Ee][0]===`
`&&nt++;return nt>=Ke.length/2?`\r
`:"\r"}(Y,ce)),x=!1,w.delimiter)E(w.delimiter)&&(w.delimiter=w.delimiter(Y),F.meta.delimiter=w.delimiter);else{var ue=function(he,fe,Xe,Ke,Je){var tt,nt,Ee,De;Je=Je||[",","	","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var Dt=0;Dt<Je.length;Dt++){var _e=Je[Dt],te=0,le=0,pe=0;Ee=void 0;for(var ke=new v({comments:Ke,delimiter:_e,newline:fe,preview:10}).parse(he),Se=0;Se<ke.data.length;Se++)if(Xe&&j(ke.data[Se]))pe++;else{var Fe=ke.data[Se].length;le+=Fe,Ee!==void 0?0<Fe&&(te+=Math.abs(Fe-Ee),Ee=Fe):Ee=Fe}0<ke.data.length&&(le/=ke.data.length-pe),(nt===void 0||te<=nt)&&(De===void 0||De<le)&&1.99<le&&(nt=te,tt=_e,De=le)}return{successful:!!(w.delimiter=tt),bestDelimiter:tt}}(Y,w.newline,w.skipEmptyLines,w.comments,w.delimitersToGuess);ue.successful?w.delimiter=ue.bestDelimiter:(x=!0,w.delimiter=a.DefaultDelimiter),F.meta.delimiter=w.delimiter}var we=T(w);return w.preview&&w.header&&we.preview++,S=Y,b=new v(we),F=b.parse(S,ee,ne),H(),D?{meta:{paused:!0}}:F||{meta:{paused:!1}}},this.paused=function(){return D},this.pause=function(){D=!0,b.abort(),S=E(w.chunk)?"":S.substring(b.getCharIndex())},this.resume=function(){R.streamer._halted?(D=!1,R.streamer.parseChunk(S,!0)):setTimeout(R.resume,3)},this.aborted=function(){return V},this.abort=function(){V=!0,b.abort(),F.meta.aborted=!0,E(w.complete)&&w.complete(F),S=""}}function g(w){return w.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function v(w){var S,b=(w=w||{}).delimiter,x=w.newline,A=w.comments,O=w.step,$=w.preview,M=w.fastMode,R=S=w.quoteChar===void 0||w.quoteChar===null?'"':w.quoteChar;if(w.escapeChar!==void 0&&(R=w.escapeChar),(typeof b!="string"||-1<a.BAD_DELIMITERS.indexOf(b))&&(b=","),A===b)throw new Error("Comment character same as delimiter");A===!0?A="#":(typeof A!="string"||-1<a.BAD_DELIMITERS.indexOf(A))&&(A=!1),x!==`
`&&x!=="\r"&&x!==`\r
`&&(x=`
`);var P=0,N=!1;this.parse=function(D,V,z){if(typeof D!="string")throw new Error("Input must be a string");var F=D.length,B=b.length,j=x.length,H=A.length,G=E(O),Q=[],J=[],Y=[],ee=P=0;if(!D)return Pe();if(w.header&&!V){var ne=D.split(x)[0].split(b),ce=[],ue={},we=!1;for(var he in ne){var fe=ne[he];E(w.transformHeader)&&(fe=w.transformHeader(fe,he));var Xe=fe,Ke=ue[fe]||0;for(0<Ke&&(we=!0,Xe=fe+"_"+Ke),ue[fe]=Ke+1;ce.includes(Xe);)Xe=Xe+"_"+Ke;ce.push(Xe)}if(we){var Je=D.split(x);Je[0]=ce.join(b),D=Je.join(x)}}if(M||M!==!1&&D.indexOf(S)===-1){for(var tt=D.split(x),nt=0;nt<tt.length;nt++){if(Y=tt[nt],P+=Y.length,nt!==tt.length-1)P+=x.length;else if(z)return Pe();if(!A||Y.substring(0,H)!==A){if(G){if(Q=[],pe(Y.split(b)),qe(),N)return Pe()}else pe(Y.split(b));if($&&$<=nt)return Q=Q.slice(0,$),Pe(!0)}}return Pe()}for(var Ee=D.indexOf(b,P),De=D.indexOf(x,P),Dt=new RegExp(g(R)+g(S),"g"),_e=D.indexOf(S,P);;)if(D[P]!==S)if(A&&Y.length===0&&D.substring(P,P+H)===A){if(De===-1)return Pe();P=De+j,De=D.indexOf(x,P),Ee=D.indexOf(b,P)}else if(Ee!==-1&&(Ee<De||De===-1))Y.push(D.substring(P,Ee)),P=Ee+B,Ee=D.indexOf(b,P);else{if(De===-1)break;if(Y.push(D.substring(P,De)),Fe(De+j),G&&(qe(),N))return Pe();if($&&Q.length>=$)return Pe(!0)}else for(_e=P,P++;;){if((_e=D.indexOf(S,_e+1))===-1)return z||J.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Q.length,index:P}),Se();if(_e===F-1)return Se(D.substring(P,_e).replace(Dt,S));if(S!==R||D[_e+1]!==R){if(S===R||_e===0||D[_e-1]!==R){Ee!==-1&&Ee<_e+1&&(Ee=D.indexOf(b,_e+1)),De!==-1&&De<_e+1&&(De=D.indexOf(x,_e+1));var te=ke(De===-1?Ee:Math.min(Ee,De));if(D.substr(_e+1+te,B)===b){Y.push(D.substring(P,_e).replace(Dt,S)),D[P=_e+1+te+B]!==S&&(_e=D.indexOf(S,P)),Ee=D.indexOf(b,P),De=D.indexOf(x,P);break}var le=ke(De);if(D.substring(_e+1+le,_e+1+le+j)===x){if(Y.push(D.substring(P,_e).replace(Dt,S)),Fe(_e+1+le+j),Ee=D.indexOf(b,P),_e=D.indexOf(S,P),G&&(qe(),N))return Pe();if($&&Q.length>=$)return Pe(!0);break}J.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Q.length,index:P}),_e++}}else _e++}return Se();function pe(Te){Q.push(Te),ee=P}function ke(Te){var He=0;if(Te!==-1){var dt=D.substring(_e+1,Te);dt&&dt.trim()===""&&(He=dt.length)}return He}function Se(Te){return z||(Te===void 0&&(Te=D.substring(P)),Y.push(Te),P=F,pe(Y),G&&qe()),Pe()}function Fe(Te){P=Te,pe(Y),Y=[],De=D.indexOf(x,P)}function Pe(Te){return{data:Q,errors:J,meta:{delimiter:b,linebreak:x,aborted:N,truncated:!!Te,cursor:ee+(V||0)}}}function qe(){O(Pe()),Q=[],J=[]}},this.abort=function(){N=!0},this.getCharIndex=function(){return P}}function y(w){var S=w.data,b=s[S.workerId],x=!1;if(S.error)b.userError(S.error,S.file);else if(S.results&&S.results.data){var A={abort:function(){x=!0,k(S.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:C,resume:C};if(E(b.userStep)){for(var O=0;O<S.results.data.length&&(b.userStep({data:S.results.data[O],errors:S.results.errors,meta:S.results.meta},A),!x);O++);delete S.results}else E(b.userChunk)&&(b.userChunk(S.results,A,S.file),delete S.results)}S.finished&&!x&&k(S.workerId,S.results)}function k(w,S){var b=s[w];E(b.userComplete)&&b.userComplete(S),b.terminate(),delete s[w]}function C(){throw new Error("Not implemented.")}function T(w){if(typeof w!="object"||w===null)return w;var S=Array.isArray(w)?[]:{};for(var b in w)S[b]=T(w[b]);return S}function _(w,S){return function(){w.apply(S,arguments)}}function E(w){return typeof w=="function"}return o&&(i.onmessage=function(w){var S=w.data;if(a.WORKER_ID===void 0&&S&&(a.WORKER_ID=S.workerId),typeof S.input=="string")i.postMessage({workerId:a.WORKER_ID,results:a.parse(S.input,S.config),finished:!0});else if(i.File&&S.input instanceof File||S.input instanceof Object){var b=a.parse(S.input,S.config);b&&i.postMessage({workerId:a.WORKER_ID,results:b,finished:!0})}}),(h.prototype=Object.create(c.prototype)).constructor=h,(d.prototype=Object.create(c.prototype)).constructor=d,(f.prototype=Object.create(f.prototype)).constructor=f,(p.prototype=Object.create(c.prototype)).constructor=p,a})})(dO);var uW=dO.exports;const hW=Ti(uW),fO=I.lazy(()=>go(()=>Promise.resolve().then(()=>bY),void 0,pt&&pt.src||new URL("admin/mapplic-admin.js",document.baseURI).href)),dW=["id","title","about","thumb","image","link","phone","hours","desc","color","style","label","scale","type","more","sample","layer","group","coord","latlon","zoom","action","hide","disable"],fW=I.forwardRef(({setOpened:t,updateSetting:e,updateList:n},i)=>{var S;const r=U(b=>b.data),o=U(b=>b.setData),s=U(b=>b.csv),l=U(b=>b.location),a=U(b=>b.layer),u=U(b=>b.estPos),c=U(b=>b.pos),[h,d]=I.useState(!1),[f,p]=I.useState("content"),[m,g]=I.useState(!1);if(!r.locations)return null;const v=()=>{var x;let b=new Set((x=r==null?void 0:r.locations)==null?void 0:x.map(A=>A.id));o({csv:[],settings:{...r.settings,csvEnabled:!1,csv:""},locations:[...r.locations,...s.filter(A=>!b.has(A.id))]})},y=()=>{let b=hW.unparse(r.locations,{columns:T()});window.open("data:text/csv;charset=utf-8,"+escape(b))},k=(b="(Default)")=>{const x={"":b};return r!=null&&r.styles?r.styles.reduce((A,O)=>(A[O.class]=O.class,A),x):x},C=(b="(All layers)")=>{var x;return(x=r==null?void 0:r.layers)==null?void 0:x.reduce((A,O)=>(A[O.id]=O.name,A),{"":b})},T=()=>Array.from(new Set(r==null?void 0:r.locations.flatMap(Object.keys))).filter(b=>!["chosen","selected"].includes(b)),_=()=>T().filter(b=>!dW.includes(b)),E=(b,x,A)=>{var O,$;return X($i,{children:[X("select",{className:"flex self-center text-xs text-gray-600 bg-transparent w-auto -mt-6",value:b.sample||"",onChange:M=>x("sample",M.target.value),children:[r==null?void 0:r.samples.map(M=>L("option",{value:M.id==="def"?"":M.id,children:M.title||"Undefined"},M.id)),r==null?void 0:r.locations.filter(M=>M.sample==="true").map(M=>L("option",{value:M.id==="def"?"":M.id,children:M.title||"Undefined"},M.id))]}),L(Ne,{value:f,values:{content:"Content",visual:"Visual",function:"Function"},onChange:p}),X(Dr,{active:f==="content",className:"option-group",children:[L(Wn,{label:"ID",value:b.id,onChange:M=>x("id",M),validate:M=>Rr(M,r.locations,"id")&&Pr(M),icon:L(Ji,{size:16})}),L($e,{label:"Title",value:b.title,onChange:M=>x("title",M),placeholder:(A==null?void 0:A.title)||"Location title",autoFocus:!0}),L($e,{label:"About",value:b.about,onChange:M=>x("about",M),placeholder:(A==null?void 0:A.about)||"Short description"}),L(Ls,{label:"Thumbnail",value:b.thumb,onChange:M=>x("thumb",M),placeholder:(A==null?void 0:A.thumb)||"URL or text",button:!0}),L(Ls,{label:"Image",value:b.image,onChange:M=>x("image",M),placeholder:(A==null?void 0:A.image)||"Image URL",button:!0}),L($e,{label:"Link",value:b.link,onChange:M=>x("link",M),placeholder:(A==null?void 0:A.link)||"https://"}),L($e,{label:"Phone",value:b.phone,onChange:M=>x("phone",M),placeholder:(A==null?void 0:A.phone)||"Telephone number"}),L($e,{label:"Hours",value:b.hours,onChange:M=>x("hours",M),placeholder:(A==null?void 0:A.hours)||"Opening hours"}),L(I.Suspense,{fallback:L("p",{children:"Loading..."}),children:L(fO,{value:b.desc,onChange:M=>x("desc",M),placeholder:((O=A==null?void 0:A.desc)==null?void 0:O.replace(/<[^>]+>/g,""))||"Description text"})}),_().map(M=>L($e,{label:M,value:b[M],onChange:R=>x(M,R)},M))]}),X(Dr,{active:f==="visual",className:"option-group",children:[L(oi,{label:"Color",value:b.color,onChange:M=>x("color",M),placeholder:(A==null?void 0:A.color)||"Default"}),L(yn,{label:"Style",value:b.style,values:k(),onChange:M=>x("style",M)}),L($e,{label:"Label",value:b.label,onChange:M=>x("label",M),placeholder:(A==null?void 0:A.label)||"Marker text"}),L($e,{label:"Scale",type:"number",min:"0",step:"0.1",value:b.scale,onChange:M=>x("scale",parseFloat(M)),placeholder:(A==null?void 0:A.scale)||"1"}),L(yn,{label:"Type",value:b.type,values:nO,onChange:M=>x("type",M)}),L($e,{label:"More",value:b.more,onChange:M=>x("more",M),placeholder:(A==null?void 0:A.more)||r.settings.moreText||"More"})]}),X(Dr,{active:f==="function",className:"option-group",children:[L(yn,{label:"Layer",value:b.layer,values:C(),onChange:M=>x("layer",M)}),L(yn,{label:"Group",active:(r==null?void 0:r.groups)||(($=r.groups)==null?void 0:$.length)>0,value:b.group||[],multiple:!0,values:Ub(r==null?void 0:r.groups),onChange:M=>x("group",M)}),L(Wb,{label:"Coord",value:b.coord,onChange:M=>x("coord",M),icon:L(QC,{size:16})}),L(Wb,{label:"Lat, lon",active:r.settings.geo,value:b.latlon,onChange:M=>x("latlon",M),icon:L(QC,{size:16})}),L($e,{label:"Zoom",type:"number",min:"0",step:"0.1",value:b.zoom,onChange:M=>x("zoom",parseFloat(M)),placeholder:"Auto"}),L(yn,{label:"Action",value:b.action,values:iO,onChange:M=>x("action",M)}),L(yn,{label:"Link target",value:b.target,values:rO,onChange:M=>x("target",M)}),L(Ne,{label:"Directory",value:b.hide||!1,values:{false:"Show",true:"Hide"},onChange:M=>x("hide",M)}),L(Ne,{label:"Disabled",value:b.disable||!1,values:{true:"True",false:"False"},onChange:M=>x("disable",M)})]})]})},w=(b,x)=>{var A;return X($i,{children:[L(Ne,{value:f,values:{content:"Content",visual:"Visual",function:"Function"},onChange:p}),X(Dr,{active:f==="content",className:"option-group",children:[L(Wn,{label:"ID",value:b.id,onChange:O=>x("id",O),validate:O=>Rr(O,r.locations,"id")&&Pr(O),icon:L(Ji,{size:16})}),L($e,{label:"Title",value:b.title,onChange:O=>x("title",O),autoFocus:!0}),L($e,{label:"About",value:b.about,onChange:O=>x("about",O),placeholder:"Short description"}),L(Ls,{label:"Thumbnail",value:b.thumb,onChange:O=>x("thumb",O),placeholder:"URL or text",button:!0}),L(Ls,{label:"Image",value:b.image,onChange:O=>x("image",O),placeholder:"Image URL",button:!0}),L($e,{label:"Link",value:b.link,onChange:O=>x("link",O),placeholder:"https://"}),L($e,{label:"Phone",value:b.phone,onChange:O=>x("phone",O),placeholder:"Telephone number"}),L($e,{label:"Hours",value:b.hours,onChange:O=>x("hours",O),placeholder:"Opening hours"}),L(I.Suspense,{fallback:L("p",{children:"Loading..."}),children:L(fO,{value:b.desc,onChange:O=>x("desc",O),placeholder:"Description text"})}),_().map(O=>L($e,{label:O,value:b[O],onChange:$=>x(O,$)},O))]}),X(Dr,{active:f==="visual",className:"option-group",children:[L(oi,{label:"Color",value:b.color,onChange:O=>x("color",O),placeholder:"Default"}),L(yn,{label:"Style",value:b.style,values:k(),onChange:O=>x("style",O)}),L($e,{label:"Label",value:b.label,onChange:O=>x("label",O),placeholder:"Marker text"}),L($e,{label:"Scale",type:"number",min:"0",step:"0.1",value:b.scale,onChange:O=>x("scale",parseFloat(O)),placeholder:"1"}),L(yn,{label:"Type",value:b.type,values:nO,onChange:O=>x("type",O)}),L($e,{label:"More",value:b.more,onChange:O=>x("more",O),placeholder:r.settings.moreText||"More"})]}),X(Dr,{active:f==="function",className:"option-group",children:[L(yn,{label:"Layer",value:b.layer,values:C(),onChange:O=>x("layer",O)}),L(yn,{label:"Group",active:(r==null?void 0:r.groups)||((A=r.groups)==null?void 0:A.length)>0,value:b.group||[],multiple:!0,values:Ub(r==null?void 0:r.groups),onChange:O=>x("group",O)}),L($e,{label:"Zoom",type:"number",min:"0",step:"0.1",value:b.zoom,onChange:O=>x("zoom",parseFloat(O)),placeholder:"Auto"}),L(yn,{label:"Action",value:b.action,values:iO,onChange:O=>x("action",O)}),L(yn,{label:"Link target",value:b.target,values:rO,onChange:O=>x("target",O)}),L(Ne,{label:"Directory",value:b.hide||!1,values:{false:"Show",true:"Hide"},onChange:O=>x("hide",O)}),L(Ne,{label:"Disabled",value:b.disable||!1,values:{true:"True",false:"False"},onChange:O=>x("disable",O)})]})]})};return X(Ts,{ref:i,children:[L("div",{className:"panel-content",children:X("div",{className:"panel-inner",children:[X("div",{className:"mapplic-panel-group",style:{gap:24},children:[L(Mr,{highlight:!0,selected:h,setSelected:d,label:"Locations",list:r.locations,setList:b=>n("locations",b),preselected:l,newItem:{id:Ao(r.locations,"loc"),title:"New location",desc:"Add location description here.",coord:[(c==null?void 0:c.x)||.5,(c==null?void 0:c.y)||.5],layer:a||!1},keyAttribute:"id",nameAttribute:"title",back:()=>t(!1),samples:!0}),L(pW,{count:r.locations.filter(b=>!b.coord&&b.id in u).length}),L(mW,{unlinked:Object.entries(u).filter(([b,x])=>r.locations.every(A=>A.id!==b)&&s.every(A=>A.id!==b)&&x.layer===a)})]}),L("div",{className:"mapplic-panel-group",children:L(Mr,{selected:m,setSelected:g,label:"Samples",list:r.samples,setList:b=>n("samples",b),def:{id:"def",title:"Default",group:[]},newItem:{id:Ao(r.samples,"sample"),title:"New sample"},keyAttribute:"id",nameAttribute:"title"})}),X("div",{className:"mapplic-panel-group",children:[L(Ps,{title:"External CSV",checked:r.settings.csvEnabled,onChange:b=>e("csvEnabled",b)}),X(Ir,{active:r.settings.csvEnabled,children:[L(Ls,{label:"CSV source",value:r.settings.csv,placeholder:"Path to CSV",onChange:b=>e("csv",b),button:"true"}),X("div",{className:"mapplic-panel-inline",children:[L("button",{className:"mapplic-button alt",disabled:!r.settings.csv,onClick:v,children:"Import CSV"}),L("button",{className:"mapplic-button alt",disabled:((S=r==null?void 0:r.locations)==null?void 0:S.length)<1,onClick:y,children:"Export CSV"})]})]})]})]})}),L("div",{className:"panel-child",children:X(Es,{children:[h&&L(Lr,{list:r.locations,setList:b=>n("locations",b),selected:h,setSelected:d,keyAttribute:"id",nameAttribute:"title",render:E,samples:r.samples}),m&&L(Lr,{list:r.samples,setList:b=>n("samples",b),selected:m,setSelected:g,keyAttribute:"id",nameAttribute:"title",render:w,def:m==="def"})]})})]})}),pW=({count:t})=>{const e=U(o=>o.data.locations),n=U(o=>o.setData),i=U(o=>o.estPos),r=()=>{n({locations:e.map(o=>({...o,...i[o==null?void 0:o.id]}))})};return t<1?null:X("p",{className:"mapplic-notification mapplic-warning",children:[L("b",{children:t})," locations use estimated coordinates. ",L("button",{onClick:r,children:"Click here"})," to fix it."]})},mW=({unlinked:t})=>{const e=U(r=>r.data),n=U(r=>r.setData),i=()=>{if(t.length<1)alert("There are no unlinked interactive elements on this layer.");else if(confirm(`There are ${t.length} unlinked interactive elements on this layer. Would you like to auto-populate them?`)){const r=t.map(o=>({id:o[0],title:o[0].toUpperCase(),type:"hidden",...o[1]}));n({locations:[...r,...e.locations]})}};return t.length<1?null:X("button",{className:"mapplic-button alt bg-red-500",onClick:i,children:["Recognize SVG ",L(P0,{size:"16"})," ",t.length]})},gW=I.forwardRef(({setOpened:t,updateSetting:e,updateList:n},i)=>{const r=U(f=>f.data),o=U(f=>f.setTransition),s=U(f=>f.setTarget),[l,a]=I.useState(!1),[u,c]=I.useState(!1),h=(f,p)=>X("div",{className:"option-group",children:[L(Wn,{label:"Text",value:f.name,onChange:m=>p("name",m),validate:m=>Rr(m,r==null?void 0:r.breakpoints,"name")&&Pr(m)&&Hb(m),icon:L(Ji,{size:16}),autoFocus:!0}),L($e,{label:"Below",type:"number",value:f.below,min:"1",onChange:m=>p("below",parseFloat(m)),suffix:"PX"}),L(Ne,{label:"Portrait",value:f.portrait||!1,onChange:m=>p("portrait",m)}),L($e,{label:"Sidebar",type:"number",active:!f.portrait,value:f.sidebar,min:"1",placeholder:"Default",onChange:m=>p("sidebar",parseFloat(m)),suffix:"W"}),L(yn,{label:"Type",value:f.type,values:{list:"List",grid:"Grid"},onChange:m=>p("type",m)}),L($e,{label:"Column",type:"number",value:f.column,min:"1",placeholder:"1",onChange:m=>p("column",parseInt(m)),suffix:"NR"}),L($e,{label:"Container",type:"number",value:f.container,min:"1",placeholder:"Auto",onChange:m=>p("container",parseFloat(m)),suffix:"H"}),L($e,{label:"Element",active:f.portrait,type:"number",value:f.element,min:"1",placeholder:"Auto",onChange:m=>p("element",parseFloat(m)),suffix:"H"})]}),d=(f,p)=>X("div",{className:"option-group",children:[L(Wn,{label:"ID",value:f.id,onChange:m=>p("id",m),validate:m=>Rr(m,r==null?void 0:r.legend,"id")&&Pr(m),icon:L(Ji,{size:16})}),L($e,{label:"Text",value:f.text,onChange:m=>p("text",m),placeholder:"Visible text",autoFocus:!0}),L(Ls,{label:"Icon",value:f.icon,onChange:m=>p("icon",m),placeholder:"URL or text",button:!0}),L(oi,{label:"Color",value:f.color,onChange:m=>p("color",m),placeholder:"Default"}),L($e,{label:"Scale",type:"number",min:"0",step:"0.1",value:f.scale,onChange:m=>p("scale",parseFloat(m)),placeholder:"1"}),L($e,{label:"Radius",type:"number",min:"0",step:"1",value:f.radius,onChange:m=>p("radius",parseFloat(m)),placeholder:"4"}),L(Ne,{label:"Disabled",value:f.disable||!1,values:{true:"True",false:"False"},onChange:m=>p("disable",m)})]});return X(Ts,{ref:i,children:[L("div",{className:"panel-content",children:X("div",{className:"panel-inner",children:[X("div",{className:"mapplic-panel-group",children:[X("div",{style:{display:"flex",alignItems:"center",gap:4,marginLeft:-8,marginTop:-8},children:[L("button",{type:"button",className:"mapplic-admin-button",onClick:()=>t(!1),children:L(zc,{size:16})}),L("h4",{children:"Settings"})]}),X("div",{className:"mapplic-panel-options",children:[L(Ne,{label:"Fullscreen",value:r.settings.fullscreen,values:ul,onChange:f=>e("fullscreen",f),nullValue:""}),L(Ne,{label:"Hover tooltip",value:r.settings.hoverTooltip,onChange:f=>e("hoverTooltip",f)}),L(Ne,{label:"Hover about",active:r.settings.hoverTooltip,value:r.settings.hoverAbout||!1,onChange:f=>e("hoverAbout",f)}),L(Ne,{label:"Deeplinking",value:r.settings.deeplinking||!1,onChange:f=>e("deeplinking",f)}),L($e,{label:"Padding",type:"number",min:"0",value:r.settings.padding,suffix:"PX",onChange:(f,p)=>e("padding",parseFloat(f),p),placeholder:"0"}),L($e,{label:"Scroll top",type:"number",min:"0",value:r.settings.scrollTop,suffix:"PX",onChange:(f,p)=>e("scrollTop",parseFloat(f),p),placeholder:"0"}),L(Ne,{label:"Accessibility",value:r.settings.accessibility||!1,values:{true:"Plus",false:"Normal"},onChange:f=>e("accessibility",f)})]})]}),L("div",{className:"mapplic-panel-group",children:L(Mr,{selected:l,setSelected:a,label:"Responsivity",list:r.breakpoints,setList:f=>n("breakpoints",f),def:{name:"all-screens",below:8e3},newItem:{name:Ao(r.breakpoints,"breakpoint","name")},keyAttribute:"name",nameAttribute:"name"})}),X("div",{className:"mapplic-panel-group",children:[L(Ps,{title:"Zoom and pan",checked:r.settings.zoom,onChange:f=>e("zoom",f)}),L(Ir,{active:r.settings.zoom,children:X("div",{className:"mapplic-panel-options",children:[L($e,{label:"Max zoom",type:"number",min:"1",value:r.settings.maxZoom,onChange:(f,p)=>{const m=Math.max(parseFloat(f),1);e("maxZoom",m,p),o({duration:.4}),s({scale:m})}}),L(Ne,{label:"Reset button",value:r.settings.resetButton,values:ul,onChange:f=>e("resetButton",f),nullValue:""}),L(Ne,{label:"Zoom buttons",value:r.settings.zoomButtons,values:ul,onChange:f=>e("zoomButtons",f),nullValue:""}),L(Ne,{label:"Mousewheel",value:"mouseWheel"in r.settings?r.settings.mouseWheel:!0,onChange:f=>e("mouseWheel",f)}),L(Ne,{label:"Shift key",value:r.settings.mouseWheelShift||!1,active:r.settings.mouseWheel,onChange:f=>e("mouseWheelShift",f),values:{true:"Required",false:"No"}}),L(Ne,{label:"Close reset",value:r.settings.closeReset||!1,onChange:f=>e("closeReset",f)})]})})]}),X("div",{className:"mapplic-panel-group",children:[L(Mr,{selected:u,setSelected:c,label:"Legend",list:r.legend,setList:f=>n("legend",f),newItem:{id:Ao(r.legend,"item"),text:"Item text"},keyAttribute:"id",nameAttribute:"text"}),X("div",{className:"mapplic-panel-options",children:[L(Ne,{label:"Position",value:r.settings.legend,values:ul,onChange:f=>e("legend",f),nullValue:""}),L($e,{label:"Columns",type:"number",min:"1",value:r.settings.legendColumns,onChange:(f,p)=>e("legendColumns",parseInt(f),p),placeholder:"1"}),L(Ne,{label:"Horizontal",value:r.settings.legendHorizontal||!1,values:{true:"True",false:"False"},onChange:f=>e("legendHorizontal",f)}),L(Ne,{label:"Toggle",value:r.settings.legendToggle||!1,onChange:f=>e("legendToggle",f)}),L(Ne,{label:"By default",active:r.settings.legendToggle||!1,value:r.settings.legendClosed||!1,values:{false:"Opened",true:"Closed"},onChange:f=>e("legendClosed",f)}),L($e,{label:"Title",value:r.settings.legendTitle,onChange:f=>e("legendTitle",f),placeholder:"Map legend"})]})]}),X("div",{className:"mapplic-panel-group",children:[L("h4",{children:"Translations"}),X("div",{className:"mapplic-panel-options",children:[L($e,{label:"Button",value:r.settings.moreText,onChange:f=>e("moreText",f),placeholder:"More"}),L($e,{label:"Search",value:r.settings.searchText,onChange:f=>e("searchText",f),placeholder:"Search"}),L($e,{label:"Clear all",value:r.settings.clearText,onChange:f=>e("clearText",f),placeholder:"Clear all"}),L($e,{label:"Found",value:r.settings.foundText,onChange:f=>e("foundText",f),placeholder:"found"}),L($e,{label:"No results",value:r.settings.noresultsText,onChange:f=>e("noresultsText",f),placeholder:"No results found."})]})]})]})}),L("div",{className:"panel-child",children:X(Es,{children:[l&&L(Lr,{list:r.breakpoints,setList:f=>n("breakpoints",f),selected:l,setSelected:a,keyAttribute:"name",nameAttribute:"name",render:h,def:l==="all-screens"}),u&&L(Lr,{list:r.legend,setList:f=>n("legend",f),selected:u,setSelected:c,keyAttribute:"id",nameAttribute:"text",render:d})]})})]})}),vW=I.forwardRef(({setOpened:t,updateSetting:e,updateList:n},i)=>{const r=U(h=>h.data),[o,s]=I.useState(!1),[l,a]=I.useState(!1),u=(h,d)=>X("div",{className:"option-group",children:[L(Wn,{label:"Name",value:h.name,onChange:f=>d("name",f),validate:f=>Rr(f,r.groups,"name")&&Pr(f),icon:L(Ji,{size:16})}),L(oi,{label:"Color",value:h.color,onChange:f=>d("color",f)}),L(Ne,{label:"Hide",value:h.hide||!1,onChange:f=>d("hide",f)})]}),c=(h,d)=>X("div",{className:"option-group",children:[L(Wn,{label:"ID",value:h.id,onChange:f=>d("id",f),validate:f=>Rr(f,r.filters,"id")&&Pr(f),icon:L(Ji,{size:16})}),L($e,{autoFocus:!0,label:"Name",value:h.name,onChange:f=>d("name",f)}),L(yn,{label:"Type",value:h.type,values:{checkbox:"Checkbox",tags:"Groups",dropdown:"Dropdown",toggle:"Toggle group"},onChange:f=>d("type",f)}),L(Ir,{active:h.type==="tags",children:L(yn,{label:"Default",value:h.default||[],multiple:!0,values:Ub(r==null?void 0:r.groups),onChange:f=>d("default",f)})}),X(Ir,{active:h.type==="checkbox",children:[L(Wn,{label:"Condition",value:h.logic,onChange:f=>d("logic",f)}),L(Ne,{label:"Default",value:h.default||!1,onChange:f=>d("default",f)})]}),X(Ir,{active:h.type==="dropdown"||h.type==="toggle",children:[L(Wn,{label:"Condition",value:h.logic,onChange:f=>d("logic",f)}),L($e,{label:"Default",value:h.default,onChange:f=>d("default",f)}),L($e,{label:"Value",value:h.value,onChange:f=>d("value",f)})]}),L(Ne,{label:"Disable",value:h.disable||!1,onChange:f=>d("disable",f)})]});return X(Ts,{ref:i,children:[L("div",{className:"panel-content",children:X("div",{className:"panel-inner",children:[X("div",{className:"mapplic-panel-group",children:[L(Ps,{title:"Directory",checked:r.settings.sidebar,onChange:h=>e("sidebar",h),back:()=>t(!1)}),L(Ir,{active:r.settings.sidebar||!1,children:X("div",{className:"mapplic-panel-options",children:[L(Ne,{label:"Order by title",value:r.settings.ordered||!1,onChange:h=>e("ordered",h)}),L(Ne,{label:"Group by",value:r.settings.groupBy||!1,onChange:h=>e("groupBy",h)}),L(Ne,{label:"Thumbnails",value:r.settings.thumbnails||!1,onChange:h=>e("thumbnails",h)}),L(Ne,{label:"Toggle",value:r.settings.toggleSidebar||!1,onChange:h=>e("toggleSidebar",h)}),L(Ne,{label:"By default",active:r.settings.toggleSidebar||!1,value:r.settings.sidebarClosed||!1,values:{false:"Opened",true:"Closed"},onChange:h=>e("sidebarClosed",h)}),L(Ne,{label:"Sidebar",value:r.settings.rightSidebar||!1,values:{false:"Left",true:"Right"},onChange:h=>e("rightSidebar",h)})]})})]}),X("div",{className:"mapplic-panel-group",children:[L(Ps,{title:"Search and filters",checked:r.settings.filters,onChange:h=>e("filters",h)}),L(Ir,{active:r.settings.filters||!1,children:X("div",{className:"mapplic-panel-options",children:[L(Ne,{label:"Visibility",active:r.settings.filters,value:r.settings.filtersAlwaysVisible||!1,values:{false:"Toggle",true:"Always"},onChange:h=>e("filtersAlwaysVisible",h)}),L(Ne,{label:"By default",active:r.settings.filters,value:r.settings.filtersOpened||!1,values:{true:"Opened",false:"Closed"},onChange:h=>e("filtersOpened",h)})]})})]}),L("div",{className:"mapplic-panel-group",children:L(Mr,{selected:o,setSelected:s,label:"Groups",list:r.groups,setList:h=>n("groups",h),newItem:{name:Ao(r.groups,"New group ")},keyAttribute:"name",nameAttribute:"name"})}),L("div",{className:"mapplic-panel-group",children:L(Mr,{selected:l,setSelected:a,label:"Filters",list:r.filters,setList:h=>n("filters",h),newItem:{id:Ao(r.filters,"filter"),name:"New filter",type:"checkbox"},keyAttribute:"id",nameAttribute:"name"})})]})}),L("div",{className:"panel-child",children:X(Es,{children:[o&&L(Lr,{list:r.groups,setList:h=>n("groups",h),selected:o,setSelected:s,keyAttribute:"name",nameAttribute:"name",render:u}),l&&L(Lr,{list:r.filters,setList:h=>n("filters",h),selected:l,setSelected:a,keyAttribute:"id",nameAttribute:"name",render:c})]})})]})}),yW=I.lazy(()=>go(()=>Promise.resolve().then(()=>IO),void 0,pt&&pt.src||new URL("admin/mapplic-admin.js",document.baseURI).href)),bW=I.forwardRef(({setOpened:t,updateSetting:e,updateList:n},i)=>{const r=U(c=>c.data),[o,s]=I.useState(!1),[l,a]=I.useState("base"),u=(c,h)=>X($i,{children:[L(Ne,{value:l,values:{base:"Base",hover:"Hover",active:"Active"},onChange:a}),X(Dr,{active:l==="base",className:"option-group",children:[L(Wn,{label:"Class",value:c.class,onChange:d=>h("class",d),validate:d=>Rr(d,r.styles,"class")&&Pr(d)&&Hb(d),icon:L(Ji,{size:16}),autoFocus:!0}),L(oi,{label:"Fill",value:c["base-color"],onChange:d=>h("base-color",d),placeholder:"Inherit"}),L(oi,{label:"Stroke",value:c["base-stroke"],onChange:d=>h("base-stroke",d),placeholder:"Inherit"}),L($e,{label:"Stroke width",type:"number",min:"0",value:c["stroke-width"],onChange:d=>h("stroke-width",parseFloat(d)),placeholder:"Inherit"}),L(oi,{label:"Text color",value:c["text-color"],onChange:d=>h("text-color",d),placeholder:"Default"}),L(Ne,{label:"Marker",value:c.marker,onChange:d=>h("marker",d)}),L(Ne,{label:"SVG",value:c.svg,onChange:d=>h("svg",d)})]}),X(Dr,{active:l==="hover",className:"option-group",children:[L(oi,{label:"Fill",value:c["hover-color"],onChange:d=>h("hover-color",d),placeholder:"Inherit"}),L(oi,{label:"Stroke",value:c["hover-stroke"],onChange:d=>h("hover-stroke",d),placeholder:"Inherit"})]}),X(Dr,{active:l==="active",className:"option-group",children:[L(oi,{label:"Fill",value:c["active-color"],onChange:d=>h("active-color",d),placeholder:"Inherit"}),L(oi,{label:"Stroke",value:c["active-stroke"],onChange:d=>h("active-stroke",d),placeholder:"Inherit"})]})]});return X(Ts,{ref:i,children:[L("div",{className:"panel-content",children:X("div",{className:"panel-inner",children:[X("div",{className:"mapplic-panel-group",children:[X("div",{style:{display:"flex",alignItems:"center",gap:4,marginLeft:-8,marginTop:-8},children:[L("button",{type:"button",className:"mapplic-admin-button",onClick:()=>t(!1),children:L(zc,{size:16})}),L("h4",{children:"Appearance"})]}),L(oi,{label:"Primary color",value:r.settings.primaryColor,alpha:!1,onChange:c=>e("primaryColor",c),placeholder:"Default"}),X("label",{className:"field-label above",children:[L("span",{children:"Custom CSS"}),L("div",{className:"field",style:{backgroundColor:"#fff"},children:L(I.Suspense,{fallback:L("p",{children:"loading"}),children:L(yW,{value:r.settings.css,mode:"css",theme:"xcode",name:"custom-css",width:"100%",height:"160px",showGutter:!1,onChange:c=>e("css",c)})})})]})]}),L("div",{className:"mapplic-panel-group",children:L(Mr,{selected:o,setSelected:s,label:"Location styles",list:r.styles,setList:c=>n("styles",c),newItem:{class:Ao(r.styles,"mloc","class"),svg:!0,marker:!0},keyAttribute:"class",nameAttribute:"class"})})]})}),L("div",{className:"panel-child",children:L(Es,{children:o&&L(Lr,{list:r.styles,setList:c=>n("styles",c),selected:o,setSelected:s,keyAttribute:"class",nameAttribute:"class",render:u})})})]})}),wW=I.forwardRef(({setOpened:t,updateSetting:e,updateList:n},i)=>{const r=U(c=>c.data),o=U(c=>c.selectedVector),s=U(c=>c.setSelectedVector),[l,a]=I.useState(!1),u=(c,h)=>X("div",{className:"option-group",children:[L(Wn,{label:"Id",value:c.id,onChange:d=>h("id",d),validate:d=>Rr(d,r==null?void 0:r.routes,"id")&&Pr(d)&&Hb(d),icon:L(Ji,{size:16}),autoFocus:!0}),L(Ne,{label:"Connect",value:c.connect||!1,values:{true:"Layer",false:"Location"},onChange:d=>h("connect",d)}),L($e,{label:"Endpoint",value:c.endpoint,placeholder:"None",onChange:d=>h("endpoint",d)}),L($e,{label:"Weight",type:"number",min:"0",step:"0.1",value:c.weight,suffix:"X",placeholder:"1",onChange:d=>h("weight",d)}),L(Ne,{label:"Type",value:c.element||!1,values:{polyline:"Line",polygon:"Shape"},onChange:d=>h("element",d)}),L(Ne,{label:"Inaccessible",value:c.inaccessible||!1,onChange:d=>h("inaccessible",d)})]});return r.settings?X(Ts,{ref:i,children:[L("div",{className:"panel-content",children:X("div",{className:"panel-inner",children:[X("div",{className:"mapplic-panel-group",children:[L(Ps,{title:"Wayfinding",checked:r.settings.wayfinding,onChange:c=>e("wayfinding",c),back:()=>t(!1)}),X(Ir,{active:r.settings.wayfinding||!1,children:[X("div",{className:"mapplic-panel-options",children:[L(Ne,{label:"Controls",value:r.settings.wayfindingControls,values:ul,onChange:c=>e("wayfindingControls",c),nullValue:""}),L(Ne,{label:"By default",active:r.settings.wayfinding||!1,value:r.settings.wayfindingOpened||!1,values:{false:"Closed",true:"Opened"},onChange:c=>e("wayfindingOpened",c)}),L($e,{label:"Line width",type:"number",min:"0",step:"0.1",placeholder:"3",value:r.settings.wayfindingLineWidth,onChange:c=>e("wayfindingLineWidth",parseFloat(c)),suffix:"PT"}),L(oi,{label:"Line color",value:r.settings.wayfindingLineColor,onChange:c=>e("wayfindingLineColor",c),placeholder:"Default",alpha:!1}),L($e,{label:"Speed",type:"number",min:"0",placeholder:"2",value:r.settings.wayfindingSpeed,onChange:c=>e("wayfindingSpeed",parseFloat(c)),suffix:"SEC"}),L($e,{label:"Smoothing",type:"number",min:"0",placeholder:"Disabled",value:r.settings.wayfindingSmoothing,onChange:c=>e("wayfindingSmoothing",parseFloat(c))}),L($e,{label:"Fixed from",placeholder:"None",value:r.settings.wayfindingFixedFrom,onChange:c=>e("wayfindingFixedFrom",c),icon:L(Ji,{size:16})}),L(Ne,{label:"Accessibility",value:r.settings.wayfindingAccessibility||!1,values:{true:"On",false:"Off"},onChange:c=>e("wayfindingAccessibility",c)})]}),L(_W,{})]})]}),X("div",{className:"mapplic-panel-group",children:[L(Ps,{title:"Translations",checked:l,onChange:c=>a(c),chevron:!0}),L(Ir,{active:l,children:X("div",{className:"mapplic-panel-options",children:[L($e,{label:"Directions",value:r.settings.directionsText,onChange:c=>e("directionsText",c),placeholder:"Directions"}),L($e,{label:"Select from",value:r.settings.selectFromText,onChange:c=>e("selectFromText",c),placeholder:"Select from"}),L($e,{label:"Select to",value:r.settings.selectToText,onChange:c=>e("selectToText",c),placeholder:"Select to"})]})})]}),L("div",{className:"mapplic-panel-group",children:L(Mr,{selected:o,setSelected:s,label:"Paths",list:r==null?void 0:r.routes,setList:c=>n("routes",c),newItem:{id:"path"+Date.now()},keyAttribute:"id",nameAttribute:"id"})})]})}),L("div",{className:"panel-child",children:L(Es,{children:o&&L(Lr,{list:r==null?void 0:r.routes,setList:c=>n("routes",c),selected:o,setSelected:s,keyAttribute:"id",nameAttribute:"id",render:u})})})]}):null}),_W=()=>{const t=U(l=>l.data.settings),e=U(l=>l.data.routes),n=U(l=>l.data.locations),i=U(l=>l.layer),r=U(l=>l.setData),o=U(l=>l.hasRoute);return L("button",{className:"mapplic-button alt",onClick:()=>{const l=n.filter(u=>u.layer===i).filter(u=>!o(u.id));if(l.length<1)return alert("There are no unlinked location on this layer."),null;if(!confirm(`There are ${l.length} unlinked locations on this layer. Would you like to add an anchor for each unlinked location?`))return null;const a=l.map(u=>({id:`p-${u.id}`,layer:i,endpoint:u.id,element:"polyline",points:`${zt(u.coord[0]*t.mapWidth)},${zt(u.coord[1]*t.mapHeight)}`}));r({routes:[...e,...a]})},children:"Run autolink"})},xW=({updateHistory:t,action:e,title:n,state:i})=>{var p,m,g,v;const r=U(y=>y.setAdmin),o=U(y=>y.data),s=U(y=>y.setData),l=U(y=>y.location),a=U(y=>y.setRoutesEditing),u=cl(y=>y.saveMap),[c,h]=I.useState(!1);I.useEffect(()=>{r(!0)},[]),I.useEffect(()=>{l&&h("Locations")},[l]),I.useEffect(()=>{a(c==="Wayfinding")},[c,a]);const d=(y,k=!1,C=!0)=>{s({settings:{...o.settings,[y]:k}}),t(C)},f=(y,k,C=!0)=>{s({[y]:k}),t(C)};return L("aside",{children:X("div",{className:"panel main",children:[X("div",{className:"panel-content",children:[X("div",{className:"main-panel-header",children:[e?L("button",{onClick:e,children:L("div",{className:"mapplic-menu-icon",children:L(JC,{size:16})})}):L("a",{href:u==="wp"?"./edit.php?post_type=mapplic_map":"./?map=new",children:L("div",{className:"mapplic-menu-icon",children:L(JC,{size:16})})}),L("span",{children:n||"Select map"})]}),L("div",{className:"mapplic-panel-group",style:{padding:12,border:"none"},children:X("div",{style:{display:"flex",flexDirection:"column",width:"100%",gap:12},children:[L(dl,{title:"Locations",icon:L(z4,{size:16}),count:(p=o==null?void 0:o.locations)==null?void 0:p.length,opened:c,extra:((m=o==null?void 0:o.locations)==null?void 0:m.length)<1&&(!o.settings.csv||!o.settings.csvEnabled)?L("span",{className:"py-0.5 px-1 mr-2 ml-auto rounded-md border border-lime-500 text-xs text-lime-500",children:"Add"}):null,setOpened:h}),L(dl,{title:"Layers",icon:L(R4,{size:16}),count:(g=o==null?void 0:o.layers)==null?void 0:g.length,opened:c,setOpened:h,error:((v=o==null?void 0:o.layers)==null?void 0:v.length)<1}),L(dl,{title:"Directory",icon:L(S4,{size:16}),opened:c,setOpened:h}),L(dl,{title:"Settings",icon:L(eF,{size:16}),opened:c,setOpened:h}),L(dl,{title:"Appearance",icon:L(w4,{size:16}),opened:c,setOpened:h}),L(dl,{title:"Wayfinding",icon:L(X4,{size:16}),disabled:i<3,opened:c,setOpened:h})]})})]}),L("div",{className:"panel-child",children:X(Es,{mode:"popLayout",children:[c==="Locations"&&L(fW,{setOpened:h,updateSetting:d,updateList:f},"Locations"),c==="Layers"&&L(cW,{setOpened:h,updateSetting:d,updateList:f},"Layers"),c==="Directory"&&L(vW,{Key:"Directory",setOpened:h,updateSetting:d,updateList:f}),c==="Settings"&&L(gW,{setOpened:h,updateSetting:d,updateList:f},"Settings"),c==="Appearance"&&L(bW,{setOpened:h,updateSetting:d,updateList:f},"Appearance"),c==="Wayfinding"&&L(wW,{setOpened:h,updateSetting:d,updateList:f},"Wayfinding")]})})]})})},dl=({title:t,icon:e,count:n=!1,disabled:i=!1,opened:r,setOpened:o,error:s=!1,extra:l})=>{const a=()=>{if(i)return!1;o(t===r?!1:t)};return X("button",{type:"button",className:An("mapplic-menu-button",{"mapplic-active":t===r}),disabled:i,onClick:a,children:[X("div",{className:"mapplic-menu-icon",children:[s&&L("span",{className:"mapplic-menu-warning",children:"!"}),e]}),L("span",{children:t}),(n>0||typeof n=="string")&&L("span",{className:"mapplic-menu-count",children:n}),l]})},SW=({modified:t,saveState:e,save:n})=>{const i=()=>e==="loading"?L("span",{className:"mapplic-loader"}):e==="saved"&&!t?L(r4,{size:16}):L(mF,{size:16});return X("button",{className:An("mapplic-button mapplic-button-primary",{"mapplic-button-saved":e==="saved"&&!t}),disabled:!t,onClick:()=>n(),children:[i(),"Save Changes"]})},kW=({open:t,setOpen:e})=>L(iA,{open:t,onClose:()=>{e(!1)},closeIcon:L(ty,{size:16}),center:!0,children:X("div",{className:"flex flex-col gap-4 max-w-md",children:[L("h3",{className:"text-2xl font-bold",children:"Saving disabled"}),X("p",{children:["Saving is disabled in ",L("b",{children:"test mode"}),". To enable map saving, please create an account."]}),X("div",{className:"flex justify-between",children:[L("button",{className:"btn btn-sm",onClick:()=>e(!1),children:"Keep exploring"}),X("a",{href:"/register",className:"btn btn-secondary btn-sm",children:["Sign up",L(P0,{className:"opacity-50",size:16}),L("span",{className:"font-normal text-sm",children:"It's free"})]})]})]})}),CW=({history:t,view:e,setView:n,saveMap:i})=>{const r=U(x=>x.data),o=U(x=>x.setData),s=U(x=>x.source),l=U(x=>x.loading),[a,u]=I.useState([]),[c,h]=I.useState([]),[d,f]=I.useState(!1),[p,m]=I.useState(!1),[g,v]=I.useState(!1),[y,k]=I.useState(!1),[C,T]=I.useState(!1),_=()=>{if(a.length>1){const x=a[a.length-2];o(x),u(a.slice(0,-1)),h([a[a.length-1],...c]),m(!0)}},E=()=>{if(c.length>0){const x=c[0];o(x),u([...a,x]),h(c.slice(1)),m(!0)}},w=()=>{const x=A=>A?A.map(O=>(delete O.chosen,delete O.selected,O)):[];return{...r,...typeof s=="string"&&{target:s},layers:x(r.layers),groups:x(r.groups),styles:x(r.styles),filters:x(r.filters),breakpoints:x(r.breakpoints),locations:x(r.locations),samples:x(r.samples),routes:x(r.routes)}},S=x=>fetch(`${window.location.protocol}//${window.location.hostname}:3000${window.location.pathname}mapplic-save`,{mode:"no-cors",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)}),b=(x=w())=>{if(!p)return;if(v("loading"),f(!1),i===!1){m(!1),T(!0),v(!1);return}if(i==="wp"){m(!1);const O=document.querySelector("#mapplic-mapdata");O.value=JSON.stringify(x),document.querySelector("form#post").submit();return}(i?i(x):S(x)).then(()=>{setTimeout(()=>{v("saved"),m(!1)},200)}).catch(O=>{f({text:O.message,type:"error"}),v(!1),console.error("Error:",O)})};return I.useEffect(()=>{if(!p)return;const x=A=>(A.preventDefault(),A.returnValue="");return window.addEventListener("beforeunload",x,{captue:!0}),()=>{window.removeEventListener("beforeunload",x,{captue:!0})}},[p]),I.useEffect(()=>{const x=A=>{if(A.ctrlKey&&A.key==="y"||A.ctrlKey&&A.key==="Z"){if(A.target.tagName==="INPUT"||A.target.tagName==="TEXTAREA")return;A.defaultPrevented||E()}else if(A.ctrlKey&&A.key==="z"){if(A.target.tagName==="INPUT"||A.target.tagName==="TEXTAREA")return;A.defaultPrevented||_()}else A.ctrlKey&&A.key==="s"&&(A.preventDefault(),i())};return document.addEventListener("keydown",x),()=>{document.removeEventListener("keydown",x)}},[a,c,p]),I.useEffect(()=>{a.length>0&&m(!0),Object.keys(r).length!==0&&(t>=0?u([...a,r]):u([...a.slice(0,-1),r]),h([]))},[t,r.locations]),l?null:X("div",{className:"mapplic-admin-bar mapplic-admin-ui",children:[L(kW,{open:C,setOpen:T}),L(Db,{open:y,setOpen:k,mode:"json",title:"Raw map data",content:w(),setContent:o}),L(EW,{notif:d}),L("div",{}),L(Ne,{id:"mapplic-screens",value:e,values:{desktop:L(K4,{size:16}),tablet:L(sF,{size:16}),mobile:L(iF,{size:16})},style:{width:"auto"},onChange:n}),X("div",{className:"mapplic-actions",children:[X("div",{children:[L("button",{type:"button",className:"mapplic-admin-button",disabled:a.length<2,onClick:_,children:L(d4,{size:16})}),L("button",{type:"button",className:"mapplic-admin-button",disabled:c.length<1,onClick:E,children:L(m4,{size:16})})]}),L("button",{type:"button",className:"mapplic-button alt",style:{padding:8},onClick:()=>k(!0),children:L(s0,{size:16})}),L(SW,{modified:p,saveState:g,save:b,setNotif:f})]})]})},EW=({notif:t})=>{if(t)return L("div",{className:"mapplic-admin-notifications",children:L("p",{className:`mapplic-notification mapplic-${t.type}`,children:t.text})})},Af={world:{title:"World",width:800,height:517,extent:[-180,-58.492285156250006,180,83.599609375]},"world-us":{title:"World and US",width:2400,height:1697,extent:[-181.9372873759479,-67.8325574122815,201.2439555495492,84.83382568312074]},continents:{title:"Continents",width:800,height:517,extent:[-180,-55.521386718749994,180,83.59960937500003]},africa:{title:"Africa",width:800,height:822,extent:[-25.36042232999995,-34.82195403399993,51.41703781100006,37.34520091400009]},asia:{title:"Asia",width:800,height:822,extent:[25.663259311000047,-12.199965101999908,180,81.28880442900004]},europe:{title:"Europe",width:800,height:580,extent:[-24.539906378999945,34.81500885600008,66.20953006356154,71.18036530200004]},ar:{title:"Argentina",width:800,height:1761,extent:[-73.57273962499994,-55.05201588299991,-53.66155188041495,-21.786937763999973]},au:{title:"Australia",width:800,height:773,extent:[112.91944420700008,-43.641289971999925,159.1064559250001,-9.240166924999926]},at:{title:"Austria",width:800,height:411,extent:[9.52115482500011,46.37864308700007,17.148337850000075,49.00977447500007]},be:{title:"Belgium",width:800,height:654,extent:[-172.5025528639999,-9.361748955999929,-171.18565833199992,-8.543226820999905]},br:{title:"Brazil",width:800,height:737,extent:[-74.01847469099994,-33.74228037499992,-28.877064581999946,5.267224833000029]},bg:{title:"Bulgaria",width:800,height:521,extent:[22.345023234000053,41.238104147000044,28.603526238000086,44.228434539]},ca:{title:"Canada",width:800,height:1042,extent:[-141.00556393099993,41.66908559200006,-52.61660722599993,83.11652252800008]},cn:{title:"China",width:800,height:592,extent:[73.60225630700006,15.77537669500009,134.77257938700006,53.56944447900007]},hr:{title:"Croatia",width:800,height:785,extent:[13.501475457000083,42.41632721600007,19.40783817500011,46.546979065000116]},cy:{title:"Cyprus",width:800,height:305,extent:[32.27173912900008,34.62501943000002,34.09913170700008,35.19940297400008]},cz:{title:"Czech Republic",width:800,height:456,extent:[12.076140991000045,48.557915752,18.837433716000106,51.04001230900009]},dk:{title:"Denmark",width:800,height:644,extent:[8.094004754000082,54.56858958500004,15.151377800000091,57.751166083000044]},ee:{title:"Estonia",width:800,height:522,extent:[21.832367384000065,57.51581858300001,28.186475464000125,59.67088450700004]},eg:{title:"Egypt",width:800,height:711,extent:[24.688342732000137,21.9943692020001,36.899180535000085,31.656480210000026]},fi:{title:"Finland",width:800,height:1793,extent:[20.62316451,59.81122467700004,31.56952478000011,70.07531036400012]},fr:{title:"France",width:800,height:786,extent:[-4.783355272999928,41.372503973000036,9.55958092500009,51.08754088371881]},de:{title:"Germany",width:800,height:1083,extent:[5.852489868000106,47.27112091100007,15.022059367000054,55.065334377000056]},gr:{title:"Greece",width:800,height:822,extent:[19.626475457000083,34.81500885600008,28.239756707000083,41.750475973000064]},hu:{title:"Hungary",width:800,height:491,extent:[16.09403527800012,45.74134348600002,22.877600546000053,48.569232890000066]},id:{title:"Indonesia",width:800,height:296,extent:[95.01270592500003,-10.922621351999908,140.97762699400005,5.910101630000042]},in:{title:"India",width:800,height:855,extent:[68.14340254000007,6.74555084800005,97.36225305200003,35.49540557900012]},ie:{title:"Ireland",width:800,height:1176,extent:[-10.478179490999935,51.44570547100005,-5.993519660999937,55.386379299000055]},is:{title:"Island",width:800,height:540,extent:[-24.539906378999945,63.39671458500004,-13.502919074999909,66.56415436400005]},il:{title:"Israel",width:800,height:2237,extent:[34.24835085700005,29.48969147300005,35.88807255000012,33.4067217]},it:{title:"Italy",width:800,height:943,extent:[6.602728312000067,36.65493398600006,18.517425977000073,47.08521494500006]},jp:{title:"Japan",width:800,height:917,extent:[122.93816165500004,24.212103583000044,153.98560631600003,45.520412502000056]},kr:{title:"Korea",width:800,height:850,extent:[124.613617384,33.19757721600007,130.92066491000003,38.624335028000075]},lv:{title:"Latvia",width:800,height:486,extent:[20.968597852000073,55.66699086600006,28.217274617000072,58.07513844900008]},lt:{title:"Lithuania",width:800,height:610,extent:[20.924568700365,53.886841126,26.80072025600009,56.44260243735255]},my:{title:"Malaysia",width:800,height:267,extent:[99.64522806000008,.851370341000106,119.27808678500003,7.35578034100007]},mx:{title:"Mexico",width:800,height:505,extent:[-118.36880422899992,14.546279476000095,-86.70059160099993,32.71283640500009]},nl:{title:"Netherlands",width:800,height:952,extent:[3.349414674000116,50.74754954000003,7.198505900000043,53.55809153900003]},nz:{title:"New Zealand",width:800,height:1130,extent:[166.46648196700016,-48.062432549999926,178.56617272200003,-34.14425153860191]},no:{title:"Norway",width:800,height:948,extent:[4.643809441000087,57.99315013200004,31.076996290000068,71.16526927300004]},pl:{title:"Poland",width:800,height:759,extent:[14.12392297300002,48.994013164000094,24.143156372000107,54.838324286000045]},pt:{title:"Portugal",width:800,height:1635,extent:[-9.497466600999928,36.96588776200008,-6.205947224999932,42.15362966000002]},ro:{title:"Romania",width:800,height:565,extent:[20.24282596900008,43.6500499480001,29.699554884000065,48.27483225600007]},ru:{title:"Russia",width:800,height:413,extent:[19.626475457000083,41.19268056200009,180,77.73309967700004]},sa:{title:"Saudi Arabia",width:800,height:659,extent:[34.57276451900009,16.37095774900007,55.63756473800004,32.12134796200006]},rs:{title:"Serbia",width:800,height:1062,extent:[18.84497847500006,42.23494482000011,22.98457076000011,46.17387522400013]},sk:{title:"Slovakia",width:800,height:395,extent:[16.84448042800011,47.75000640900008,22.539636678000136,49.60177968400002]},si:{title:"Slovenia",width:800,height:529,extent:[13.365261271000094,45.42363678,16.515301554000075,46.86396230100003]},es:{title:"Spain",width:800,height:609,extent:[-9.291981574999909,35.847357489000046,4.302907748000052,43.77252838700008]},za:{title:"South Africa",width:800,height:706,extent:[16.471853061000047,-34.81894296699994,32.89307701900009,-22.126451924999927]},se:{title:"Sweden",width:800,height:1832,extent:[11.108164910000085,55.342678127000056,24.163413534000114,69.03635569300012]},ch:{title:"Switzerland",width:800,height:514,extent:[5.954809204000128,45.820718486,10.466626831000013,47.801166077000076]},th:{title:"Thailand",width:800,height:1472,extent:[97.35140100100011,5.629890035000059,105.65099776200003,20.44500640900013]},tr:{title:"Turkey",width:800,height:339,extent:[25.663259311000047,35.81977854500006,44.80699282900008,42.09878164300005]},ua:{title:"Ukraine",width:800,height:484,extent:[22.13283980300011,45.21356842700004,40.1595430910001,52.36894928000008]},gb:{title:"United Kingdom",width:800,height:1551,extent:[-8.17402665059133,49.99317405748093,1.7475905049647338,60.415907315040386]},us:{title:"United States",width:800,height:438,extent:[-124.73460723799991,24.54254791900007,-66.9773249989999,49.36949412145651]},ae:{title:"United Arab Emirates",width:800,height:630,extent:[51.569346550000034,22.620945943000052,56.38363691500007,26.074791972000085]}},TW=({saveMap:t})=>{const[e,n]=I.useState(!1),[i,r]=I.useState(!1),[o,s]=I.useState(""),l=cl(a=>a.dir);return I.useEffect(()=>{const a=document.getElementById("publish");a&&(a.disabled=i===!1)},[i]),X("div",{className:"flex flex-col gap-4 py-10 w-full max-w-md m-auto",children:[L("p",{className:"font-bold text-4xl",children:"Configure"}),L("p",{children:"Select a preset to get started."}),X("div",{className:"flex flex-col gap-10",children:[X("div",{className:"flex flex-col gap-2",children:[L("span",{className:"text-sm font-semibold",children:"Preset"}),L(pO,{options:[{value:"example",text:"Example",detail:L("small",{className:"text-gray-400",children:"Explore a configured map"})},{value:"builtin",text:"Built-in",detail:L("small",{className:"text-gray-400",children:"Use a built-in map"})},{value:"custom",text:"Custom",detail:L("small",{className:"text-gray-400",children:"Upload your own file"})}],value:e,onChange:a=>{n(a),r(!1)}})]}),e==="example"&&X("label",{className:"flex flex-col gap-2",children:[L("span",{className:"text-sm font-semibold",children:"Examples"}),L(pO,{className:"flex gap-3",options:[{value:"mall",text:"Mall",png:"retail-small"},{value:"lots",text:"Lots",png:"lot-small"},{value:"us",text:"Geo",png:"geo-small"}],value:i,onChange:a=>r(a)})]}),e==="builtin"&&X("label",{className:"flex flex-col gap-2",children:[L("span",{className:"text-sm font-semibold",children:"Built-in maps"}),L("div",{className:"border rounded-xl overflow-hidden focus-within:outline outline-2 outline-primary",children:X("select",{className:"w-full p-3 scrollbar outline-none",value:i||"",size:"6",onChange:a=>r(a.target.value),children:[L("option",{value:"",disabled:!0,children:"Select a map"}),Object.keys(Af).map(a=>L("option",{value:a,children:Af[a].title},a))]})})]}),e==="custom"&&L($i,{children:L(AW,{label:"Map file",placeholder:"SVG, PNG or JPG base map",onChange:a=>{s(a),r("custom")}})}),t==="wp"?L("button",{type:"button",className:"btn btn-primary btn-lg",disabled:!i,onClick:()=>{const a=document.querySelector("#mapplic-mapdata");if(a){let u;i==="custom"?u=LW(o):i!=="mall"&&i!=="lots"&&(u=mO(i,Af[i],null,l)),a.value=u?JSON.stringify(u):i,document.querySelector("form#post").submit()}},children:"Create map"}):L(MW,{id:i,map:Af[i],file:`data-${i}.json`})]})]})},pO=({options:t,className:e,value:n,onChange:i})=>L("fieldset",{className:e||"flex flex-col gap-3",children:t.map(r=>L($W,{...r,active:n===r.value,onClick:o=>i(o)},r.value))}),$W=({text:t,value:e,png:n,active:i,onClick:r,detail:o})=>{const s=cl(l=>l.dir);return X("button",{className:An("flex overflow-hidden relative justify-between w-full items-center text-left bg-white border px-5 py-4 rounded-xl font-semibold disabled:bg-transparent disabled:text-gray-900 focus:outline-black focus:outline-2 transition-colors",{"ring-blue-500 ring-1 border-blue-500 bg-blue-50":i,"h-16":n}),onClick:l=>{l.preventDefault(),r(e)},children:[n&&L("img",{src:`${s}img/${n}.png`,srcSet:`${s}img/${n}2x.png 2x`,alt:t,className:"absolute -right-10 -bottom-10 scale-75"}),L("span",{className:"z-10",children:t}),o&&L("span",{className:"font-normal text-right",children:o})]})},AW=({label:t,placeholder:e="",onChange:n})=>{const i=cl(l=>l.dir),[r,o]=I.useState(""),s=l=>{if(typeof wp<"u"){const a=wp.media({title:"Select Image"});a.open(),a.on("select",()=>{const u=a.state().get("selection").first().toJSON();o(u.url),n(()=>u.sizes.full)})}l.preventDefault()};return X("label",{className:"flex flex-col gap-2",children:[L("span",{className:"text-sm font-semibold",children:t}),X("div",{className:"flex border bg-white border-gray-300 gap-1 p-1 px-1.5 items-center focus-within:outline outline-2 outline-primary rounded-xl",children:[L("div",{className:"h-9 w-9 shrink-0 rounded-lg overflow-hidden",children:L(OW,{className:"w-full h-full object-contain",src:r,placeholder:`${i}img/map-placeholder.png`})}),L("input",{className:"bg-transparent border-none shadow-none w-full p-2 outline-none",type:"text",value:r,placeholder:e,onChange:l=>{o(l.target.value),n({url:l.target.value})}}),X("button",{className:"btn btn-secondary btn-sm rounded-lg",onClick:s,children:["Upload",L(dF,{className:"opacity-50",size:16})]})]})]})},OW=({src:t,placeholder:e,...n})=>{const[i,r]=I.useState(!1);return I.useEffect(()=>{r(!1)},[t]),L("img",{src:i?e:t,onError:()=>r(!0),...n})},MW=({id:t,map:e,file:n})=>{const[i,r]=I.useState(!1);I.useEffect(()=>{const s=async a=>{try{return(await fetch(a,{method:"HEAD"})).status===200}catch{return null}};(async()=>{const a=await s(n);r(a)})()},[n]);const o=async()=>{try{await fetch("http://localhost:3000/mapplic-save",{mode:"no-cors",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(mO(t,e,n))}),r(!0)}catch(s){console.error(s)}};return t?L($i,{children:i?X("a",{className:"btn btn-lg btn-primary",href:`./?map=${n}`,children:["Open ",e==null?void 0:e.title]}):X("button",{className:"btn btn-lg",onClick:o,children:["Generate ",n]})}):L("button",{disabled:!0,className:"btn btn-lg btn-primary",children:"Open"})},LW=(t,e="Layer 1")=>{const n="layer1";return{settings:{mapWidth:(t==null?void 0:t.width)||1e3,mapHeight:(t==null?void 0:t.height)||800,zoom:!0,hoverTooltip:!0,maxZoom:3,layer:n,layerSwitcher:"top-right",resetButton:"bottom-right",zoomButtons:"bottom-right"},locations:[],layers:[{id:n,name:e,file:t.url}],breakpoints:[{name:"all-screens",below:9e3,container:600},{name:"mobile",below:480,container:400,portrait:!0}]}},mO=(t,e,n,i="")=>({target:n,settings:{mapWidth:e.width,mapHeight:e.height,padding:40,zoom:!0,hoverTooltip:!0,maxZoom:3,layer:t,layerSwitcher:"top-right",resetButton:"bottom-right",zoomButtons:"bottom-right",extent:e.extent,geo:!1},layers:[{id:t,name:e.title,file:`${i}assets/maps/world/${t.toUpperCase()}.svg`}],locations:[{id:"def",title:"Default values",style:"subdivision",sample:!0}],breakpoints:[{name:"all-screens",below:9e3,container:600},{name:"mobile",below:480,portrait:!0}],styles:[{class:"subdivision",svg:!0,marker:!1,"base-color":"#cfdbe9","hover-color":"#b1c6df","active-color":"#90afd5","active-stroke":"#3f6593"}]}),Iie="",Nie="",RW=K.lazy(()=>go(()=>Promise.resolve().then(()=>hte),void 0,pt&&pt.src||new URL("admin/mapplic-admin.js",document.baseURI).href)),PW=({json:t="data.json",...e})=>(cl(i=>i.initStore)(e),L(lW,{children:L(RV,{value:e.uploadField,children:L(DW,{json:t,action:e.action,saveMap:e.saveMap,newMap:e.newMap,title:e.title,state:e.state,dir:e.dir})})})),DW=({json:t,action:e,saveMap:n,newMap:i,title:r,dir:o,state:s=1})=>{const[l,a]=I.useState("desktop"),[u,c]=I.useState(0),h=(d=!0)=>c(f=>d?Math.abs(f)+1:-Math.abs(f)-1);return t==="new"||i?L(TW,{saveMap:n,dir:o}):X("div",{className:"mapplic-admin",children:[L(xW,{updateHistory:h,action:e,title:r,state:s}),X("div",{className:"mapplic-admin-main",children:[L(CW,{history:u,view:l,setView:a,saveMap:n}),L("div",{className:"mapplic-admin-content",children:L("div",{id:"map-container",className:l,children:L(I.Suspense,{fallback:L("div",{children:"Loading..."}),children:L(RW,{json:t})})})})]})]})},IW=new URLSearchParams(window.location.search),xu=document.getElementById("mapplic-builder"),NW=t=>t?JSON.parse(t):null;Mm.createRoot(xu).render(L(PW,{json:IW.get("map")||NW(xu.dataset.json)||void 0,saveMap:xu.dataset.save,newMap:xu.dataset.new,dir:xu.dataset.dir}));var fl={},Gb={},gO={exports:{}};(function(t,e){(function(){var n="ace",i=function(){return this}();!i&&typeof window<"u"&&(i=window);var r=function(c,h,d){if(typeof c!="string"){r.original?r.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(d=h),r.modules[c]||(r.payloads[c]=d,r.modules[c]=null)};r.modules={},r.payloads={};var o=function(c,h,d){if(typeof h=="string"){var f=a(c,h);if(f!=null)return d&&d(),f}else if(Object.prototype.toString.call(h)==="[object Array]"){for(var p=[],m=0,g=h.length;m<g;++m){var v=a(c,h[m]);if(v==null&&s.original)return;p.push(v)}return d&&d.apply(null,p)||!0}},s=function(c,h){var d=o("",c,h);return d==null&&s.original?s.original.apply(this,arguments):d},l=function(c,h){if(h.indexOf("!")!==-1){var d=h.split("!");return l(c,d[0])+"!"+l(c,d[1])}if(h.charAt(0)=="."){var f=c.split("/").slice(0,-1).join("/");for(h=f+"/"+h;h.indexOf(".")!==-1&&p!=h;){var p=h;h=h.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return h},a=function(c,h){h=l(c,h);var d=r.modules[h];if(!d){if(d=r.payloads[h],typeof d=="function"){var f={},p={id:h,uri:"",exports:f,packaged:!0},m=function(v,y){return o(h,v,y)},g=d(m,f,p);f=g||p.exports,r.modules[h]=f,delete r.payloads[h]}d=r.modules[h]=f||d}return d};function u(c){var h=i;c&&(i[c]||(i[c]={}),h=i[c]),(!h.define||!h.define.packaged)&&(r.original=h.define,h.define=r,h.define.packaged=!0),(!h.require||!h.require.packaged)&&(s.original=h.require,h.require=s,h.require.packaged=!0)}u(n)})(),ace.define("ace/lib/es6-shim",["require","exports","module"],function(n,i,r){function o(s,l,a){Object.defineProperty(s,l,{value:a,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||o(String.prototype,"startsWith",function(s,l){return l=l||0,this.lastIndexOf(s,l)===l}),String.prototype.endsWith||o(String.prototype,"endsWith",function(s,l){var a=this;(l===void 0||l>a.length)&&(l=a.length),l-=s.length;var u=a.indexOf(s,l);return u!==-1&&u===l}),String.prototype.repeat||o(String.prototype,"repeat",function(s){for(var l="",a=this;s>0;)s&1&&(l+=a),(s>>=1)&&(a+=a);return l}),String.prototype.includes||o(String.prototype,"includes",function(s,l){return this.indexOf(s,l)!=-1}),Object.assign||(Object.assign=function(s){if(s==null)throw new TypeError("Cannot convert undefined or null to object");for(var l=Object(s),a=1;a<arguments.length;a++){var u=arguments[a];u!=null&&Object.keys(u).forEach(function(c){l[c]=u[c]})}return l}),Object.values||(Object.values=function(s){return Object.keys(s).map(function(l){return s[l]})}),Array.prototype.find||o(Array.prototype,"find",function(s){for(var l=this.length,a=arguments[1],u=0;u<l;u++){var c=this[u];if(s.call(a,c,u,this))return c}}),Array.prototype.findIndex||o(Array.prototype,"findIndex",function(s){for(var l=this.length,a=arguments[1],u=0;u<l;u++){var c=this[u];if(s.call(a,c,u,this))return u}}),Array.prototype.includes||o(Array.prototype,"includes",function(s,l){return this.indexOf(s,l)!=-1}),Array.prototype.fill||o(Array.prototype,"fill",function(s){for(var l=this,a=l.length>>>0,u=arguments[1],c=u>>0,h=c<0?Math.max(a+c,0):Math.min(c,a),d=arguments[2],f=d===void 0?a:d>>0,p=f<0?Math.max(a+f,0):Math.min(f,a);h<p;)l[h]=s,h++;return l}),Array.of||o(Array,"of",function(){return Array.prototype.slice.call(arguments)})}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(n,i,r){n("./es6-shim")}),ace.define("ace/lib/deep_copy",["require","exports","module"],function(n,i,r){i.deepCopy=function o(s){if(typeof s!="object"||!s)return s;var l;if(Array.isArray(s)){l=[];for(var a=0;a<s.length;a++)l[a]=o(s[a]);return l}if(Object.prototype.toString.call(s)!=="[object Object]")return s;l={};for(var a in s)l[a]=o(s[a]);return l}}),ace.define("ace/lib/lang",["require","exports","module","ace/lib/deep_copy"],function(n,i,r){i.last=function(l){return l[l.length-1]},i.stringReverse=function(l){return l.split("").reverse().join("")},i.stringRepeat=function(l,a){for(var u="";a>0;)a&1&&(u+=l),(a>>=1)&&(l+=l);return u};var o=/^\s\s*/,s=/\s\s*$/;i.stringTrimLeft=function(l){return l.replace(o,"")},i.stringTrimRight=function(l){return l.replace(s,"")},i.copyObject=function(l){var a={};for(var u in l)a[u]=l[u];return a},i.copyArray=function(l){for(var a=[],u=0,c=l.length;u<c;u++)l[u]&&typeof l[u]=="object"?a[u]=this.copyObject(l[u]):a[u]=l[u];return a},i.deepCopy=n("./deep_copy").deepCopy,i.arrayToMap=function(l){for(var a={},u=0;u<l.length;u++)a[l[u]]=1;return a},i.createMap=function(l){var a=Object.create(null);for(var u in l)a[u]=l[u];return a},i.arrayRemove=function(l,a){for(var u=0;u<=l.length;u++)a===l[u]&&l.splice(u,1)},i.escapeRegExp=function(l){return l.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},i.escapeHTML=function(l){return(""+l).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},i.getMatchOffsets=function(l,a){var u=[];return l.replace(a,function(c){u.push({offset:arguments[arguments.length-2],length:c.length})}),u},i.deferredCall=function(l){var a=null,u=function(){a=null,l()},c=function(h){return c.cancel(),a=setTimeout(u,h||0),c};return c.schedule=c,c.call=function(){return this.cancel(),l(),c},c.cancel=function(){return clearTimeout(a),a=null,c},c.isPending=function(){return a},c},i.delayedCall=function(l,a){var u=null,c=function(){u=null,l()},h=function(d){u==null&&(u=setTimeout(c,d||a))};return h.delay=function(d){u&&clearTimeout(u),u=setTimeout(c,d||a)},h.schedule=h,h.call=function(){this.cancel(),l()},h.cancel=function(){u&&clearTimeout(u),u=null},h.isPending=function(){return u},h},i.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch{return!1}return!0},i.supportsUnicodeFlag=function(){try{new RegExp("^.$","u")}catch{return!1}return!0}}),ace.define("ace/lib/useragent",["require","exports","module"],function(n,i,r){i.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},i.getOS=function(){return i.isMac?i.OS.MAC:i.isLinux?i.OS.LINUX:i.OS.WINDOWS};var o=typeof navigator=="object"?navigator:{},s=(/mac|win|linux/i.exec(o.platform)||["other"])[0].toLowerCase(),l=o.userAgent||"",a=o.appName||"";i.isWin=s=="win",i.isMac=s=="mac",i.isLinux=s=="linux",i.isIE=a=="Microsoft Internet Explorer"||a.indexOf("MSAppHost")>=0?parseFloat((l.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((l.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),i.isOldIE=i.isIE&&i.isIE<9,i.isGecko=i.isMozilla=l.match(/ Gecko\/\d+/),i.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",i.isWebKit=parseFloat(l.split("WebKit/")[1])||void 0,i.isChrome=parseFloat(l.split(" Chrome/")[1])||void 0,i.isEdge=parseFloat(l.split(" Edge/")[1])||void 0,i.isAIR=l.indexOf("AdobeAIR")>=0,i.isAndroid=l.indexOf("Android")>=0,i.isChromeOS=l.indexOf(" CrOS ")>=0,i.isIOS=/iPad|iPhone|iPod/.test(l)&&!window.MSStream,i.isIOS&&(i.isMac=!0),i.isMobile=i.isIOS||i.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(n,i,r){var o=n("./useragent"),s="http://www.w3.org/1999/xhtml";i.buildDom=function d(f,p,m){if(typeof f=="string"&&f){var g=document.createTextNode(f);return p&&p.appendChild(g),g}if(!Array.isArray(f))return f&&f.appendChild&&p&&p.appendChild(f),f;if(typeof f[0]!="string"||!f[0]){for(var v=[],y=0;y<f.length;y++){var k=d(f[y],p,m);k&&v.push(k)}return v}var C=document.createElement(f[0]),T=f[1],_=1;T&&typeof T=="object"&&!Array.isArray(T)&&(_=2);for(var y=_;y<f.length;y++)d(f[y],C,m);return _==2&&Object.keys(T).forEach(function(E){var w=T[E];E==="class"?C.className=Array.isArray(w)?w.join(" "):w:typeof w=="function"||E=="value"||E[0]=="$"?C[E]=w:E==="ref"?m&&(m[w]=C):E==="style"?typeof w=="string"&&(C.style.cssText=w):w!=null&&C.setAttribute(E,w)}),p&&p.appendChild(C),C},i.getDocumentHead=function(d){return d||(d=document),d.head||d.getElementsByTagName("head")[0]||d.documentElement},i.createElement=function(d,f){return document.createElementNS?document.createElementNS(f||s,d):document.createElement(d)},i.removeChildren=function(d){d.innerHTML=""},i.createTextNode=function(d,f){var p=f?f.ownerDocument:document;return p.createTextNode(d)},i.createFragment=function(d){var f=d?d.ownerDocument:document;return f.createDocumentFragment()},i.hasCssClass=function(d,f){var p=(d.className+"").split(/\s+/g);return p.indexOf(f)!==-1},i.addCssClass=function(d,f){i.hasCssClass(d,f)||(d.className+=" "+f)},i.removeCssClass=function(d,f){for(var p=d.className.split(/\s+/g);;){var m=p.indexOf(f);if(m==-1)break;p.splice(m,1)}d.className=p.join(" ")},i.toggleCssClass=function(d,f){for(var p=d.className.split(/\s+/g),m=!0;;){var g=p.indexOf(f);if(g==-1)break;m=!1,p.splice(g,1)}return m&&p.push(f),d.className=p.join(" "),m},i.setCssClass=function(d,f,p){p?i.addCssClass(d,f):i.removeCssClass(d,f)},i.hasCssString=function(d,f){var p=0,m;if(f=f||document,m=f.querySelectorAll("style")){for(;p<m.length;)if(m[p++].id===d)return!0}},i.removeElementById=function(d,f){f=f||document,f.getElementById(d)&&f.getElementById(d).remove()};var l,a=[];i.useStrictCSP=function(d){l=d,d==!1?u():a||(a=[])};function u(){var d=a;a=null,d&&d.forEach(function(f){c(f[0],f[1])})}function c(d,f,p){if(!(typeof document>"u")){if(a){if(p)u();else if(p===!1)return a.push([d,f])}if(!l){var m=p;!p||!p.getRootNode?m=document:(m=p.getRootNode(),(!m||m==p)&&(m=document));var g=m.ownerDocument||m;if(f&&i.hasCssString(f,m))return null;f&&(d+=`
/*# sourceURL=ace/css/`+f+" */");var v=i.createElement("style");v.appendChild(g.createTextNode(d)),f&&(v.id=f),m==g&&(m=i.getDocumentHead(g)),m.insertBefore(v,m.firstChild)}}}if(i.importCssString=c,i.importCssStylsheet=function(d,f){i.buildDom(["link",{rel:"stylesheet",href:d}],i.getDocumentHead(f))},i.scrollbarWidth=function(d){var f=i.createElement("ace_inner");f.style.width="100%",f.style.minWidth="0px",f.style.height="200px",f.style.display="block";var p=i.createElement("ace_outer"),m=p.style;m.position="absolute",m.left="-10000px",m.overflow="hidden",m.width="200px",m.minWidth="0px",m.height="150px",m.display="block",p.appendChild(f);var g=d&&d.documentElement||document&&document.documentElement;if(!g)return 0;g.appendChild(p);var v=f.offsetWidth;m.overflow="scroll";var y=f.offsetWidth;return v===y&&(y=p.clientWidth),g.removeChild(p),v-y},i.computedStyle=function(d,f){return window.getComputedStyle(d,"")||{}},i.setStyle=function(d,f,p){d[f]!==p&&(d[f]=p)},i.HAS_CSS_ANIMATION=!1,i.HAS_CSS_TRANSFORMS=!1,i.HI_DPI=o.isWin?typeof window<"u"&&window.devicePixelRatio>=1.5:!0,o.isChromeOS&&(i.HI_DPI=!1),typeof document<"u"){var h=document.createElement("div");i.HI_DPI&&h.style.transform!==void 0&&(i.HAS_CSS_TRANSFORMS=!0),!o.isEdge&&typeof h.style.animationName<"u"&&(i.HAS_CSS_ANIMATION=!0),h=null}i.HAS_CSS_TRANSFORMS?i.translate=function(d,f,p){d.style.transform="translate("+Math.round(f)+"px, "+Math.round(p)+"px)"}:i.translate=function(d,f,p){d.style.top=Math.round(p)+"px",d.style.left=Math.round(f)+"px"}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(n,i,r){/*
* based on code from:
*
* @license RequireJS text 0.25.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
* Available via the MIT or new BSD license.
* see: http://github.com/jrburke/requirejs for details
*/var o=n("./dom");i.get=function(s,l){var a=new XMLHttpRequest;a.open("GET",s,!0),a.onreadystatechange=function(){a.readyState===4&&l(a.responseText)},a.send(null)},i.loadScript=function(s,l){var a=o.getDocumentHead(),u=document.createElement("script");u.src=s,a.appendChild(u),u.onload=u.onreadystatechange=function(c,h){(h||!u.readyState||u.readyState=="loaded"||u.readyState=="complete")&&(u=u.onload=u.onreadystatechange=null,h||l())}},i.qualifyURL=function(s){var l=document.createElement("a");return l.href=s,l.href}}),ace.define("ace/lib/oop",["require","exports","module"],function(n,i,r){i.inherits=function(o,s){o.super_=s,o.prototype=Object.create(s.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}})},i.mixin=function(o,s){for(var l in s)o[l]=s[l];return o},i.implement=function(o,s){i.mixin(o,s)}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(n,i,r){var o={},s=function(){this.propagationStopped=!0},l=function(){this.defaultPrevented=!0};o._emit=o._dispatchEvent=function(a,u){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var c=this._eventRegistry[a]||[],h=this._defaultHandlers[a];if(!(!c.length&&!h)){(typeof u!="object"||!u)&&(u={}),u.type||(u.type=a),u.stopPropagation||(u.stopPropagation=s),u.preventDefault||(u.preventDefault=l),c=c.slice();for(var d=0;d<c.length&&(c[d](u,this),!u.propagationStopped);d++);if(h&&!u.defaultPrevented)return h(u,this)}},o._signal=function(a,u){var c=(this._eventRegistry||{})[a];if(c){c=c.slice();for(var h=0;h<c.length;h++)c[h](u,this)}},o.once=function(a,u){var c=this;if(this.on(a,function h(){c.off(a,h),u.apply(null,arguments)}),!u)return new Promise(function(h){u=h})},o.setDefaultHandler=function(a,u){var c=this._defaultHandlers;if(c||(c=this._defaultHandlers={_disabled_:{}}),c[a]){var h=c[a],d=c._disabled_[a];d||(c._disabled_[a]=d=[]),d.push(h);var f=d.indexOf(u);f!=-1&&d.splice(f,1)}c[a]=u},o.removeDefaultHandler=function(a,u){var c=this._defaultHandlers;if(c){var h=c._disabled_[a];if(c[a]==u)h&&this.setDefaultHandler(a,h.pop());else if(h){var d=h.indexOf(u);d!=-1&&h.splice(d,1)}}},o.on=o.addEventListener=function(a,u,c){this._eventRegistry=this._eventRegistry||{};var h=this._eventRegistry[a];return h||(h=this._eventRegistry[a]=[]),h.indexOf(u)==-1&&h[c?"unshift":"push"](u),u},o.off=o.removeListener=o.removeEventListener=function(a,u){this._eventRegistry=this._eventRegistry||{};var c=this._eventRegistry[a];if(c){var h=c.indexOf(u);h!==-1&&c.splice(h,1)}},o.removeAllListeners=function(a){a||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[a]=void 0),this._defaultHandlers&&(this._defaultHandlers[a]=void 0)},i.EventEmitter=o}),ace.define("ace/lib/report_error",["require","exports","module"],function(n,i,r){i.reportError=function(s,l){var a=new Error(s);a.data=l,typeof console=="object"&&console.error&&console.error(a),setTimeout(function(){throw a})}}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/report_error"],function(n,i,r){"no use strict";var o=n("./oop"),s=n("./event_emitter").EventEmitter,l=n("./report_error").reportError,a={setOptions:function(d){Object.keys(d).forEach(function(f){this.setOption(f,d[f])},this)},getOptions:function(d){var f={};if(d)Array.isArray(d)||(f=d,d=Object.keys(f));else{var p=this.$options;d=Object.keys(p).filter(function(m){return!p[m].hidden})}return d.forEach(function(m){f[m]=this.getOption(m)},this),f},setOption:function(d,f){if(this["$"+d]!==f){var p=this.$options[d];if(!p)return u('misspelled option "'+d+'"');if(p.forwardTo)return this[p.forwardTo]&&this[p.forwardTo].setOption(d,f);p.handlesSet||(this["$"+d]=f),p&&p.set&&p.set.call(this,f)}},getOption:function(d){var f=this.$options[d];return f?f.forwardTo?this[f.forwardTo]&&this[f.forwardTo].getOption(d):f&&f.get?f.get.call(this):this["$"+d]:u('misspelled option "'+d+'"')}};function u(d){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}var c,h=function(){function d(){this.$defaultOptions={}}return d.prototype.defineOptions=function(f,p,m){return f.$options||(this.$defaultOptions[p]=f.$options={}),Object.keys(m).forEach(function(g){var v=m[g];typeof v=="string"&&(v={forwardTo:v}),v.name||(v.name=g),f.$options[v.name]=v,"initialValue"in v&&(f["$"+v.name]=v.initialValue)}),o.implement(f,a),this},d.prototype.resetOptions=function(f){Object.keys(f.$options).forEach(function(p){var m=f.$options[p];"value"in m&&f.setOption(p,m.value)})},d.prototype.setDefaultValue=function(f,p,m){if(!f){for(f in this.$defaultOptions)if(this.$defaultOptions[f][p])break;if(!this.$defaultOptions[f][p])return!1}var g=this.$defaultOptions[f]||(this.$defaultOptions[f]={});g[p]&&(g.forwardTo?this.setDefaultValue(g.forwardTo,p,m):g[p].value=m)},d.prototype.setDefaultValues=function(f,p){Object.keys(p).forEach(function(m){this.setDefaultValue(f,m,p[m])},this)},d.prototype.setMessages=function(f){c=f},d.prototype.nls=function(f,p){c&&!c[f]&&u("No message found for '"+f+"' in the provided messages, falling back to default English message.");var m=c&&c[f]||f;return p&&(m=m.replace(/\$(\$|[\d]+)/g,function(g,v){return v=="$"?"$":p[v]})),m},d}();h.prototype.warn=u,h.prototype.reportError=l,o.implement(h.prototype,s),i.AppConfig=h}),ace.define("ace/theme/textmate-css",["require","exports","module"],function(n,i,r){r.exports=`.ace-tm .ace_gutter {
  background: #f0f0f0;
  color: #333;
}

.ace-tm .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-tm .ace_fold {
    background-color: #6B72E6;
}

.ace-tm {
  background-color: #FFFFFF;
  color: black;
}

.ace-tm .ace_cursor {
  color: black;
}
        
.ace-tm .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-tm .ace_storage,
.ace-tm .ace_keyword {
  color: blue;
}

.ace-tm .ace_constant {
  color: rgb(197, 6, 11);
}

.ace-tm .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-tm .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-tm .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_invalid {
  background-color: rgba(255, 0, 0, 0.1);
  color: red;
}

.ace-tm .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-tm .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_support.ace_type,
.ace-tm .ace_support.ace_class {
  color: rgb(109, 121, 222);
}

.ace-tm .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-tm .ace_string {
  color: rgb(3, 106, 7);
}

.ace-tm .ace_comment {
  color: rgb(76, 136, 107);
}

.ace-tm .ace_comment.ace_doc {
  color: rgb(0, 102, 255);
}

.ace-tm .ace_comment.ace_doc.ace_tag {
  color: rgb(128, 159, 191);
}

.ace-tm .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-tm .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-tm .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-tm .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-tm .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-tm .ace_list {
  color:rgb(185, 6, 144);
}

.ace-tm .ace_meta.ace_tag {
  color:rgb(0, 22, 142);
}

.ace-tm .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-tm .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}
.ace-tm.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
.ace-tm .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-tm .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-tm .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-tm .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-tm .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-tm .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-tm .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-tm .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],function(n,i,r){i.isDark=!1,i.cssClass="ace-tm",i.cssText=n("./textmate-css"),i.$id="ace/theme/textmate";var o=n("../lib/dom");o.importCssString(i.cssText,i.cssClass,!1)}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(n,i,r){"no use strict";var o=n("./lib/lang"),s=n("./lib/net"),l=n("./lib/dom"),a=n("./lib/app_config").AppConfig;r.exports=i=new a;var u={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};i.get=function(f){if(!u.hasOwnProperty(f))throw new Error("Unknown config key: "+f);return u[f]},i.set=function(f,p){if(u.hasOwnProperty(f))u[f]=p;else if(this.setDefaultValue("",f,p)==!1)throw new Error("Unknown config key: "+f);f=="useStrictCSP"&&l.useStrictCSP(p)},i.all=function(){return o.copyObject(u)},i.$modes={},i.moduleUrl=function(f,p){if(u.$moduleUrls[f])return u.$moduleUrls[f];var m=f.split("/");p=p||m[m.length-2]||"";var g=p=="snippets"?"/":"-",v=m[m.length-1];if(p=="worker"&&g=="-"){var y=new RegExp("^"+p+"[\\-_]|[\\-_]"+p+"$","g");v=v.replace(y,"")}(!v||v==p)&&m.length>1&&(v=m[m.length-2]);var k=u[p+"Path"];return k==null?k=u.basePath:g=="/"&&(p=g=""),k&&k.slice(-1)!="/"&&(k+="/"),k+p+g+v+this.get("suffix")},i.setModuleUrl=function(f,p){return u.$moduleUrls[f]=p};var c=function(f,p){if(f==="ace/theme/textmate"||f==="./theme/textmate")return p(null,n("./theme/textmate"));if(h)return h(f,p);console.error("loader is not configured")},h;i.setLoader=function(f){h=f},i.dynamicModules=Object.create(null),i.$loading={},i.$loaded={},i.loadModule=function(f,p){var m,g;Array.isArray(f)&&(g=f[0],f=f[1]);var v=function(y){if(y&&!i.$loading[f])return p&&p(y);if(i.$loading[f]||(i.$loading[f]=[]),i.$loading[f].push(p),!(i.$loading[f].length>1)){var k=function(){c(f,function(C,T){T&&(i.$loaded[f]=T),i._emit("load.module",{name:f,module:T});var _=i.$loading[f];i.$loading[f]=null,_.forEach(function(E){E&&E(T)})})};if(!i.get("packaged"))return k();s.loadScript(i.moduleUrl(f,g),k),d()}};if(i.dynamicModules[f])i.dynamicModules[f]().then(function(y){y.default?v(y.default):v(y)});else{try{m=this.$require(f)}catch{}v(m||i.$loaded[f])}},i.$require=function(f){if(typeof r.require=="function"){var p="require";return r[p](f)}},i.setModuleLoader=function(f,p){i.dynamicModules[f]=p};var d=function(){!u.basePath&&!u.workerPath&&!u.modePath&&!u.themePath&&!Object.keys(u.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),d=function(){})};i.version="1.27.0"}),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(n,i,r){n("./lib/fixoldbrowsers");var o=n("./config");o.setLoader(function(u,c){n([u],function(h){c(null,h)})});var s=function(){return this||typeof window<"u"&&window}();r.exports=function(u){o.init=l,o.$require=n,u.require=n},l(!0);function l(u){if(!(!s||!s.document)){o.set("packaged",u||n.packaged||r.packaged||s.define&&(void 0).packaged);var c={},h="",d=document.currentScript||document._currentScript,f=d&&d.ownerDocument||document;d&&d.src&&(h=d.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var p=f.getElementsByTagName("script"),m=0;m<p.length;m++){var g=p[m],v=g.src||g.getAttribute("src");if(v){for(var y=g.attributes,k=0,C=y.length;k<C;k++){var T=y[k];T.name.indexOf("data-ace-")===0&&(c[a(T.name.replace(/^data-ace-/,""))]=T.value)}var _=v.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);_&&(h=_[1])}}h&&(c.base=c.base||h,c.packaged=!0),c.basePath=c.base,c.workerPath=c.workerPath||c.base,c.modePath=c.modePath||c.base,c.themePath=c.themePath||c.base,delete c.base;for(var E in c)typeof c[E]<"u"&&o.set(E,c[E])}}function a(u){return u.replace(/-(.)/g,function(c,h){return h.toUpperCase()})}}),ace.define("ace/range",["require","exports","module"],function(n,i,r){var o=function(l,a){return l.row-a.row||l.column-a.column},s=function(){function l(a,u,c,h){this.start={row:a,column:u},this.end={row:c,column:h}}return l.prototype.isEqual=function(a){return this.start.row===a.start.row&&this.end.row===a.end.row&&this.start.column===a.start.column&&this.end.column===a.end.column},l.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},l.prototype.contains=function(a,u){return this.compare(a,u)==0},l.prototype.compareRange=function(a){var u,c=a.end,h=a.start;return u=this.compare(c.row,c.column),u==1?(u=this.compare(h.row,h.column),u==1?2:u==0?1:0):u==-1?-2:(u=this.compare(h.row,h.column),u==-1?-1:u==1?42:0)},l.prototype.comparePoint=function(a){return this.compare(a.row,a.column)},l.prototype.containsRange=function(a){return this.comparePoint(a.start)==0&&this.comparePoint(a.end)==0},l.prototype.intersects=function(a){var u=this.compareRange(a);return u==-1||u==0||u==1},l.prototype.isEnd=function(a,u){return this.end.row==a&&this.end.column==u},l.prototype.isStart=function(a,u){return this.start.row==a&&this.start.column==u},l.prototype.setStart=function(a,u){typeof a=="object"?(this.start.column=a.column,this.start.row=a.row):(this.start.row=a,this.start.column=u)},l.prototype.setEnd=function(a,u){typeof a=="object"?(this.end.column=a.column,this.end.row=a.row):(this.end.row=a,this.end.column=u)},l.prototype.inside=function(a,u){return this.compare(a,u)==0?!(this.isEnd(a,u)||this.isStart(a,u)):!1},l.prototype.insideStart=function(a,u){return this.compare(a,u)==0?!this.isEnd(a,u):!1},l.prototype.insideEnd=function(a,u){return this.compare(a,u)==0?!this.isStart(a,u):!1},l.prototype.compare=function(a,u){return!this.isMultiLine()&&a===this.start.row?u<this.start.column?-1:u>this.end.column?1:0:a<this.start.row?-1:a>this.end.row?1:this.start.row===a?u>=this.start.column?0:-1:this.end.row===a?u<=this.end.column?0:1:0},l.prototype.compareStart=function(a,u){return this.start.row==a&&this.start.column==u?-1:this.compare(a,u)},l.prototype.compareEnd=function(a,u){return this.end.row==a&&this.end.column==u?1:this.compare(a,u)},l.prototype.compareInside=function(a,u){return this.end.row==a&&this.end.column==u?1:this.start.row==a&&this.start.column==u?-1:this.compare(a,u)},l.prototype.clipRows=function(a,u){if(this.end.row>u)var c={row:u+1,column:0};else if(this.end.row<a)var c={row:a,column:0};if(this.start.row>u)var h={row:u+1,column:0};else if(this.start.row<a)var h={row:a,column:0};return l.fromPoints(h||this.start,c||this.end)},l.prototype.extend=function(a,u){var c=this.compare(a,u);if(c==0)return this;if(c==-1)var h={row:a,column:u};else var d={row:a,column:u};return l.fromPoints(h||this.start,d||this.end)},l.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},l.prototype.isMultiLine=function(){return this.start.row!==this.end.row},l.prototype.clone=function(){return l.fromPoints(this.start,this.end)},l.prototype.collapseRows=function(){return this.end.column==0?new l(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new l(this.start.row,0,this.end.row,0)},l.prototype.toScreenRange=function(a){var u=a.documentToScreenPosition(this.start),c=a.documentToScreenPosition(this.end);return new l(u.row,u.column,c.row,c.column)},l.prototype.moveBy=function(a,u){this.start.row+=a,this.start.column+=u,this.end.row+=a,this.end.column+=u},l}();s.fromPoints=function(l,a){return new s(l.row,l.column,a.row,a.column)},s.comparePoints=o,s.comparePoints=function(l,a){return l.row-a.row||l.column-a.column},i.Range=s}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(n,i,r){/*! @license
    	==========================================================================
    	SproutCore -- JavaScript Application Framework
    	copyright 2006-2009, Sprout Systems Inc., Apple Inc. and contributors.

    	Permission is hereby granted, free of charge, to any person obtaining a
    	copy of this software and associated documentation files (the "Software"),
    	to deal in the Software without restriction, including without limitation
    	the rights to use, copy, modify, merge, publish, distribute, sublicense,
    	and/or sell copies of the Software, and to permit persons to whom the
    	Software is furnished to do so, subject to the following conditions:

    	The above copyright notice and this permission notice shall be included in
    	all copies or substantial portions of the Software.

    	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
    	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
    	FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
    	AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
    	LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
    	FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
    	DEALINGS IN THE SOFTWARE.

    	SproutCore and the SproutCore logo are trademarks of Sprout Systems, Inc.

    	For more information about SproutCore, visit http://www.sproutcore.com


    	==========================================================================
    	@license */var o=n("./oop"),s=function(){var l={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};l.PRINTABLE_KEYS[173]="-";var a,u;for(u in l.FUNCTION_KEYS)a=l.FUNCTION_KEYS[u].toLowerCase(),l[a]=parseInt(u,10);for(u in l.PRINTABLE_KEYS)a=l.PRINTABLE_KEYS[u].toLowerCase(),l[a]=parseInt(u,10);return o.mixin(l,l.MODIFIER_KEYS),o.mixin(l,l.PRINTABLE_KEYS),o.mixin(l,l.FUNCTION_KEYS),l.enter=l.return,l.escape=l.esc,l.del=l.delete,function(){for(var c=["cmd","ctrl","alt","shift"],h=Math.pow(2,c.length);h--;)l.KEY_MODS[h]=c.filter(function(d){return h&l.KEY_MODS[d]}).join("-")+"-"}(),l.KEY_MODS[0]="",l.KEY_MODS[-1]="input-",l}();o.mixin(i,s),i.default=i,i.keyCodeToString=function(l){var a=s[l];return typeof a!="string"&&(a=String.fromCharCode(l)),a.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(n,i,r){var o=n("./keys"),s=n("./useragent"),l=null,a=0,u;function c(){u=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){u={passive:!1}}})}catch{}}function h(){return u==null&&c(),u}function d(k,C,T){this.elem=k,this.type=C,this.callback=T}d.prototype.destroy=function(){p(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var f=i.addListener=function(k,C,T,_){k.addEventListener(C,T,h()),_&&_.$toDestroy.push(new d(k,C,T))},p=i.removeListener=function(k,C,T){k.removeEventListener(C,T,h())};i.stopEvent=function(k){return i.stopPropagation(k),i.preventDefault(k),!1},i.stopPropagation=function(k){k.stopPropagation&&k.stopPropagation()},i.preventDefault=function(k){k.preventDefault&&k.preventDefault()},i.getButton=function(k){return k.type=="dblclick"?0:k.type=="contextmenu"||s.isMac&&k.ctrlKey&&!k.altKey&&!k.shiftKey?2:k.button},i.capture=function(k,C,T){var _=k&&k.ownerDocument||document;function E(w){C&&C(w),T&&T(w),p(_,"mousemove",C),p(_,"mouseup",E),p(_,"dragstart",E)}return f(_,"mousemove",C),f(_,"mouseup",E),f(_,"dragstart",E),E},i.addMouseWheelListener=function(k,C,T){f(k,"wheel",function(_){var E=.15,w=_.deltaX||0,S=_.deltaY||0;switch(_.deltaMode){case _.DOM_DELTA_PIXEL:_.wheelX=w*E,_.wheelY=S*E;break;case _.DOM_DELTA_LINE:var b=15;_.wheelX=w*b,_.wheelY=S*b;break;case _.DOM_DELTA_PAGE:var x=150;_.wheelX=w*x,_.wheelY=S*x;break}C(_)},T)},i.addMultiMouseDownListener=function(k,C,T,_,E){var w=0,S,b,x,A={2:"dblclick",3:"tripleclick",4:"quadclick"};function O($){if(i.getButton($)!==0?w=0:$.detail>1?(w++,w>4&&(w=1)):w=1,s.isIE){var M=Math.abs($.clientX-S)>5||Math.abs($.clientY-b)>5;(!x||M)&&(w=1),x&&clearTimeout(x),x=setTimeout(function(){x=null},C[w-1]||600),w==1&&(S=$.clientX,b=$.clientY)}if($._clicks=w,T[_]("mousedown",$),w>4)w=0;else if(w>1)return T[_](A[w],$)}Array.isArray(k)||(k=[k]),k.forEach(function($){f($,"mousedown",O,E)})};var m=function(k){return 0|(k.ctrlKey?1:0)|(k.altKey?2:0)|(k.shiftKey?4:0)|(k.metaKey?8:0)};i.getModifierString=function(k){return o.KEY_MODS[m(k)]};function g(k,C,T){var _=m(C);if(!s.isMac&&l){if(C.getModifierState&&(C.getModifierState("OS")||C.getModifierState("Win"))&&(_|=8),l.altGr)if((3&_)!=3)l.altGr=0;else return;if(T===18||T===17){var E="location"in C?C.location:C.keyLocation;if(T===17&&E===1)l[T]==1&&(a=C.timeStamp);else if(T===18&&_===3&&E===2){var w=C.timeStamp-a;w<50&&(l.altGr=!0)}}}if(T in o.MODIFIER_KEYS&&(T=-1),!_&&T===13){var E="location"in C?C.location:C.keyLocation;if(E===3&&(k(C,_,-T),C.defaultPrevented))return}if(s.isChromeOS&&_&8){if(k(C,_,T),C.defaultPrevented)return;_&=-9}return!_&&!(T in o.FUNCTION_KEYS)&&!(T in o.PRINTABLE_KEYS)?!1:k(C,_,T)}i.addCommandKeyListener=function(k,C,T){if(s.isOldGecko||s.isOpera&&!("KeyboardEvent"in window)){var _=null;f(k,"keydown",function(w){_=w.keyCode},T),f(k,"keypress",function(w){return g(C,w,_)},T)}else{var E=null;f(k,"keydown",function(w){l[w.keyCode]=(l[w.keyCode]||0)+1;var S=g(C,w,w.keyCode);return E=w.defaultPrevented,S},T),f(k,"keypress",function(w){E&&(w.ctrlKey||w.altKey||w.shiftKey||w.metaKey)&&(i.stopEvent(w),E=null)},T),f(k,"keyup",function(w){l[w.keyCode]=null},T),l||(v(),f(window,"focus",v))}};function v(){l=Object.create(null)}if(typeof window=="object"&&window.postMessage&&!s.isOldIE){var y=1;i.nextTick=function(k,C){C=C||window;var T="zero-timeout-message-"+y++,_=function(E){E.data==T&&(i.stopPropagation(E),p(C,"message",_),k())};f(C,"message",_),C.postMessage(T,"*")}}i.$idleBlocked=!1,i.onIdle=function(k,C){return setTimeout(function T(){i.$idleBlocked?setTimeout(T,100):k()},C)},i.$idleBlockId=null,i.blockIdle=function(k){i.$idleBlockId&&clearTimeout(i.$idleBlockId),i.$idleBlocked=!0,i.$idleBlockId=setTimeout(function(){i.$idleBlocked=!1},k||100)},i.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),i.nextFrame?i.nextFrame=i.nextFrame.bind(window):i.nextFrame=function(k){setTimeout(k,17)}}),ace.define("ace/clipboard",["require","exports","module"],function(n,i,r){var o;r.exports={lineMode:!1,pasteCancelled:function(){return o&&o>Date.now()-50?!0:o=!1},cancel:function(){o=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(n,i,r){var o=n("../lib/event"),s=n("../config").nls,l=n("../lib/useragent"),a=n("../lib/dom"),u=n("../lib/lang"),c=n("../clipboard"),h=l.isChrome<18,d=l.isIE,f=l.isChrome>63,p=400,m=n("../lib/keys"),g=m.KEY_MODS,v=l.isIOS,y=v?/\s/:/\n/,k=l.isMobile,C=function(T,_){var E=a.createElement("textarea");E.className="ace_text-input",E.setAttribute("wrap","off"),E.setAttribute("autocorrect","off"),E.setAttribute("autocapitalize","off"),E.setAttribute("spellcheck",!1),E.style.opacity="0",T.insertBefore(E,T.firstChild);var w=!1,S=!1,b=!1,x=!1,A="";k||(E.style.fontSize="1px");var O=!1,$=!1,M="",R=0,P=0,N=0,D=Number.MAX_SAFE_INTEGER,V=Number.MIN_SAFE_INTEGER,z=0;try{var F=document.activeElement===E}catch{}this.setNumberOfExtraLines=function(te){if(D=Number.MAX_SAFE_INTEGER,V=Number.MIN_SAFE_INTEGER,te<0){z=0;return}z=te},this.setAriaOptions=function(te){if(te.activeDescendant?(E.setAttribute("aria-haspopup","true"),E.setAttribute("aria-autocomplete",te.inline?"both":"list"),E.setAttribute("aria-activedescendant",te.activeDescendant)):(E.setAttribute("aria-haspopup","false"),E.setAttribute("aria-autocomplete","both"),E.removeAttribute("aria-activedescendant")),te.role&&E.setAttribute("role",te.role),te.setLabel&&(E.setAttribute("aria-roledescription",s("editor")),_.session)){var le=_.session.selection.cursor.row;E.setAttribute("aria-label",s("Cursor at row $0",[le+1]))}},this.setAriaOptions({role:"textbox"}),o.addListener(E,"blur",function(te){$||(_.onBlur(te),F=!1)},_),o.addListener(E,"focus",function(te){if(!$){if(F=!0,l.isEdge)try{if(!document.hasFocus())return}catch{}_.onFocus(te),l.isEdge?setTimeout(j):j()}},_),this.$focusScroll=!1,this.focus=function(){if(this.setAriaOptions({setLabel:_.renderer.enableKeyboardAccessibility}),A||f||this.$focusScroll=="browser")return E.focus({preventScroll:!0});var te=E.style.top;E.style.position="fixed",E.style.top="0px";try{var le=E.getBoundingClientRect().top!=0}catch{return}var pe=[];if(le)for(var ke=E.parentElement;ke&&ke.nodeType==1;)pe.push(ke),ke.setAttribute("ace_nocontext",!0),!ke.parentElement&&ke.getRootNode?ke=ke.getRootNode().host:ke=ke.parentElement;E.focus({preventScroll:!0}),le&&pe.forEach(function(Se){Se.removeAttribute("ace_nocontext")}),setTimeout(function(){E.style.position="",E.style.top=="0px"&&(E.style.top=te)},0)},this.blur=function(){E.blur()},this.isFocused=function(){return F},_.on("beforeEndOperation",function(){var te=_.curOp,le=te&&te.command&&te.command.name;if(le!="insertstring"){var pe=le&&(te.docChanged||te.selectionChanged);b&&pe&&(M=E.value="",Ke()),j()}});var B=function(te,le){for(var pe=le,ke=1;ke<=te-D&&ke<2*z+1;ke++)pe+=_.session.getLine(te-ke).length+1;return pe},j=v?function(te){if(!(!F||w&&!te||x)){te||(te="");var le=`
 ab`+te+`cde fg
`;le!=E.value&&(E.value=M=le);var pe=4,ke=4+(te.length||(_.selection.isEmpty()?0:1));(R!=pe||P!=ke)&&E.setSelectionRange(pe,ke),R=pe,P=ke}}:function(){if(!(b||x)&&!(!F&&!J)){b=!0;var te=0,le=0,pe="";if(_.session){var ke=_.selection,Se=ke.getRange(),Fe=ke.cursor.row;Fe===V+1?(D=V+1,V=D+2*z):Fe===D-1?(V=D-1,D=V-2*z):(Fe<D-1||Fe>V+1)&&(D=Fe>z?Fe-z:0,V=Fe>z?Fe+z:2*z);for(var Pe=[],qe=D;qe<=V;qe++)Pe.push(_.session.getLine(qe));if(pe=Pe.join(`
`),te=B(Se.start.row,Se.start.column),le=B(Se.end.row,Se.end.column),Se.start.row<D){var Te=_.session.getLine(D-1);te=Se.start.row<D-1?0:te,le+=Te.length+1,pe=Te+`
`+pe}else if(Se.end.row>V){var He=_.session.getLine(V+1);le=Se.end.row>V+1?He.length:Se.end.column,le+=pe.length+1,pe=pe+`
`+He}else k&&Fe>0&&(pe=`
`+pe,le+=1,te+=1);pe.length>p&&(te<p&&le<p?pe=pe.slice(0,p):(pe=`
`,te==le?te=le=0:(te=0,le=1)));var dt=pe+`

`;dt!=M&&(E.value=M=dt,R=P=dt.length)}if(J&&(R=E.selectionStart,P=E.selectionEnd),P!=le||R!=te||E.selectionEnd!=P)try{E.setSelectionRange(te,le),R=te,P=le}catch{}b=!1}};this.resetSelection=j,F&&_.onFocus();var H=function(te){return te.selectionStart===0&&te.selectionEnd>=M.length&&te.value===M&&M&&te.selectionEnd!==P},G=function(te){b||(w?w=!1:H(E)?(_.selectAll(),j()):k&&E.selectionStart!=R&&j())},Q=null;this.setInputHandler=function(te){Q=te},this.getInputHandler=function(){return Q};var J=!1,Y=function(te,le){if(J&&(J=!1),S)return j(),te&&_.onPaste(te),S=!1,"";for(var pe=E.selectionStart,ke=E.selectionEnd,Se=R,Fe=M.length-P,Pe=te,qe=te.length-pe,Te=te.length-ke,He=0;Se>0&&M[He]==te[He];)He++,Se--;for(Pe=Pe.slice(He),He=1;Fe>0&&M.length-He>R-1&&M[M.length-He]==te[te.length-He];)He++,Fe--;qe-=He-1,Te-=He-1;var dt=Pe.length-He+1;if(dt<0&&(Se=-dt,dt=0),Pe=Pe.slice(0,dt),!le&&!Pe&&!qe&&!Se&&!Fe&&!Te)return"";x=!0;var ts=!1;return l.isAndroid&&Pe==". "&&(Pe="  ",ts=!0),Pe&&!Se&&!Fe&&!qe&&!Te||O?_.onTextInput(Pe):_.onTextInput(Pe,{extendLeft:Se,extendRight:Fe,restoreStart:qe,restoreEnd:Te}),x=!1,M=te,R=pe,P=ke,N=Te,ts?`
`:Pe},ee=function(te){if(b)return Xe();if(te&&te.inputType){if(te.inputType=="historyUndo")return _.execCommand("undo");if(te.inputType=="historyRedo")return _.execCommand("redo")}var le=E.value,pe=Y(le,!0);(le.length>p+100||y.test(pe)||k&&R<1&&R==P)&&j()},ne=function(te,le,pe){var ke=te.clipboardData||window.clipboardData;if(!(!ke||h)){var Se=d||pe?"Text":"text/plain";try{return le?ke.setData(Se,le)!==!1:ke.getData(Se)}catch(Fe){if(!pe)return ne(Fe,le,!0)}}},ce=function(te,le){var pe=_.getCopyText();if(!pe)return o.preventDefault(te);ne(te,pe)?(v&&(j(pe),w=pe,setTimeout(function(){w=!1},10)),le?_.onCut():_.onCopy(),o.preventDefault(te)):(w=!0,E.value=pe,E.select(),setTimeout(function(){w=!1,j(),le?_.onCut():_.onCopy()}))},ue=function(te){ce(te,!0)},we=function(te){ce(te,!1)},he=function(te){var le=ne(te);c.pasteCancelled()||(typeof le=="string"?(le&&_.onPaste(le,te),l.isIE&&setTimeout(j),o.preventDefault(te)):(E.value="",S=!0))};o.addCommandKeyListener(E,_.onCommandKey.bind(_),_),o.addListener(E,"select",G,_),o.addListener(E,"input",ee,_),o.addListener(E,"cut",ue,_),o.addListener(E,"copy",we,_),o.addListener(E,"paste",he,_),(!("oncut"in E)||!("oncopy"in E)||!("onpaste"in E))&&o.addListener(T,"keydown",function(te){if(!(l.isMac&&!te.metaKey||!te.ctrlKey))switch(te.keyCode){case 67:we(te);break;case 86:he(te);break;case 88:ue(te);break}},_);var fe=function(te){if(!(b||!_.onCompositionStart||_.$readOnly)&&(b={},!O)){te.data&&(b.useTextareaForIME=!1),setTimeout(Xe,0),_._signal("compositionStart"),_.on("mousedown",Je);var le=_.getSelectionRange();le.end.row=le.start.row,le.end.column=le.start.column,b.markerRange=le,b.selectionStart=R,_.onCompositionStart(b),b.useTextareaForIME?(M=E.value="",R=0,P=0):(E.msGetInputContext&&(b.context=E.msGetInputContext()),E.getInputContext&&(b.context=E.getInputContext()))}},Xe=function(){if(!(!b||!_.onCompositionUpdate||_.$readOnly)){if(O)return Je();if(b.useTextareaForIME)_.onCompositionUpdate(E.value);else{var te=E.value;Y(te),b.markerRange&&(b.context&&(b.markerRange.start.column=b.selectionStart=b.context.compositionStartOffset),b.markerRange.end.column=b.markerRange.start.column+P-b.selectionStart+N)}}},Ke=function(te){!_.onCompositionEnd||_.$readOnly||(b=!1,_.onCompositionEnd(),_.off("mousedown",Je),te&&ee())};function Je(){$=!0,E.blur(),E.focus(),$=!1}var tt=u.delayedCall(Xe,50).schedule.bind(null,null);function nt(te){te.keyCode==27&&E.value.length<E.selectionStart&&(b||(M=E.value),R=P=-1,j()),tt()}o.addListener(E,"compositionstart",fe,_),o.addListener(E,"compositionupdate",Xe,_),o.addListener(E,"keyup",nt,_),o.addListener(E,"keydown",tt,_),o.addListener(E,"compositionend",Ke,_),this.getElement=function(){return E},this.setCommandMode=function(te){O=te,E.readOnly=!1},this.setReadOnly=function(te){O||(E.readOnly=te)},this.setCopyWithEmptySelection=function(te){},this.onContextMenu=function(te){J=!0,j(),_._emit("nativecontextmenu",{target:_,domEvent:te}),this.moveToMouse(te,!0)},this.moveToMouse=function(te,le){A||(A=E.style.cssText),E.style.cssText=(le?"z-index:100000;":"")+(l.isIE?"opacity:0.1;":"")+"text-indent: -"+(R+P)*_.renderer.characterWidth*.5+"px;";var pe=_.container.getBoundingClientRect(),ke=a.computedStyle(_.container),Se=pe.top+(parseInt(ke.borderTopWidth)||0),Fe=pe.left+(parseInt(pe.borderLeftWidth)||0),Pe=pe.bottom-Se-E.clientHeight-2,qe=function(Te){a.translate(E,Te.clientX-Fe-2,Math.min(Te.clientY-Se-2,Pe))};qe(te),te.type=="mousedown"&&(_.renderer.$isMousePressed=!0,clearTimeout(Ee),l.isWin&&o.capture(_.container,qe,De))},this.onContextMenuClose=De;var Ee;function De(){clearTimeout(Ee),Ee=setTimeout(function(){A&&(E.style.cssText=A,A=""),_.renderer.$isMousePressed=!1,_.renderer.$keepTextAreaAtCursor&&_.renderer.$moveTextAreaToCursor()},0)}var Dt=function(te){_.textInput.onContextMenu(te),De()};o.addListener(E,"mouseup",Dt,_),o.addListener(E,"mousedown",function(te){te.preventDefault(),De()},_),o.addListener(_.renderer.scroller,"contextmenu",Dt,_),o.addListener(E,"contextmenu",Dt,_),v&&_e(T,_,E);function _e(te,le,pe){var ke=null,Se=!1;pe.addEventListener("keydown",function(Pe){ke&&clearTimeout(ke),Se=!0},!0),pe.addEventListener("keyup",function(Pe){ke=setTimeout(function(){Se=!1},100)},!0);var Fe=function(Pe){if(document.activeElement===pe&&!(Se||b||le.$mouseHandler.isMousePressed)&&!w){var qe=pe.selectionStart,Te=pe.selectionEnd,He=null,dt=0;if(qe==0?He=m.up:qe==1?He=m.home:Te>P&&M[Te]==`
`?He=m.end:qe<R&&M[qe-1]==" "?(He=m.left,dt=g.option):qe<R||qe==R&&P!=R&&qe==Te?He=m.left:Te>P&&M.slice(0,Te).split(`
`).length>2?He=m.down:Te>P&&M[Te-1]==" "?(He=m.right,dt=g.option):(Te>P||Te==P&&P!=R&&qe==Te)&&(He=m.right),qe!==Te&&(dt|=g.shift),He){var ts=le.onCommandKey({},dt,He);if(!ts&&le.commands){He=m.keyCodeToString(He);var ym=le.commands.findKeyCommand(dt,He);ym&&le.execCommand(ym)}R=qe,P=Te,j("")}}};document.addEventListener("selectionchange",Fe),le.on("destroy",function(){document.removeEventListener("selectionchange",Fe)})}this.destroy=function(){E.parentElement&&E.parentElement.removeChild(E)}};i.TextInput=C,i.$setUserAgentForTests=function(T,_){k=T,v=_}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(n,i,r){var o=n("../lib/useragent"),s=0,l=550,a=function(){function h(d){d.$clickSelection=null;var f=d.editor;f.setDefaultHandler("mousedown",this.onMouseDown.bind(d)),f.setDefaultHandler("dblclick",this.onDoubleClick.bind(d)),f.setDefaultHandler("tripleclick",this.onTripleClick.bind(d)),f.setDefaultHandler("quadclick",this.onQuadClick.bind(d)),f.setDefaultHandler("mousewheel",this.onMouseWheel.bind(d));var p=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];p.forEach(function(m){d[m]=this[m]},this),d.selectByLines=this.extendSelectionBy.bind(d,"getLineRange"),d.selectByWords=this.extendSelectionBy.bind(d,"getWordRange")}return h.prototype.onMouseDown=function(d){var f=d.inSelection(),p=d.getDocumentPosition();this.mousedownEvent=d;var m=this.editor,g=d.getButton();if(g!==0){var v=m.getSelectionRange(),y=v.isEmpty();(y||g==1)&&m.selection.moveToPosition(p),g==2&&(m.textInput.onContextMenu(d.domEvent),o.isMozilla||d.preventDefault());return}if(this.mousedownEvent.time=Date.now(),f&&!m.isFocused()&&(m.focus(),this.$focusTimeout&&!this.$clickSelection&&!m.inMultiSelectMode)){this.setState("focusWait"),this.captureMouse(d);return}return this.captureMouse(d),this.startSelect(p,d.domEvent._clicks>1),d.preventDefault()},h.prototype.startSelect=function(d,f){d=d||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var p=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?p.selection.selectToPosition(d):f||p.selection.moveToPosition(d),f||this.select(),p.setStyle("ace_selecting"),this.setState("select"))},h.prototype.select=function(){var d,f=this.editor,p=f.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var m=this.$clickSelection.comparePoint(p);if(m==-1)d=this.$clickSelection.end;else if(m==1)d=this.$clickSelection.start;else{var g=c(this.$clickSelection,p);p=g.cursor,d=g.anchor}f.selection.setSelectionAnchor(d.row,d.column)}f.selection.selectToPosition(p),f.renderer.scrollCursorIntoView()},h.prototype.extendSelectionBy=function(d){var f,p=this.editor,m=p.renderer.screenToTextCoordinates(this.x,this.y),g=p.selection[d](m.row,m.column);if(this.$clickSelection){var v=this.$clickSelection.comparePoint(g.start),y=this.$clickSelection.comparePoint(g.end);if(v==-1&&y<=0)f=this.$clickSelection.end,(g.end.row!=m.row||g.end.column!=m.column)&&(m=g.start);else if(y==1&&v>=0)f=this.$clickSelection.start,(g.start.row!=m.row||g.start.column!=m.column)&&(m=g.end);else if(v==-1&&y==1)m=g.end,f=g.start;else{var k=c(this.$clickSelection,m);m=k.cursor,f=k.anchor}p.selection.setSelectionAnchor(f.row,f.column)}p.selection.selectToPosition(m),p.renderer.scrollCursorIntoView()},h.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},h.prototype.focusWait=function(){var d=u(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),f=Date.now();(d>s||f-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},h.prototype.onDoubleClick=function(d){var f=d.getDocumentPosition(),p=this.editor,m=p.session,g=m.getBracketRange(f);g?(g.isEmpty()&&(g.start.column--,g.end.column++),this.setState("select")):(g=p.selection.getWordRange(f.row,f.column),this.setState("selectByWords")),this.$clickSelection=g,this.select()},h.prototype.onTripleClick=function(d){var f=d.getDocumentPosition(),p=this.editor;this.setState("selectByLines");var m=p.getSelectionRange();m.isMultiLine()&&m.contains(f.row,f.column)?(this.$clickSelection=p.selection.getLineRange(m.start.row),this.$clickSelection.end=p.selection.getLineRange(m.end.row).end):this.$clickSelection=p.selection.getLineRange(f.row),this.select()},h.prototype.onQuadClick=function(d){var f=this.editor;f.selectAll(),this.$clickSelection=f.getSelectionRange(),this.setState("selectAll")},h.prototype.onMouseWheel=function(d){if(!d.getAccelKey()){d.getShiftKey()&&d.wheelY&&!d.wheelX&&(d.wheelX=d.wheelY,d.wheelY=0);var f=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var p=this.$lastScroll,m=d.domEvent.timeStamp,g=m-p.t,v=g?d.wheelX/g:p.vx,y=g?d.wheelY/g:p.vy;g<l&&(v=(v+p.vx)/2,y=(y+p.vy)/2);var k=Math.abs(v/y),C=!1;if(k>=1&&f.renderer.isScrollableBy(d.wheelX*d.speed,0)&&(C=!0),k<=1&&f.renderer.isScrollableBy(0,d.wheelY*d.speed)&&(C=!0),C)p.allowed=m;else if(m-p.allowed<l){var T=Math.abs(v)<=1.5*Math.abs(p.vx)&&Math.abs(y)<=1.5*Math.abs(p.vy);T?(C=!0,p.allowed=m):p.allowed=0}if(p.t=m,p.vx=v,p.vy=y,C)return f.renderer.scrollBy(d.wheelX*d.speed,d.wheelY*d.speed),d.stop()}},h}();a.prototype.selectEnd=a.prototype.selectByLinesEnd,a.prototype.selectAllEnd=a.prototype.selectByLinesEnd,a.prototype.selectByWordsEnd=a.prototype.selectByLinesEnd,i.DefaultHandlers=a;function u(h,d,f,p){return Math.sqrt(Math.pow(f-h,2)+Math.pow(p-d,2))}function c(h,d){if(h.start.row==h.end.row)var f=2*d.column-h.start.column-h.end.column;else if(h.start.row==h.end.row-1&&!h.start.column&&!h.end.column)var f=d.column-4;else var f=2*d.row-h.start.row-h.end.row;return f<0?{cursor:h.start,anchor:h.end}:{cursor:h.end,anchor:h.start}}}),ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/range"],function(n,i,r){var o=this&&this.__extends||function(){var p=function(m,g){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var k in y)Object.prototype.hasOwnProperty.call(y,k)&&(v[k]=y[k])},p(m,g)};return function(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");p(m,g);function v(){this.constructor=m}m.prototype=g===null?Object.create(g):(v.prototype=g.prototype,new v)}}(),s=this&&this.__values||function(p){var m=typeof Symbol=="function"&&Symbol.iterator,g=m&&p[m],v=0;if(g)return g.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&v>=p.length&&(p=void 0),{value:p&&p[v++],done:!p}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.")},l=n("./lib/dom"),a=n("./range").Range,u="ace_tooltip",c=function(){function p(m){this.isOpen=!1,this.$element=null,this.$parentNode=m}return p.prototype.$init=function(){return this.$element=l.createElement("div"),this.$element.className=u,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},p.prototype.getElement=function(){return this.$element||this.$init()},p.prototype.setText=function(m){this.getElement().textContent=m},p.prototype.setHtml=function(m){this.getElement().innerHTML=m},p.prototype.setPosition=function(m,g){this.getElement().style.left=m+"px",this.getElement().style.top=g+"px"},p.prototype.setClassName=function(m){l.addCssClass(this.getElement(),m)},p.prototype.setTheme=function(m){this.$element.className=u+" "+(m.isDark?"ace_dark ":"")+(m.cssClass||"")},p.prototype.show=function(m,g,v){m!=null&&this.setText(m),g!=null&&v!=null&&this.setPosition(g,v),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},p.prototype.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=u,this.isOpen=!1)},p.prototype.getHeight=function(){return this.getElement().offsetHeight},p.prototype.getWidth=function(){return this.getElement().offsetWidth},p.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},p}(),h=function(){function p(){this.popups=[]}return p.prototype.addPopup=function(m){this.popups.push(m),this.updatePopups()},p.prototype.removePopup=function(m){var g=this.popups.indexOf(m);g!==-1&&(this.popups.splice(g,1),this.updatePopups())},p.prototype.updatePopups=function(){var m,g,v,y;this.popups.sort(function(x,A){return A.priority-x.priority});var k=[];try{for(var C=s(this.popups),T=C.next();!T.done;T=C.next()){var _=T.value,E=!0;try{for(var w=(v=void 0,s(k)),S=w.next();!S.done;S=w.next()){var b=S.value;if(this.doPopupsOverlap(b,_)){E=!1;break}}}catch(x){v={error:x}}finally{try{S&&!S.done&&(y=w.return)&&y.call(w)}finally{if(v)throw v.error}}E?k.push(_):_.hide()}}catch(x){m={error:x}}finally{try{T&&!T.done&&(g=C.return)&&g.call(C)}finally{if(m)throw m.error}}},p.prototype.doPopupsOverlap=function(m,g){var v=m.getElement().getBoundingClientRect(),y=g.getElement().getBoundingClientRect();return v.left<y.right&&v.right>y.left&&v.top<y.bottom&&v.bottom>y.top},p}(),d=new h;i.popupManager=d,i.Tooltip=c;var f=function(p){o(m,p);function m(g){g===void 0&&(g=document.body);var v=p.call(this,g)||this;v.timeout=void 0,v.lastT=0,v.idleTime=350,v.lastEvent=void 0,v.onMouseOut=v.onMouseOut.bind(v),v.onMouseMove=v.onMouseMove.bind(v),v.waitForHover=v.waitForHover.bind(v),v.hide=v.hide.bind(v);var y=v.getElement();return y.style.whiteSpace="pre-wrap",y.style.pointerEvents="auto",y.addEventListener("mouseout",v.onMouseOut),y.tabIndex=-1,y.addEventListener("blur",(function(){y.contains(document.activeElement)||this.hide()}).bind(v)),v}return m.prototype.addToEditor=function(g){g.on("mousemove",this.onMouseMove),g.on("mousedown",this.hide),g.renderer.getMouseEventTarget().addEventListener("mouseout",this.onMouseOut,!0)},m.prototype.removeFromEditor=function(g){g.off("mousemove",this.onMouseMove),g.off("mousedown",this.hide),g.renderer.getMouseEventTarget().removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},m.prototype.onMouseMove=function(g,v){this.lastEvent=g,this.lastT=Date.now();var y=v.$mouseHandler.isMousePressed;if(this.isOpen){var k=this.lastEvent&&this.lastEvent.getDocumentPosition();(!this.range||!this.range.contains(k.row,k.column)||y||this.isOutsideOfText(this.lastEvent))&&this.hide()}this.timeout||y||(this.lastEvent=g,this.timeout=setTimeout(this.waitForHover,this.idleTime))},m.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var g=Date.now()-this.lastT;if(this.idleTime-g>10){this.timeout=setTimeout(this.waitForHover,this.idleTime-g);return}this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor)},m.prototype.isOutsideOfText=function(g){var v=g.editor,y=g.getDocumentPosition(),k=v.session.getLine(y.row);if(y.column==k.length){var C=v.renderer.pixelToScreenCoordinates(g.clientX,g.clientY),T=v.session.documentToScreenPosition(y.row,y.column);if(T.column!=C.column||T.row!=C.row)return!0}return!1},m.prototype.setDataProvider=function(g){this.$gatherData=g},m.prototype.showForRange=function(g,v,y,k){if(!(k&&k!=this.lastEvent)&&!(this.isOpen&&document.activeElement==this.getElement())){var C=g.renderer;this.isOpen||(d.addPopup(this),this.$registerCloseEvents(),this.setTheme(C.theme)),this.isOpen=!0,this.addMarker(v,g.session),this.range=a.fromPoints(v.start,v.end);var T=this.getElement();T.innerHTML="",T.appendChild(y),T.style.display="block";var _=C.textToScreenCoordinates(v.start.row,v.start.column),E=g.getCursorPosition(),w=T.clientHeight,S=C.scroller.getBoundingClientRect(),b=!0;this.row>E.row?b=!0:this.row<E.row&&(b=!1),_.pageY-w+C.lineHeight<S.top?b=!0:_.pageY+w>S.bottom&&(b=!1),b?_.pageY+=C.lineHeight:_.pageY-=w,T.style.maxWidth=S.width-(_.pageX-S.left)+"px",this.setPosition(_.pageX,_.pageY)}},m.prototype.addMarker=function(g,v){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=v,this.marker=v&&v.addMarker(g,"ace_highlight-marker","text")},m.prototype.hide=function(g){!g&&document.activeElement==this.getElement()||g&&g.target&&(g.type!="keydown"||g.ctrlKey||g.metaKey)&&this.$element.contains(g.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,d.removePopup(this)))},m.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("mousewheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},m.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("mousewheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},m.prototype.onMouseOut=function(g){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&(!g.relatedTarget||g.relatedTarget==this.getElement()||g&&g.currentTarget.contains(g.relatedTarget)||g.relatedTarget.classList.contains("ace_content")||this.hide())},m}(c);i.HoverTooltip=f}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/tooltip","ace/config"],function(n,i,r){var o=this&&this.__extends||function(){var f=function(p,m){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(g[y]=v[y])},f(p,m)};return function(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");f(p,m);function g(){this.constructor=p}p.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}(),s=this&&this.__values||function(f){var p=typeof Symbol=="function"&&Symbol.iterator,m=p&&f[p],g=0;if(m)return m.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&g>=f.length&&(f=void 0),{value:f&&f[g++],done:!f}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")},l=n("../lib/dom"),a=n("../lib/event"),u=n("../tooltip").Tooltip,c=n("../config").nls;function h(f){var p=f.editor,m=p.renderer.$gutterLayer,g=new d(p);f.editor.setDefaultHandler("guttermousedown",function(_){if(!(!p.isFocused()||_.getButton()!=0)){var E=m.getRegion(_);if(E!="foldWidgets"){var w=_.getDocumentPosition().row,S=p.session.selection;if(_.getShiftKey())S.selectTo(w,0);else{if(_.domEvent.detail==2)return p.selectAll(),_.preventDefault();f.$clickSelection=p.selection.getLineRange(w)}return f.setState("selectByLines"),f.captureMouse(_),_.preventDefault()}}});var v,y;function k(){var _=y.getDocumentPosition().row,E=p.session.getLength();if(_==E){var w=p.renderer.pixelToScreenCoordinates(0,y.y).row,S=y.$pos;if(w>p.session.documentToScreenRow(S.row,S.column))return C()}if(g.showTooltip(_),!!g.isOpen)if(p.on("mousewheel",C),f.$tooltipFollowsMouse)T(y);else{var b=y.getGutterRow(),x=m.$lines.get(b);if(x){var A=x.element.querySelector(".ace_gutter_annotation"),O=A.getBoundingClientRect(),$=g.getElement().style;$.left=O.right+"px",$.top=O.bottom+"px"}else T(y)}}function C(){v&&(v=clearTimeout(v)),g.isOpen&&(g.hideTooltip(),p.off("mousewheel",C))}function T(_){g.setPosition(_.x,_.y)}f.editor.setDefaultHandler("guttermousemove",function(_){var E=_.domEvent.target||_.domEvent.srcElement;if(l.hasCssClass(E,"ace_fold-widget"))return C();g.isOpen&&f.$tooltipFollowsMouse&&T(_),y=_,!v&&(v=setTimeout(function(){v=null,y&&!f.isMousePressed?k():C()},50))}),a.addListener(p.renderer.$gutter,"mouseout",function(_){y=null,!(!g.isOpen||v)&&(v=setTimeout(function(){v=null,C()},50))},p),p.on("changeSession",C),p.on("input",C)}i.GutterHandler=h;var d=function(f){o(p,f);function p(m){var g=f.call(this,m.container)||this;return g.editor=m,g}return p.prototype.setPosition=function(m,g){var v=window.innerWidth||document.documentElement.clientWidth,y=window.innerHeight||document.documentElement.clientHeight,k=this.getWidth(),C=this.getHeight();m+=15,g+=15,m+k>v&&(m-=m+k-v),g+C>y&&(g-=20+C),u.prototype.setPosition.call(this,m,g)},Object.defineProperty(p,"annotationLabels",{get:function(){return{error:{singular:c("error"),plural:c("errors")},warning:{singular:c("warning"),plural:c("warnings")},info:{singular:c("information message"),plural:c("information messages")}}},enumerable:!1,configurable:!0}),p.prototype.showTooltip=function(m){var g=this.editor.renderer.$gutterLayer,v=g.$annotations[m],y;v?y={text:Array.from(v.text),type:Array.from(v.type)}:y={text:[],type:[]};var k=g.session.getFoldLine(m);if(k&&g.$showFoldedAnnotations){for(var C={error:[],warning:[],info:[]},T,_=m+1;_<=k.end.row;_++)if(g.$annotations[_])for(var E=0;E<g.$annotations[_].text.length;E++){var w=g.$annotations[_].type[E];if(C[w].push(g.$annotations[_].text[E]),w==="error"){T="error_fold";continue}if(w==="warning"){T="warning_fold";continue}}if(T==="error_fold"||T==="warning_fold"){var S="".concat(p.annotationsToSummaryString(C)," in folded code.");y.text.push(S),y.type.push(T)}}if(y.text.length===0)return this.hide();for(var b={error:[],warning:[],info:[]},x=g.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",_=0;_<y.text.length;_++){var A="<span class='ace_".concat(y.type[_]," ").concat(x,"' aria-label='").concat(p.annotationLabels[y.type[_].replace("_fold","")].singular,"' role=img> </span> ").concat(y.text[_]);b[y.type[_].replace("_fold","")].push(A)}var O=[].concat(b.error,b.warning,b.info).join("<br>");this.setHtml(O),this.$element.setAttribute("aria-live","polite"),this.isOpen||(this.setTheme(this.editor.renderer.theme),this.setClassName("ace_gutter-tooltip")),this.show(),this.editor._signal("showGutterTooltip",this)},p.prototype.hideTooltip=function(){this.$element.removeAttribute("aria-live"),this.hide(),this.editor._signal("hideGutterTooltip",this)},p.annotationsToSummaryString=function(m){var g,v,y=[],k=["error","warning","info"];try{for(var C=s(k),T=C.next();!T.done;T=C.next()){var _=T.value;if(m[_].length){var E=m[_].length===1?p.annotationLabels[_].singular:p.annotationLabels[_].plural;y.push("".concat(m[_].length," ").concat(E))}}}catch(w){g={error:w}}finally{try{T&&!T.done&&(v=C.return)&&v.call(C)}finally{if(g)throw g.error}}return y.join(", ")},p}(u);i.GutterTooltip=d}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(n,i,r){var o=n("../lib/event"),s=n("../lib/useragent"),l=function(){function a(u,c){this.domEvent=u,this.editor=c,this.x=this.clientX=u.clientX,this.y=this.clientY=u.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}return a.prototype.stopPropagation=function(){o.stopPropagation(this.domEvent),this.propagationStopped=!0},a.prototype.preventDefault=function(){o.preventDefault(this.domEvent),this.defaultPrevented=!0},a.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},a.prototype.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},a.prototype.getGutterRow=function(){var u=this.getDocumentPosition().row,c=this.editor.session.documentToScreenRow(u,0),h=this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0);return c-h},a.prototype.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var u=this.editor,c=u.getSelectionRange();if(c.isEmpty())this.$inSelection=!1;else{var h=this.getDocumentPosition();this.$inSelection=c.contains(h.row,h.column)}return this.$inSelection},a.prototype.getButton=function(){return o.getButton(this.domEvent)},a.prototype.getShiftKey=function(){return this.domEvent.shiftKey},a.prototype.getAccelKey=function(){return s.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},a}();i.MouseEvent=l}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(n,i,r){var o=n("../lib/dom"),s=n("../lib/event"),l=n("../lib/useragent"),a=200,u=200,c=5;function h(f){var p=f.editor,m=o.createElement("div");m.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",m.textContent="";var g=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];g.forEach(function(B){f[B]=this[B]},this),p.on("mousedown",this.onMouseDown.bind(f));var v=p.container,y,k,C,T,_,E,w=0,S,b,x,A,O;this.onDragStart=function(B){if(this.cancelDrag||!v.draggable){var j=this;return setTimeout(function(){j.startSelect(),j.captureMouse(B)},0),B.preventDefault()}_=p.getSelectionRange();var H=B.dataTransfer;H.effectAllowed=p.getReadOnly()?"copy":"copyMove",p.container.appendChild(m),H.setDragImage&&H.setDragImage(m,0,0),setTimeout(function(){p.container.removeChild(m)}),H.clearData(),H.setData("Text",p.session.getTextRange()),b=!0,this.setState("drag")},this.onDragEnd=function(B){if(v.draggable=!1,b=!1,this.setState(null),!p.getReadOnly()){var j=B.dataTransfer.dropEffect;!S&&j=="move"&&p.session.remove(p.getSelectionRange()),p.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(B){if(!(p.getReadOnly()||!z(B.dataTransfer)))return k=B.clientX,C=B.clientY,y||P(),w++,B.dataTransfer.dropEffect=S=F(B),s.preventDefault(B)},this.onDragOver=function(B){if(!(p.getReadOnly()||!z(B.dataTransfer)))return k=B.clientX,C=B.clientY,y||(P(),w++),D!==null&&(D=null),B.dataTransfer.dropEffect=S=F(B),s.preventDefault(B)},this.onDragLeave=function(B){if(w--,w<=0&&y)return N(),S=null,s.preventDefault(B)},this.onDrop=function(B){if(E){var j=B.dataTransfer;if(b)switch(S){case"move":_.contains(E.row,E.column)?_={start:E,end:E}:_=p.moveText(_,E);break;case"copy":_=p.moveText(_,E,!0);break}else{var H=j.getData("Text");_={start:E,end:p.session.insert(E,H)},p.focus(),S=null}return N(),s.preventDefault(B)}},s.addListener(v,"dragstart",this.onDragStart.bind(f),p),s.addListener(v,"dragend",this.onDragEnd.bind(f),p),s.addListener(v,"dragenter",this.onDragEnter.bind(f),p),s.addListener(v,"dragover",this.onDragOver.bind(f),p),s.addListener(v,"dragleave",this.onDragLeave.bind(f),p),s.addListener(v,"drop",this.onDrop.bind(f),p);function $(B,j){var H=Date.now(),G=!j||B.row!=j.row,Q=!j||B.column!=j.column;if(!A||G||Q)p.moveCursorToPosition(B),A=H,O={x:k,y:C};else{var J=d(O.x,O.y,k,C);J>c?A=null:H-A>=u&&(p.renderer.scrollCursorIntoView(),A=null)}}function M(B,j){var H=Date.now(),G=p.renderer.layerConfig.lineHeight,Q=p.renderer.layerConfig.characterWidth,J=p.renderer.scroller.getBoundingClientRect(),Y={x:{left:k-J.left,right:J.right-k},y:{top:C-J.top,bottom:J.bottom-C}},ee=Math.min(Y.x.left,Y.x.right),ne=Math.min(Y.y.top,Y.y.bottom),ce={row:B.row,column:B.column};ee/Q<=2&&(ce.column+=Y.x.left<Y.x.right?-3:2),ne/G<=1&&(ce.row+=Y.y.top<Y.y.bottom?-1:1);var ue=B.row!=ce.row,we=B.column!=ce.column,he=!j||B.row!=j.row;ue||we&&!he?x?H-x>=a&&p.renderer.scrollCursorIntoView(ce):x=H:x=null}function R(){var B=E;E=p.renderer.screenToTextCoordinates(k,C),$(E,B),M(E,B)}function P(){_=p.selection.toOrientedRange(),y=p.session.addMarker(_,"ace_selection",p.getSelectionStyle()),p.clearSelection(),p.isFocused()&&p.renderer.$cursorLayer.setBlinking(!1),clearInterval(T),R(),T=setInterval(R,20),w=0,s.addListener(document,"mousemove",V)}function N(){clearInterval(T),p.session.removeMarker(y),y=null,p.selection.fromOrientedRange(_),p.isFocused()&&!b&&p.$resetCursorStyle(),_=null,E=null,w=0,x=null,A=null,s.removeListener(document,"mousemove",V)}var D=null;function V(){D==null&&(D=setTimeout(function(){D!=null&&y&&N()},20))}function z(B){var j=B.types;return!j||Array.prototype.some.call(j,function(H){return H=="text/plain"||H=="Text"})}function F(B){var j=["copy","copymove","all","uninitialized"],H=["move","copymove","linkmove","all","uninitialized"],G=l.isMac?B.altKey:B.ctrlKey,Q="uninitialized";try{Q=B.dataTransfer.effectAllowed.toLowerCase()}catch{}var J="none";return G&&j.indexOf(Q)>=0?J="copy":H.indexOf(Q)>=0?J="move":j.indexOf(Q)>=0&&(J="copy"),J}}(function(){this.dragWait=function(){var f=Date.now()-this.mousedownEvent.time;f>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var f=this.editor.container;f.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(f){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var f=this.editor,p=f.container;p.draggable=!0,f.renderer.$cursorLayer.setBlinking(!1),f.setStyle("ace_dragging");var m=l.isWin?"default":"move";f.renderer.setCursorStyle(m),this.setState("dragReady")},this.onMouseDrag=function(f){var p=this.editor.container;if(l.isIE&&this.state=="dragReady"){var m=d(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);m>3&&p.dragDrop()}if(this.state==="dragWait"){var m=d(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);m>0&&(p.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(f){if(this.$dragEnabled){this.mousedownEvent=f;var p=this.editor,m=f.inSelection(),g=f.getButton(),v=f.domEvent.detail||1;if(v===1&&g===0&&m){if(f.editor.inMultiSelectMode&&(f.getAccelKey()||f.getShiftKey()))return;this.mousedownEvent.time=Date.now();var y=f.domEvent.target||f.domEvent.srcElement;if("unselectable"in y&&(y.unselectable="on"),p.getDragDelay()){if(l.isWebKit){this.cancelDrag=!0;var k=p.container;k.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(f,this.onMouseDrag.bind(this)),f.defaultPrevented=!0}}}}).call(h.prototype);function d(f,p,m,g){return Math.sqrt(Math.pow(m-f,2)+Math.pow(g-p,2))}i.DragdropHandler=h}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(n,i,r){var o=n("./mouse_event").MouseEvent,s=n("../lib/event"),l=n("../lib/dom");i.addTouchListeners=function(a,u){var c="scroll",h,d,f,p,m,g,v=0,y,k=0,C=0,T=0,_,E;function w(){var $=window.navigator&&window.navigator.clipboard,M=!1,R=function(){var N=u.getCopyText(),D=u.session.getUndoManager().hasUndo();E.replaceChild(l.buildDom(M?["span",!N&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],N&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],N&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],$&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],D&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Palette"]]:["span"]),E.firstChild)},P=function(N){var D=N.target.getAttribute("action");if(D=="more"||!M)return M=!M,R();D=="paste"?$.readText().then(function(V){u.execCommand(D,V)}):D&&((D=="cut"||D=="copy")&&($?$.writeText(u.getCopyText()):document.execCommand("copy")),u.execCommand(D)),E.firstChild.style.display="none",M=!1,D!="openCommandPallete"&&u.focus()};E=l.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(N){c="menu",N.stopPropagation(),N.preventDefault(),u.textInput.focus()},ontouchend:function(N){N.stopPropagation(),N.preventDefault(),P(N)},onclick:P},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],u.container)}function S(){E||w();var $=u.selection.cursor,M=u.renderer.textToScreenCoordinates($.row,$.column),R=u.renderer.textToScreenCoordinates(0,0).pageX,P=u.renderer.scrollLeft,N=u.container.getBoundingClientRect();E.style.top=M.pageY-N.top-3+"px",M.pageX-N.left<N.width-70?(E.style.left="",E.style.right="10px"):(E.style.right="",E.style.left=R+P-N.left+"px"),E.style.display="",E.firstChild.style.display="none",u.on("input",b)}function b($){E&&(E.style.display="none"),u.off("input",b)}function x(){m=null,clearTimeout(m);var $=u.selection.getRange(),M=$.contains(y.row,y.column);($.isEmpty()||!M)&&(u.selection.moveToPosition(y),u.selection.selectWord()),c="wait",S()}function A(){m=null,clearTimeout(m),u.selection.moveToPosition(y);var $=k>=2?u.selection.getLineRange(y.row):u.session.getBracketRange(y);$&&!$.isEmpty()?u.selection.setRange($):u.selection.selectWord(),c="wait"}s.addListener(a,"contextmenu",function($){if(_){var M=u.textInput.getElement();M.focus()}},u),s.addListener(a,"touchstart",function($){var M=$.touches;if(m||M.length>1){clearTimeout(m),m=null,f=-1,c="zoom";return}_=u.$mouseHandler.isMousePressed=!0;var R=u.renderer.layerConfig.lineHeight,P=u.renderer.layerConfig.lineHeight,N=$.timeStamp;p=N;var D=M[0],V=D.clientX,z=D.clientY;Math.abs(h-V)+Math.abs(d-z)>R&&(f=-1),h=$.clientX=V,d=$.clientY=z,C=T=0;var F=new o($,u);if(y=F.getDocumentPosition(),N-f<500&&M.length==1&&!v)k++,$.preventDefault(),$.button=0,A();else{k=0;var B=u.selection.cursor,j=u.selection.isEmpty()?B:u.selection.anchor,H=u.renderer.$cursorLayer.getPixelPosition(B,!0),G=u.renderer.$cursorLayer.getPixelPosition(j,!0),Q=u.renderer.scroller.getBoundingClientRect(),J=u.renderer.layerConfig.offset,Y=u.renderer.scrollLeft,ee=function(ue,we){return ue=ue/P,we=we/R-.75,ue*ue+we*we};if($.clientX<Q.left){c="zoom";return}var ne=ee($.clientX-Q.left-H.left+Y,$.clientY-Q.top-H.top+J),ce=ee($.clientX-Q.left-G.left+Y,$.clientY-Q.top-G.top+J);ne<3.5&&ce<3.5&&(c=ne>ce?"cursor":"anchor"),ce<3.5?c="anchor":ne<3.5?c="cursor":c="scroll",m=setTimeout(x,450)}f=N},u),s.addListener(a,"touchend",function($){_=u.$mouseHandler.isMousePressed=!1,g&&clearInterval(g),c=="zoom"?(c="",v=0):m?(u.selection.moveToPosition(y),v=0,S()):c=="scroll"?(O(),b()):S(),clearTimeout(m),m=null},u),s.addListener(a,"touchmove",function($){m&&(clearTimeout(m),m=null);var M=$.touches;if(!(M.length>1||c=="zoom")){var R=M[0],P=h-R.clientX,N=d-R.clientY;if(c=="wait")if(P*P+N*N>4)c="cursor";else return $.preventDefault();h=R.clientX,d=R.clientY,$.clientX=R.clientX,$.clientY=R.clientY;var D=$.timeStamp,V=D-p;if(p=D,c=="scroll"){var z=new o($,u);z.speed=1,z.wheelX=P,z.wheelY=N,10*Math.abs(P)<Math.abs(N)&&(P=0),10*Math.abs(N)<Math.abs(P)&&(N=0),V!=0&&(C=P/V,T=N/V),u._emit("mousewheel",z),z.propagationStopped||(C=T=0)}else{var F=new o($,u),B=F.getDocumentPosition();c=="cursor"?u.selection.moveCursorToPosition(B):c=="anchor"&&u.selection.setSelectionAnchor(B.row,B.column),u.renderer.scrollCursorIntoView(B),$.preventDefault()}}},u);function O(){v+=60,g=setInterval(function(){v--<=0&&(clearInterval(g),g=null),Math.abs(C)<.01&&(C=0),Math.abs(T)<.01&&(T=0),v<20&&(C=.9*C),v<20&&(T=.9*T);var $=u.session.getScrollTop();u.renderer.scrollBy(10*C,10*T),$==u.session.getScrollTop()&&(v=0)},10)}}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(n,i,r){var o=n("../lib/event"),s=n("../lib/useragent"),l=n("./default_handlers").DefaultHandlers,a=n("./default_gutter_handler").GutterHandler,u=n("./mouse_event").MouseEvent,c=n("./dragdrop_handler").DragdropHandler,h=n("./touch_handler").addTouchListeners,d=n("../config"),f=function(){function p(m){var g=this;this.editor=m,new l(this),new a(this),new c(this);var v=function(C){var T=!document.hasFocus||!document.hasFocus()||!m.isFocused()&&document.activeElement==(m.textInput&&m.textInput.getElement());T&&window.focus(),m.focus(),setTimeout(function(){m.isFocused()||m.focus()})},y=m.renderer.getMouseEventTarget();o.addListener(y,"click",this.onMouseEvent.bind(this,"click"),m),o.addListener(y,"mousemove",this.onMouseMove.bind(this,"mousemove"),m),o.addMultiMouseDownListener([y,m.renderer.scrollBarV&&m.renderer.scrollBarV.inner,m.renderer.scrollBarH&&m.renderer.scrollBarH.inner,m.textInput&&m.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",m),o.addMouseWheelListener(m.container,this.onMouseWheel.bind(this,"mousewheel"),m),h(m.container,m);var k=m.renderer.$gutter;o.addListener(k,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),m),o.addListener(k,"click",this.onMouseEvent.bind(this,"gutterclick"),m),o.addListener(k,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),m),o.addListener(k,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),m),o.addListener(y,"mousedown",v,m),o.addListener(k,"mousedown",v,m),s.isIE&&m.renderer.scrollBarV&&(o.addListener(m.renderer.scrollBarV.element,"mousedown",v,m),o.addListener(m.renderer.scrollBarH.element,"mousedown",v,m)),m.on("mousemove",function(C){if(!(g.state||g.$dragDelay||!g.$dragEnabled)){var T=m.renderer.screenToTextCoordinates(C.x,C.y),_=m.session.selection.getRange(),E=m.renderer;!_.isEmpty()&&_.insideStart(T.row,T.column)?E.setCursorStyle("default"):E.setCursorStyle("")}},m)}return p.prototype.onMouseEvent=function(m,g){this.editor.session&&this.editor._emit(m,new u(g,this.editor))},p.prototype.onMouseMove=function(m,g){var v=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!v||!v.length||this.editor._emit(m,new u(g,this.editor))},p.prototype.onMouseWheel=function(m,g){var v=new u(g,this.editor);v.speed=this.$scrollSpeed*2,v.wheelX=g.wheelX,v.wheelY=g.wheelY,this.editor._emit(m,v)},p.prototype.setState=function(m){this.state=m},p.prototype.captureMouse=function(m,g){this.x=m.x,this.y=m.y,this.isMousePressed=!0;var v=this.editor,y=this.editor.renderer;y.$isMousePressed=!0;var k=this,C=function(S){if(S){if(s.isWebKit&&!S.which&&k.releaseMouse)return k.releaseMouse();k.x=S.clientX,k.y=S.clientY,g&&g(S),k.mouseEvent=new u(S,k.editor),k.$mouseMoved=!0}},T=function(S){v.off("beforeEndOperation",E),clearInterval(w),v.session&&_(),k[k.state+"End"]&&k[k.state+"End"](S),k.state="",k.isMousePressed=y.$isMousePressed=!1,y.$keepTextAreaAtCursor&&y.$moveTextAreaToCursor(),k.$onCaptureMouseMove=k.releaseMouse=null,S&&k.onMouseEvent("mouseup",S),v.endOperation()},_=function(){k[k.state]&&k[k.state](),k.$mouseMoved=!1};if(s.isOldIE&&m.domEvent.type=="dblclick")return setTimeout(function(){T(m)});var E=function(S){k.releaseMouse&&v.curOp.command.name&&v.curOp.selectionChanged&&(k[k.state+"End"]&&k[k.state+"End"](),k.state="",k.releaseMouse())};v.on("beforeEndOperation",E),v.startOperation({command:{name:"mouse"}}),k.$onCaptureMouseMove=C,k.releaseMouse=o.capture(this.editor.container,C,T);var w=setInterval(_,20)},p.prototype.cancelContextMenu=function(){var m=(function(g){g&&g.domEvent&&g.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",m),g&&g.domEvent&&o.stopEvent(g.domEvent))}).bind(this);setTimeout(m,10),this.editor.on("nativecontextmenu",m)},p.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse()},p}();f.prototype.releaseMouse=null,d.defineOptions(f.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:s.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),i.MouseHandler=f}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(n,i,r){var o=n("../lib/dom"),s=function(){function l(a){a.on("click",function(u){var c=u.getDocumentPosition(),h=a.session,d=h.getFoldAt(c.row,c.column,1);d&&(u.getAccelKey()?h.removeFold(d):h.expandFold(d),u.stop());var f=u.domEvent&&u.domEvent.target;f&&o.hasCssClass(f,"ace_inline_button")&&o.hasCssClass(f,"ace_toggle_wrap")&&(h.setOption("wrap",!h.getUseWrapMode()),a.renderer.scrollCursorIntoView())}),a.on("gutterclick",function(u){var c=a.renderer.$gutterLayer.getRegion(u);if(c=="foldWidgets"){var h=u.getDocumentPosition().row,d=a.session;d.foldWidgets&&d.foldWidgets[h]&&a.session.onFoldWidgetClick(h,u),a.isFocused()||a.focus(),u.stop()}}),a.on("gutterdblclick",function(u){var c=a.renderer.$gutterLayer.getRegion(u);if(c=="foldWidgets"){var h=u.getDocumentPosition().row,d=a.session,f=d.getParentFoldRangeData(h,!0),p=f.range||f.firstRange;if(p){h=p.start.row;var m=d.getFoldAt(h,d.getLine(h).length,1);m?d.removeFold(m):(d.addFold("...",p),a.renderer.scrollCursorIntoView({row:p.start.row,column:0}))}u.stop()}})}return l}();i.FoldHandler=s}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(n,i,r){var o=n("../lib/keys"),s=n("../lib/event"),l=function(){function a(u){this.$editor=u,this.$data={editor:u},this.$handlers=[],this.setDefaultHandler(u.commands)}return a.prototype.setDefaultHandler=function(u){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=u,this.addKeyboardHandler(u,0)},a.prototype.setKeyboardHandler=function(u){var c=this.$handlers;if(c[c.length-1]!=u){for(;c[c.length-1]&&c[c.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(c[c.length-1]);this.addKeyboardHandler(u,1)}},a.prototype.addKeyboardHandler=function(u,c){if(u){typeof u=="function"&&!u.handleKeyboard&&(u.handleKeyboard=u);var h=this.$handlers.indexOf(u);h!=-1&&this.$handlers.splice(h,1),c==null?this.$handlers.push(u):this.$handlers.splice(c,0,u),h==-1&&u.attach&&u.attach(this.$editor)}},a.prototype.removeKeyboardHandler=function(u){var c=this.$handlers.indexOf(u);return c==-1?!1:(this.$handlers.splice(c,1),u.detach&&u.detach(this.$editor),!0)},a.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},a.prototype.getStatusText=function(){var u=this.$data,c=u.editor;return this.$handlers.map(function(h){return h.getStatusText&&h.getStatusText(c,u)||""}).filter(Boolean).join(" ")},a.prototype.$callKeyboardHandlers=function(u,c,h,d){for(var f,p=!1,m=this.$editor.commands,g=this.$handlers.length;g--&&(f=this.$handlers[g].handleKeyboard(this.$data,u,c,h,d),!(!(!f||!f.command)&&(f.command=="null"?p=!0:p=m.exec(f.command,this.$editor,f.args,d),p&&d&&u!=-1&&f.passEvent!=!0&&f.command.passEvent!=!0&&s.stopEvent(d),p))););return!p&&u==-1&&(f={command:"insertstring"},p=m.exec("insertstring",this.$editor,c)),p&&this.$editor._signal&&this.$editor._signal("keyboardActivity",f),p},a.prototype.onCommandKey=function(u,c,h){var d=o.keyCodeToString(h);return this.$callKeyboardHandlers(c,d,h,u)},a.prototype.onTextInput=function(u){return this.$callKeyboardHandlers(-1,u)},a}();i.KeyBinding=l}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(n,i,r){var o=0,s=0,l=!1,a=!1,u=!1,c=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],d=0,f=1,p=0,m=1,g=2,v=3,y=4,k=5,C=6,T=7,_=8,E=9,w=10,S=11,b=12,x=13,A=14,O=15,$=16,M=17,R=18,P=[R,R,R,R,R,R,R,R,R,C,k,C,_,k,R,R,R,R,R,R,R,R,R,R,R,R,R,R,k,k,k,C,_,y,y,S,S,S,y,y,y,y,y,w,E,w,E,E,g,g,g,g,g,g,g,g,g,g,E,y,y,y,y,y,y,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,y,y,y,y,y,y,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,y,y,y,y,R,R,R,R,R,R,k,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,E,y,S,S,S,S,y,y,y,y,p,y,y,R,y,y,S,S,g,g,y,p,y,y,y,g,p,y,y,y,y,y],N=[_,_,_,_,_,_,_,_,_,_,_,R,R,R,p,m,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,_,k,x,A,O,$,M,E,S,S,S,S,S,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,E,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,_];function D(B,j,H,G){var Q=o?h:c,J=null,Y=null,ee=null,ne=0,ce=null,ue=null,we=-1,he=null,fe=null,Xe=[];if(!G)for(he=0,G=[];he<H;he++)G[he]=F(B[he]);for(s=o,l=!1,a=!1,u=!1,fe=0;fe<H;fe++){if(J=ne,Xe[fe]=Y=z(B,G,Xe,fe),ne=Q[J][Y],ce=ne&240,ne&=15,j[fe]=ee=Q[ne][5],ce>0)if(ce==16){for(he=we;he<fe;he++)j[he]=1;we=-1}else we=-1;if(ue=Q[ne][6],ue)we==-1&&(we=fe);else if(we>-1){for(he=we;he<fe;he++)j[he]=ee;we=-1}G[fe]==k&&(j[fe]=0),s|=ee}if(u){for(he=0;he<H;he++)if(G[he]==C){j[he]=o;for(var Ke=he-1;Ke>=0&&G[Ke]==_;Ke--)j[Ke]=o}}}function V(B,j,H){if(!(s<B)){if(B==1&&o==f&&!a){H.reverse();return}for(var G=H.length,Q=0,J,Y,ee,ne;Q<G;){if(j[Q]>=B){for(J=Q+1;J<G&&j[J]>=B;)J++;for(Y=Q,ee=J-1;Y<ee;Y++,ee--)ne=H[Y],H[Y]=H[ee],H[ee]=ne;Q=J}Q++}}}function z(B,j,H,G){var Q=j[G],J,Y,ee,ne;switch(Q){case p:case m:l=!1;case y:case v:return Q;case g:return l?v:g;case T:return l=!0,m;case _:return y;case E:return G<1||G+1>=j.length||(J=H[G-1])!=g&&J!=v||(Y=j[G+1])!=g&&Y!=v?y:(l&&(Y=v),Y==J?Y:y);case w:return J=G>0?H[G-1]:k,J==g&&G+1<j.length&&j[G+1]==g?g:y;case S:if(G>0&&H[G-1]==g)return g;if(l)return y;for(ne=G+1,ee=j.length;ne<ee&&j[ne]==S;)ne++;return ne<ee&&j[ne]==g?g:y;case b:for(ee=j.length,ne=G+1;ne<ee&&j[ne]==b;)ne++;if(ne<ee){var ce=B[G],ue=ce>=1425&&ce<=2303||ce==64286;if(J=j[ne],ue&&(J==m||J==T))return m}return G<1||(J=j[G-1])==k?y:H[G-1];case k:return l=!1,a=!0,o;case C:return u=!0,y;case x:case A:case $:case M:case O:l=!1;case R:return y}}function F(B){var j=B.charCodeAt(0),H=j>>8;return H==0?j>191?p:P[j]:H==5?/[\u0591-\u05f4]/.test(B)?m:p:H==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(B)?b:/[\u0660-\u0669\u066b-\u066c]/.test(B)?v:j==1642?S:/[\u06f0-\u06f9]/.test(B)?g:T:H==32&&j<=8287?N[j&255]:H==254&&j>=65136?T:y}i.L=p,i.R=m,i.EN=g,i.ON_R=3,i.AN=4,i.R_H=5,i.B=6,i.RLE=7,i.DOT="",i.doBidiReorder=function(B,j,H){if(B.length<2)return{};var G=B.split(""),Q=new Array(G.length),J=new Array(G.length),Y=[];o=H?f:d,D(G,Y,G.length,j);for(var ee=0;ee<Q.length;Q[ee]=ee,ee++);V(2,Y,Q),V(1,Y,Q);for(var ee=0;ee<Q.length-1;ee++)j[ee]===v?Y[ee]=i.AN:Y[ee]===m&&(j[ee]>T&&j[ee]<x||j[ee]===y||j[ee]===R)?Y[ee]=i.ON_R:ee>0&&G[ee-1]===""&&/\u0622|\u0623|\u0625|\u0627/.test(G[ee])&&(Y[ee-1]=Y[ee]=i.R_H,ee++);G[G.length-1]===i.DOT&&(Y[G.length-1]=i.B),G[0]===""&&(Y[0]=i.RLE);for(var ee=0;ee<Q.length;ee++)J[ee]=Y[Q[ee]];return{logicalFromVisual:Q,bidiLevels:J}},i.hasBidiCharacters=function(B,j){for(var H=!1,G=0;G<B.length;G++)j[G]=F(B.charAt(G)),!H&&(j[G]==m||j[G]==T||j[G]==v)&&(H=!0);return H},i.getVisualFromLogicalIdx=function(B,j){for(var H=0;H<j.logicalFromVisual.length;H++)if(j.logicalFromVisual[H]==B)return H;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(n,i,r){var o=n("./lib/bidiutil"),s=n("./lib/lang"),l=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,a=function(){function u(c){this.session=c,this.bidiMap={},this.currentRow=null,this.bidiUtil=o,this.charWidths=[],this.EOL="",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="",this.RLE="",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=l.test(c.getValue())}return u.prototype.isBidiRow=function(c,h,d){return this.seenBidi?(c!==this.currentRow&&(this.currentRow=c,this.updateRowLine(h,d),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},u.prototype.onChange=function(c){this.seenBidi?this.currentRow=null:c.action=="insert"&&l.test(c.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},u.prototype.getDocumentRow=function(){var c=0,h=this.session.$screenRowCache;if(h.length){var d=this.session.$getRowCacheIndex(h,this.currentRow);d>=0&&(c=this.session.$docRowCache[d])}return c},u.prototype.getSplitIndex=function(){var c=0,h=this.session.$screenRowCache;if(h.length)for(var d,f=this.session.$getRowCacheIndex(h,this.currentRow);this.currentRow-c>0&&(d=this.session.$getRowCacheIndex(h,this.currentRow-c-1),d===f);)f=d,c++;else c=this.currentRow;return c},u.prototype.updateRowLine=function(c,h){c===void 0&&(c=this.getDocumentRow());var d=c===this.session.getLength()-1,f=d?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(c),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var p=this.session.$wrapData[c];p&&(h===void 0&&(h=this.getSplitIndex()),h>0&&p.length?(this.wrapIndent=p.indent,this.wrapOffset=this.wrapIndent*this.charWidths[o.L],this.line=h<p.length?this.line.substring(p[h-1],p[h]):this.line.substring(p[p.length-1])):this.line=this.line.substring(0,p[h]),h==p.length&&(this.line+=this.showInvisibles?f:o.DOT))}else this.line+=this.showInvisibles?f:o.DOT;var m=this.session,g=0,v;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(y,k){return y==="	"||m.isFullWidth(y.charCodeAt(0))?(v=y==="	"?m.getScreenTabSize(k+g):2,g+=v-1,s.stringRepeat(o.DOT,v)):y}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==o.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},u.prototype.updateBidiMap=function(){var c=[];o.hasBidiCharacters(this.line,c)||this.isRtlDir?this.bidiMap=o.doBidiReorder(this.line,c,this.isRtlDir):this.bidiMap={}},u.prototype.markAsDirty=function(){this.currentRow=null},u.prototype.updateCharacterWidths=function(c){if(this.characterWidth!==c.$characterSize.width){this.fontMetrics=c;var h=this.characterWidth=c.$characterSize.width,d=c.$measureCharWidth("");this.charWidths[o.L]=this.charWidths[o.EN]=this.charWidths[o.ON_R]=h,this.charWidths[o.R]=this.charWidths[o.AN]=d,this.charWidths[o.R_H]=d*.45,this.charWidths[o.B]=this.charWidths[o.RLE]=0,this.currentRow=null}},u.prototype.setShowInvisibles=function(c){this.showInvisibles=c,this.currentRow=null},u.prototype.setEolChar=function(c){this.EOL=c},u.prototype.setContentWidth=function(c){this.contentWidth=c},u.prototype.isRtlLine=function(c){return this.$isRtl?!0:c!=null?this.session.getLine(c).charAt(0)==this.RLE:this.isRtlDir},u.prototype.setRtlDirection=function(c,h){for(var d=c.getCursorPosition(),f=c.selection.getSelectionAnchor().row;f<=d.row;f++)!h&&c.session.getLine(f).charAt(0)===c.session.$bidiHandler.RLE?c.session.doc.removeInLine(f,0,1):h&&c.session.getLine(f).charAt(0)!==c.session.$bidiHandler.RLE&&c.session.doc.insert({column:0,row:f},c.session.$bidiHandler.RLE)},u.prototype.getPosLeft=function(c){c-=this.wrapIndent;var h=this.line.charAt(0)===this.RLE?1:0,d=c>h?this.session.getOverwrite()?c:c-1:h,f=o.getVisualFromLogicalIdx(d,this.bidiMap),p=this.bidiMap.bidiLevels,m=0;!this.session.getOverwrite()&&c<=h&&p[f]%2!==0&&f++;for(var g=0;g<f;g++)m+=this.charWidths[p[g]];return!this.session.getOverwrite()&&c>h&&p[f]%2===0&&(m+=this.charWidths[p[f]]),this.wrapIndent&&(m+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(m+=this.rtlLineOffset),m},u.prototype.getSelections=function(c,h){var d=this.bidiMap,f=d.bidiLevels,p,m=[],g=0,v=Math.min(c,h)-this.wrapIndent,y=Math.max(c,h)-this.wrapIndent,k=!1,C=!1,T=0;this.wrapIndent&&(g+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var _,E=0;E<f.length;E++)_=d.logicalFromVisual[E],p=f[E],k=_>=v&&_<y,k&&!C?T=g:!k&&C&&m.push({left:T,width:g-T}),g+=this.charWidths[p],C=k;if(k&&E===f.length&&m.push({left:T,width:g-T}),this.isRtlDir)for(var w=0;w<m.length;w++)m[w].left+=this.rtlLineOffset;return m},u.prototype.offsetToCol=function(d){this.isRtlDir&&(d-=this.rtlLineOffset);var h=0,d=Math.max(d,0),f=0,p=0,m=this.bidiMap.bidiLevels,g=this.charWidths[m[p]];for(this.wrapIndent&&(d-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);d>f+g/2;){if(f+=g,p===m.length-1){g=0;break}g=this.charWidths[m[++p]]}return p>0&&m[p-1]%2!==0&&m[p]%2===0?(d<f&&p--,h=this.bidiMap.logicalFromVisual[p]):p>0&&m[p-1]%2===0&&m[p]%2!==0?h=1+(d>f?this.bidiMap.logicalFromVisual[p]:this.bidiMap.logicalFromVisual[p-1]):this.isRtlDir&&p===m.length-1&&g===0&&m[p-1]%2===0||!this.isRtlDir&&p===0&&m[p]%2!==0?h=1+this.bidiMap.logicalFromVisual[p]:(p>0&&m[p-1]%2!==0&&g!==0&&p--,h=this.bidiMap.logicalFromVisual[p]),h===0&&this.isRtlDir&&h++,h+this.wrapIndent},u}();i.BidiHandler=a}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(n,i,r){var o=n("./lib/oop"),s=n("./lib/lang"),l=n("./lib/event_emitter").EventEmitter,a=n("./range").Range,u=function(){function c(h){this.session=h,this.doc=h.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var d=this;this.cursor.on("change",function(f){d.$cursorChanged=!0,d.$silent||d._emit("changeCursor"),!d.$isEmpty&&!d.$silent&&d._emit("changeSelection"),!d.$keepDesiredColumnOnChange&&f.old.column!=f.value.column&&(d.$desiredColumn=null)}),this.anchor.on("change",function(){d.$anchorChanged=!0,!d.$isEmpty&&!d.$silent&&d._emit("changeSelection")})}return c.prototype.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},c.prototype.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},c.prototype.getCursor=function(){return this.lead.getPosition()},c.prototype.setAnchor=function(h,d){this.$isEmpty=!1,this.anchor.setPosition(h,d)},c.prototype.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},c.prototype.getSelectionLead=function(){return this.lead.getPosition()},c.prototype.isBackwards=function(){var h=this.anchor,d=this.lead;return h.row>d.row||h.row==d.row&&h.column>d.column},c.prototype.getRange=function(){var h=this.anchor,d=this.lead;return this.$isEmpty?a.fromPoints(d,d):this.isBackwards()?a.fromPoints(d,h):a.fromPoints(h,d)},c.prototype.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},c.prototype.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},c.prototype.setRange=function(h,d){var f=d?h.end:h.start,p=d?h.start:h.end;this.$setSelection(f.row,f.column,p.row,p.column)},c.prototype.$setSelection=function(h,d,f,p){if(!this.$silent){var m=this.$isEmpty,g=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(h,d),this.cursor.setPosition(f,p),this.$isEmpty=!a.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||m!=this.$isEmpty||g)&&this._emit("changeSelection")}},c.prototype.$moveSelection=function(h){var d=this.lead;this.$isEmpty&&this.setSelectionAnchor(d.row,d.column),h.call(this)},c.prototype.selectTo=function(h,d){this.$moveSelection(function(){this.moveCursorTo(h,d)})},c.prototype.selectToPosition=function(h){this.$moveSelection(function(){this.moveCursorToPosition(h)})},c.prototype.moveTo=function(h,d){this.clearSelection(),this.moveCursorTo(h,d)},c.prototype.moveToPosition=function(h){this.clearSelection(),this.moveCursorToPosition(h)},c.prototype.selectUp=function(){this.$moveSelection(this.moveCursorUp)},c.prototype.selectDown=function(){this.$moveSelection(this.moveCursorDown)},c.prototype.selectRight=function(){this.$moveSelection(this.moveCursorRight)},c.prototype.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},c.prototype.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},c.prototype.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},c.prototype.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},c.prototype.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},c.prototype.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},c.prototype.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},c.prototype.getWordRange=function(h,d){if(typeof d>"u"){var f=h||this.lead;h=f.row,d=f.column}return this.session.getWordRange(h,d)},c.prototype.selectWord=function(){this.setSelectionRange(this.getWordRange())},c.prototype.selectAWord=function(){var h=this.getCursor(),d=this.session.getAWordRange(h.row,h.column);this.setSelectionRange(d)},c.prototype.getLineRange=function(h,d){var f=typeof h=="number"?h:this.lead.row,p,m=this.session.getFoldLine(f);return m?(f=m.start.row,p=m.end.row):p=f,d===!0?new a(f,0,p,this.session.getLine(p).length):new a(f,0,p+1,0)},c.prototype.selectLine=function(){this.setSelectionRange(this.getLineRange())},c.prototype.moveCursorUp=function(){this.moveCursorBy(-1,0)},c.prototype.moveCursorDown=function(){this.moveCursorBy(1,0)},c.prototype.wouldMoveIntoSoftTab=function(h,d,f){var p=h.column,m=h.column+d;return f<0&&(p=h.column-d,m=h.column),this.session.isTabStop(h)&&this.doc.getLine(h.row).slice(p,m).split(" ").length-1==d},c.prototype.moveCursorLeft=function(){var h=this.lead.getPosition(),d;if(d=this.session.getFoldAt(h.row,h.column,-1))this.moveCursorTo(d.start.row,d.start.column);else if(h.column===0)h.row>0&&this.moveCursorTo(h.row-1,this.doc.getLine(h.row-1).length);else{var f=this.session.getTabSize();this.wouldMoveIntoSoftTab(h,f,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-f):this.moveCursorBy(0,-1)}},c.prototype.moveCursorRight=function(){var h=this.lead.getPosition(),d;if(d=this.session.getFoldAt(h.row,h.column,1))this.moveCursorTo(d.end.row,d.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var f=this.session.getTabSize(),h=this.lead;this.wouldMoveIntoSoftTab(h,f,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,f):this.moveCursorBy(0,1)}},c.prototype.moveCursorLineStart=function(){var h=this.lead.row,d=this.lead.column,f=this.session.documentToScreenRow(h,d),p=this.session.screenToDocumentPosition(f,0),m=this.session.getDisplayLine(h,null,p.row,p.column),g=m.match(/^\s*/);g[0].length!=d&&!this.session.$useEmacsStyleLineStart&&(p.column+=g[0].length),this.moveCursorToPosition(p)},c.prototype.moveCursorLineEnd=function(){var h=this.lead,d=this.session.getDocumentLastRowColumnPosition(h.row,h.column);if(this.lead.column==d.column){var f=this.session.getLine(d.row);if(d.column==f.length){var p=f.search(/\s+$/);p>0&&(d.column=p)}}this.moveCursorTo(d.row,d.column)},c.prototype.moveCursorFileEnd=function(){var h=this.doc.getLength()-1,d=this.doc.getLine(h).length;this.moveCursorTo(h,d)},c.prototype.moveCursorFileStart=function(){this.moveCursorTo(0,0)},c.prototype.moveCursorLongWordRight=function(){var h=this.lead.row,d=this.lead.column,f=this.doc.getLine(h),p=f.substring(d);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var m=this.session.getFoldAt(h,d,1);if(m){this.moveCursorTo(m.end.row,m.end.column);return}if(this.session.nonTokenRe.exec(p)&&(d+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,p=f.substring(d)),d>=f.length){this.moveCursorTo(h,f.length),this.moveCursorRight(),h<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(p)&&(d+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(h,d)},c.prototype.moveCursorLongWordLeft=function(){var h=this.lead.row,d=this.lead.column,f;if(f=this.session.getFoldAt(h,d,-1)){this.moveCursorTo(f.start.row,f.start.column);return}var p=this.session.getFoldStringAt(h,d,-1);p==null&&(p=this.doc.getLine(h).substring(0,d));var m=s.stringReverse(p);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(m)&&(d-=this.session.nonTokenRe.lastIndex,m=m.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),d<=0){this.moveCursorTo(h,0),this.moveCursorLeft(),h>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(m)&&(d-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(h,d)},c.prototype.$shortWordEndIndex=function(h){var d=0,f,p=/\s/,m=this.session.tokenRe;if(m.lastIndex=0,this.session.tokenRe.exec(h))d=this.session.tokenRe.lastIndex;else{for(;(f=h[d])&&p.test(f);)d++;if(d<1){for(m.lastIndex=0;(f=h[d])&&!m.test(f);)if(m.lastIndex=0,d++,p.test(f))if(d>2){d--;break}else{for(;(f=h[d])&&p.test(f);)d++;if(d>2)break}}}return m.lastIndex=0,d},c.prototype.moveCursorShortWordRight=function(){var h=this.lead.row,d=this.lead.column,f=this.doc.getLine(h),p=f.substring(d),m=this.session.getFoldAt(h,d,1);if(m)return this.moveCursorTo(m.end.row,m.end.column);if(d==f.length){var g=this.doc.getLength();do h++,p=this.doc.getLine(h);while(h<g&&/^\s*$/.test(p));/^\s+/.test(p)||(p=""),d=0}var v=this.$shortWordEndIndex(p);this.moveCursorTo(h,d+v)},c.prototype.moveCursorShortWordLeft=function(){var h=this.lead.row,d=this.lead.column,f;if(f=this.session.getFoldAt(h,d,-1))return this.moveCursorTo(f.start.row,f.start.column);var p=this.session.getLine(h).substring(0,d);if(d===0){do h--,p=this.doc.getLine(h);while(h>0&&/^\s*$/.test(p));d=p.length,/\s+$/.test(p)||(p="")}var m=s.stringReverse(p),g=this.$shortWordEndIndex(m);return this.moveCursorTo(h,d-g)},c.prototype.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},c.prototype.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},c.prototype.moveCursorBy=function(h,d){var f=this.session.documentToScreenPosition(this.lead.row,this.lead.column),p;if(d===0&&(h!==0&&(this.session.$bidiHandler.isBidiRow(f.row,this.lead.row)?(p=this.session.$bidiHandler.getPosLeft(f.column),f.column=Math.round(p/this.session.$bidiHandler.charWidths[0])):p=f.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?f.column=this.$desiredColumn:this.$desiredColumn=f.column),h!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var m=this.session.lineWidgets[this.lead.row];h<0?h-=m.rowsAbove||0:h>0&&(h+=m.rowCount-(m.rowsAbove||0))}var g=this.session.screenToDocumentPosition(f.row+h,f.column,p);h!==0&&d===0&&g.row===this.lead.row&&(g.column,this.lead.column),this.moveCursorTo(g.row,g.column+d,d===0)},c.prototype.moveCursorToPosition=function(h){this.moveCursorTo(h.row,h.column)},c.prototype.moveCursorTo=function(h,d,f){var p=this.session.getFoldAt(h,d,1);p&&(h=p.start.row,d=p.start.column),this.$keepDesiredColumnOnChange=!0;var m=this.session.getLine(h);/[\uDC00-\uDFFF]/.test(m.charAt(d))&&m.charAt(d-1)&&(this.lead.row==h&&this.lead.column==d+1?d=d-1:d=d+1),this.lead.setPosition(h,d),this.$keepDesiredColumnOnChange=!1,f||(this.$desiredColumn=null)},c.prototype.moveCursorToScreen=function(h,d,f){var p=this.session.screenToDocumentPosition(h,d);this.moveCursorTo(p.row,p.column,f)},c.prototype.detach=function(){this.lead.detach(),this.anchor.detach()},c.prototype.fromOrientedRange=function(h){this.setSelectionRange(h,h.cursor==h.start),this.$desiredColumn=h.desiredColumn||this.$desiredColumn},c.prototype.toOrientedRange=function(h){var d=this.getRange();return h?(h.start.column=d.start.column,h.start.row=d.start.row,h.end.column=d.end.column,h.end.row=d.end.row):h=d,h.cursor=this.isBackwards()?h.start:h.end,h.desiredColumn=this.$desiredColumn,h},c.prototype.getRangeOfMovements=function(h){var d=this.getCursor();try{h(this);var f=this.getCursor();return a.fromPoints(d,f)}catch{return a.fromPoints(d,d)}finally{this.moveCursorToPosition(d)}},c.prototype.toJSON=function(){if(this.rangeCount)var h=this.ranges.map(function(d){var f=d.clone();return f.isBackwards=d.cursor==d.start,f});else{var h=this.getRange();h.isBackwards=this.isBackwards()}return h},c.prototype.fromJSON=function(h){if(h.start==null)if(this.rangeList&&h.length>1){this.toSingleRange(h[0]);for(var d=h.length;d--;){var f=a.fromPoints(h[d].start,h[d].end);h[d].isBackwards&&(f.cursor=f.start),this.addRange(f,!0)}return}else h=h[0];this.rangeList&&this.toSingleRange(h),this.setSelectionRange(h,h.isBackwards)},c.prototype.isEqual=function(h){if((h.length||this.rangeCount)&&h.length!=this.rangeCount)return!1;if(!h.length||!this.ranges)return this.getRange().isEqual(h);for(var d=this.ranges.length;d--;)if(!this.ranges[d].isEqual(h[d]))return!1;return!0},c}();u.prototype.setSelectionAnchor=u.prototype.setAnchor,u.prototype.getSelectionAnchor=u.prototype.getAnchor,u.prototype.setSelectionRange=u.prototype.setRange,o.implement(u.prototype,l),i.Selection=u}),ace.define("ace/tokenizer",["require","exports","module","ace/lib/report_error"],function(n,i,r){var o=n("./lib/report_error").reportError,s=2e3,l=function(){function a(u){this.states=u,this.regExps={},this.matchMappings={};for(var c in this.states){for(var h=this.states[c],d=[],f=0,p=this.matchMappings[c]={defaultToken:"text"},m="g",g=[],v=0;v<h.length;v++){var y=h[v];if(y.defaultToken&&(p.defaultToken=y.defaultToken),y.caseInsensitive&&m.indexOf("i")===-1&&(m+="i"),y.unicode&&m.indexOf("u")===-1&&(m+="u"),y.regex!=null){y.regex instanceof RegExp&&(y.regex=y.regex.toString().slice(1,-1));var k=y.regex,C=new RegExp("(?:("+k+")|(.))").exec("a").length-2;Array.isArray(y.token)?y.token.length==1||C==1?y.token=y.token[0]:C-1!=y.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:y,groupCount:C-1}),y.token=y.token[0]):(y.tokenArray=y.token,y.token=null,y.onMatch=this.$arrayTokens):typeof y.token=="function"&&!y.onMatch&&(C>1?y.onMatch=this.$applyToken:y.onMatch=y.token),C>1&&(/\\\d/.test(y.regex)?k=y.regex.replace(/\\([0-9]+)/g,function(T,_){return"\\"+(parseInt(_,10)+f+1)}):(C=1,k=this.removeCapturingGroups(y.regex)),!y.splitRegex&&typeof y.token!="string"&&g.push(y)),p[f]=v,f+=C,d.push(k),y.onMatch||(y.onMatch=null)}}d.length||(p[0]=0,d.push("$")),g.forEach(function(T){T.splitRegex=this.createSplitterRegexp(T.regex,m)},this),this.regExps[c]=new RegExp("("+d.join(")|(")+")|($)",m)}}return a.prototype.$setMaxTokenCount=function(u){s=u|0},a.prototype.$applyToken=function(u){var c=this.splitRegex.exec(u).slice(1),h=this.token.apply(this,c);if(typeof h=="string")return[{type:h,value:u}];for(var d=[],f=0,p=h.length;f<p;f++)c[f]&&(d[d.length]={type:h[f],value:c[f]});return d},a.prototype.$arrayTokens=function(u){if(!u)return[];var c=this.splitRegex.exec(u);if(!c)return"text";for(var h=[],d=this.tokenArray,f=0,p=d.length;f<p;f++)c[f+1]&&(h[h.length]={type:d[f],value:c[f+1]});return h},a.prototype.removeCapturingGroups=function(u){var c=u.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(h,d){return d?"(?:":h});return c},a.prototype.createSplitterRegexp=function(u,c){if(u.indexOf("(?=")!=-1){var h=0,d=!1,f={};u.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(p,m,g,v,y,k){return d?d=y!="]":y?d=!0:v?(h==f.stack&&(f.end=k+1,f.stack=-1),h--):g&&(h++,g.length!=1&&(f.stack=h,f.start=k)),p}),f.end!=null&&/^\)*$/.test(u.substr(f.end))&&(u=u.substring(0,f.start)+u.substr(f.end))}return u.charAt(0)!="^"&&(u="^"+u),u.charAt(u.length-1)!="$"&&(u+="$"),new RegExp(u,(c||"").replace("g",""))},a.prototype.getLineTokens=function(u,c){if(c&&typeof c!="string"){var h=c.slice(0);c=h[0],c==="#tmp"&&(h.shift(),c=h.shift())}else var h=[];var d=c||"start",f=this.states[d];f||(d="start",f=this.states[d]);var p=this.matchMappings[d],m=this.regExps[d];m.lastIndex=0;for(var g,v=[],y=0,k=0,C={type:null,value:""};g=m.exec(u);){var T=p.defaultToken,_=null,E=g[0],w=m.lastIndex;if(w-E.length>y){var S=u.substring(y,w-E.length);C.type==T?C.value+=S:(C.type&&v.push(C),C={type:T,value:S})}for(var b=0;b<g.length-2;b++)if(g[b+1]!==void 0){_=f[p[b]],_.onMatch?T=_.onMatch(E,d,h,u):T=_.token,_.next&&(typeof _.next=="string"?d=_.next:d=_.next(d,h),f=this.states[d],f||(this.reportError("state doesn't exist",d),d="start",f=this.states[d]),p=this.matchMappings[d],y=w,m=this.regExps[d],m.lastIndex=w),_.consumeLineEnd&&(y=w);break}if(E){if(typeof T=="string")(!_||_.merge!==!1)&&C.type===T?C.value+=E:(C.type&&v.push(C),C={type:T,value:E});else if(T){C.type&&v.push(C),C={type:null,value:""};for(var b=0;b<T.length;b++)v.push(T[b])}}if(y==u.length)break;if(y=w,k++>s){for(k>2*u.length&&this.reportError("infinite loop with in ace tokenizer",{startState:c,line:u});y<u.length;)C.type&&v.push(C),C={value:u.substring(y,y+=500),type:"overflow"};d="start",h=[];break}}return C.type&&v.push(C),h.length>1&&h[0]!==d&&h.unshift("#tmp",d),{tokens:v,state:h.length?h:d}},a}();l.prototype.reportError=o,i.Tokenizer=l}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/deep_copy"],function(n,i,r){var o=n("../lib/deep_copy").deepCopy,s=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(u,c){if(!c){for(var h in u)this.$rules[h]=u[h];return}for(var h in u){for(var d=u[h],f=0;f<d.length;f++){var p=d[f];(p.next||p.onMatch)&&(typeof p.next=="string"&&p.next.indexOf(c)!==0&&(p.next=c+p.next),p.nextState&&p.nextState.indexOf(c)!==0&&(p.nextState=c+p.nextState))}this.$rules[c+h]=d}},this.getRules=function(){return this.$rules},this.embedRules=function(u,c,h,d,f){var p=typeof u=="function"?new u().getRules():u;if(d)for(var m=0;m<d.length;m++)d[m]=c+d[m];else{d=[];for(var g in p)d.push(c+g)}if(this.addRules(p,c),h)for(var v=Array.prototype[f?"push":"unshift"],m=0;m<d.length;m++)v.apply(this.$rules[d[m]],o(h));this.$embeds||(this.$embeds=[]),this.$embeds.push(c)},this.getEmbeds=function(){return this.$embeds};var l=function(u,c){return(u!="start"||c.length)&&c.unshift(this.nextState,u),this.nextState},a=function(u,c){return c.shift(),c.shift()||"start"};this.normalizeRules=function(){var u=0,c=this.$rules;function h(d){var f=c[d];f.processed=!0;for(var p=0;p<f.length;p++){var m=f[p],g=null;Array.isArray(m)&&(g=m,m={}),!m.regex&&m.start&&(m.regex=m.start,m.next||(m.next=[]),m.next.push({defaultToken:m.token},{token:m.token+".end",regex:m.end||m.start,next:"pop"}),m.token=m.token+".start",m.push=!0);var v=m.next||m.push;if(v&&Array.isArray(v)){var y=m.stateName;y||(y=m.token,typeof y!="string"&&(y=y[0]||""),c[y]&&(y+=u++)),c[y]=v,m.next=y,h(y)}else v=="pop"&&(m.next=a);if(m.push&&(m.nextState=m.next||m.push,m.next=l,delete m.push),m.rules)for(var k in m.rules)c[k]?c[k].push&&c[k].push.apply(c[k],m.rules[k]):c[k]=m.rules[k];var C=typeof m=="string"?m:m.include;if(C&&(C==="$self"&&(C="start"),Array.isArray(C)?g=C.map(function(_){return c[_]}):g=c[C]),g){var T=[p,1].concat(g);m.noEscape&&(T=T.filter(function(_){return!_.next})),f.splice.apply(f,T),p--}m.keywordMap&&(m.token=this.createKeywordMapper(m.keywordMap,m.defaultToken||"text",m.caseInsensitive),delete m.defaultToken)}}Object.keys(c).forEach(h,this)},this.createKeywordMapper=function(u,c,h,d){var f=Object.create(null);return this.$keywordList=[],Object.keys(u).forEach(function(p){for(var m=u[p],g=m.split(d||"|"),v=g.length;v--;){var y=g[v];this.$keywordList.push(y),h&&(y=y.toLowerCase()),f[y]=p}},this),u=null,h?function(p){return f[p.toLowerCase()]||c}:function(p){return f[p]||c}},this.getKeywords=function(){return this.$keywords}}).call(s.prototype),i.TextHighlightRules=s}),ace.define("ace/mode/behaviour",["require","exports","module"],function(n,i,r){var o=function(){this.$behaviours={}};(function(){this.add=function(s,l,a){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[s]:this.$behaviours[s]={}}this.$behaviours[s][l]=a},this.addBehaviours=function(s){for(var l in s)for(var a in s[l])this.add(l,a,s[l][a])},this.remove=function(s){this.$behaviours&&this.$behaviours[s]&&delete this.$behaviours[s]},this.inherit=function(s,l){if(typeof s=="function")var a=new s().getBehaviours(l);else var a=s.getBehaviours(l);this.addBehaviours(a)},this.getBehaviours=function(s){if(s){for(var l={},a=0;a<s.length;a++)this.$behaviours[s[a]]&&(l[s[a]]=this.$behaviours[s[a]]);return l}else return this.$behaviours}}).call(o.prototype),i.Behaviour=o}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(n,i,r){var o=n("./range").Range,s=function(){function l(a,u,c){this.$session=a,this.$row=u,this.$rowTokens=a.getTokens(u);var h=a.getTokenAt(u,c);this.$tokenIndex=h?h.index:-1}return l.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},l.prototype.stepForward=function(){this.$tokenIndex+=1;for(var a;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,a||(a=this.$session.getLength()),this.$row>=a)return this.$row=a-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},l.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},l.prototype.getCurrentTokenRow=function(){return this.$row},l.prototype.getCurrentTokenColumn=function(){var a=this.$rowTokens,u=this.$tokenIndex,c=a[u].start;if(c!==void 0)return c;for(c=0;u>0;)u-=1,c+=a[u].value.length;return c},l.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},l.prototype.getCurrentTokenRange=function(){var a=this.$rowTokens[this.$tokenIndex],u=this.getCurrentTokenColumn();return new o(this.$row,u,this.$row,u+a.value.length)},l}();i.TokenIterator=s}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(n,i,r){var o=n("../../lib/oop"),s=n("../behaviour").Behaviour,l=n("../../token_iterator").TokenIterator,a=n("../../lib/lang"),u=["text","paren.rparen","rparen","paren","punctuation.operator"],c=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],h,d={},f={'"':'"',"'":"'"},p=function(v){var y=-1;if(v.multiSelect&&(y=v.selection.index,d.rangeCount!=v.multiSelect.rangeCount&&(d={rangeCount:v.multiSelect.rangeCount})),d[y])return h=d[y];h=d[y]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},m=function(v,y,k,C){var T=v.end.row-v.start.row;return{text:k+y+C,selection:[0,v.start.column+1,T,v.end.column+(T?0:1)]}},g=function(v){v=v||{},this.add("braces","insertion",function(y,k,C,T,_){var E=C.getCursorPosition(),w=T.doc.getLine(E.row);if(_=="{"){p(C);var S=C.getSelectionRange(),b=T.doc.getTextRange(S);if(b!==""&&b!=="{"&&C.getWrapBehavioursEnabled())return m(S,b,"{","}");if(g.isSaneInsertion(C,T))return/[\]\}\)]/.test(w[E.column])||C.inMultiSelectMode||v.braces?(g.recordAutoInsert(C,T,"}"),{text:"{}",selection:[1,1]}):(g.recordMaybeInsert(C,T,"{"),{text:"{",selection:[1,1]})}else if(_=="}"){p(C);var x=w.substring(E.column,E.column+1);if(x=="}"){var A=T.$findOpeningBracket("}",{column:E.column+1,row:E.row});if(A!==null&&g.isAutoInsertedClosing(E,w,_))return g.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if(_==`
`||_==`\r
`){p(C);var O="";g.isMaybeInsertedClosing(E,w)&&(O=a.stringRepeat("}",h.maybeInsertedBrackets),g.clearMaybeInsertedClosing());var x=w.substring(E.column,E.column+1);if(x==="}"){var $=T.findMatchingBracket({row:E.row,column:E.column+1},"}");if(!$)return null;var M=this.$getIndent(T.getLine($.row))}else if(O)var M=this.$getIndent(w);else{g.clearMaybeInsertedClosing();return}var R=M+T.getTabString();return{text:`
`+R+`
`+M+O,selection:[1,R.length,1,R.length]}}else g.clearMaybeInsertedClosing()}),this.add("braces","deletion",function(y,k,C,T,_){var E=T.doc.getTextRange(_);if(!_.isMultiLine()&&E=="{"){p(C);var w=T.doc.getLine(_.start.row),S=w.substring(_.end.column,_.end.column+1);if(S=="}")return _.end.column++,_;h.maybeInsertedBrackets--}}),this.add("parens","insertion",function(y,k,C,T,_){if(_=="("){p(C);var E=C.getSelectionRange(),w=T.doc.getTextRange(E);if(w!==""&&C.getWrapBehavioursEnabled())return m(E,w,"(",")");if(g.isSaneInsertion(C,T))return g.recordAutoInsert(C,T,")"),{text:"()",selection:[1,1]}}else if(_==")"){p(C);var S=C.getCursorPosition(),b=T.doc.getLine(S.row),x=b.substring(S.column,S.column+1);if(x==")"){var A=T.$findOpeningBracket(")",{column:S.column+1,row:S.row});if(A!==null&&g.isAutoInsertedClosing(S,b,_))return g.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(y,k,C,T,_){var E=T.doc.getTextRange(_);if(!_.isMultiLine()&&E=="("){p(C);var w=T.doc.getLine(_.start.row),S=w.substring(_.start.column+1,_.start.column+2);if(S==")")return _.end.column++,_}}),this.add("brackets","insertion",function(y,k,C,T,_){if(_=="["){p(C);var E=C.getSelectionRange(),w=T.doc.getTextRange(E);if(w!==""&&C.getWrapBehavioursEnabled())return m(E,w,"[","]");if(g.isSaneInsertion(C,T))return g.recordAutoInsert(C,T,"]"),{text:"[]",selection:[1,1]}}else if(_=="]"){p(C);var S=C.getCursorPosition(),b=T.doc.getLine(S.row),x=b.substring(S.column,S.column+1);if(x=="]"){var A=T.$findOpeningBracket("]",{column:S.column+1,row:S.row});if(A!==null&&g.isAutoInsertedClosing(S,b,_))return g.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(y,k,C,T,_){var E=T.doc.getTextRange(_);if(!_.isMultiLine()&&E=="["){p(C);var w=T.doc.getLine(_.start.row),S=w.substring(_.start.column+1,_.start.column+2);if(S=="]")return _.end.column++,_}}),this.add("string_dquotes","insertion",function(y,k,C,T,_){var E=T.$mode.$quotes||f;if(_.length==1&&E[_]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(_)!=-1)return;p(C);var w=_,S=C.getSelectionRange(),b=T.doc.getTextRange(S);if(b!==""&&(b.length!=1||!E[b])&&C.getWrapBehavioursEnabled())return m(S,b,w,w);if(!b){var x=C.getCursorPosition(),A=T.doc.getLine(x.row),O=A.substring(x.column-1,x.column),$=A.substring(x.column,x.column+1),M=T.getTokenAt(x.row,x.column),R=T.getTokenAt(x.row,x.column+1);if(O=="\\"&&M&&/escape/.test(M.type))return null;var P=M&&/string|escape/.test(M.type),N=!R||/string|escape/.test(R.type),D;if($==w)D=P!==N,D&&/string\.end/.test(R.type)&&(D=!1);else{if(P&&!N||P&&N)return null;var V=T.$mode.tokenRe;V.lastIndex=0;var z=V.test(O);V.lastIndex=0;var F=V.test($),B=T.$mode.$pairQuotesAfter,j=B&&B[w]&&B[w].test(O);if(!j&&z||F||$&&!/[\s;,.})\]\\]/.test($))return null;var H=A[x.column-2];if(O==w&&(H==w||V.test(H)))return null;D=!0}return{text:D?w+w:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(y,k,C,T,_){var E=T.$mode.$quotes||f,w=T.doc.getTextRange(_);if(!_.isMultiLine()&&E.hasOwnProperty(w)){p(C);var S=T.doc.getLine(_.start.row),b=S.substring(_.start.column+1,_.start.column+2);if(b==w)return _.end.column++,_}}),v.closeDocComment!==!1&&this.add("doc comment end","insertion",function(y,k,C,T,_){if(y==="doc-start"&&(_===`
`||_===`\r
`)&&C.selection.isEmpty()){var E=C.getCursorPosition(),w=T.doc.getLine(E.row),S=T.doc.getLine(E.row+1),b=this.$getIndent(w);if(/\s*\*/.test(S))return/^\s*\*/.test(w)?{text:_+b+"* ",selection:[1,3+b.length,1,3+b.length]}:{text:_+b+" * ",selection:[1,3+b.length,1,3+b.length]};if(/\/\*\*/.test(w.substring(0,E.column)))return{text:_+b+" * "+_+" "+b+"*/",selection:[1,4+b.length,1,4+b.length]}}})};g.isSaneInsertion=function(v,y){var k=v.getCursorPosition(),C=new l(y,k.row,k.column);if(!this.$matchTokenType(C.getCurrentToken()||"text",u)){if(/[)}\]]/.test(v.session.getLine(k.row)[k.column]))return!0;var T=new l(y,k.row,k.column+1);if(!this.$matchTokenType(T.getCurrentToken()||"text",u))return!1}return C.stepForward(),C.getCurrentTokenRow()!==k.row||this.$matchTokenType(C.getCurrentToken()||"text",c)},g.$matchTokenType=function(v,y){return y.indexOf(v.type||v)>-1},g.recordAutoInsert=function(v,y,k){var C=v.getCursorPosition(),T=y.doc.getLine(C.row);this.isAutoInsertedClosing(C,T,h.autoInsertedLineEnd[0])||(h.autoInsertedBrackets=0),h.autoInsertedRow=C.row,h.autoInsertedLineEnd=k+T.substr(C.column),h.autoInsertedBrackets++},g.recordMaybeInsert=function(v,y,k){var C=v.getCursorPosition(),T=y.doc.getLine(C.row);this.isMaybeInsertedClosing(C,T)||(h.maybeInsertedBrackets=0),h.maybeInsertedRow=C.row,h.maybeInsertedLineStart=T.substr(0,C.column)+k,h.maybeInsertedLineEnd=T.substr(C.column),h.maybeInsertedBrackets++},g.isAutoInsertedClosing=function(v,y,k){return h.autoInsertedBrackets>0&&v.row===h.autoInsertedRow&&k===h.autoInsertedLineEnd[0]&&y.substr(v.column)===h.autoInsertedLineEnd},g.isMaybeInsertedClosing=function(v,y){return h.maybeInsertedBrackets>0&&v.row===h.maybeInsertedRow&&y.substr(v.column)===h.maybeInsertedLineEnd&&y.substr(0,v.column)==h.maybeInsertedLineStart},g.popAutoInsertedClosing=function(){h.autoInsertedLineEnd=h.autoInsertedLineEnd.substr(1),h.autoInsertedBrackets--},g.clearMaybeInsertedClosing=function(){h&&(h.maybeInsertedBrackets=0,h.maybeInsertedRow=-1)},o.inherits(g,s),i.CstyleBehaviour=g}),ace.define("ace/unicode",["require","exports","module"],function(n,i,r){for(var o=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],s=0,l=[],a=0;a<o.length;a+=2)l.push(s+=o[a]),o[a+1]&&l.push(45,s+=o[a+1]);i.wordChars=String.fromCharCode.apply(null,l)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(n,i,r){var o=n("../config"),s=n("../tokenizer").Tokenizer,l=n("./text_highlight_rules").TextHighlightRules,a=n("./behaviour/cstyle").CstyleBehaviour,u=n("../unicode"),c=n("../lib/lang"),h=n("../token_iterator").TokenIterator,d=n("../range").Range,f=function(){this.HighlightRules=l};(function(){this.$defaultBehaviour=new a,this.tokenRe=new RegExp("^["+u.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+u.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new s(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(p,m,g,v){var y=m.doc,k=!0,C=!0,T=1/0,_=m.getTabSize(),E=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var b=this.lineCommentStart.map(c.escapeRegExp).join("|"),w=this.lineCommentStart[0];else var b=c.escapeRegExp(this.lineCommentStart),w=this.lineCommentStart;b=new RegExp("^(\\s*)(?:"+b+") ?"),E=m.getUseSoftTabs();var O=function(F,B){var j=F.match(b);if(j){var H=j[1].length,G=j[0].length;!R(F,H,G)&&j[0][G-1]==" "&&G--,y.removeInLine(B,H,G)}},M=w+" ",A=function(F,B){(!k||/\S/.test(F))&&(R(F,T,T)?y.insertInLine({row:B,column:T},M):y.insertInLine({row:B,column:T},w))},$=function(F,B){return b.test(F)},R=function(F,B,j){for(var H=0;B--&&F.charAt(B)==" ";)H++;if(H%_!=0)return!1;for(var H=0;F.charAt(j++)==" ";)H++;return _>2?H%_!=_-1:H%_==0}}else{if(!this.blockComment)return!1;var w=this.blockComment.start,S=this.blockComment.end,b=new RegExp("^(\\s*)(?:"+c.escapeRegExp(w)+")"),x=new RegExp("(?:"+c.escapeRegExp(S)+")\\s*$"),A=function(D,V){$(D,V)||(!k||/\S/.test(D))&&(y.insertInLine({row:V,column:D.length},S),y.insertInLine({row:V,column:T},w))},O=function(D,V){var z;(z=D.match(x))&&y.removeInLine(V,D.length-z[0].length,D.length),(z=D.match(b))&&y.removeInLine(V,z[1].length,z[0].length)},$=function(D,V){if(b.test(D))return!0;for(var z=m.getTokens(V),F=0;F<z.length;F++)if(z[F].type==="comment")return!0}}function P(D){for(var V=g;V<=v;V++)D(y.getLine(V),V)}var N=1/0;P(function(D,V){var z=D.search(/\S/);z!==-1?(z<T&&(T=z),C&&!$(D,V)&&(C=!1)):N>D.length&&(N=D.length)}),T==1/0&&(T=N,k=!1,C=!1),E&&T%_!=0&&(T=Math.floor(T/_)*_),P(C?O:A)},this.toggleBlockComment=function(p,m,g,v){var y=this.blockComment;if(y){!y.start&&y[0]&&(y=y[0]);var k=new h(m,v.row,v.column),C=k.getCurrentToken();m.selection;var T=m.selection.toOrientedRange(),_,E;if(C&&/comment/.test(C.type)){for(var w,S;C&&/comment/.test(C.type);){var b=C.value.indexOf(y.start);if(b!=-1){var x=k.getCurrentTokenRow(),A=k.getCurrentTokenColumn()+b;w=new d(x,A,x,A+y.start.length);break}C=k.stepBackward()}for(var k=new h(m,v.row,v.column),C=k.getCurrentToken();C&&/comment/.test(C.type);){var b=C.value.indexOf(y.end);if(b!=-1){var x=k.getCurrentTokenRow(),A=k.getCurrentTokenColumn()+b;S=new d(x,A,x,A+y.end.length);break}C=k.stepForward()}S&&m.remove(S),w&&(m.remove(w),_=w.start.row,E=-y.start.length)}else E=y.start.length,_=g.start.row,m.insert(g.end,y.end),m.insert(g.start,y.start);T.start.row==_&&(T.start.column+=E),T.end.row==_&&(T.end.column+=E),m.selection.fromOrientedRange(T)}},this.getNextLineIndent=function(p,m,g){return this.$getIndent(m)},this.checkOutdent=function(p,m,g){return!1},this.autoOutdent=function(p,m,g){},this.$getIndent=function(p){return p.match(/^\s*/)[0]},this.createWorker=function(p){return null},this.createModeDelegates=function(p){this.$embeds=[],this.$modes={};for(var m in p)if(p[m]){var g=p[m],v=g.prototype.$id,y=o.$modes[v];y||(o.$modes[v]=y=new g),o.$modes[m]||(o.$modes[m]=y),this.$embeds.push(m),this.$modes[m]=y}for(var k=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],m=0;m<k.length;m++)(function(T){var _=k[m],E=T[_];T[k[m]]=function(){return this.$delegator(_,arguments,E)}})(this)},this.$delegator=function(p,m,g){var v=m[0]||"start";if(typeof v!="string"){if(Array.isArray(v[2])){var y=v[2][v[2].length-1],k=this.$modes[y];if(k)return k[p].apply(k,[v[1]].concat([].slice.call(m,1)))}v=v[0]||"start"}for(var C=0;C<this.$embeds.length;C++)if(this.$modes[this.$embeds[C]]){var T=v.split(this.$embeds[C]);if(!T[0]&&T[1]){m[0]=T[1];var k=this.$modes[this.$embeds[C]];return k[p].apply(k,m)}}var _=g.apply(this,m);return g?_:void 0},this.transformAction=function(p,m,g,v,y){if(this.$behaviour){var k=this.$behaviour.getBehaviours();for(var C in k)if(k[C][m]){var T=k[C][m].apply(this,arguments);if(T)return T}}},this.getKeywords=function(p){if(!this.completionKeywords){var m=this.$tokenizer.rules,g=[];for(var v in m)for(var y=m[v],k=0,C=y.length;k<C;k++)if(typeof y[k].token=="string")/keyword|support|storage/.test(y[k].token)&&g.push(y[k].regex);else if(typeof y[k].token=="object"){for(var T=0,_=y[k].token.length;T<_;T++)if(/keyword|support|storage/.test(y[k].token[T])){var v=y[k].regex.match(/\(.+?\)/g)[T];g.push(v.substr(1,v.length-2))}}this.completionKeywords=g}return p?g.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(p,m,g,v){var y=this.$keywordList||this.$createKeywordList();return y.map(function(k){return{name:k,value:k,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(f.prototype),i.Mode=f}),ace.define("ace/apply_delta",["require","exports","module"],function(n,i,r){i.applyDelta=function(o,s,l){var a=s.start.row,u=s.start.column,c=o[a]||"";switch(s.action){case"insert":var h=s.lines;if(h.length===1)o[a]=c.substring(0,u)+s.lines[0]+c.substring(u);else{var d=[a,1].concat(s.lines);o.splice.apply(o,d),o[a]=c.substring(0,u)+o[a],o[a+s.lines.length-1]+=c.substring(u)}break;case"remove":var f=s.end.column,p=s.end.row;a===p?o[a]=c.substring(0,u)+c.substring(f):o.splice(a,p-a+1,c.substring(0,u)+o[p].substring(f));break}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(n,i,r){var o=n("./lib/oop"),s=n("./lib/event_emitter").EventEmitter,l=function(){function c(h,d,f){this.$onChange=this.onChange.bind(this),this.attach(h),typeof f>"u"?this.setPosition(d.row,d.column):this.setPosition(d,f)}return c.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},c.prototype.getDocument=function(){return this.document},c.prototype.onChange=function(h){if(!(h.start.row==h.end.row&&h.start.row!=this.row)&&!(h.start.row>this.row)){var d=u(h,{row:this.row,column:this.column},this.$insertRight);this.setPosition(d.row,d.column,!0)}},c.prototype.setPosition=function(h,d,f){var p;if(f?p={row:h,column:d}:p=this.$clipPositionToDocument(h,d),!(this.row==p.row&&this.column==p.column)){var m={row:this.row,column:this.column};this.row=p.row,this.column=p.column,this._signal("change",{old:m,value:p})}},c.prototype.detach=function(){this.document.off("change",this.$onChange)},c.prototype.attach=function(h){this.document=h||this.document,this.document.on("change",this.$onChange)},c.prototype.$clipPositionToDocument=function(h,d){var f={};return h>=this.document.getLength()?(f.row=Math.max(0,this.document.getLength()-1),f.column=this.document.getLine(f.row).length):h<0?(f.row=0,f.column=0):(f.row=h,f.column=Math.min(this.document.getLine(f.row).length,Math.max(0,d))),d<0&&(f.column=0),f},c}();l.prototype.$insertRight=!1,o.implement(l.prototype,s);function a(c,h,d){var f=d?c.column<=h.column:c.column<h.column;return c.row<h.row||c.row==h.row&&f}function u(c,h,d){var f=c.action=="insert",p=(f?1:-1)*(c.end.row-c.start.row),m=(f?1:-1)*(c.end.column-c.start.column),g=c.start,v=f?g:c.end;return a(h,g,d)?{row:h.row,column:h.column}:a(v,h,!d)?{row:h.row+p,column:h.column+(h.row==v.row?m:0)}:{row:g.row,column:g.column}}i.Anchor=l}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(n,i,r){var o=n("./lib/oop"),s=n("./apply_delta").applyDelta,l=n("./lib/event_emitter").EventEmitter,a=n("./range").Range,u=n("./anchor").Anchor,c=function(){function h(d){this.$lines=[""],d.length===0?this.$lines=[""]:Array.isArray(d)?this.insertMergedLines({row:0,column:0},d):this.insert({row:0,column:0},d)}return h.prototype.setValue=function(d){var f=this.getLength()-1;this.remove(new a(0,0,f,this.getLine(f).length)),this.insert({row:0,column:0},d||"")},h.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},h.prototype.createAnchor=function(d,f){return new u(this,d,f)},h.prototype.$detectNewLine=function(d){var f=d.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=f?f[1]:`
`,this._signal("changeNewLineMode")},h.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},h.prototype.setNewLineMode=function(d){this.$newLineMode!==d&&(this.$newLineMode=d,this._signal("changeNewLineMode"))},h.prototype.getNewLineMode=function(){return this.$newLineMode},h.prototype.isNewLine=function(d){return d==`\r
`||d=="\r"||d==`
`},h.prototype.getLine=function(d){return this.$lines[d]||""},h.prototype.getLines=function(d,f){return this.$lines.slice(d,f+1)},h.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},h.prototype.getLength=function(){return this.$lines.length},h.prototype.getTextRange=function(d){return this.getLinesForRange(d).join(this.getNewLineCharacter())},h.prototype.getLinesForRange=function(d){var f;if(d.start.row===d.end.row)f=[this.getLine(d.start.row).substring(d.start.column,d.end.column)];else{f=this.getLines(d.start.row,d.end.row),f[0]=(f[0]||"").substring(d.start.column);var p=f.length-1;d.end.row-d.start.row==p&&(f[p]=f[p].substring(0,d.end.column))}return f},h.prototype.insertLines=function(d,f){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(d,f)},h.prototype.removeLines=function(d,f){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(d,f)},h.prototype.insertNewLine=function(d){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(d,["",""])},h.prototype.insert=function(d,f){return this.getLength()<=1&&this.$detectNewLine(f),this.insertMergedLines(d,this.$split(f))},h.prototype.insertInLine=function(d,f){var p=this.clippedPos(d.row,d.column),m=this.pos(d.row,d.column+f.length);return this.applyDelta({start:p,end:m,action:"insert",lines:[f]},!0),this.clonePos(m)},h.prototype.clippedPos=function(d,f){var p=this.getLength();d===void 0?d=p:d<0?d=0:d>=p&&(d=p-1,f=void 0);var m=this.getLine(d);return f==null&&(f=m.length),f=Math.min(Math.max(f,0),m.length),{row:d,column:f}},h.prototype.clonePos=function(d){return{row:d.row,column:d.column}},h.prototype.pos=function(d,f){return{row:d,column:f}},h.prototype.$clipPosition=function(d){var f=this.getLength();return d.row>=f?(d.row=Math.max(0,f-1),d.column=this.getLine(f-1).length):(d.row=Math.max(0,d.row),d.column=Math.min(Math.max(d.column,0),this.getLine(d.row).length)),d},h.prototype.insertFullLines=function(d,f){d=Math.min(Math.max(d,0),this.getLength());var p=0;d<this.getLength()?(f=f.concat([""]),p=0):(f=[""].concat(f),d--,p=this.$lines[d].length),this.insertMergedLines({row:d,column:p},f)},h.prototype.insertMergedLines=function(d,f){var p=this.clippedPos(d.row,d.column),m={row:p.row+f.length-1,column:(f.length==1?p.column:0)+f[f.length-1].length};return this.applyDelta({start:p,end:m,action:"insert",lines:f}),this.clonePos(m)},h.prototype.remove=function(d){var f=this.clippedPos(d.start.row,d.start.column),p=this.clippedPos(d.end.row,d.end.column);return this.applyDelta({start:f,end:p,action:"remove",lines:this.getLinesForRange({start:f,end:p})}),this.clonePos(f)},h.prototype.removeInLine=function(d,f,p){var m=this.clippedPos(d,f),g=this.clippedPos(d,p);return this.applyDelta({start:m,end:g,action:"remove",lines:this.getLinesForRange({start:m,end:g})},!0),this.clonePos(m)},h.prototype.removeFullLines=function(d,f){d=Math.min(Math.max(0,d),this.getLength()-1),f=Math.min(Math.max(0,f),this.getLength()-1);var p=f==this.getLength()-1&&d>0,m=f<this.getLength()-1,g=p?d-1:d,v=p?this.getLine(g).length:0,y=m?f+1:f,k=m?0:this.getLine(y).length,C=new a(g,v,y,k),T=this.$lines.slice(d,f+1);return this.applyDelta({start:C.start,end:C.end,action:"remove",lines:this.getLinesForRange(C)}),T},h.prototype.removeNewLine=function(d){d<this.getLength()-1&&d>=0&&this.applyDelta({start:this.pos(d,this.getLine(d).length),end:this.pos(d+1,0),action:"remove",lines:["",""]})},h.prototype.replace=function(d,f){if(d instanceof a||(d=a.fromPoints(d.start,d.end)),f.length===0&&d.isEmpty())return d.start;if(f==this.getTextRange(d))return d.end;this.remove(d);var p;return f?p=this.insert(d.start,f):p=d.start,p},h.prototype.applyDeltas=function(d){for(var f=0;f<d.length;f++)this.applyDelta(d[f])},h.prototype.revertDeltas=function(d){for(var f=d.length-1;f>=0;f--)this.revertDelta(d[f])},h.prototype.applyDelta=function(d,f){var p=d.action=="insert";(p?d.lines.length<=1&&!d.lines[0]:!a.comparePoints(d.start,d.end))||(p&&d.lines.length>2e4?this.$splitAndapplyLargeDelta(d,2e4):(s(this.$lines,d,f),this._signal("change",d)))},h.prototype.$safeApplyDelta=function(d){var f=this.$lines.length;(d.action=="remove"&&d.start.row<f&&d.end.row<f||d.action=="insert"&&d.start.row<=f)&&this.applyDelta(d)},h.prototype.$splitAndapplyLargeDelta=function(d,f){for(var p=d.lines,m=p.length-f+1,g=d.start.row,v=d.start.column,y=0,k=0;y<m;y=k){k+=f-1;var C=p.slice(y,k);C.push(""),this.applyDelta({start:this.pos(g+y,v),end:this.pos(g+k,v=0),action:d.action,lines:C},!0)}d.lines=p.slice(y),d.start.row=g+y,d.start.column=v,this.applyDelta(d,!0)},h.prototype.revertDelta=function(d){this.$safeApplyDelta({start:this.clonePos(d.start),end:this.clonePos(d.end),action:d.action=="insert"?"remove":"insert",lines:d.lines.slice()})},h.prototype.indexToPosition=function(d,f){for(var p=this.$lines||this.getAllLines(),m=this.getNewLineCharacter().length,g=f||0,v=p.length;g<v;g++)if(d-=p[g].length+m,d<0)return{row:g,column:d+p[g].length+m};return{row:v-1,column:d+p[v-1].length+m}},h.prototype.positionToIndex=function(d,f){for(var p=this.$lines||this.getAllLines(),m=this.getNewLineCharacter().length,g=0,v=Math.min(d.row,p.length),y=f||0;y<v;++y)g+=p[y].length+m;return g+d.column},h.prototype.$split=function(d){return d.split(/\r\n|\r|\n/)},h}();c.prototype.$autoNewLine="",c.prototype.$newLineMode="auto",o.implement(c.prototype,l),i.Document=c}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(n,i,r){var o=n("./lib/oop"),s=n("./lib/event_emitter").EventEmitter,l=function(){function a(u,c){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=u;var h=this;this.$worker=function(){if(h.running){for(var d=new Date,f=h.currentLine,p=-1,m=h.doc,g=f;h.lines[f];)f++;var v=m.getLength(),y=0;for(h.running=!1;f<v;){h.$tokenizeRow(f),p=f;do f++;while(h.lines[f]);if(y++,y%5===0&&new Date-d>20){h.running=setTimeout(h.$worker,20);break}}h.currentLine=f,p==-1&&(p=f),g<=p&&h.fireUpdateEvent(g,p)}}}return a.prototype.setTokenizer=function(u){this.tokenizer=u,this.lines=[],this.states=[],this.start(0)},a.prototype.setDocument=function(u){this.doc=u,this.lines=[],this.states=[],this.stop()},a.prototype.fireUpdateEvent=function(u,c){var h={first:u,last:c};this._signal("update",{data:h})},a.prototype.start=function(u){this.currentLine=Math.min(u||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},a.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},a.prototype.$updateOnChange=function(u){var c=u.start.row,h=u.end.row-c;if(h===0)this.lines[c]=null;else if(u.action=="remove")this.lines.splice(c,h+1,null),this.states.splice(c,h+1,null);else{var d=Array(h+1);d.unshift(c,1),this.lines.splice.apply(this.lines,d),this.states.splice.apply(this.states,d)}this.currentLine=Math.min(c,this.currentLine,this.doc.getLength()),this.stop()},a.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},a.prototype.getTokens=function(u){return this.lines[u]||this.$tokenizeRow(u)},a.prototype.getState=function(u){return this.currentLine==u&&this.$tokenizeRow(u),this.states[u]||"start"},a.prototype.$tokenizeRow=function(u){var c=this.doc.getLine(u),h=this.states[u-1],d=this.tokenizer.getLineTokens(c,h,u);return this.states[u]+""!=d.state+""?(this.states[u]=d.state,this.lines[u+1]=null,this.currentLine>u+1&&(this.currentLine=u+1)):this.currentLine==u&&(this.currentLine=u+1),this.lines[u]=d.tokens},a.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},a}();o.implement(l.prototype,s),i.BackgroundTokenizer=l}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],function(n,i,r){var o=n("./lib/lang"),s=n("./range").Range,l=function(){function a(u,c,h){h===void 0&&(h="text"),this.setRegexp(u),this.clazz=c,this.type=h}return a.prototype.setRegexp=function(u){this.regExp+""!=u+""&&(this.regExp=u,this.cache=[])},a.prototype.update=function(u,c,h,d){if(this.regExp)for(var f=d.firstRow,p=d.lastRow,m={},g=f;g<=p;g++){var v=this.cache[g];v==null&&(v=o.getMatchOffsets(h.getLine(g),this.regExp),v.length>this.MAX_RANGES&&(v=v.slice(0,this.MAX_RANGES)),v=v.map(function(T){return new s(g,T.offset,g,T.offset+T.length)}),this.cache[g]=v.length?v:"");for(var y=v.length;y--;){var k=v[y].toScreenRange(h),C=k.toString();m[C]||(m[C]=!0,c.drawSingleLineMarker(u,k,this.clazz,d))}}},a}();l.prototype.MAX_RANGES=500,i.SearchHighlight=l}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(n,i,r){var o=n("../range").Range,s=function(){function l(a,u){this.foldData=a,Array.isArray(u)?this.folds=u:u=this.folds=[u];var c=u[u.length-1];this.range=new o(u[0].start.row,u[0].start.column,c.end.row,c.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(h){h.setFoldLine(this)},this)}return l.prototype.shiftRow=function(a){this.start.row+=a,this.end.row+=a,this.folds.forEach(function(u){u.start.row+=a,u.end.row+=a})},l.prototype.addFold=function(a){if(a.sameRow){if(a.start.row<this.startRow||a.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(a),this.folds.sort(function(u,c){return-u.range.compareEnd(c.start.row,c.start.column)}),this.range.compareEnd(a.start.row,a.start.column)>0?(this.end.row=a.end.row,this.end.column=a.end.column):this.range.compareStart(a.end.row,a.end.column)<0&&(this.start.row=a.start.row,this.start.column=a.start.column)}else if(a.start.row==this.end.row)this.folds.push(a),this.end.row=a.end.row,this.end.column=a.end.column;else if(a.end.row==this.start.row)this.folds.unshift(a),this.start.row=a.start.row,this.start.column=a.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");a.foldLine=this},l.prototype.containsRow=function(a){return a>=this.start.row&&a<=this.end.row},l.prototype.walk=function(a,u,c){var h=0,d=this.folds,f,p,m,g=!0;u==null&&(u=this.end.row,c=this.end.column);for(var v=0;v<d.length;v++){if(f=d[v],p=f.range.compareStart(u,c),p==-1){a(null,u,c,h,g);return}if(m=a(null,f.start.row,f.start.column,h,g),m=!m&&a(f.placeholder,f.start.row,f.start.column,h),m||p===0)return;g=!f.sameRow,h=f.end.column}a(null,u,c,h,g)},l.prototype.getNextFoldTo=function(a,u){for(var c,h,d=0;d<this.folds.length;d++){if(c=this.folds[d],h=c.range.compareEnd(a,u),h==-1)return{fold:c,kind:"after"};if(h===0)return{fold:c,kind:"inside"}}return null},l.prototype.addRemoveChars=function(a,u,c){var h=this.getNextFoldTo(a,u),d,f;if(h){if(d=h.fold,h.kind=="inside"&&d.start.column!=u&&d.start.row!=a)window.console&&window.console.log(a,u,d);else if(d.start.row==a){f=this.folds;var p=f.indexOf(d);for(p===0&&(this.start.column+=c),p;p<f.length;p++){if(d=f[p],d.start.column+=c,!d.sameRow)return;d.end.column+=c}this.end.column+=c}}},l.prototype.split=function(a,u){var c=this.getNextFoldTo(a,u);if(!c||c.kind=="inside")return null;var h=c.fold,d=this.folds,f=this.foldData,p=d.indexOf(h),m=d[p-1];this.end.row=m.end.row,this.end.column=m.end.column,d=d.splice(p,d.length-p);var g=new l(f,d);return f.splice(f.indexOf(this)+1,0,g),g},l.prototype.merge=function(a){for(var u=a.folds,c=0;c<u.length;c++)this.addFold(u[c]);var h=this.foldData;h.splice(h.indexOf(a),1)},l.prototype.toString=function(){var a=[this.range.toString()+": ["];return this.folds.forEach(function(u){a.push("  "+u.toString())}),a.push("]"),a.join(`
`)},l.prototype.idxToPosition=function(a){for(var u=0,c=0;c<this.folds.length;c++){var h=this.folds[c];if(a-=h.start.column-u,a<0)return{row:h.start.row,column:h.start.column+a};if(a-=h.placeholder.length,a<0)return h.start;u=h.end.column}return{row:this.end.row,column:this.end.column+a}},l}();i.FoldLine=s}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(n,i,r){var o=n("./range").Range,s=o.comparePoints,l=function(){function a(){this.ranges=[],this.$bias=1}return a.prototype.pointIndex=function(u,c,h){for(var d=this.ranges,f=h||0;f<d.length;f++){var p=d[f],m=s(u,p.end);if(!(m>0)){var g=s(u,p.start);return m===0?c&&g!==0?-f-2:f:g>0||g===0&&!c?f:-f-1}}return-f-1},a.prototype.add=function(u){var c=!u.isEmpty(),h=this.pointIndex(u.start,c);h<0&&(h=-h-1);var d=this.pointIndex(u.end,c,h);return d<0?d=-d-1:d++,this.ranges.splice(h,d-h,u)},a.prototype.addList=function(u){for(var c=[],h=u.length;h--;)c.push.apply(c,this.add(u[h]));return c},a.prototype.substractPoint=function(u){var c=this.pointIndex(u);if(c>=0)return this.ranges.splice(c,1)},a.prototype.merge=function(){var u=[],c=this.ranges;c=c.sort(function(m,g){return s(m.start,g.start)});for(var h=c[0],d,f=1;f<c.length;f++){d=h,h=c[f];var p=s(d.end,h.start);p<0||p==0&&!d.isEmpty()&&!h.isEmpty()||(s(d.end,h.end)<0&&(d.end.row=h.end.row,d.end.column=h.end.column),c.splice(f,1),u.push(h),h=d,f--)}return this.ranges=c,u},a.prototype.contains=function(u,c){return this.pointIndex({row:u,column:c})>=0},a.prototype.containsPoint=function(u){return this.pointIndex(u)>=0},a.prototype.rangeAtPoint=function(u){var c=this.pointIndex(u);if(c>=0)return this.ranges[c]},a.prototype.clipRows=function(u,c){var h=this.ranges;if(h[0].start.row>c||h[h.length-1].start.row<u)return[];var d=this.pointIndex({row:u,column:0});d<0&&(d=-d-1);var f=this.pointIndex({row:c,column:0},d);f<0&&(f=-f-1);for(var p=[],m=d;m<f;m++)p.push(h[m]);return p},a.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},a.prototype.attach=function(u){this.session&&this.detach(),this.session=u,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},a.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},a.prototype.$onChange=function(u){for(var c=u.start,h=u.end,d=c.row,f=h.row,p=this.ranges,m=0,g=p.length;m<g;m++){var v=p[m];if(v.end.row>=d)break}if(u.action=="insert")for(var y=f-d,k=-c.column+h.column;m<g;m++){var v=p[m];if(v.start.row>d)break;if(v.start.row==d&&v.start.column>=c.column&&(v.start.column==c.column&&this.$bias<=0||(v.start.column+=k,v.start.row+=y)),v.end.row==d&&v.end.column>=c.column){if(v.end.column==c.column&&this.$bias<0)continue;v.end.column==c.column&&k>0&&m<g-1&&v.end.column>v.start.column&&v.end.column==p[m+1].start.column&&(v.end.column-=k),v.end.column+=k,v.end.row+=y}}else for(var y=d-f,k=c.column-h.column;m<g;m++){var v=p[m];if(v.start.row>f)break;v.end.row<f&&(d<v.end.row||d==v.end.row&&c.column<v.end.column)?(v.end.row=d,v.end.column=c.column):v.end.row==f?v.end.column<=h.column?(y||v.end.column>c.column)&&(v.end.column=c.column,v.end.row=c.row):(v.end.column+=k,v.end.row+=y):v.end.row>f&&(v.end.row+=y),v.start.row<f&&(d<v.start.row||d==v.start.row&&c.column<v.start.column)?(v.start.row=d,v.start.column=c.column):v.start.row==f?v.start.column<=h.column?(y||v.start.column>c.column)&&(v.start.column=c.column,v.start.row=c.row):(v.start.column+=k,v.start.row+=y):v.start.row>f&&(v.start.row+=y)}if(y!=0&&m<g)for(;m<g;m++){var v=p[m];v.start.row+=y,v.end.row+=y}},a}();l.prototype.comparePoints=s,i.RangeList=l}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],function(n,i,r){var o=this&&this.__extends||function(){var d=function(f,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&(m[v]=g[v])},d(f,p)};return function(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");d(f,p);function m(){this.constructor=f}f.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}(),s=n("../range_list").RangeList,l=function(d){o(f,d);function f(p,m){var g=d.call(this)||this;return g.foldLine=null,g.placeholder=m,g.range=p,g.start=p.start,g.end=p.end,g.sameRow=p.start.row==p.end.row,g.subFolds=g.ranges=[],g}return f.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},f.prototype.setFoldLine=function(p){this.foldLine=p,this.subFolds.forEach(function(m){m.setFoldLine(p)})},f.prototype.clone=function(){var p=this.range.clone(),m=new f(p,this.placeholder);return this.subFolds.forEach(function(g){m.subFolds.push(g.clone())}),m.collapseChildren=this.collapseChildren,m},f.prototype.addSubFold=function(p){if(!this.range.isEqual(p)){u(p,this.start);for(var k=p.start.row,C=p.start.column,m=0,g=-1;m<this.subFolds.length&&(g=this.subFolds[m].range.compare(k,C),g==1);m++);var v=this.subFolds[m],y=0;if(g==0){if(v.range.containsRange(p))return v.addSubFold(p);y=1}for(var k=p.range.end.row,C=p.range.end.column,T=m,g=-1;T<this.subFolds.length&&(g=this.subFolds[T].range.compare(k,C),g==1);T++);g==0&&T++;for(var _=this.subFolds.splice(m,T-m,p),E=g==0?_.length-1:_.length,w=y;w<E;w++)p.addSubFold(_[w]);return p.setFoldLine(this.foldLine),p}},f.prototype.restoreRange=function(p){return h(p,this.start)},f}(s);function a(d,f){d.row-=f.row,d.row==0&&(d.column-=f.column)}function u(d,f){a(d.start,f),a(d.end,f)}function c(d,f){d.row==0&&(d.column+=f.column),d.row+=f.row}function h(d,f){c(d.start,f),c(d.end,f)}i.Fold=l}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],function(n,i,r){var o=n("../range").Range,s=n("./fold_line").FoldLine,l=n("./fold").Fold,a=n("../token_iterator").TokenIterator,u=n("../mouse/mouse_event").MouseEvent;function c(){this.getFoldAt=function(h,d,f){var p=this.getFoldLine(h);if(!p)return null;for(var m=p.folds,g=0;g<m.length;g++){var v=m[g].range;if(v.contains(h,d)){if(f==1&&v.isEnd(h,d)&&!v.isEmpty())continue;if(f==-1&&v.isStart(h,d)&&!v.isEmpty())continue;return m[g]}}},this.getFoldsInRange=function(h){var d=h.start,f=h.end,p=this.$foldData,m=[];d.column+=1,f.column-=1;for(var g=0;g<p.length;g++){var v=p[g].range.compareRange(h);if(v!=2){if(v==-2)break;for(var y=p[g].folds,k=0;k<y.length;k++){var C=y[k];if(v=C.range.compareRange(h),v==-2)break;if(v==2)continue;if(v==42)break;m.push(C)}}}return d.column-=1,f.column+=1,m},this.getFoldsInRangeList=function(h){if(Array.isArray(h)){var d=[];h.forEach(function(f){d=d.concat(this.getFoldsInRange(f))},this)}else var d=this.getFoldsInRange(h);return d},this.getAllFolds=function(){for(var h=[],d=this.$foldData,f=0;f<d.length;f++)for(var p=0;p<d[f].folds.length;p++)h.push(d[f].folds[p]);return h},this.getFoldStringAt=function(h,d,f,p){if(p=p||this.getFoldLine(h),!p)return null;for(var m={end:{column:0}},g,v,y=0;y<p.folds.length;y++){v=p.folds[y];var k=v.range.compareEnd(h,d);if(k==-1){g=this.getLine(v.start.row).substring(m.end.column,v.start.column);break}else if(k===0)return null;m=v}return g||(g=this.getLine(v.start.row).substring(m.end.column)),f==-1?g.substring(0,d-m.end.column):f==1?g.substring(d-m.end.column):g},this.getFoldLine=function(h,d){var f=this.$foldData,p=0;for(d&&(p=f.indexOf(d)),p==-1&&(p=0),p;p<f.length;p++){var m=f[p];if(m.start.row<=h&&m.end.row>=h)return m;if(m.end.row>h)return null}return null},this.getNextFoldLine=function(h,d){var f=this.$foldData,p=0;for(d&&(p=f.indexOf(d)),p==-1&&(p=0),p;p<f.length;p++){var m=f[p];if(m.end.row>=h)return m}return null},this.getFoldedRowCount=function(h,d){for(var f=this.$foldData,p=d-h+1,m=0;m<f.length;m++){var g=f[m],v=g.end.row,y=g.start.row;if(v>=d){y<d&&(y>=h?p-=d-y:p=0);break}else v>=h&&(y>=h?p-=v-y:p-=v-h+1)}return p},this.$addFoldLine=function(h){return this.$foldData.push(h),this.$foldData.sort(function(d,f){return d.start.row-f.start.row}),h},this.addFold=function(h,d){var f=this.$foldData,p=!1,m;h instanceof l?m=h:(m=new l(d,h),m.collapseChildren=d.collapseChildren),this.$clipRangeToDocument(m.range);var g=m.start.row,v=m.start.column,y=m.end.row,k=m.end.column,C=this.getFoldAt(g,v,1),T=this.getFoldAt(y,k,-1);if(C&&T==C)return C.addSubFold(m);C&&!C.range.isStart(g,v)&&this.removeFold(C),T&&!T.range.isEnd(y,k)&&this.removeFold(T);var _=this.getFoldsInRange(m.range);_.length>0&&(this.removeFolds(_),m.collapseChildren||_.forEach(function(b){m.addSubFold(b)}));for(var E=0;E<f.length;E++){var w=f[E];if(y==w.start.row){w.addFold(m),p=!0;break}else if(g==w.end.row){if(w.addFold(m),p=!0,!m.sameRow){var S=f[E+1];if(S&&S.start.row==y){w.merge(S);break}}break}else if(y<=w.start.row)break}return p||(w=this.$addFoldLine(new s(this.$foldData,m))),this.$useWrapMode?this.$updateWrapData(w.start.row,w.start.row):this.$updateRowLengthCache(w.start.row,w.start.row),this.$modified=!0,this._signal("changeFold",{data:m,action:"add"}),m},this.addFolds=function(h){h.forEach(function(d){this.addFold(d)},this)},this.removeFold=function(h){var d=h.foldLine,f=d.start.row,p=d.end.row,m=this.$foldData,g=d.folds;if(g.length==1)m.splice(m.indexOf(d),1);else if(d.range.isEnd(h.end.row,h.end.column))g.pop(),d.end.row=g[g.length-1].end.row,d.end.column=g[g.length-1].end.column;else if(d.range.isStart(h.start.row,h.start.column))g.shift(),d.start.row=g[0].start.row,d.start.column=g[0].start.column;else if(h.sameRow)g.splice(g.indexOf(h),1);else{var v=d.split(h.start.row,h.start.column);g=v.folds,g.shift(),v.start.row=g[0].start.row,v.start.column=g[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(f,p):this.$updateRowLengthCache(f,p)),this.$modified=!0,this._signal("changeFold",{data:h,action:"remove"})},this.removeFolds=function(h){for(var d=[],f=0;f<h.length;f++)d.push(h[f]);d.forEach(function(p){this.removeFold(p)},this),this.$modified=!0},this.expandFold=function(h){this.removeFold(h),h.subFolds.forEach(function(d){h.restoreRange(d),this.addFold(d)},this),h.collapseChildren>0&&this.foldAll(h.start.row+1,h.end.row,h.collapseChildren-1),h.subFolds=[]},this.expandFolds=function(h){h.forEach(function(d){this.expandFold(d)},this)},this.unfold=function(h,d){var f,p;if(h==null)f=new o(0,0,this.getLength(),0),d==null&&(d=!0);else if(typeof h=="number")f=new o(h,0,h,this.getLine(h).length);else if("row"in h)f=o.fromPoints(h,h);else{if(Array.isArray(h))return p=[],h.forEach(function(g){p=p.concat(this.unfold(g))},this),p;f=h}p=this.getFoldsInRangeList(f);for(var m=p;p.length==1&&o.comparePoints(p[0].start,f.start)<0&&o.comparePoints(p[0].end,f.end)>0;)this.expandFolds(p),p=this.getFoldsInRangeList(f);if(d!=!1?this.removeFolds(p):this.expandFolds(p),m.length)return m},this.isRowFolded=function(h,d){return!!this.getFoldLine(h,d)},this.getRowFoldEnd=function(h,d){var f=this.getFoldLine(h,d);return f?f.end.row:h},this.getRowFoldStart=function(h,d){var f=this.getFoldLine(h,d);return f?f.start.row:h},this.getFoldDisplayLine=function(h,d,f,p,m){p==null&&(p=h.start.row),m==null&&(m=0),d==null&&(d=h.end.row),f==null&&(f=this.getLine(d).length);var g=this.doc,v="";return h.walk(function(y,k,C,T){if(!(k<p)){if(k==p){if(C<m)return;T=Math.max(m,T)}y!=null?v+=y:v+=g.getLine(k).substring(T,C)}},d,f),v},this.getDisplayLine=function(h,d,f,p){var m=this.getFoldLine(h);if(m)return this.getFoldDisplayLine(m,h,d,f,p);var g;return g=this.doc.getLine(h),g.substring(p||0,d||g.length)},this.$cloneFoldData=function(){var h=[];return h=this.$foldData.map(function(d){var f=d.folds.map(function(p){return p.clone()});return new s(h,f)}),h},this.toggleFold=function(h){var d=this.selection,f=d.getRange(),p,m;if(f.isEmpty()){var g=f.start;if(p=this.getFoldAt(g.row,g.column),p){this.expandFold(p);return}else(m=this.findMatchingBracket(g))?f.comparePoint(m)==1?f.end=m:(f.start=m,f.start.column++,f.end.column--):(m=this.findMatchingBracket({row:g.row,column:g.column+1}))?(f.comparePoint(m)==1?f.end=m:f.start=m,f.start.column++):f=this.getCommentFoldRange(g.row,g.column)||f}else{var v=this.getFoldsInRange(f);if(h&&v.length){this.expandFolds(v);return}else v.length==1&&(p=v[0])}if(p||(p=this.getFoldAt(f.start.row,f.start.column)),p&&p.range.toString()==f.toString()){this.expandFold(p);return}var y="...";if(!f.isMultiLine()){if(y=this.getTextRange(f),y.length<4)return;y=y.trim().substring(0,2)+".."}this.addFold(y,f)},this.getCommentFoldRange=function(h,d,f){var p=new a(this,h,d),m=p.getCurrentToken(),g=m&&m.type;if(m&&/^comment|string/.test(g)){g=g.match(/comment|string/)[0],g=="comment"&&(g+="|doc-start|\\.doc");var v=new RegExp(g),y=new o;if(f!=1){do m=p.stepBackward();while(m&&v.test(m.type)&&!/^comment.end/.test(m.type));m=p.stepForward()}if(y.start.row=p.getCurrentTokenRow(),y.start.column=p.getCurrentTokenColumn()+(/^comment.start/.test(m.type)?m.value.length:2),p=new a(this,h,d),f!=-1){var k=-1;do if(m=p.stepForward(),k==-1){var C=this.getState(p.$row);v.test(C)||(k=p.$row)}else if(p.$row>k)break;while(m&&v.test(m.type)&&!/^comment.start/.test(m.type));m=p.stepBackward()}else m=p.getCurrentToken();return y.end.row=p.getCurrentTokenRow(),y.end.column=p.getCurrentTokenColumn(),/^comment.end/.test(m.type)||(y.end.column+=m.value.length-2),y}},this.foldAll=function(h,d,f,p){f==null&&(f=1e5);var m=this.foldWidgets;if(m){d=d||this.getLength(),h=h||0;for(var g=h;g<d;g++)if(m[g]==null&&(m[g]=this.getFoldWidget(g)),m[g]=="start"&&!(p&&!p(g))){var v=this.getFoldWidgetRange(g);v&&v.isMultiLine()&&v.end.row<=d&&v.start.row>=h&&(g=v.end.row,v.collapseChildren=f,this.addFold("...",v))}}},this.foldToLevel=function(h){for(this.foldAll();h-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var h=this;this.foldAll(null,null,null,function(d){for(var f=h.getTokens(d),p=0;p<f.length;p++){var m=f[p];if(!(m.type=="text"&&/^\s+$/.test(m.value)))return!!/comment/.test(m.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(h){if(!this.$foldStyles[h])throw new Error("invalid fold style: "+h+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=h){this.$foldStyle=h,h=="manual"&&this.unfold();var d=this.$foldMode;this.$setFolding(null),this.$setFolding(d)}},this.$setFolding=function(h){if(this.$foldMode!=h){if(this.$foldMode=h,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!h||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=h.getFoldWidget.bind(h,this,this.$foldStyle),this.getFoldWidgetRange=h.getFoldWidgetRange.bind(h,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(h,d){var f=this.foldWidgets;if(!f||d&&f[h])return{};for(var p=h-1,m;p>=0;){var g=f[p];if(g==null&&(g=f[p]=this.getFoldWidget(p)),g=="start"){var v=this.getFoldWidgetRange(p);if(m||(m=v),v&&v.end.row>=h)break}p--}return{range:p!==-1&&v,firstRange:m}},this.onFoldWidgetClick=function(h,d){d instanceof u&&(d=d.domEvent);var f={children:d.shiftKey,all:d.ctrlKey||d.metaKey,siblings:d.altKey},p=this.$toggleFoldWidget(h,f);if(!p){var m=d.target||d.srcElement;m&&/ace_fold-widget/.test(m.className)&&(m.className+=" ace_invalid")}},this.$toggleFoldWidget=function(h,d){if(this.getFoldWidget){var f=this.getFoldWidget(h),p=this.getLine(h),m=f==="end"?-1:1,g=this.getFoldAt(h,m===-1?0:p.length,m);if(g)return d.children||d.all?this.removeFold(g):this.expandFold(g),g;var v=this.getFoldWidgetRange(h,!0);if(v&&!v.isMultiLine()&&(g=this.getFoldAt(v.start.row,v.start.column,1),g&&v.isEqual(g.range)))return this.removeFold(g),g;if(d.siblings){var y=this.getParentFoldRangeData(h);if(y.range)var k=y.range.start.row+1,C=y.range.end.row;this.foldAll(k,C,d.all?1e4:0)}else d.children?(C=v?v.end.row:this.getLength(),this.foldAll(h+1,C,d.all?1e4:0)):v&&(d.all&&(v.collapseChildren=1e4),this.addFold("...",v));return v}},this.toggleFoldWidget=function(h){var d=this.selection.getCursor().row;d=this.getRowFoldStart(d);var f=this.$toggleFoldWidget(d,{});if(!f){var p=this.getParentFoldRangeData(d,!0);if(f=p.range||p.firstRange,f){d=f.start.row;var m=this.getFoldAt(d,this.getLine(d).length,1);m?this.removeFold(m):this.addFold("...",f)}}},this.updateFoldWidgets=function(h){var d=h.start.row,f=h.end.row-d;if(f===0)this.foldWidgets[d]=null;else if(h.action=="remove")this.foldWidgets.splice(d,f+1,null);else{var p=Array(f+1);p.unshift(d,1),this.foldWidgets.splice.apply(this.foldWidgets,p)}},this.tokenizerUpdateFoldWidgets=function(h){var d=h.data;d.first!=d.last&&this.foldWidgets.length>d.first&&this.foldWidgets.splice(d.first,this.foldWidgets.length)}}i.Folding=c}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(n,i,r){var o=n("../token_iterator").TokenIterator,s=n("../range").Range;function l(){this.findMatchingBracket=function(a,u){if(a.column==0)return null;var c=u||this.getLine(a.row).charAt(a.column-1);if(c=="")return null;var h=c.match(/([\(\[\{])|([\)\]\}])/);return h?h[1]?this.$findClosingBracket(h[1],a):this.$findOpeningBracket(h[2],a):null},this.getBracketRange=function(a){var u=this.getLine(a.row),c=!0,h,d=u.charAt(a.column-1),f=d&&d.match(/([\(\[\{])|([\)\]\}])/);if(f||(d=u.charAt(a.column),a={row:a.row,column:a.column+1},f=d&&d.match(/([\(\[\{])|([\)\]\}])/),c=!1),!f)return null;if(f[1]){var p=this.$findClosingBracket(f[1],a);if(!p)return null;h=s.fromPoints(a,p),c||(h.end.column++,h.start.column--),h.cursor=h.end}else{var p=this.$findOpeningBracket(f[2],a);if(!p)return null;h=s.fromPoints(p,a),c||(h.start.column++,h.end.column--),h.cursor=h.start}return h},this.getMatchingBracketRanges=function(a,u){var c=this.getLine(a.row),h=/([\(\[\{])|([\)\]\}])/,d=!u&&c.charAt(a.column-1),f=d&&d.match(h);if(f||(d=(u===void 0||u)&&c.charAt(a.column),a={row:a.row,column:a.column+1},f=d&&d.match(h)),!f)return null;var p=new s(a.row,a.column-1,a.row,a.column),m=f[1]?this.$findClosingBracket(f[1],a):this.$findOpeningBracket(f[2],a);if(!m)return[p];var g=new s(m.row,m.column,m.row,m.column+1);return[p,g]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(a,u,c){var h=this.$brackets[a],d=1,f=new o(this,u.row,u.column),p=f.getCurrentToken();if(p||(p=f.stepForward()),!!p){c||(c=new RegExp("(\\.?"+p.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var m=u.column-f.getCurrentTokenColumn()-2,g=p.value;;){for(;m>=0;){var v=g.charAt(m);if(v==h){if(d-=1,d==0)return{row:f.getCurrentTokenRow(),column:m+f.getCurrentTokenColumn()}}else v==a&&(d+=1);m-=1}do p=f.stepBackward();while(p&&!c.test(p.type));if(p==null)break;g=p.value,m=g.length-1}return null}},this.$findClosingBracket=function(a,u,c){var h=this.$brackets[a],d=1,f=new o(this,u.row,u.column),p=f.getCurrentToken();if(p||(p=f.stepForward()),!!p){c||(c=new RegExp("(\\.?"+p.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var m=u.column-f.getCurrentTokenColumn();;){for(var g=p.value,v=g.length;m<v;){var y=g.charAt(m);if(y==h){if(d-=1,d==0)return{row:f.getCurrentTokenRow(),column:m+f.getCurrentTokenColumn()}}else y==a&&(d+=1);m+=1}do p=f.stepForward();while(p&&!c.test(p.type));if(p==null)break;m=0}return null}},this.getMatchingTags=function(a){var u=new o(this,a.row,a.column),c=this.$findTagName(u);if(c){var h=u.stepBackward();return h.value==="<"?this.$findClosingTag(u,c):this.$findOpeningTag(u,c)}},this.$findTagName=function(a){var u=a.getCurrentToken(),c=!1,h=!1;if(u&&u.type.indexOf("tag-name")===-1)do h?u=a.stepBackward():u=a.stepForward(),u&&(u.value==="/>"?h=!0:u.type.indexOf("tag-name")!==-1&&(c=!0));while(u&&!c);return u},this.$findClosingTag=function(a,u){var c,h=u.value,d=u.value,f=0,p=new s(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1);u=a.stepForward();var m=new s(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+u.value.length),g=!1;do if(c=u,u=a.stepForward(),u){if(u.value===">"&&!g){var v=new s(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1);g=!0}if(u.type.indexOf("tag-name")!==-1){if(h=u.value,d===h){if(c.value==="<")f++;else if(c.value==="</"&&(f--,f<0)){a.stepBackward();var y=new s(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+2);u=a.stepForward();var k=new s(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+u.value.length);if(u=a.stepForward(),u&&u.value===">")var C=new s(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1);else return}}}else if(d===h&&u.value==="/>"&&(f--,f<0))var y=new s(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+2),k=y,C=k,v=new s(m.end.row,m.end.column,m.end.row,m.end.column+1)}while(u&&f>=0);if(p&&v&&y&&C&&m&&k)return{openTag:new s(p.start.row,p.start.column,v.end.row,v.end.column),closeTag:new s(y.start.row,y.start.column,C.end.row,C.end.column),openTagName:m,closeTagName:k}},this.$findOpeningTag=function(a,u){var c=a.getCurrentToken(),h=u.value,d=0,f=a.getCurrentTokenRow(),p=a.getCurrentTokenColumn(),m=p+2,g=new s(f,p,f,m);a.stepForward();var v=new s(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+u.value.length);if(u=a.stepForward(),!(!u||u.value!==">")){var y=new s(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1);a.stepBackward(),a.stepBackward();do if(u=c,f=a.getCurrentTokenRow(),p=a.getCurrentTokenColumn(),m=p+u.value.length,c=a.stepBackward(),u){if(u.type.indexOf("tag-name")!==-1){if(h===u.value)if(c.value==="<"){if(d++,d>0){var k=new s(f,p,f,m),C=new s(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1);do u=a.stepForward();while(u&&u.value!==">");var T=new s(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1)}}else c.value==="</"&&d--}else if(u.value==="/>"){for(var _=0,E=c;E;){if(E.type.indexOf("tag-name")!==-1&&E.value===h){d--;break}else if(E.value==="<")break;E=a.stepBackward(),_++}for(var w=0;w<_;w++)a.stepForward()}}while(c&&d<=0);if(C&&T&&g&&y&&k&&v)return{openTag:new s(C.start.row,C.start.column,T.end.row,T.end.column),closeTag:new s(g.start.row,g.start.column,y.end.row,y.end.column),openTagName:k,closeTagName:v}}}}i.BracketMatch=l}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(n,i,r){var o=n("./lib/oop"),s=n("./lib/lang"),l=n("./bidihandler").BidiHandler,a=n("./config"),u=n("./lib/event_emitter").EventEmitter,c=n("./selection").Selection,h=n("./mode/text").Mode,d=n("./range").Range,f=n("./document").Document,p=n("./background_tokenizer").BackgroundTokenizer,m=n("./search_highlight").SearchHighlight,g=function(){function b(x,A){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++b.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.bgTokenizer=new p(new h().getTokenizer(),this);var O=this;this.bgTokenizer.on("update",function($){O._signal("tokenizerUpdate",$)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),(typeof x!="object"||!x.getLine)&&(x=new f(x)),this.setDocument(x),this.selection=new c(this),this.$bidiHandler=new l(this),a.resetOptions(this),this.setMode(A),a._signal("session",this),this.destroyed=!1}return b.prototype.setDocument=function(x){this.doc&&this.doc.off("change",this.$onChange),this.doc=x,x.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},b.prototype.getDocument=function(){return this.doc},b.prototype.$resetRowCache=function(x){if(!x){this.$docRowCache=[],this.$screenRowCache=[];return}var A=this.$docRowCache.length,O=this.$getRowCacheIndex(this.$docRowCache,x)+1;A>O&&(this.$docRowCache.splice(O,A),this.$screenRowCache.splice(O,A))},b.prototype.$getRowCacheIndex=function(x,A){for(var O=0,$=x.length-1;O<=$;){var M=O+$>>1,R=x[M];if(A>R)O=M+1;else if(A<R)$=M-1;else return M}return O-1},b.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},b.prototype.onChangeFold=function(x){var A=x.data;this.$resetRowCache(A.start.row)},b.prototype.onChange=function(x){this.$modified=!0,this.$bidiHandler.onChange(x),this.$resetRowCache(x.start.row);var A=this.$updateInternalDataOnChange(x);!this.$fromUndo&&this.$undoManager&&(A&&A.length&&(this.$undoManager.add({action:"removeFolds",folds:A},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(x,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(x),this._signal("change",x)},b.prototype.setValue=function(x){this.doc.setValue(x),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},b.prototype.toString=function(){return this.doc.getValue()},b.prototype.getSelection=function(){return this.selection},b.prototype.getState=function(x){return this.bgTokenizer.getState(x)},b.prototype.getTokens=function(x){return this.bgTokenizer.getTokens(x)},b.prototype.getTokenAt=function(x,A){var O=this.bgTokenizer.getTokens(x),$,M=0;if(A==null){var R=O.length-1;M=this.getLine(x).length}else for(var R=0;R<O.length&&(M+=O[R].value.length,!(M>=A));R++);return $=O[R],$?($.index=R,$.start=M-$.value.length,$):null},b.prototype.setUndoManager=function(x){if(this.$undoManager=x,this.$informUndoManager&&this.$informUndoManager.cancel(),x){var A=this;x.addSession(this),this.$syncInformUndoManager=function(){A.$informUndoManager.cancel(),A.mergeUndoDeltas=!1},this.$informUndoManager=s.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},b.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},b.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},b.prototype.getTabString=function(){return this.getUseSoftTabs()?s.stringRepeat(" ",this.getTabSize()):"	"},b.prototype.setUseSoftTabs=function(x){this.setOption("useSoftTabs",x)},b.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},b.prototype.setTabSize=function(x){this.setOption("tabSize",x)},b.prototype.getTabSize=function(){return this.$tabSize},b.prototype.isTabStop=function(x){return this.$useSoftTabs&&x.column%this.$tabSize===0},b.prototype.setNavigateWithinSoftTabs=function(x){this.setOption("navigateWithinSoftTabs",x)},b.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},b.prototype.setOverwrite=function(x){this.setOption("overwrite",x)},b.prototype.getOverwrite=function(){return this.$overwrite},b.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},b.prototype.addGutterDecoration=function(x,A){this.$decorations[x]||(this.$decorations[x]=""),this.$decorations[x]+=" "+A,this._signal("changeBreakpoint",{})},b.prototype.removeGutterDecoration=function(x,A){this.$decorations[x]=(this.$decorations[x]||"").replace(" "+A,""),this._signal("changeBreakpoint",{})},b.prototype.getBreakpoints=function(){return this.$breakpoints},b.prototype.setBreakpoints=function(x){this.$breakpoints=[];for(var A=0;A<x.length;A++)this.$breakpoints[x[A]]="ace_breakpoint";this._signal("changeBreakpoint",{})},b.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},b.prototype.setBreakpoint=function(x,A){A===void 0&&(A="ace_breakpoint"),A?this.$breakpoints[x]=A:delete this.$breakpoints[x],this._signal("changeBreakpoint",{})},b.prototype.clearBreakpoint=function(x){delete this.$breakpoints[x],this._signal("changeBreakpoint",{})},b.prototype.addMarker=function(x,A,O,$){var M=this.$markerId++,R={range:x,type:O||"line",renderer:typeof O=="function"?O:null,clazz:A,inFront:!!$,id:M};return $?(this.$frontMarkers[M]=R,this._signal("changeFrontMarker")):(this.$backMarkers[M]=R,this._signal("changeBackMarker")),M},b.prototype.addDynamicMarker=function(x,A){if(x.update){var O=this.$markerId++;return x.id=O,x.inFront=!!A,A?(this.$frontMarkers[O]=x,this._signal("changeFrontMarker")):(this.$backMarkers[O]=x,this._signal("changeBackMarker")),x}},b.prototype.removeMarker=function(x){var A=this.$frontMarkers[x]||this.$backMarkers[x];if(A){var O=A.inFront?this.$frontMarkers:this.$backMarkers;delete O[x],this._signal(A.inFront?"changeFrontMarker":"changeBackMarker")}},b.prototype.getMarkers=function(x){return x?this.$frontMarkers:this.$backMarkers},b.prototype.highlight=function(x){if(!this.$searchHighlight){var A=new m(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(A)}this.$searchHighlight.setRegexp(x)},b.prototype.highlightLines=function(x,A,O,$){typeof A!="number"&&(O=A,A=x),O||(O="ace_step");var M=new d(x,0,A,1/0);return M.id=this.addMarker(M,O,"fullLine",$),M},b.prototype.setAnnotations=function(x){this.$annotations=x,this._signal("changeAnnotation",{})},b.prototype.getAnnotations=function(){return this.$annotations||[]},b.prototype.clearAnnotations=function(){this.setAnnotations([])},b.prototype.$detectNewLine=function(x){var A=x.match(/^.*?(\r?\n)/m);A?this.$autoNewLine=A[1]:this.$autoNewLine=`
`},b.prototype.getWordRange=function(x,A){var O=this.getLine(x),$=!1;if(A>0&&($=!!O.charAt(A-1).match(this.tokenRe)),$||($=!!O.charAt(A).match(this.tokenRe)),$)var M=this.tokenRe;else if(/^\s+$/.test(O.slice(A-1,A+1)))var M=/\s/;else var M=this.nonTokenRe;var R=A;if(R>0){do R--;while(R>=0&&O.charAt(R).match(M));R++}for(var P=A;P<O.length&&O.charAt(P).match(M);)P++;return new d(x,R,x,P)},b.prototype.getAWordRange=function(x,A){for(var O=this.getWordRange(x,A),$=this.getLine(O.end.row);$.charAt(O.end.column).match(/[ \t]/);)O.end.column+=1;return O},b.prototype.setNewLineMode=function(x){this.doc.setNewLineMode(x)},b.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},b.prototype.setUseWorker=function(x){this.setOption("useWorker",x)},b.prototype.getUseWorker=function(){return this.$useWorker},b.prototype.onReloadTokenizer=function(x){var A=x.data;this.bgTokenizer.start(A.first),this._signal("tokenizerUpdate",x)},b.prototype.setMode=function(x,A){if(x&&typeof x=="object"){if(x.getTokenizer)return this.$onChangeMode(x);var O=x,$=O.path}else $=x||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new h),this.$modes[$]&&!O){this.$onChangeMode(this.$modes[$]),A&&A();return}this.$modeId=$,a.loadModule(["mode",$],(function(M){if(this.$modeId!==$)return A&&A();this.$modes[$]&&!O?this.$onChangeMode(this.$modes[$]):M&&M.Mode&&(M=new M.Mode(O),O||(this.$modes[$]=M,M.$id=$),this.$onChangeMode(M)),A&&A()}).bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},b.prototype.$onChangeMode=function(x,A){if(A||(this.$modeId=x.$id),this.$mode!==x){var O=this.$mode;this.$mode=x,this.$stopWorker(),this.$useWorker&&this.$startWorker();var $=x.getTokenizer();if($.on!==void 0){var M=this.onReloadTokenizer.bind(this);$.on("update",M)}this.bgTokenizer.setTokenizer($),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=x.tokenRe,this.nonTokenRe=x.nonTokenRe,A||(x.attachToSession&&x.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(x.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:O,mode:x}))}},b.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},b.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(x){a.warn("Could not load worker",x),this.$worker=null}},b.prototype.getMode=function(){return this.$mode},b.prototype.setScrollTop=function(x){this.$scrollTop===x||isNaN(x)||(this.$scrollTop=x,this._signal("changeScrollTop",x))},b.prototype.getScrollTop=function(){return this.$scrollTop},b.prototype.setScrollLeft=function(x){this.$scrollLeft===x||isNaN(x)||(this.$scrollLeft=x,this._signal("changeScrollLeft",x))},b.prototype.getScrollLeft=function(){return this.$scrollLeft},b.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},b.prototype.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var x=0;return this.lineWidgets.forEach(function(A){A&&A.screenWidth>x&&(x=A.screenWidth)}),this.lineWidgetWidth=x},b.prototype.$computeWidth=function(x){if(this.$modified||x){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var A=this.doc.getAllLines(),O=this.$rowLengthCache,$=0,M=0,R=this.$foldData[M],P=R?R.start.row:1/0,N=A.length,D=0;D<N;D++){if(D>P){if(D=R.end.row+1,D>=N)break;R=this.$foldData[M++],P=R?R.start.row:1/0}O[D]==null&&(O[D]=this.$getStringScreenWidth(A[D])[0]),O[D]>$&&($=O[D])}this.screenWidth=$}},b.prototype.getLine=function(x){return this.doc.getLine(x)},b.prototype.getLines=function(x,A){return this.doc.getLines(x,A)},b.prototype.getLength=function(){return this.doc.getLength()},b.prototype.getTextRange=function(x){return this.doc.getTextRange(x||this.selection.getRange())},b.prototype.insert=function(x,A){return this.doc.insert(x,A)},b.prototype.remove=function(x){return this.doc.remove(x)},b.prototype.removeFullLines=function(x,A){return this.doc.removeFullLines(x,A)},b.prototype.undoChanges=function(x,A){if(x.length){this.$fromUndo=!0;for(var O=x.length-1;O!=-1;O--){var $=x[O];$.action=="insert"||$.action=="remove"?this.doc.revertDelta($):$.folds&&this.addFolds($.folds)}!A&&this.$undoSelect&&(x.selectionBefore?this.selection.fromJSON(x.selectionBefore):this.selection.setRange(this.$getUndoSelection(x,!0))),this.$fromUndo=!1}},b.prototype.redoChanges=function(x,A){if(x.length){this.$fromUndo=!0;for(var O=0;O<x.length;O++){var $=x[O];($.action=="insert"||$.action=="remove")&&this.doc.$safeApplyDelta($)}!A&&this.$undoSelect&&(x.selectionAfter?this.selection.fromJSON(x.selectionAfter):this.selection.setRange(this.$getUndoSelection(x,!1))),this.$fromUndo=!1}},b.prototype.setUndoSelect=function(x){this.$undoSelect=x},b.prototype.$getUndoSelection=function(x,A){function O(N){return A?N.action!=="insert":N.action==="insert"}for(var $,M,R=0;R<x.length;R++){var P=x[R];if(P.start){if(!$){O(P)?$=d.fromPoints(P.start,P.end):$=d.fromPoints(P.start,P.start);continue}O(P)?(M=P.start,$.compare(M.row,M.column)==-1&&$.setStart(M),M=P.end,$.compare(M.row,M.column)==1&&$.setEnd(M)):(M=P.start,$.compare(M.row,M.column)==-1&&($=d.fromPoints(P.start,P.start)))}}return $},b.prototype.replace=function(x,A){return this.doc.replace(x,A)},b.prototype.moveText=function(x,A,O){var $=this.getTextRange(x),M=this.getFoldsInRange(x),R=d.fromPoints(A,A);if(!O){this.remove(x);var P=x.start.row-x.end.row,N=P?-x.end.column:x.start.column-x.end.column;N&&(R.start.row==x.end.row&&R.start.column>x.end.column&&(R.start.column+=N),R.end.row==x.end.row&&R.end.column>x.end.column&&(R.end.column+=N)),P&&R.start.row>=x.end.row&&(R.start.row+=P,R.end.row+=P)}if(R.end=this.insert(R.start,$),M.length){var D=x.start,V=R.start,P=V.row-D.row,N=V.column-D.column;this.addFolds(M.map(function(B){return B=B.clone(),B.start.row==D.row&&(B.start.column+=N),B.end.row==D.row&&(B.end.column+=N),B.start.row+=P,B.end.row+=P,B}))}return R},b.prototype.indentRows=function(x,A,O){O=O.replace(/\t/g,this.getTabString());for(var $=x;$<=A;$++)this.doc.insertInLine({row:$,column:0},O)},b.prototype.outdentRows=function(x){for(var A=x.collapseRows(),O=new d(0,0,0,0),$=this.getTabSize(),M=A.start.row;M<=A.end.row;++M){var R=this.getLine(M);O.start.row=M,O.end.row=M;for(var P=0;P<$&&R.charAt(P)==" ";++P);P<$&&R.charAt(P)=="	"?(O.start.column=P,O.end.column=P+1):(O.start.column=0,O.end.column=P),this.remove(O)}},b.prototype.$moveLines=function(x,A,O){if(x=this.getRowFoldStart(x),A=this.getRowFoldEnd(A),O<0){var $=this.getRowFoldStart(x+O);if($<0)return 0;var M=$-x}else if(O>0){var $=this.getRowFoldEnd(A+O);if($>this.doc.getLength()-1)return 0;var M=$-A}else{x=this.$clipRowToDocument(x),A=this.$clipRowToDocument(A);var M=A-x+1}var R=new d(x,0,A,Number.MAX_VALUE),P=this.getFoldsInRange(R).map(function(D){return D=D.clone(),D.start.row+=M,D.end.row+=M,D}),N=O==0?this.doc.getLines(x,A):this.doc.removeFullLines(x,A);return this.doc.insertFullLines(x+M,N),P.length&&this.addFolds(P),M},b.prototype.moveLinesUp=function(x,A){return this.$moveLines(x,A,-1)},b.prototype.moveLinesDown=function(x,A){return this.$moveLines(x,A,1)},b.prototype.duplicateLines=function(x,A){return this.$moveLines(x,A,0)},b.prototype.$clipRowToDocument=function(x){return Math.max(0,Math.min(x,this.doc.getLength()-1))},b.prototype.$clipColumnToRow=function(x,A){return A<0?0:Math.min(this.doc.getLine(x).length,A)},b.prototype.$clipPositionToDocument=function(x,A){if(A=Math.max(0,A),x<0)x=0,A=0;else{var O=this.doc.getLength();x>=O?(x=O-1,A=this.doc.getLine(O-1).length):A=Math.min(this.doc.getLine(x).length,A)}return{row:x,column:A}},b.prototype.$clipRangeToDocument=function(x){x.start.row<0?(x.start.row=0,x.start.column=0):x.start.column=this.$clipColumnToRow(x.start.row,x.start.column);var A=this.doc.getLength()-1;return x.end.row>A?(x.end.row=A,x.end.column=this.doc.getLine(A).length):x.end.column=this.$clipColumnToRow(x.end.row,x.end.column),x},b.prototype.setUseWrapMode=function(x){if(x!=this.$useWrapMode){if(this.$useWrapMode=x,this.$modified=!0,this.$resetRowCache(0),x){var A=this.getLength();this.$wrapData=Array(A),this.$updateWrapData(0,A-1)}this._signal("changeWrapMode")}},b.prototype.getUseWrapMode=function(){return this.$useWrapMode},b.prototype.setWrapLimitRange=function(x,A){(this.$wrapLimitRange.min!==x||this.$wrapLimitRange.max!==A)&&(this.$wrapLimitRange={min:x,max:A},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},b.prototype.adjustWrapLimit=function(x,A){var O=this.$wrapLimitRange;O.max<0&&(O={min:A,max:A});var $=this.$constrainWrapLimit(x,O.min,O.max);return $!=this.$wrapLimit&&$>1?(this.$wrapLimit=$,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},b.prototype.$constrainWrapLimit=function(x,A,O){return A&&(x=Math.max(A,x)),O&&(x=Math.min(O,x)),x},b.prototype.getWrapLimit=function(){return this.$wrapLimit},b.prototype.setWrapLimit=function(x){this.setWrapLimitRange(x,x)},b.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},b.prototype.$updateInternalDataOnChange=function(x){var A=this.$useWrapMode,O=x.action,$=x.start,M=x.end,R=$.row,P=M.row,N=P-R,D=null;if(this.$updating=!0,N!=0)if(O==="remove"){this[A?"$wrapData":"$rowLengthCache"].splice(R,N);var V=this.$foldData;D=this.getFoldsInRange(x),this.removeFolds(D);var z=this.getFoldLine(M.row),F=0;if(z){z.addRemoveChars(M.row,M.column,$.column-M.column),z.shiftRow(-N);var B=this.getFoldLine(R);B&&B!==z&&(B.merge(z),z=B),F=V.indexOf(z)+1}for(F;F<V.length;F++){var z=V[F];z.start.row>=M.row&&z.shiftRow(-N)}P=R}else{var j=Array(N);j.unshift(R,0);var H=A?this.$wrapData:this.$rowLengthCache;H.splice.apply(H,j);var V=this.$foldData,z=this.getFoldLine(R),F=0;if(z){var G=z.range.compareInside($.row,$.column);G==0?(z=z.split($.row,$.column),z&&(z.shiftRow(N),z.addRemoveChars(P,0,M.column-$.column))):G==-1&&(z.addRemoveChars(R,0,M.column-$.column),z.shiftRow(N)),F=V.indexOf(z)+1}for(F;F<V.length;F++){var z=V[F];z.start.row>=R&&z.shiftRow(N)}}else{N=Math.abs(x.start.column-x.end.column),O==="remove"&&(D=this.getFoldsInRange(x),this.removeFolds(D),N=-N);var z=this.getFoldLine(R);z&&z.addRemoveChars(R,$.column,N)}return A&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,A?this.$updateWrapData(R,P):this.$updateRowLengthCache(R,P),D},b.prototype.$updateRowLengthCache=function(x,A,O){this.$rowLengthCache[x]=null,this.$rowLengthCache[A]=null},b.prototype.$updateWrapData=function(x,A){var O=this.doc.getAllLines(),$=this.getTabSize(),M=this.$wrapData,R=this.$wrapLimit,P,N,D=x;for(A=Math.min(A,O.length-1);D<=A;)N=this.getFoldLine(D,N),N?(P=[],N.walk((function(V,z,F,B){var j;if(V!=null){j=this.$getDisplayTokens(V,P.length),j[0]=k;for(var H=1;H<j.length;H++)j[H]=C}else j=this.$getDisplayTokens(O[z].substring(B,F),P.length);P=P.concat(j)}).bind(this),N.end.row,O[N.end.row].length+1),M[N.start.row]=this.$computeWrapSplits(P,R,$),D=N.end.row+1):(P=this.$getDisplayTokens(O[D]),M[D]=this.$computeWrapSplits(P,R,$),D++)},b.prototype.$computeWrapSplits=function(x,A,O){if(x.length==0)return[];var $=[],M=x.length,R=0,P=0,N=this.$wrapAsCode,D=this.$indentedSoftWrap,V=A<=Math.max(2*O,8)||D===!1?0:Math.floor(A/2);function z(){var G=0;if(V===0)return G;if(D)for(var Q=0;Q<x.length;Q++){var J=x[Q];if(J==_)G+=1;else if(J==E)G+=O;else{if(J==w)continue;break}}return N&&D!==!1&&(G+=O),Math.min(G,V)}function F(G){for(var Q=G-R,J=R;J<G;J++){var Y=x[J];(Y===12||Y===2)&&(Q-=1)}$.length||(B=z(),$.indent=B),P+=Q,$.push(P),R=G}for(var B=0;M-R>A-B;){var j=R+A-B;if(x[j-1]>=_&&x[j]>=_){F(j);continue}if(x[j]==k||x[j]==C){for(j;j!=R-1&&x[j]!=k;j--);if(j>R){F(j);continue}for(j=R+A,j;j<x.length&&x[j]==C;j++);if(j==x.length)break;F(j);continue}for(var H=Math.max(j-(A-(A>>2)),R-1);j>H&&x[j]<k;)j--;if(N){for(;j>H&&x[j]<k;)j--;for(;j>H&&x[j]==T;)j--}else for(;j>H&&x[j]<_;)j--;if(j>H){F(++j);continue}j=R+A,x[j]==y&&j--,F(j-B)}return $},b.prototype.$getDisplayTokens=function(x,A){var O=[],$;A=A||0;for(var M=0;M<x.length;M++){var R=x.charCodeAt(M);if(R==9){$=this.getScreenTabSize(O.length+A),O.push(E);for(var P=1;P<$;P++)O.push(w)}else R==32?O.push(_):R>39&&R<48||R>57&&R<64?O.push(T):R>=4352&&S(R)?O.push(v,y):O.push(v)}return O},b.prototype.$getStringScreenWidth=function(x,A,O){if(A==0)return[0,0];A==null&&(A=1/0),O=O||0;var $,M;for(M=0;M<x.length&&($=x.charCodeAt(M),$==9?O+=this.getScreenTabSize(O):$>=4352&&S($)?O+=2:O+=1,!(O>A));M++);return[O,M]},b.prototype.getRowLength=function(x){var A=1;return this.lineWidgets&&(A+=this.lineWidgets[x]&&this.lineWidgets[x].rowCount||0),!this.$useWrapMode||!this.$wrapData[x]?A:this.$wrapData[x].length+A},b.prototype.getRowLineCount=function(x){return!this.$useWrapMode||!this.$wrapData[x]?1:this.$wrapData[x].length+1},b.prototype.getRowWrapIndent=function(x){if(this.$useWrapMode){var A=this.screenToDocumentPosition(x,Number.MAX_VALUE),O=this.$wrapData[A.row];return O.length&&O[0]<A.column?O.indent:0}else return 0},b.prototype.getScreenLastRowColumn=function(x){var A=this.screenToDocumentPosition(x,Number.MAX_VALUE);return this.documentToScreenColumn(A.row,A.column)},b.prototype.getDocumentLastRowColumn=function(x,A){var O=this.documentToScreenRow(x,A);return this.getScreenLastRowColumn(O)},b.prototype.getDocumentLastRowColumnPosition=function(x,A){var O=this.documentToScreenRow(x,A);return this.screenToDocumentPosition(O,Number.MAX_VALUE/10)},b.prototype.getRowSplitData=function(x){if(this.$useWrapMode)return this.$wrapData[x]},b.prototype.getScreenTabSize=function(x){return this.$tabSize-(x%this.$tabSize|0)},b.prototype.screenToDocumentRow=function(x,A){return this.screenToDocumentPosition(x,A).row},b.prototype.screenToDocumentColumn=function(x,A){return this.screenToDocumentPosition(x,A).column},b.prototype.screenToDocumentPosition=function(x,A,O){if(x<0)return{row:0,column:0};var $,M=0,R=0,P,N=0,D=0,V=this.$screenRowCache,z=this.$getRowCacheIndex(V,x),F=V.length;if(F&&z>=0)var N=V[z],M=this.$docRowCache[z],B=x>V[F-1];else var B=!F;for(var j=this.getLength()-1,H=this.getNextFoldLine(M),G=H?H.start.row:1/0;N<=x&&(D=this.getRowLength(M),!(N+D>x||M>=j));)N+=D,M++,M>G&&(M=H.end.row+1,H=this.getNextFoldLine(M,H),G=H?H.start.row:1/0),B&&(this.$docRowCache.push(M),this.$screenRowCache.push(N));if(H&&H.start.row<=M)$=this.getFoldDisplayLine(H),M=H.start.row;else{if(N+D<=x||M>j)return{row:j,column:this.getLine(j).length};$=this.getLine(M),H=null}var Q=0,J=Math.floor(x-N);if(this.$useWrapMode){var Y=this.$wrapData[M];Y&&(P=Y[J],J>0&&Y.length&&(Q=Y.indent,R=Y[J-1]||Y[Y.length-1],$=$.substring(R)))}return O!==void 0&&this.$bidiHandler.isBidiRow(N+J,M,J)&&(A=this.$bidiHandler.offsetToCol(O)),R+=this.$getStringScreenWidth($,A-Q)[1],this.$useWrapMode&&R>=P&&(R=P-1),H?H.idxToPosition(R):{row:M,column:R}},b.prototype.documentToScreenPosition=function(x,A){if(typeof A>"u")var O=this.$clipPositionToDocument(x.row,x.column);else O=this.$clipPositionToDocument(x,A);x=O.row,A=O.column;var $=0,M=null,R=null;R=this.getFoldAt(x,A,1),R&&(x=R.start.row,A=R.start.column);var P,N=0,D=this.$docRowCache,V=this.$getRowCacheIndex(D,x),z=D.length;if(z&&V>=0)var N=D[V],$=this.$screenRowCache[V],F=x>D[z-1];else var F=!z;for(var B=this.getNextFoldLine(N),j=B?B.start.row:1/0;N<x;){if(N>=j){if(P=B.end.row+1,P>x)break;B=this.getNextFoldLine(P,B),j=B?B.start.row:1/0}else P=N+1;$+=this.getRowLength(N),N=P,F&&(this.$docRowCache.push(N),this.$screenRowCache.push($))}var H="";B&&N>=j?(H=this.getFoldDisplayLine(B,x,A),M=B.start.row):(H=this.getLine(x).substring(0,A),M=x);var G=0;if(this.$useWrapMode){var Q=this.$wrapData[M];if(Q){for(var J=0;H.length>=Q[J];)$++,J++;H=H.substring(Q[J-1]||0,H.length),G=J>0?Q.indent:0}}return this.lineWidgets&&this.lineWidgets[N]&&this.lineWidgets[N].rowsAbove&&($+=this.lineWidgets[N].rowsAbove),{row:$,column:G+this.$getStringScreenWidth(H)[0]}},b.prototype.documentToScreenColumn=function(x,A){return this.documentToScreenPosition(x,A).column},b.prototype.documentToScreenRow=function(x,A){return this.documentToScreenPosition(x,A).row},b.prototype.getScreenLength=function(){var x=0,A=null;if(this.$useWrapMode)for(var M=this.$wrapData.length,R=0,$=0,A=this.$foldData[$++],P=A?A.start.row:1/0;R<M;){var N=this.$wrapData[R];x+=N?N.length+1:1,R++,R>P&&(R=A.end.row+1,A=this.$foldData[$++],P=A?A.start.row:1/0)}else{x=this.getLength();for(var O=this.$foldData,$=0;$<O.length;$++)A=O[$],x-=A.end.row-A.start.row}return this.lineWidgets&&(x+=this.$getWidgetScreenLength()),x},b.prototype.$setFontMetrics=function(x){this.$enableVarChar&&(this.$getStringScreenWidth=function(A,O,$){if(O===0)return[0,0];O||(O=1/0),$=$||0;var M,R;for(R=0;R<A.length&&(M=A.charAt(R),M==="	"?$+=this.getScreenTabSize($):$+=x.getCharacterWidth(M),!($>O));R++);return[$,R]})},b.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection.detach()},b}();g.$uid=0,g.prototype.$modes=a.$modes,g.prototype.getValue=g.prototype.toString,g.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},g.prototype.$overwrite=!1,g.prototype.$mode=null,g.prototype.$modeId=null,g.prototype.$scrollTop=0,g.prototype.$scrollLeft=0,g.prototype.$wrapLimit=80,g.prototype.$useWrapMode=!1,g.prototype.$wrapLimitRange={min:null,max:null},g.prototype.lineWidgets=null,g.prototype.isFullWidth=S,o.implement(g.prototype,u);var v=1,y=2,k=3,C=4,T=9,_=10,E=11,w=12;function S(b){return b<4352?!1:b>=4352&&b<=4447||b>=4515&&b<=4519||b>=4602&&b<=4607||b>=9001&&b<=9002||b>=11904&&b<=11929||b>=11931&&b<=12019||b>=12032&&b<=12245||b>=12272&&b<=12283||b>=12288&&b<=12350||b>=12353&&b<=12438||b>=12441&&b<=12543||b>=12549&&b<=12589||b>=12593&&b<=12686||b>=12688&&b<=12730||b>=12736&&b<=12771||b>=12784&&b<=12830||b>=12832&&b<=12871||b>=12880&&b<=13054||b>=13056&&b<=19903||b>=19968&&b<=42124||b>=42128&&b<=42182||b>=43360&&b<=43388||b>=44032&&b<=55203||b>=55216&&b<=55238||b>=55243&&b<=55291||b>=63744&&b<=64255||b>=65040&&b<=65049||b>=65072&&b<=65106||b>=65108&&b<=65126||b>=65128&&b<=65131||b>=65281&&b<=65376||b>=65504&&b<=65510}n("./edit_session/folding").Folding.call(g.prototype),n("./edit_session/bracket_match").BracketMatch.call(g.prototype),a.defineOptions(g.prototype,"session",{wrap:{set:function(b){if(!b||b=="off"?b=!1:b=="free"?b=!0:b=="printMargin"?b=-1:typeof b=="string"&&(b=parseInt(b,10)||!1),this.$wrap!=b)if(this.$wrap=b,!b)this.setUseWrapMode(!1);else{var x=typeof b=="number"?b:null;this.setWrapLimitRange(x,x),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(b){b=b=="auto"?this.$mode.type!="text":b!="text",b!=this.$wrapAsCode&&(this.$wrapAsCode=b,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(b){this.$useWorker=b,this.$stopWorker(),b&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(b){b=parseInt(b),b>0&&this.$tabSize!==b&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=b,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(b){this.setFoldStyle(b)},handlesSet:!0},overwrite:{set:function(b){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(b){this.doc.setNewLineMode(b)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(b){this.setMode(b)},get:function(){return this.$modeId},handlesSet:!0}}),i.EditSession=g}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(n,i,r){var o=n("./lib/lang"),s=n("./lib/oop"),l=n("./range").Range,a=function(){function c(){this.$options={}}return c.prototype.set=function(h){return s.mixin(this.$options,h),this},c.prototype.getOptions=function(){return o.copyObject(this.$options)},c.prototype.setOptions=function(h){this.$options=h},c.prototype.find=function(h){var d=this.$options,f=this.$matchIterator(h,d);if(!f)return!1;var p=null;return f.forEach(function(m,g,v,y){return p=new l(m,g,v,y),g==y&&d.start&&d.start.start&&d.skipCurrent!=!1&&p.isEqual(d.start)?(p=null,!1):!0}),p},c.prototype.findAll=function(h){var d=this.$options;if(!d.needle)return[];this.$assembleRegExp(d);var f=d.range,p=f?h.getLines(f.start.row,f.end.row):h.doc.getAllLines(),m=[],g=d.re;if(d.$isMultiLine){var v=g.length,y=p.length-v,k;e:for(var C=g.offset||0;C<=y;C++){for(var T=0;T<v;T++)if(p[C+T].search(g[T])==-1)continue e;var _=p[C],E=p[C+v-1],w=_.length-_.match(g[0])[0].length,S=E.match(g[v-1])[0].length;k&&k.end.row===C&&k.end.column>w||(m.push(k=new l(C,w,C+v-1,S)),v>2&&(C=C+v-2))}}else for(var b=0;b<p.length;b++)for(var x=o.getMatchOffsets(p[b],g),T=0;T<x.length;T++){var A=x[T];m.push(new l(b,A.offset,b,A.offset+A.length))}if(f){for(var O=f.start.column,$=f.end.column,b=0,T=m.length-1;b<T&&m[b].start.column<O&&m[b].start.row==0;)b++;for(var M=f.end.row-f.start.row;b<T&&m[T].end.column>$&&m[T].end.row==M;)T--;for(m=m.slice(b,T+1),b=0,T=m.length;b<T;b++)m[b].start.row+=f.start.row,m[b].end.row+=f.start.row}return m},c.prototype.replace=function(h,d){var f=this.$options,p=this.$assembleRegExp(f);if(f.$isMultiLine)return d;if(p){var m=p.exec(h);if(!m||m[0].length!=h.length)return null;if(d=h.replace(p,d),f.preserveCase){d=d.split("");for(var g=Math.min(h.length,h.length);g--;){var v=h[g];v&&v.toLowerCase()!=v?d[g]=d[g].toUpperCase():d[g]=d[g].toLowerCase()}d=d.join("")}return d}},c.prototype.$assembleRegExp=function(h,d){if(h.needle instanceof RegExp)return h.re=h.needle;var f=h.needle;if(!h.needle)return h.re=!1;h.$supportsUnicodeFlag===void 0&&(h.$supportsUnicodeFlag=o.supportsUnicodeFlag());try{new RegExp(f,"u")}catch{h.$supportsUnicodeFlag=!1}h.regExp||(f=o.escapeRegExp(f)),h.wholeWord&&(f=u(f,h));var p=h.caseSensitive?"gm":"gmi";if(h.$supportsUnicodeFlag&&(p+="u"),h.$isMultiLine=!d&&/[\n\r]/.test(f),h.$isMultiLine)return h.re=this.$assembleMultilineRegExp(f,p);try{var m=new RegExp(f,p)}catch{m=!1}return h.re=m},c.prototype.$assembleMultilineRegExp=function(h,d){for(var f=h.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),p=[],m=0;m<f.length;m++)try{p.push(new RegExp(f[m],d))}catch{return!1}return p},c.prototype.$matchIterator=function(h,d){var f=this.$assembleRegExp(d);if(!f)return!1;var p=d.backwards==!0,m=d.skipCurrent!=!1,g=d.range,v=d.start;v||(v=g?g[p?"end":"start"]:h.selection.getRange()),v.start&&(v=v[m!=p?"end":"start"]);var y=g?g.start.row:0,k=g?g.end.row:h.getLength()-1;if(p)var C=function(E){var w=v.row;if(!_(w,v.column,E)){for(w--;w>=y;w--)if(_(w,Number.MAX_VALUE,E))return;if(d.wrap!=!1){for(w=k,y=v.row;w>=y;w--)if(_(w,Number.MAX_VALUE,E))return}}};else var C=function(w){var S=v.row;if(!_(S,v.column,w)){for(S=S+1;S<=k;S++)if(_(S,0,w))return;if(d.wrap!=!1){for(S=y,k=v.row;S<=k;S++)if(_(S,0,w))return}}};if(d.$isMultiLine)var T=f.length,_=function(E,w,S){var b=p?E-T+1:E;if(!(b<0||b+T>h.getLength())){var x=h.getLine(b),A=x.search(f[0]);if(!(!p&&A<w||A===-1)){for(var O=1;O<T;O++)if(x=h.getLine(b+O),x.search(f[O])==-1)return;var $=x.match(f[T-1])[0].length;if(!(p&&$>w)&&S(b,A,b+T-1,$))return!0}}};else if(p)var _=function(w,S,b){var x=h.getLine(w),A=[],O,$=0;for(f.lastIndex=0;O=f.exec(x);){var M=O[0].length;if($=O.index,!M){if($>=x.length)break;f.lastIndex=$+=1}if(O.index+M>S)break;A.push(O.index,M)}for(var R=A.length-1;R>=0;R-=2){var P=A[R-1],M=A[R];if(b(w,P,w,P+M))return!0}};else var _=function(w,S,b){var x=h.getLine(w),A,O;for(f.lastIndex=S;O=f.exec(x);){var $=O[0].length;if(A=O.index,b(w,A,w,A+$))return!0;if(!$&&(f.lastIndex=A+=1,A>=x.length))return!1}};return{forEach:C}},c}();function u(c,h){var d=o.supportsLookbehind();function f(v,y){y===void 0&&(y=!0);var k=d&&h.$supportsUnicodeFlag?new RegExp("[\\p{L}\\p{N}_]","u"):new RegExp("\\w");return k.test(v)||h.regExp?d&&h.$supportsUnicodeFlag?y?"(?<=^|[^\\p{L}\\p{N}_])":"(?=[^\\p{L}\\p{N}_]|$)":"\\b":""}var p=Array.from(c),m=p[0],g=p[p.length-1];return f(m)+c+f(g,!1)}i.Search=a}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(n,i,r){var o=this&&this.__extends||function(){var d=function(f,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&(m[v]=g[v])},d(f,p)};return function(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");d(f,p);function m(){this.constructor=f}f.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}(),s=n("../lib/keys"),l=n("../lib/useragent"),a=s.KEY_MODS,u=function(){function d(f,p){this.$init(f,p,!1)}return d.prototype.$init=function(f,p,m){this.platform=p||(l.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(f),this.$singleCommand=m},d.prototype.addCommand=function(f){this.commands[f.name]&&this.removeCommand(f),this.commands[f.name]=f,f.bindKey&&this._buildKeyHash(f)},d.prototype.removeCommand=function(f,p){var m=f&&(typeof f=="string"?f:f.name);f=this.commands[m],p||delete this.commands[m];var g=this.commandKeyBinding;for(var v in g){var y=g[v];if(y==f)delete g[v];else if(Array.isArray(y)){var k=y.indexOf(f);k!=-1&&(y.splice(k,1),y.length==1&&(g[v]=y[0]))}}},d.prototype.bindKey=function(f,p,m){if(typeof f=="object"&&f&&(m==null&&(m=f.position),f=f[this.platform]),!!f){if(typeof p=="function")return this.addCommand({exec:p,bindKey:f,name:p.name||f});f.split("|").forEach(function(g){var v="";if(g.indexOf(" ")!=-1){var y=g.split(/\s+/);g=y.pop(),y.forEach(function(T){var _=this.parseKeys(T),E=a[_.hashId]+_.key;v+=(v?" ":"")+E,this._addCommandToBinding(v,"chainKeys")},this),v+=" "}var k=this.parseKeys(g),C=a[k.hashId]+k.key;this._addCommandToBinding(v+C,p,m)},this)}},d.prototype._addCommandToBinding=function(f,p,m){var g=this.commandKeyBinding,v;if(!p)delete g[f];else if(!g[f]||this.$singleCommand)g[f]=p;else{Array.isArray(g[f])?(v=g[f].indexOf(p))!=-1&&g[f].splice(v,1):g[f]=[g[f]],typeof m!="number"&&(m=c(p));var y=g[f];for(v=0;v<y.length;v++){var k=y[v],C=c(k);if(C>m)break}y.splice(v,0,p)}},d.prototype.addCommands=function(f){f&&Object.keys(f).forEach(function(p){var m=f[p];if(m){if(typeof m=="string")return this.bindKey(m,p);typeof m=="function"&&(m={exec:m}),typeof m=="object"&&(m.name||(m.name=p),this.addCommand(m))}},this)},d.prototype.removeCommands=function(f){Object.keys(f).forEach(function(p){this.removeCommand(f[p])},this)},d.prototype.bindKeys=function(f){Object.keys(f).forEach(function(p){this.bindKey(p,f[p])},this)},d.prototype._buildKeyHash=function(f){this.bindKey(f.bindKey,f)},d.prototype.parseKeys=function(f){var p=f.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(C){return C}),m=p.pop(),g=s[m];if(s.FUNCTION_KEYS[g])m=s.FUNCTION_KEYS[g].toLowerCase();else if(p.length){if(p.length==1&&p[0]=="shift")return{key:m.toUpperCase(),hashId:-1}}else return{key:m,hashId:-1};for(var v=0,y=p.length;y--;){var k=s.KEY_MODS[p[y]];if(k==null)return typeof console<"u"&&console.error("invalid modifier "+p[y]+" in "+f),!1;v|=k}return{key:m,hashId:v}},d.prototype.findKeyCommand=function(f,p){var m=a[f]+p;return this.commandKeyBinding[m]},d.prototype.handleKeyboard=function(f,p,m,g){if(!(g<0)){var v=a[p]+m,y=this.commandKeyBinding[v];return f.$keyChain&&(f.$keyChain+=" "+v,y=this.commandKeyBinding[f.$keyChain]||y),y&&(y=="chainKeys"||y[y.length-1]=="chainKeys")?(f.$keyChain=f.$keyChain||v,{command:"null"}):(f.$keyChain&&((!p||p==4)&&m.length==1?f.$keyChain=f.$keyChain.slice(0,-v.length-1):(p==-1||g>0)&&(f.$keyChain="")),{command:y})}},d.prototype.getStatusText=function(f,p){return p.$keyChain||""},d}();function c(d){return typeof d=="object"&&d.bindKey&&d.bindKey.position||(d.isDefault?-100:0)}var h=function(d){o(f,d);function f(p,m){var g=d.call(this,p,m)||this;return g.$singleCommand=!0,g}return f}(u);h.call=function(d,f,p){u.prototype.$init.call(d,f,p,!0)},u.call=function(d,f,p){u.prototype.$init.call(d,f,p,!1)},i.HashHandler=h,i.MultiHashHandler=u}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(n,i,r){var o=this&&this.__extends||function(){var c=function(h,d){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var m in p)Object.prototype.hasOwnProperty.call(p,m)&&(f[m]=p[m])},c(h,d)};return function(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");c(h,d);function f(){this.constructor=h}h.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}(),s=n("../lib/oop"),l=n("../keyboard/hash_handler").MultiHashHandler,a=n("../lib/event_emitter").EventEmitter,u=function(c){o(h,c);function h(d,f){var p=c.call(this,f,d)||this;return p.byName=p.commands,p.setDefaultHandler("exec",function(m){return m.args?m.command.exec(m.editor,m.args,m.event,!1):m.command.exec(m.editor,{},m.event,!0)}),p}return h.prototype.exec=function(d,f,p){if(Array.isArray(d)){for(var m=d.length;m--;)if(this.exec(d[m],f,p))return!0;return!1}if(typeof d=="string"&&(d=this.commands[d]),!d||f&&f.$readOnly&&!d.readOnly||this.$checkCommandState!=!1&&d.isAvailable&&!d.isAvailable(f))return!1;var g={editor:f,command:d,args:p};return g.returnValue=this._emit("exec",g),this._signal("afterExec",g),g.returnValue!==!1},h.prototype.toggleRecording=function(d){if(!this.$inReplay)return d&&d._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=(function(f){this.macro.push([f.command,f.args])}).bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},h.prototype.replay=function(d){if(!(this.$inReplay||!this.macro)){if(this.recording)return this.toggleRecording(d);try{this.$inReplay=!0,this.macro.forEach(function(f){typeof f=="string"?this.exec(f,d):this.exec(f[0],d,f[1])},this)}finally{this.$inReplay=!1}}},h.prototype.trimMacro=function(d){return d.map(function(f){return typeof f[0]!="string"&&(f[0]=f[0].name),f[1]||(f=f[0]),f})},h}(l);s.implement(u.prototype,a),i.CommandManager=u}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(n,i,r){var o=n("../lib/lang"),s=n("../config"),l=n("../range").Range;function a(c,h){return{win:c,mac:h}}i.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:a("Ctrl-,","Command-,"),exec:function(c){s.loadModule("ace/ext/settings_menu",function(h){h.init(c),c.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:a("Alt-E","F4"),exec:function(c){s.loadModule("ace/ext/error_marker",function(h){h.showErrorMarker(c,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:a("Alt-Shift-E","Shift-F4"),exec:function(c){s.loadModule("ace/ext/error_marker",function(h){h.showErrorMarker(c,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:a("Ctrl-A","Command-A"),exec:function(c){c.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:a(null,"Ctrl-L"),exec:function(c){c.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:a("Ctrl-L","Command-L"),exec:function(c,h){typeof h=="number"&&!isNaN(h)&&c.gotoLine(h),c.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:a("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(c){c.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:a("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(c){c.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:a("F2","F2"),exec:function(c){c.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:a("Alt-F2","Alt-F2"),exec:function(c){c.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:a(null,"Ctrl-Command-Option-0"),exec:function(c){c.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:a(null,"Ctrl-Command-Option-0"),exec:function(c){c.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:a("Alt-0","Command-Option-0"),exec:function(c){c.session.foldAll(),c.session.unfold(c.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:a("Alt-Shift-0","Command-Option-Shift-0"),exec:function(c){c.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:a("Ctrl-K","Command-G"),exec:function(c){c.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:a("Ctrl-Shift-K","Command-Shift-G"),exec:function(c){c.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:a("Alt-K","Ctrl-G"),exec:function(c){c.selection.isEmpty()?c.selection.selectWord():c.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:a("Alt-Shift-K","Ctrl-Shift-G"),exec:function(c){c.selection.isEmpty()?c.selection.selectWord():c.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:a("Ctrl-F","Command-F"),exec:function(c){s.loadModule("ace/ext/searchbox",function(h){h.Search(c)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(c){c.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:a("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(c){c.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:a("Ctrl-Home","Command-Home|Command-Up"),exec:function(c){c.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:a("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(c){c.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:a("Up","Up|Ctrl-P"),exec:function(c,h){c.navigateUp(h.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:a("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(c){c.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:a("Ctrl-End","Command-End|Command-Down"),exec:function(c){c.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:a("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(c){c.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:a("Down","Down|Ctrl-N"),exec:function(c,h){c.navigateDown(h.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:a("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(c){c.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:a("Ctrl-Left","Option-Left"),exec:function(c){c.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:a("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(c){c.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:a("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(c){c.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:a("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(c){c.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:a("Left","Left|Ctrl-B"),exec:function(c,h){c.navigateLeft(h.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:a("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(c){c.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:a("Ctrl-Right","Option-Right"),exec:function(c){c.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:a("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(c){c.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:a("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(c){c.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:a("Shift-Right","Shift-Right"),exec:function(c){c.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:a("Right","Right|Ctrl-F"),exec:function(c,h){c.navigateRight(h.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(c){c.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:a(null,"Option-PageDown"),exec:function(c){c.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:a("PageDown","PageDown|Ctrl-V"),exec:function(c){c.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(c){c.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:a(null,"Option-PageUp"),exec:function(c){c.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(c){c.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:a("Ctrl-Up",null),exec:function(c){c.renderer.scrollBy(0,-2*c.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:a("Ctrl-Down",null),exec:function(c){c.renderer.scrollBy(0,2*c.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(c){c.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(c){c.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:a("Ctrl-Alt-E","Command-Option-E"),exec:function(c){c.commands.toggleRecording(c)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:a("Ctrl-Shift-E","Command-Shift-E"),exec:function(c){c.commands.replay(c)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:a("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(c){c.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:a("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(c){c.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:a("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(c){c.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:a(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(c){},readOnly:!0},{name:"cut",description:"Cut",exec:function(c){var h=c.$copyWithEmptySelection&&c.selection.isEmpty(),d=h?c.selection.getLineRange():c.selection.getRange();c._emit("cut",d),d.isEmpty()||c.session.remove(d),c.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(c,h){c.$handlePaste(h)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:a("Ctrl-D","Command-D"),exec:function(c){c.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:a("Ctrl-Shift-D","Command-Shift-D"),exec:function(c){c.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:a("Ctrl-Alt-S","Command-Alt-S"),exec:function(c){c.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:a("Ctrl-/","Command-/"),exec:function(c){c.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:a("Ctrl-Shift-/","Command-Shift-/"),exec:function(c){c.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:a("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(c){c.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:a("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(c){c.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:a("Ctrl-H","Command-Option-F"),exec:function(c){s.loadModule("ace/ext/searchbox",function(h){h.Search(c,!0)})}},{name:"undo",description:"Undo",bindKey:a("Ctrl-Z","Command-Z"),exec:function(c){c.undo()}},{name:"redo",description:"Redo",bindKey:a("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(c){c.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:a("Alt-Shift-Up","Command-Option-Up"),exec:function(c){c.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:a("Alt-Up","Option-Up"),exec:function(c){c.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:a("Alt-Shift-Down","Command-Option-Down"),exec:function(c){c.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:a("Alt-Down","Option-Down"),exec:function(c){c.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:a("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(c){c.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:a("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(c){c.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:a("Shift-Delete",null),exec:function(c){if(c.selection.isEmpty())c.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:a("Alt-Backspace","Command-Backspace"),exec:function(c){c.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:a("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(c){c.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:a("Ctrl-Shift-Backspace",null),exec:function(c){var h=c.selection.getRange();h.start.column=0,c.session.remove(h)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:a("Ctrl-Shift-Delete",null),exec:function(c){var h=c.selection.getRange();h.end.column=Number.MAX_VALUE,c.session.remove(h)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:a("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(c){c.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:a("Ctrl-Delete","Alt-Delete"),exec:function(c){c.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:a("Shift-Tab","Shift-Tab"),exec:function(c){c.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:a("Tab","Tab"),exec:function(c){c.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:a("Ctrl-[","Ctrl-["),exec:function(c){c.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:a("Ctrl-]","Ctrl-]"),exec:function(c){c.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(c,h){c.insert(h)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(c,h){c.insert(o.stringRepeat(h.text||"",h.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:a(null,"Ctrl-O"),exec:function(c){c.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:a("Alt-Shift-X","Ctrl-T"),exec:function(c){c.transposeLetters()},multiSelectAction:function(c){c.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:a("Ctrl-U","Ctrl-U"),exec:function(c){c.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:a("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(c){c.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:a(null,null),exec:function(c){c.autoIndent()},multiSelectAction:"forEachLine",scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:a("Ctrl-Shift-L","Command-Shift-L"),exec:function(c){var h=c.selection.getRange();h.start.column=h.end.column=0,h.end.row++,c.selection.setRange(h,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:a("Ctrl+F3","F3"),exec:function(c){c.openLink()}},{name:"joinlines",description:"Join lines",bindKey:a(null,null),exec:function(c){for(var h=c.selection.isBackwards(),d=h?c.selection.getSelectionLead():c.selection.getSelectionAnchor(),f=h?c.selection.getSelectionAnchor():c.selection.getSelectionLead(),p=c.session.doc.getLine(d.row).length,m=c.session.doc.getTextRange(c.selection.getRange()),g=m.replace(/\n\s*/," ").length,v=c.session.doc.getLine(d.row),y=d.row+1;y<=f.row+1;y++){var k=o.stringTrimLeft(o.stringTrimRight(c.session.doc.getLine(y)));k.length!==0&&(k=" "+k),v+=k}f.row+1<c.session.doc.getLength()-1&&(v+=c.session.doc.getNewLineCharacter()),c.clearSelection(),c.session.doc.replace(new l(d.row,0,f.row+2,0),v),g>0?(c.selection.moveCursorTo(d.row,d.column),c.selection.selectTo(d.row,d.column+g)):(p=c.session.doc.getLine(d.row).length>p?p+1:p,c.selection.moveCursorTo(d.row,p))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:a(null,null),exec:function(c){var h=c.session.doc.getLength()-1,d=c.session.doc.getLine(h).length,f=c.selection.rangeList.ranges,p=[];f.length<1&&(f=[c.selection.getRange()]);for(var m=0;m<f.length;m++)m==f.length-1&&(f[m].end.row===h&&f[m].end.column===d||p.push(new l(f[m].end.row,f[m].end.column,h,d))),m===0?f[m].start.row===0&&f[m].start.column===0||p.push(new l(0,0,f[m].start.row,f[m].start.column)):p.push(new l(f[m-1].end.row,f[m-1].end.column,f[m].start.row,f[m].start.column));c.exitMultiSelectMode(),c.clearSelection();for(var m=0;m<p.length;m++)c.selection.addRange(p[m],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(c){c.selection.clearSelection(),c.navigateLineEnd(),c.insert(`
`)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(c){c.selection.clearSelection();var h=c.getCursorPosition();c.selection.moveTo(h.row-1,Number.MAX_VALUE),c.insert(`
`),h.row===0&&c.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",description:"Open command palette",bindKey:a("F1","F1"),exec:function(c){c.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:a(null,null),exec:function(c){c.prompt({$type:"modes"})},readOnly:!0}];for(var u=1;u<9;u++)i.commands.push({name:"foldToLevel"+u,description:"Fold To Level "+u,level:u,exec:function(c){c.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(n,i,r){var o=n("./lib/dom"),s=function(){function l(a){this.session=a,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}return l.prototype.getRowLength=function(a){var u;return this.lineWidgets?u=this.lineWidgets[a]&&this.lineWidgets[a].rowCount||0:u=0,!this.$useWrapMode||!this.$wrapData[a]?1+u:this.$wrapData[a].length+1+u},l.prototype.$getWidgetScreenLength=function(){var a=0;return this.lineWidgets.forEach(function(u){u&&u.rowCount&&!u.hidden&&(a+=u.rowCount)}),a},l.prototype.$onChangeEditor=function(a){this.attach(a.editor)},l.prototype.attach=function(a){a&&a.widgetManager&&a.widgetManager!=this&&a.widgetManager.detach(),this.editor!=a&&(this.detach(),this.editor=a,a&&(a.widgetManager=this,a.renderer.on("beforeRender",this.measureWidgets),a.renderer.on("afterRender",this.renderWidgets)))},l.prototype.detach=function(a){var u=this.editor;if(u){this.editor=null,u.widgetManager=null,u.renderer.off("beforeRender",this.measureWidgets),u.renderer.off("afterRender",this.renderWidgets);var c=this.session.lineWidgets;c&&c.forEach(function(h){h&&h.el&&h.el.parentNode&&(h._inDocument=!1,h.el.parentNode.removeChild(h.el))})}},l.prototype.updateOnFold=function(a,u){var c=u.lineWidgets;if(!(!c||!a.action)){for(var h=a.data,d=h.start.row,f=h.end.row,p=a.action=="add",m=d+1;m<f;m++)c[m]&&(c[m].hidden=p);c[f]&&(p?c[d]?c[f].hidden=p:c[d]=c[f]:(c[d]==c[f]&&(c[d]=void 0),c[f].hidden=p))}},l.prototype.updateOnChange=function(a){var u=this.session.lineWidgets;if(u){var c=a.start.row,h=a.end.row-c;if(h!==0)if(a.action=="remove"){var d=u.splice(c+1,h);!u[c]&&d[d.length-1]&&(u[c]=d.pop()),d.forEach(function(p){p&&this.removeLineWidget(p)},this),this.$updateRows()}else{var f=new Array(h);u[c]&&u[c].column!=null&&a.start.column>u[c].column&&c++,f.unshift(c,0),u.splice.apply(u,f),this.$updateRows()}}},l.prototype.$updateRows=function(){var a=this.session.lineWidgets;if(a){var u=!0;a.forEach(function(c,h){if(c)for(u=!1,c.row=h;c.$oldWidget;)c.$oldWidget.row=h,c=c.$oldWidget}),u&&(this.session.lineWidgets=null)}},l.prototype.$registerLineWidget=function(a){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var u=this.session.lineWidgets[a.row];return u&&(a.$oldWidget=u,u.el&&u.el.parentNode&&(u.el.parentNode.removeChild(u.el),u._inDocument=!1)),this.session.lineWidgets[a.row]=a,a},l.prototype.addLineWidget=function(a){if(this.$registerLineWidget(a),a.session=this.session,!this.editor)return a;var u=this.editor.renderer;a.html&&!a.el&&(a.el=o.createElement("div"),a.el.innerHTML=a.html),a.text&&!a.el&&(a.el=o.createElement("div"),a.el.textContent=a.text),a.el&&(o.addCssClass(a.el,"ace_lineWidgetContainer"),a.className&&o.addCssClass(a.el,a.className),a.el.style.position="absolute",a.el.style.zIndex=5,u.container.appendChild(a.el),a._inDocument=!0,a.coverGutter||(a.el.style.zIndex=3),a.pixelHeight==null&&(a.pixelHeight=a.el.offsetHeight)),a.rowCount==null&&(a.rowCount=a.pixelHeight/u.layerConfig.lineHeight);var c=this.session.getFoldAt(a.row,0);if(a.$fold=c,c){var h=this.session.lineWidgets;a.row==c.end.row&&!h[c.start.row]?h[c.start.row]=a:a.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:a.row}}}),this.$updateRows(),this.renderWidgets(null,u),this.onWidgetChanged(a),a},l.prototype.removeLineWidget=function(a){if(a._inDocument=!1,a.session=null,a.el&&a.el.parentNode&&a.el.parentNode.removeChild(a.el),a.editor&&a.editor.destroy)try{a.editor.destroy()}catch{}if(this.session.lineWidgets){var u=this.session.lineWidgets[a.row];if(u==a)this.session.lineWidgets[a.row]=a.$oldWidget,a.$oldWidget&&this.onWidgetChanged(a.$oldWidget);else for(;u;){if(u.$oldWidget==a){u.$oldWidget=a.$oldWidget;break}u=u.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:a.row}}}),this.$updateRows()},l.prototype.getWidgetsAtRow=function(a){for(var u=this.session.lineWidgets,c=u&&u[a],h=[];c;)h.push(c),c=c.$oldWidget;return h},l.prototype.onWidgetChanged=function(a){this.session._changedWidgets.push(a),this.editor&&this.editor.renderer.updateFull()},l.prototype.measureWidgets=function(a,u){var c=this.session._changedWidgets,h=u.layerConfig;if(!(!c||!c.length)){for(var d=1/0,f=0;f<c.length;f++){var p=c[f];if(!(!p||!p.el)&&p.session==this.session){if(!p._inDocument){if(this.session.lineWidgets[p.row]!=p)continue;p._inDocument=!0,u.container.appendChild(p.el)}p.h=p.el.offsetHeight,p.fixedWidth||(p.w=p.el.offsetWidth,p.screenWidth=Math.ceil(p.w/h.characterWidth));var m=p.h/h.lineHeight;p.coverLine&&(m-=this.session.getRowLineCount(p.row),m<0&&(m=0)),p.rowCount!=m&&(p.rowCount=m,p.row<d&&(d=p.row))}}d!=1/0&&(this.session._emit("changeFold",{data:{start:{row:d}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},l.prototype.renderWidgets=function(a,u){var c=u.layerConfig,h=this.session.lineWidgets;if(h){for(var d=Math.min(this.firstRow,c.firstRow),f=Math.max(this.lastRow,c.lastRow,h.length);d>0&&!h[d];)d--;this.firstRow=c.firstRow,this.lastRow=c.lastRow,u.$cursorLayer.config=c;for(var p=d;p<=f;p++){var m=h[p];if(!(!m||!m.el)){if(m.hidden){m.el.style.top=-100-(m.pixelHeight||0)+"px";continue}m._inDocument||(m._inDocument=!0,u.container.appendChild(m.el));var g=u.$cursorLayer.getPixelPosition({row:p,column:0},!0).top;m.coverLine||(g+=c.lineHeight*this.session.getRowLineCount(m.row)),m.el.style.top=g-c.offset+"px";var v=m.coverGutter?0:u.gutterWidth;m.fixedWidth||(v-=u.scrollLeft),m.el.style.left=v+"px",m.fullWidth&&m.screenWidth&&(m.el.style.minWidth=c.width+2*c.padding+"px"),m.fixedWidth?m.el.style.right=u.scrollBar.getWidth()+"px":m.el.style.right=""}}}},l}();i.LineWidgets=s}),ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys","ace/mouse/default_gutter_handler"],function(n,i,r){var o=n("../lib/keys"),s=n("../mouse/default_gutter_handler").GutterTooltip,l=function(){function u(c){this.editor=c,this.gutterLayer=c.renderer.$gutterLayer,this.element=c.renderer.$gutter,this.lines=c.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=new s(this.editor)}return u.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},u.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},u.prototype.$onGutterKeyDown=function(c){if(this.annotationTooltip.isOpen){c.preventDefault(),c.keyCode===o.escape&&this.annotationTooltip.hideTooltip();return}if(c.target===this.element){if(c.keyCode!=o.enter)return;c.preventDefault();var h=this.editor.getCursorPosition().row;this.editor.isRowVisible(h)||this.editor.scrollToLine(h,!0,!0),setTimeout((function(){var d=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),f=this.$findNearestFoldWidget(d),p=this.$findNearestAnnotation(d);if(!(f===null&&p===null)){if(f===null&&p!==null){this.activeRowIndex=p,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}if(f!==null&&p===null){this.activeRowIndex=f,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}if(Math.abs(p-d)<Math.abs(f-d)){this.activeRowIndex=p,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}else{this.activeRowIndex=f,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}}}).bind(this),10);return}this.$handleGutterKeyboardInteraction(c),setTimeout((function(){this.editor._signal("gutterkeydown",new a(c,this))}).bind(this),10)},u.prototype.$handleGutterKeyboardInteraction=function(c){if(c.keyCode===o.tab){c.preventDefault();return}if(c.keyCode===o.escape){c.preventDefault(),this.$blurGutter(),this.element.focus(),this.lane=null;return}if(c.keyCode===o.up){switch(c.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp();break}return}if(c.keyCode===o.down){switch(c.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown();break}return}if(c.keyCode===o.left){c.preventDefault(),this.$switchLane("annotation");return}if(c.keyCode===o.right){c.preventDefault(),this.$switchLane("fold");return}if(c.keyCode===o.enter||c.keyCode===o.space){switch(c.preventDefault(),this.activeLane){case"fold":if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="start"){var h=this.$rowIndexToRow(this.activeRowIndex);this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),c),setTimeout((function(){this.$rowIndexToRow(this.activeRowIndex)!==h&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(h),this.$focusFoldWidget(this.activeRowIndex))}).bind(this),10);break}else if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="end")break;return;case"annotation":var d=this.lines.cells[this.activeRowIndex].element.childNodes[2],f=d.getBoundingClientRect(),p=this.annotationTooltip.getElement().style;p.left=f.right+"px",p.top=f.bottom+"px",this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex));break}return}},u.prototype.$blurGutter=function(){if(this.activeRowIndex!==null)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex);break}this.annotationTooltip.isOpen&&this.annotationTooltip.hideTooltip()},u.prototype.$isFoldWidgetVisible=function(c){var h=this.editor.isRowFullyVisible(this.$rowIndexToRow(c)),d=this.$getFoldWidget(c).style.display!=="none";return h&&d},u.prototype.$isAnnotationVisible=function(c){var h=this.editor.isRowFullyVisible(this.$rowIndexToRow(c)),d=this.$getAnnotation(c).style.display!=="none";return h&&d},u.prototype.$getFoldWidget=function(c){var h=this.lines.get(c),d=h.element;return d.childNodes[1]},u.prototype.$getAnnotation=function(c){var h=this.lines.get(c),d=h.element;return d.childNodes[2]},u.prototype.$findNearestFoldWidget=function(c){if(this.$isFoldWidgetVisible(c))return c;for(var h=0;c-h>0||c+h<this.lines.getLength()-1;){if(h++,c-h>=0&&this.$isFoldWidgetVisible(c-h))return c-h;if(c+h<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(c+h))return c+h}return null},u.prototype.$findNearestAnnotation=function(c){if(this.$isAnnotationVisible(c))return c;for(var h=0;c-h>0||c+h<this.lines.getLength()-1;){if(h++,c-h>=0&&this.$isAnnotationVisible(c-h))return c-h;if(c+h<=this.lines.getLength()-1&&this.$isAnnotationVisible(c+h))return c+h}return null},u.prototype.$focusFoldWidget=function(c){if(c!=null){var h=this.$getFoldWidget(c);h.classList.add(this.editor.renderer.keyboardFocusClassName),h.focus()}},u.prototype.$focusAnnotation=function(c){if(c!=null){var h=this.$getAnnotation(c);h.classList.add(this.editor.renderer.keyboardFocusClassName),h.focus()}},u.prototype.$blurFoldWidget=function(c){var h=this.$getFoldWidget(c);h.classList.remove(this.editor.renderer.keyboardFocusClassName),h.blur()},u.prototype.$blurAnnotation=function(c){var h=this.$getAnnotation(c);h.classList.remove(this.editor.renderer.keyboardFocusClassName),h.blur()},u.prototype.$moveFoldWidgetUp=function(){for(var c=this.activeRowIndex;c>0;)if(c--,this.$isFoldWidgetVisible(c)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=c,this.$focusFoldWidget(this.activeRowIndex);return}},u.prototype.$moveFoldWidgetDown=function(){for(var c=this.activeRowIndex;c<this.lines.getLength()-1;)if(c++,this.$isFoldWidgetVisible(c)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=c,this.$focusFoldWidget(this.activeRowIndex);return}},u.prototype.$moveAnnotationUp=function(){for(var c=this.activeRowIndex;c>0;)if(c--,this.$isAnnotationVisible(c)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=c,this.$focusAnnotation(this.activeRowIndex);return}},u.prototype.$moveAnnotationDown=function(){for(var c=this.activeRowIndex;c<this.lines.getLength()-1;)if(c++,this.$isAnnotationVisible(c)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=c,this.$focusAnnotation(this.activeRowIndex);return}},u.prototype.$switchLane=function(c){switch(c){case"annotation":if(this.activeLane==="annotation")break;var h=this.$findNearestAnnotation(this.activeRowIndex);if(h==null)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=h,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if(this.activeLane==="fold")break;var d=this.$findNearestFoldWidget(this.activeRowIndex);if(d==null)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=d,this.$focusFoldWidget(this.activeRowIndex);break}},u.prototype.$rowIndexToRow=function(c){var h=this.lines.get(c);return h?h.row:null},u.prototype.$rowToRowIndex=function(c){for(var h=0;h<this.lines.getLength();h++){var d=this.lines.get(h);if(d.row==c)return h}return null},u}();i.GutterKeyboardHandler=l;var a=function(){function u(c,h){this.gutterKeyboardHandler=h,this.domEvent=c}return u.prototype.getKey=function(){return o.keyCodeToString(this.domEvent.keyCode)},u.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},u.prototype.isInAnnotationLane=function(){return this.gutterKeyboardHandler.activeLane==="annotation"},u.prototype.isInFoldLane=function(){return this.gutterKeyboardHandler.activeLane==="fold"},u}();i.GutterKeyboardEvent=a}),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/line_widgets","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys"],function(n,i,r){var o=this&&this.__values||function(O){var $=typeof Symbol=="function"&&Symbol.iterator,M=$&&O[$],R=0;if(M)return M.call(O);if(O&&typeof O.length=="number")return{next:function(){return O&&R>=O.length&&(O=void 0),{value:O&&O[R++],done:!O}}};throw new TypeError($?"Object is not iterable.":"Symbol.iterator is not defined.")},s=n("./lib/oop"),l=n("./lib/dom"),a=n("./lib/lang"),u=n("./lib/useragent"),c=n("./keyboard/textinput").TextInput,h=n("./mouse/mouse_handler").MouseHandler,d=n("./mouse/fold_handler").FoldHandler,f=n("./keyboard/keybinding").KeyBinding,p=n("./edit_session").EditSession,m=n("./search").Search,g=n("./range").Range,v=n("./lib/event_emitter").EventEmitter,y=n("./commands/command_manager").CommandManager,k=n("./commands/default_commands").commands,C=n("./config"),T=n("./token_iterator").TokenIterator,_=n("./line_widgets").LineWidgets,E=n("./keyboard/gutter_handler").GutterKeyboardHandler,w=n("./config").nls,S=n("./clipboard"),b=n("./lib/keys"),x=function(){function O($,M,R){this.$toDestroy=[];var P=$.getContainerElement();this.container=P,this.renderer=$,this.id="editor"+ ++O.$uid,this.commands=new y(u.isMac?"mac":"win",k),typeof document=="object"&&(this.textInput=new c($.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new h(this),new d(this)),this.keyBinding=new f(this),this.$search=new m().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=a.delayedCall((function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}).bind(this)),this.on("change",function(N,D){D._$emitInputEvent.schedule(31)}),this.setSession(M||R&&R.session||new p("")),C.resetOptions(this),R&&this.setOptions(R),C._signal("editor",this)}return O.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=a.delayedCall(this.endOperation.bind(this,!0)),this.on("change",(function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}).bind(this),!0),this.on("changeSelection",(function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}).bind(this),!0)},O.prototype.startOperation=function($){if(this.curOp){if(!$||this.curOp.command)return;this.prevOp=this.curOp}$||(this.previousCommand=null,$={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:$.command||{},args:$.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},O.prototype.endOperation=function($){if(this.curOp&&this.session){if($&&$.returnValue===!1||!this.session)return this.curOp=null;if($==!0&&this.curOp.command&&this.curOp.command.name=="mouse"||(this._signal("beforeEndOperation"),!this.curOp))return;var M=this.curOp.command,R=M&&M.scrollIntoView;if(R){switch(R){case"center-animate":R="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var P=this.selection.getRange(),N=this.renderer.layerConfig;(P.start.row>=N.lastRow||P.end.row<=N.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break}R=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}var D=this.selection.toJSON();this.curOp.selectionAfter=D,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(D),this.prevOp=this.curOp,this.curOp=null}},O.prototype.$historyTracker=function($){if(this.$mergeUndoDeltas){var M=this.prevOp,R=this.$mergeableCommands,P=M.command&&$.command.name==M.command.name;if($.command.name=="insertstring"){var N=$.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),P=P&&this.mergeNextCommand&&(!/\s/.test(N)||/\s/.test(M.args)),this.mergeNextCommand=!0}else P=P&&R.indexOf($.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(P=!1),P?this.session.mergeUndoDeltas=!0:R.indexOf($.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},O.prototype.setKeyboardHandler=function($,M){if($&&typeof $=="string"&&$!="ace"){this.$keybindingId=$;var R=this;C.loadModule(["keybinding",$],function(P){R.$keybindingId==$&&R.keyBinding.setKeyboardHandler(P&&P.handler),M&&M()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler($),M&&M()},O.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},O.prototype.setSession=function($){if(this.session!=$){this.curOp&&this.endOperation(),this.curOp={};var M=this.session;if(M){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var R=this.session.getSelection();R.off("changeCursor",this.$onCursorChange),R.off("changeSelection",this.$onSelectionChange)}this.session=$,$?(this.$onDocumentChange=this.onDocumentChange.bind(this),$.on("change",this.$onDocumentChange),this.renderer.setSession($),this.$onChangeMode=this.onChangeMode.bind(this),$.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),$.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),$.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),$.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),$.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),$.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=$.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession($)),this._signal("changeSession",{session:$,oldSession:M}),this.curOp=null,M&&M._signal("changeEditor",{oldEditor:this}),$&&$._signal("changeEditor",{editor:this}),$&&!$.destroyed&&$.bgTokenizer.scheduleStart()}},O.prototype.getSession=function(){return this.session},O.prototype.setValue=function($,M){return this.session.doc.setValue($),M?M==1?this.navigateFileEnd():M==-1&&this.navigateFileStart():this.selectAll(),$},O.prototype.getValue=function(){return this.session.getValue()},O.prototype.getSelection=function(){return this.selection},O.prototype.resize=function($){this.renderer.onResize($)},O.prototype.setTheme=function($,M){this.renderer.setTheme($,M)},O.prototype.getTheme=function(){return this.renderer.getTheme()},O.prototype.setStyle=function($){this.renderer.setStyle($)},O.prototype.unsetStyle=function($){this.renderer.unsetStyle($)},O.prototype.getFontSize=function(){return this.getOption("fontSize")||l.computedStyle(this.container).fontSize},O.prototype.setFontSize=function($){this.setOption("fontSize",$)},O.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var $=this;this.$highlightPending=!0,setTimeout(function(){$.$highlightPending=!1;var M=$.session;if(!(!M||M.destroyed)){M.$bracketHighlight&&(M.$bracketHighlight.markerIds.forEach(function(j){M.removeMarker(j)}),M.$bracketHighlight=null);var R=$.getCursorPosition(),P=$.getKeyboardHandler(),N=P&&P.$getDirectionForHighlight&&P.$getDirectionForHighlight($),D=M.getMatchingBracketRanges(R,N);if(!D){var V=new T(M,R.row,R.column),z=V.getCurrentToken();if(z&&/\b(?:tag-open|tag-name)/.test(z.type)){var F=M.getMatchingTags(R);F&&(D=[F.openTagName,F.closeTagName])}}if(!D&&M.$mode.getMatching&&(D=M.$mode.getMatching($.session)),!D){$.getHighlightIndentGuides()&&$.renderer.$textLayer.$highlightIndentGuide();return}var B="ace_bracket";Array.isArray(D)?D.length==1&&(B="ace_error_bracket"):D=[D],D.length==2&&(g.comparePoints(D[0].end,D[1].start)==0?D=[g.fromPoints(D[0].start,D[1].end)]:g.comparePoints(D[0].start,D[1].end)==0&&(D=[g.fromPoints(D[1].start,D[0].end)])),M.$bracketHighlight={ranges:D,markerIds:D.map(function(j){return M.addMarker(j,B,"text")})},$.getHighlightIndentGuides()&&$.renderer.$textLayer.$highlightIndentGuide()}},50)}},O.prototype.focus=function(){this.textInput.focus()},O.prototype.isFocused=function(){return this.textInput.isFocused()},O.prototype.blur=function(){this.textInput.blur()},O.prototype.onFocus=function($){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",$))},O.prototype.onBlur=function($){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",$))},O.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},O.prototype.onDocumentChange=function($){var M=this.session.$useWrapMode,R=$.start.row==$.end.row?$.end.row:1/0;this.renderer.updateLines($.start.row,R,M),this._signal("change",$),this.$cursorChange()},O.prototype.onTokenizerUpdate=function($){var M=$.data;this.renderer.updateLines(M.first,M.last)},O.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},O.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},O.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},O.prototype.$updateHighlightActiveLine=function(){var $=this.getSession(),M;if(this.$highlightActiveLine&&((this.$selectionStyle!="line"||!this.selection.isMultiLine())&&(M=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(M=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(M=!1)),$.$highlightLineMarker&&!M)$.removeMarker($.$highlightLineMarker.id),$.$highlightLineMarker=null;else if(!$.$highlightLineMarker&&M){var R=new g(M.row,M.column,M.row,1/0);R.id=$.addMarker(R,"ace_active-line","screenLine"),$.$highlightLineMarker=R}else M&&($.$highlightLineMarker.start.row=M.row,$.$highlightLineMarker.end.row=M.row,$.$highlightLineMarker.start.column=M.column,$._signal("changeBackMarker"))},O.prototype.onSelectionChange=function($){var M=this.session;if(M.$selectionMarker&&M.removeMarker(M.$selectionMarker),M.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var R=this.selection.getRange(),P=this.getSelectionStyle();M.$selectionMarker=M.addMarker(R,"ace_selection",P)}var N=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(N),this._signal("changeSelection")},O.prototype.$getSelectionHighLightRegexp=function(){var $=this.session,M=this.getSelectionRange();if(!(M.isEmpty()||M.isMultiLine())){var R=M.start.column,P=M.end.column,N=$.getLine(M.start.row),D=N.substring(R,P);if(!(D.length>5e3||!/[\w\d]/.test(D))){var V=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:D}),z=N.substring(R-1,P+1);if(V.test(z))return V}}},O.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},O.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},O.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},O.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},O.prototype.onChangeMode=function($){this.renderer.updateText(),this._emit("changeMode",$)},O.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},O.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},O.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},O.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},O.prototype.getCopyText=function(){var $=this.getSelectedText(),M=this.session.doc.getNewLineCharacter(),R=!1;if(!$&&this.$copyWithEmptySelection){R=!0;for(var P=this.selection.getAllRanges(),N=0;N<P.length;N++){var D=P[N];N&&P[N-1].start.row==D.start.row||($+=this.session.getLine(D.start.row)+M)}}var V={text:$};return this._signal("copy",V),S.lineMode=R?V.text:!1,V.text},O.prototype.onCopy=function(){this.commands.exec("copy",this)},O.prototype.onCut=function(){this.commands.exec("cut",this)},O.prototype.onPaste=function($,M){var R={text:$,event:M};this.commands.exec("paste",this,R)},O.prototype.$handlePaste=function($){typeof $=="string"&&($={text:$}),this._signal("paste",$);var M=$.text,R=M===S.lineMode,P=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)R?P.insert({row:this.selection.lead.row,column:0},M):this.insert(M);else if(R)this.selection.rangeList.ranges.forEach(function(B){P.insert({row:B.start.row,column:0},M)});else{var N=M.split(/\r\n|\r|\n/),D=this.selection.rangeList.ranges,V=N.length==2&&(!N[0]||!N[1]);if(N.length!=D.length||V)return this.commands.exec("insertstring",this,M);for(var z=D.length;z--;){var F=D[z];F.isEmpty()||P.remove(F),P.insert(F.start,N[z])}}},O.prototype.execCommand=function($,M){return this.commands.exec($,this,M)},O.prototype.insert=function($,M){var R=this.session,P=R.getMode(),N=this.getCursorPosition();if(this.getBehavioursEnabled()&&!M){var D=P.transformAction(R.getState(N.row),"insertion",this,R,$);D&&($!==D.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),$=D.text)}if($=="	"&&($=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&$.indexOf(`
`)==-1){var V=new g.fromPoints(N,N);V.end.column+=$.length,this.session.remove(V)}}else{var V=this.getSelectionRange();N=this.session.remove(V),this.clearSelection()}if($==`
`||$==`\r
`){var j=R.getLine(N.row);if(N.column>j.search(/\S|$/)){var z=j.substr(N.column).search(/\S|$/);R.doc.removeInLine(N.row,N.column,N.column+z)}}this.clearSelection();var F=N.column,B=R.getState(N.row),j=R.getLine(N.row),H=P.checkOutdent(B,j,$);if(R.insert(N,$),D&&D.selection&&(D.selection.length==2?this.selection.setSelectionRange(new g(N.row,F+D.selection[0],N.row,F+D.selection[1])):this.selection.setSelectionRange(new g(N.row+D.selection[0],D.selection[1],N.row+D.selection[2],D.selection[3]))),this.$enableAutoIndent){if(R.getDocument().isNewLine($)){var G=P.getNextLineIndent(B,j.slice(0,N.column),R.getTabString());R.insert({row:N.row+1,column:0},G)}H&&P.autoOutdent(B,R,N.row)}},O.prototype.autoIndent=function(){var $=this.session,M=$.getMode(),R,P;if(this.selection.isEmpty())R=0,P=$.doc.getLength()-1;else{var N=this.getSelectionRange();R=N.start.row,P=N.end.row}for(var D="",V="",z="",F,B,j,H=$.getTabString(),G=R;G<=P;G++)G>0&&(D=$.getState(G-1),V=$.getLine(G-1),z=M.getNextLineIndent(D,V,H)),F=$.getLine(G),B=M.$getIndent(F),z!==B&&(B.length>0&&(j=new g(G,0,G,B.length),$.remove(j)),z.length>0&&$.insert({row:G,column:0},z)),M.autoOutdent(D,$,G)},O.prototype.onTextInput=function($,M){if(!M)return this.keyBinding.onTextInput($);this.startOperation({command:{name:"insertstring"}});var R=this.applyComposition.bind(this,$,M);this.selection.rangeCount?this.forEachSelection(R):R(),this.endOperation()},O.prototype.applyComposition=function($,M){if(M.extendLeft||M.extendRight){var R=this.selection.getRange();R.start.column-=M.extendLeft,R.end.column+=M.extendRight,R.start.column<0&&(R.start.row--,R.start.column+=this.session.getLine(R.start.row).length+1),this.selection.setRange(R),!$&&!R.isEmpty()&&this.remove()}if(($||!this.selection.isEmpty())&&this.insert($,!0),M.restoreStart||M.restoreEnd){var R=this.selection.getRange();R.start.column-=M.restoreStart,R.end.column-=M.restoreEnd,this.selection.setRange(R)}},O.prototype.onCommandKey=function($,M,R){return this.keyBinding.onCommandKey($,M,R)},O.prototype.setOverwrite=function($){this.session.setOverwrite($)},O.prototype.getOverwrite=function(){return this.session.getOverwrite()},O.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},O.prototype.setScrollSpeed=function($){this.setOption("scrollSpeed",$)},O.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},O.prototype.setDragDelay=function($){this.setOption("dragDelay",$)},O.prototype.getDragDelay=function(){return this.getOption("dragDelay")},O.prototype.setSelectionStyle=function($){this.setOption("selectionStyle",$)},O.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},O.prototype.setHighlightActiveLine=function($){this.setOption("highlightActiveLine",$)},O.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},O.prototype.setHighlightGutterLine=function($){this.setOption("highlightGutterLine",$)},O.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},O.prototype.setHighlightSelectedWord=function($){this.setOption("highlightSelectedWord",$)},O.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},O.prototype.setAnimatedScroll=function($){this.renderer.setAnimatedScroll($)},O.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},O.prototype.setShowInvisibles=function($){this.renderer.setShowInvisibles($)},O.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},O.prototype.setDisplayIndentGuides=function($){this.renderer.setDisplayIndentGuides($)},O.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},O.prototype.setHighlightIndentGuides=function($){this.renderer.setHighlightIndentGuides($)},O.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},O.prototype.setShowPrintMargin=function($){this.renderer.setShowPrintMargin($)},O.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},O.prototype.setPrintMarginColumn=function($){this.renderer.setPrintMarginColumn($)},O.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},O.prototype.setReadOnly=function($){this.setOption("readOnly",$)},O.prototype.getReadOnly=function(){return this.getOption("readOnly")},O.prototype.setBehavioursEnabled=function($){this.setOption("behavioursEnabled",$)},O.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},O.prototype.setWrapBehavioursEnabled=function($){this.setOption("wrapBehavioursEnabled",$)},O.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},O.prototype.setShowFoldWidgets=function($){this.setOption("showFoldWidgets",$)},O.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},O.prototype.setFadeFoldWidgets=function($){this.setOption("fadeFoldWidgets",$)},O.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},O.prototype.remove=function($){this.selection.isEmpty()&&($=="left"?this.selection.selectLeft():this.selection.selectRight());var M=this.getSelectionRange();if(this.getBehavioursEnabled()){var R=this.session,P=R.getState(M.start.row),N=R.getMode().transformAction(P,"deletion",this,R,M);if(M.end.column===0){var D=R.getTextRange(M);if(D[D.length-1]==`
`){var V=R.getLine(M.end.row);/^\s+$/.test(V)&&(M.end.column=V.length)}}N&&(M=N)}this.session.remove(M),this.clearSelection()},O.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},O.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},O.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},O.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var $=this.getSelectionRange();$.start.column==$.end.column&&$.start.row==$.end.row&&($.end.column=0,$.end.row++),this.session.remove($),this.clearSelection()},O.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var $=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition($)},O.prototype.setGhostText=function($,M){this.session.widgetManager||(this.session.widgetManager=new _(this.session),this.session.widgetManager.attach(this)),this.renderer.setGhostText($,M)},O.prototype.removeGhostText=function(){this.session.widgetManager&&this.renderer.removeGhostText()},O.prototype.transposeLetters=function(){if(this.selection.isEmpty()){var $=this.getCursorPosition(),M=$.column;if(M!==0){var R=this.session.getLine($.row),P,N;M<R.length?(P=R.charAt(M)+R.charAt(M-1),N=new g($.row,M-1,$.row,M+1)):(P=R.charAt(M-1)+R.charAt(M-2),N=new g($.row,M-2,$.row,M)),this.session.replace(N,P),this.session.selection.moveToPosition(N.end)}}},O.prototype.toLowerCase=function(){var $=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var M=this.getSelectionRange(),R=this.session.getTextRange(M);this.session.replace(M,R.toLowerCase()),this.selection.setSelectionRange($)},O.prototype.toUpperCase=function(){var $=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var M=this.getSelectionRange(),R=this.session.getTextRange(M);this.session.replace(M,R.toUpperCase()),this.selection.setSelectionRange($)},O.prototype.indent=function(){var $=this.session,M=this.getSelectionRange();if(M.start.row<M.end.row){var R=this.$getSelectedRows();$.indentRows(R.first,R.last,"	");return}else if(M.start.column<M.end.column){var P=$.getTextRange(M);if(!/^\s+$/.test(P)){var R=this.$getSelectedRows();$.indentRows(R.first,R.last,"	");return}}var N=$.getLine(M.start.row),D=M.start,V=$.getTabSize(),z=$.documentToScreenColumn(D.row,D.column);if(this.session.getUseSoftTabs())var F=V-z%V,B=a.stringRepeat(" ",F);else{for(var F=z%V;N[M.start.column-1]==" "&&F;)M.start.column--,F--;this.selection.setSelectionRange(M),B="	"}return this.insert(B)},O.prototype.blockIndent=function(){var $=this.$getSelectedRows();this.session.indentRows($.first,$.last,"	")},O.prototype.blockOutdent=function(){var $=this.session.getSelection();this.session.outdentRows($.getRange())},O.prototype.sortLines=function(){for(var $=this.$getSelectedRows(),M=this.session,R=[],P=$.first;P<=$.last;P++)R.push(M.getLine(P));R.sort(function(V,z){return V.toLowerCase()<z.toLowerCase()?-1:V.toLowerCase()>z.toLowerCase()?1:0});for(var N=new g(0,0,0,0),P=$.first;P<=$.last;P++){var D=M.getLine(P);N.start.row=P,N.end.row=P,N.end.column=D.length,M.replace(N,R[P-$.first])}},O.prototype.toggleCommentLines=function(){var $=this.session.getState(this.getCursorPosition().row),M=this.$getSelectedRows();this.session.getMode().toggleCommentLines($,this.session,M.first,M.last)},O.prototype.toggleBlockComment=function(){var $=this.getCursorPosition(),M=this.session.getState($.row),R=this.getSelectionRange();this.session.getMode().toggleBlockComment(M,this.session,R,$)},O.prototype.getNumberAt=function($,M){var R=/[\-]?[0-9]+(?:\.[0-9]+)?/g;R.lastIndex=0;for(var P=this.session.getLine($);R.lastIndex<M;){var N=R.exec(P);if(N.index<=M&&N.index+N[0].length>=M){var D={value:N[0],start:N.index,end:N.index+N[0].length};return D}}return null},O.prototype.modifyNumber=function($){var M=this.selection.getCursor().row,R=this.selection.getCursor().column,P=new g(M,R-1,M,R),N=this.session.getTextRange(P);if(!isNaN(parseFloat(N))&&isFinite(N)){var D=this.getNumberAt(M,R);if(D){var V=D.value.indexOf(".")>=0?D.start+D.value.indexOf(".")+1:D.end,z=D.start+D.value.length-V,F=parseFloat(D.value);F*=Math.pow(10,z),V!==D.end&&R<V?$*=Math.pow(10,D.end-R-1):$*=Math.pow(10,D.end-R),F+=$,F/=Math.pow(10,z);var B=F.toFixed(z),j=new g(M,D.start,M,D.end);this.session.replace(j,B),this.moveCursorTo(M,Math.max(D.start+1,R+B.length-D.value.length))}}else this.toggleWord()},O.prototype.toggleWord=function(){var $=this.selection.getCursor().row,M=this.selection.getCursor().column;this.selection.selectWord();var R=this.getSelectedText(),P=this.selection.getWordRange().start.column,N=R.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),D=M-P-1;D<0&&(D=0);var V=0,z=0,F=this;R.match(/[A-Za-z0-9_]+/)&&N.forEach(function(ne,ce){z=V+ne.length,D>=V&&D<=z&&(R=ne,F.selection.clearSelection(),F.moveCursorTo($,V+P),F.selection.selectTo($,z+P)),V=z});for(var B=this.$toggleWordPairs,j,H=0;H<B.length;H++)for(var G=B[H],Q=0;Q<=1;Q++){var J=+!Q,Y=R.match(new RegExp("^\\s?_?("+a.escapeRegExp(G[Q])+")\\s?$","i"));if(Y){var ee=R.match(new RegExp("([_]|^|\\s)("+a.escapeRegExp(Y[1])+")($|\\s)","g"));ee&&(j=R.replace(new RegExp(a.escapeRegExp(G[Q]),"i"),function(ne){var ce=G[J];return ne.toUpperCase()==ne?ce=ce.toUpperCase():ne.charAt(0).toUpperCase()==ne.charAt(0)&&(ce=ce.substr(0,0)+G[J].charAt(0).toUpperCase()+ce.substr(1)),ce}),this.insert(j),j="")}}},O.prototype.findLinkAt=function($,M){var R,P,N=this.session.getLine($),D=N.split(/((?:https?|ftp):\/\/[\S]+)/),V=M;V<0&&(V=0);var z=0,F=0,B;try{for(var j=o(D),H=j.next();!H.done;H=j.next()){var G=H.value;if(F=z+G.length,V>=z&&V<=F&&G.match(/((?:https?|ftp):\/\/[\S]+)/)){B=G.replace(/[\s:.,'";}\]]+$/,"");break}z=F}}catch(Q){R={error:Q}}finally{try{H&&!H.done&&(P=j.return)&&P.call(j)}finally{if(R)throw R.error}}return B},O.prototype.openLink=function(){var $=this.selection.getCursor(),M=this.findLinkAt($.row,$.column);return M&&window.open(M,"_blank"),M!=null},O.prototype.removeLines=function(){var $=this.$getSelectedRows();this.session.removeFullLines($.first,$.last),this.clearSelection()},O.prototype.duplicateSelection=function(){var $=this.selection,M=this.session,R=$.getRange(),P=$.isBackwards();if(R.isEmpty()){var N=R.start.row;M.duplicateLines(N,N)}else{var D=P?R.start:R.end,V=M.insert(D,M.getTextRange(R),!1);R.start=D,R.end=V,$.setSelectionRange(R,P)}},O.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},O.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},O.prototype.moveText=function($,M,R){return this.session.moveText($,M,R)},O.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},O.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},O.prototype.$moveLines=function($,M){var R,P,N=this.selection;if(!N.inMultiSelectMode||this.inVirtualSelectionMode){var D=N.toOrientedRange();R=this.$getSelectedRows(D),P=this.session.$moveLines(R.first,R.last,M?0:$),M&&$==-1&&(P=0),D.moveBy(P,0),N.fromOrientedRange(D)}else{var V=N.rangeList.ranges;N.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var z=0,F=0,B=V.length,j=0;j<B;j++){var H=j;V[j].moveBy(z,0),R=this.$getSelectedRows(V[j]);for(var G=R.first,Q=R.last;++j<B;){F&&V[j].moveBy(F,0);var J=this.$getSelectedRows(V[j]);if(M&&J.first!=Q)break;if(!M&&J.first>Q+1)break;Q=J.last}for(j--,z=this.session.$moveLines(G,Q,M?0:$),M&&$==-1&&(H=j+1);H<=j;)V[H].moveBy(z,0),H++;M||(z=0),F+=z}N.fromOrientedRange(N.ranges[0]),N.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},O.prototype.$getSelectedRows=function($){return $=($||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart($.start.row),last:this.session.getRowFoldEnd($.end.row)}},O.prototype.onCompositionStart=function($){this.renderer.showComposition($)},O.prototype.onCompositionUpdate=function($){this.renderer.setCompositionText($)},O.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},O.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},O.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},O.prototype.isRowVisible=function($){return $>=this.getFirstVisibleRow()&&$<=this.getLastVisibleRow()},O.prototype.isRowFullyVisible=function($){return $>=this.renderer.getFirstFullyVisibleRow()&&$<=this.renderer.getLastFullyVisibleRow()},O.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},O.prototype.$moveByPage=function($,M){var R=this.renderer,P=this.renderer.layerConfig,N=$*Math.floor(P.height/P.lineHeight);M===!0?this.selection.$moveSelection(function(){this.moveCursorBy(N,0)}):M===!1&&(this.selection.moveCursorBy(N,0),this.selection.clearSelection());var D=R.scrollTop;R.scrollBy(0,N*P.lineHeight),M!=null&&R.scrollCursorIntoView(null,.5),R.animateScrolling(D)},O.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},O.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},O.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},O.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},O.prototype.scrollPageDown=function(){this.$moveByPage(1)},O.prototype.scrollPageUp=function(){this.$moveByPage(-1)},O.prototype.scrollToRow=function($){this.renderer.scrollToRow($)},O.prototype.scrollToLine=function($,M,R,P){this.renderer.scrollToLine($,M,R,P)},O.prototype.centerSelection=function(){var $=this.getSelectionRange(),M={row:Math.floor($.start.row+($.end.row-$.start.row)/2),column:Math.floor($.start.column+($.end.column-$.start.column)/2)};this.renderer.alignCursor(M,.5)},O.prototype.getCursorPosition=function(){return this.selection.getCursor()},O.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},O.prototype.getSelectionRange=function(){return this.selection.getRange()},O.prototype.selectAll=function(){this.selection.selectAll()},O.prototype.clearSelection=function(){this.selection.clearSelection()},O.prototype.moveCursorTo=function($,M){this.selection.moveCursorTo($,M)},O.prototype.moveCursorToPosition=function($){this.selection.moveCursorToPosition($)},O.prototype.jumpToMatching=function($,M){var R=this.getCursorPosition(),P=new T(this.session,R.row,R.column),N=P.getCurrentToken(),D=0;N&&N.type.indexOf("tag-name")!==-1&&(N=P.stepBackward());var V=N||P.stepForward();if(V){var z,F=!1,B={},j=R.column-V.start,H,G={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(V.value.match(/[{}()\[\]]/g)){for(;j<V.value.length&&!F;j++)if(G[V.value[j]])switch(H=G[V.value[j]]+"."+V.type.replace("rparen","lparen"),isNaN(B[H])&&(B[H]=0),V.value[j]){case"(":case"[":case"{":B[H]++;break;case")":case"]":case"}":B[H]--,B[H]===-1&&(z="bracket",F=!0);break}}else V.type.indexOf("tag-name")!==-1&&(isNaN(B[V.value])&&(B[V.value]=0),N.value==="<"&&D>1?B[V.value]++:N.value==="</"&&B[V.value]--,B[V.value]===-1&&(z="tag",F=!0));F||(N=V,D++,V=P.stepForward(),j=0)}while(V&&!F);if(z){var Q,J;if(z==="bracket")Q=this.session.getBracketRange(R),Q||(Q=new g(P.getCurrentTokenRow(),P.getCurrentTokenColumn()+j-1,P.getCurrentTokenRow(),P.getCurrentTokenColumn()+j-1),J=Q.start,(M||J.row===R.row&&Math.abs(J.column-R.column)<2)&&(Q=this.session.getBracketRange(J)));else if(z==="tag"){if(!V||V.type.indexOf("tag-name")===-1)return;if(Q=new g(P.getCurrentTokenRow(),P.getCurrentTokenColumn()-2,P.getCurrentTokenRow(),P.getCurrentTokenColumn()-2),Q.compare(R.row,R.column)===0){var Y=this.session.getMatchingTags(R);Y&&(Y.openTag.contains(R.row,R.column)?(Q=Y.closeTag,J=Q.start):(Q=Y.openTag,Y.closeTag.start.row===R.row&&Y.closeTag.start.column===R.column?J=Q.end:J=Q.start))}J=J||Q.start}J=Q&&Q.cursor||J,J&&($?Q&&M?this.selection.setRange(Q):Q&&Q.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(J.row,J.column):this.selection.moveTo(J.row,J.column))}}},O.prototype.gotoLine=function($,M,R){this.selection.clearSelection(),this.session.unfold({row:$-1,column:M||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo($-1,M||0),this.isRowFullyVisible($-1)||this.scrollToLine($-1,!0,R)},O.prototype.navigateTo=function($,M){this.selection.moveTo($,M)},O.prototype.navigateUp=function($){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var M=this.selection.anchor.getPosition();return this.moveCursorToPosition(M)}this.selection.clearSelection(),this.selection.moveCursorBy(-$||-1,0)},O.prototype.navigateDown=function($){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var M=this.selection.anchor.getPosition();return this.moveCursorToPosition(M)}this.selection.clearSelection(),this.selection.moveCursorBy($||1,0)},O.prototype.navigateLeft=function($){if(this.selection.isEmpty())for($=$||1;$--;)this.selection.moveCursorLeft();else{var M=this.getSelectionRange().start;this.moveCursorToPosition(M)}this.clearSelection()},O.prototype.navigateRight=function($){if(this.selection.isEmpty())for($=$||1;$--;)this.selection.moveCursorRight();else{var M=this.getSelectionRange().end;this.moveCursorToPosition(M)}this.clearSelection()},O.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},O.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},O.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},O.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},O.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},O.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},O.prototype.replace=function($,M){M&&this.$search.set(M);var R=this.$search.find(this.session),P=0;return R&&(this.$tryReplace(R,$)&&(P=1),this.selection.setSelectionRange(R),this.renderer.scrollSelectionIntoView(R.start,R.end)),P},O.prototype.replaceAll=function($,M){M&&this.$search.set(M);var R=this.$search.findAll(this.session),P=0;if(!R.length)return P;var N=this.getSelectionRange();this.selection.moveTo(0,0);for(var D=R.length-1;D>=0;--D)this.$tryReplace(R[D],$)&&P++;return this.selection.setSelectionRange(N),P},O.prototype.$tryReplace=function($,M){var R=this.session.getTextRange($);return M=this.$search.replace(R,M),M!==null?($.end=this.session.replace($,M),$):null},O.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},O.prototype.find=function($,M,R){M||(M={}),typeof $=="string"||$ instanceof RegExp?M.needle=$:typeof $=="object"&&s.mixin(M,$);var P=this.selection.getRange();M.needle==null&&($=this.session.getTextRange(P)||this.$search.$options.needle,$||(P=this.session.getWordRange(P.start.row,P.start.column),$=this.session.getTextRange(P)),this.$search.set({needle:$})),this.$search.set(M),M.start||this.$search.set({start:P});var N=this.$search.find(this.session);if(M.preventScroll)return N;if(N)return this.revealRange(N,R),N;M.backwards?P.start=P.end:P.end=P.start,this.selection.setRange(P)},O.prototype.findNext=function($,M){this.find({skipCurrent:!0,backwards:!1},$,M)},O.prototype.findPrevious=function($,M){this.find($,{skipCurrent:!0,backwards:!0},M)},O.prototype.revealRange=function($,M){this.session.unfold($),this.selection.setSelectionRange($);var R=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView($.start,$.end,.5),M!==!1&&this.renderer.animateScrolling(R)},O.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},O.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},O.prototype.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function($){$.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},O.prototype.setAutoScrollEditorIntoView=function($){if($){var M,R=this,P=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var N=this.$scrollAnchor;N.style.cssText="position:absolute",this.container.insertBefore(N,this.container.firstChild);var D=this.on("changeSelection",function(){P=!0}),V=this.renderer.on("beforeRender",function(){P&&(M=R.renderer.container.getBoundingClientRect())}),z=this.renderer.on("afterRender",function(){if(P&&M&&(R.isFocused()||R.searchBox&&R.searchBox.isFocused())){var F=R.renderer,B=F.$cursorLayer.$pixelPos,j=F.layerConfig,H=B.top-j.offset;B.top>=0&&H+M.top<0?P=!0:B.top<j.height&&B.top+M.top+j.lineHeight>window.innerHeight?P=!1:P=null,P!=null&&(N.style.top=H+"px",N.style.left=B.left+"px",N.style.height=j.lineHeight+"px",N.scrollIntoView(P)),P=M=null}});this.setAutoScrollEditorIntoView=function(F){F||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",D),this.renderer.off("afterRender",z),this.renderer.off("beforeRender",V))}}},O.prototype.$resetCursorStyle=function(){var $=this.$cursorStyle||"ace",M=this.renderer.$cursorLayer;M&&(M.setSmoothBlinking(/smooth/.test($)),M.isBlinking=!this.$readOnly&&$!="wide",l.setCssClass(M.element,"ace_slim-cursors",/slim/.test($)))},O.prototype.prompt=function($,M,R){var P=this;C.loadModule("ace/ext/prompt",function(N){N.prompt(P,$,M,R)})},O}();x.$uid=0,x.prototype.curOp=null,x.prototype.prevOp={},x.prototype.$mergeableCommands=["backspace","del","insertstring"],x.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],s.implement(x.prototype,v),C.defineOptions(x.prototype,"editor",{selectionStyle:{set:function(O){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:O})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(O){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(O){this.textInput.setReadOnly(O),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(O){this.textInput.setCopyWithEmptySelection(O)},initialValue:!1},cursorStyle:{set:function(O){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(O){this.setAutoScrollEditorIntoView(O)}},keyboardHandler:{set:function(O){this.setKeyboardHandler(O)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(O){this.session.setValue(O)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(O){this.setSession(O)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(O){this.renderer.$gutterLayer.setShowLineNumbers(O),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),O&&this.$relativeLineNumbers?A.attach(this):A.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(O){this.$showLineNumbers&&O?A.attach(this):A.detach(this)}},placeholder:{set:function(O){this.$updatePlaceholder||(this.$updatePlaceholder=(function(){var $=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if($&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),l.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!$&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),l.addCssClass(this.container,"ace_hasPlaceholder");var M=l.createElement("div");M.className="ace_placeholder",M.textContent=this.$placeholder||"",this.renderer.placeholderNode=M,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!$&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}).bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(O){var $={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(P){P.blur(),P.renderer.scroller.focus()},readOnly:!0},M=function(P){if(P.target==this.renderer.scroller&&P.keyCode===b.enter){P.preventDefault();var N=this.getCursorPosition().row;this.isRowVisible(N)||this.scrollToLine(N,!0,!0),this.focus()}},R;O?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.textInput.setNumberOfExtraLines(u.isWin?3:0),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",w("editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",w("Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",M.bind(this)),this.commands.addCommand($),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",w("editor")),this.renderer.$gutter.setAttribute("aria-label",w("Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),R||(R=new E(this)),R.addListener()):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.textInput.setNumberOfExtraLines(0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",M.bind(this)),this.commands.removeCommand($),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),R&&R.removeListener())},initialValue:!1},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var A={getText:function(O,$){return(Math.abs(O.selection.lead.row-$)||$+1+($<9?"":""))+""},getWidth:function(O,$,M){return Math.max($.toString().length,(M.lastRow+1).toString().length,2)*M.characterWidth},update:function(O,$){$.renderer.$loop.schedule($.renderer.CHANGE_GUTTER)},attach:function(O){O.renderer.$gutterLayer.$renderer=this,O.on("changeSelection",this.update),this.update(null,O)},detach:function(O){O.renderer.$gutterLayer.$renderer==this&&(O.renderer.$gutterLayer.$renderer=null),O.off("changeSelection",this.update),this.update(null,O)}};i.Editor=x}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(n,i,r){var o=function(){function T(){this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}return T.prototype.addSession=function(_){this.$session=_},T.prototype.add=function(_,E,w){if(!this.$fromUndo&&_!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),E===!1||!this.lastDeltas){this.lastDeltas=[];var S=this.$undoStack.length;S>this.$undoDepth-1&&this.$undoStack.splice(0,S-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),_.id=this.$rev=++this.$maxRev}(_.action=="remove"||_.action=="insert")&&(this.$lastDelta=_),this.lastDeltas.push(_)}},T.prototype.addSelection=function(_,E){this.selections.push({value:_,rev:E||this.$rev})},T.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},T.prototype.markIgnored=function(_,E){E==null&&(E=this.$rev+1);for(var w=this.$undoStack,S=w.length;S--;){var b=w[S][0];if(b.id<=_)break;b.id<E&&(b.ignore=!0)}this.lastDeltas=null},T.prototype.getSelection=function(_,E){for(var w=this.selections,S=w.length;S--;){var b=w[S];if(b.rev<_)return E&&(b=w[S+1]),b}},T.prototype.getRevision=function(){return this.$rev},T.prototype.getDeltas=function(_,E){E==null&&(E=this.$rev+1);for(var w=this.$undoStack,S=null,b=0,x=w.length;x--;){var A=w[x][0];if(A.id<E&&!S&&(S=x+1),A.id<=_){b=x+1;break}}return w.slice(b,S)},T.prototype.getChangedRanges=function(_,E){E==null&&(E=this.$rev+1)},T.prototype.getChangedLines=function(_,E){E==null&&(E=this.$rev+1)},T.prototype.undo=function(_,E){this.lastDeltas=null;var w=this.$undoStack;if(s(w,w.length)){_||(_=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var S=w.pop(),b=null;return S&&(b=_.undoChanges(S,E),this.$redoStack.push(S),this.$syncRev()),this.$fromUndo=!1,b}},T.prototype.redo=function(_,E){if(this.lastDeltas=null,_||(_=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var w=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);C(this.$redoStack,w),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(x){x[0].id=++this.$maxRev},this)}var S=this.$redoStack.pop(),b=null;return S&&(b=_.redoChanges(S,E),this.$undoStack.push(S),this.$syncRev()),this.$fromUndo=!1,b},T.prototype.$syncRev=function(){var _=this.$undoStack,E=_[_.length-1],w=E&&E[0].id||0;this.$redoStackBaseRev=w,this.$rev=w},T.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},T.prototype.canUndo=function(){return this.$undoStack.length>0},T.prototype.canRedo=function(){return this.$redoStack.length>0},T.prototype.bookmark=function(_){_==null&&(_=this.$rev),this.mark=_},T.prototype.isAtBookmark=function(){return this.$rev===this.mark},T.prototype.toJSON=function(){},T.prototype.fromJSON=function(){},T.prototype.$prettyPrint=function(_){return _?h(_):h(this.$undoStack)+`
---
`+h(this.$redoStack)},T}();o.prototype.hasUndo=o.prototype.canUndo,o.prototype.hasRedo=o.prototype.canRedo,o.prototype.isClean=o.prototype.isAtBookmark,o.prototype.markClean=o.prototype.bookmark;function s(T,_){for(var E=_;E--;){var w=T[E];if(w&&!w[0].ignore){for(;E<_-1;){var S=p(T[E],T[E+1]);T[E]=S[0],T[E+1]=S[1],E++}return!0}}}var l=n("./range").Range,a=l.comparePoints;l.comparePoints;function u(T){return{row:T.row,column:T.column}}function c(T){return{start:u(T.start),end:u(T.end),action:T.action,lines:T.lines.slice()}}function h(T){if(T=T||this,Array.isArray(T))return T.map(h).join(`
`);var _="";return T.action?(_=T.action=="insert"?"+":"-",_+="["+T.lines+"]"):T.value&&(Array.isArray(T.value)?_=T.value.map(d).join(`
`):_=d(T.value)),T.start&&(_+=d(T)),(T.id||T.rev)&&(_+="	("+(T.id||T.rev)+")"),_}function d(T){return T.start.row+":"+T.start.column+"=>"+T.end.row+":"+T.end.column}function f(T,_){var E=T.action=="insert",w=_.action=="insert";if(E&&w)if(a(_.start,T.end)>=0)g(_,T,-1);else if(a(_.start,T.start)<=0)g(T,_,1);else return null;else if(E&&!w)if(a(_.start,T.end)>=0)g(_,T,-1);else if(a(_.end,T.start)<=0)g(T,_,-1);else return null;else if(!E&&w)if(a(_.start,T.start)>=0)g(_,T,1);else if(a(_.start,T.start)<=0)g(T,_,1);else return null;else if(!E&&!w)if(a(_.start,T.start)>=0)g(_,T,1);else if(a(_.end,T.start)<=0)g(T,_,-1);else return null;return[_,T]}function p(T,_){for(var E=T.length;E--;)for(var w=0;w<_.length;w++)if(!f(T[E],_[w])){for(;E<T.length;){for(;w--;)f(_[w],T[E]);w=_.length,E++}return[T,_]}return T.selectionBefore=_.selectionBefore=T.selectionAfter=_.selectionAfter=null,[_,T]}function m(T,_){var E=T.action=="insert",w=_.action=="insert";if(E&&w)a(T.start,_.start)<0?g(_,T,1):g(T,_,1);else if(E&&!w)a(T.start,_.end)>=0?g(T,_,-1):(a(T.start,_.start)<=0||g(T,l.fromPoints(_.start,T.start),-1),g(_,T,1));else if(!E&&w)a(_.start,T.end)>=0?g(_,T,-1):(a(_.start,T.start)<=0||g(_,l.fromPoints(T.start,_.start),-1),g(T,_,1));else if(!E&&!w)if(a(_.start,T.end)>=0)g(_,T,-1);else if(a(_.end,T.start)<=0)g(T,_,-1);else{var S,b;return a(T.start,_.start)<0&&(S=T,T=y(T,_.start)),a(T.end,_.end)>0&&(b=y(T,_.end)),v(_.end,T.start,T.end,-1),b&&!S&&(T.lines=b.lines,T.start=b.start,T.end=b.end,b=T),[_,S,b].filter(Boolean)}return[_,T]}function g(T,_,E){v(T.start,_.start,_.end,E),v(T.end,_.start,_.end,E)}function v(T,_,E,w){T.row==(w==1?_:E).row&&(T.column+=w*(E.column-_.column)),T.row+=w*(E.row-_.row)}function y(T,_){var E=T.lines,w=T.end;T.end=u(_);var S=T.end.row-T.start.row,b=E.splice(S,E.length),x=S?_.column:_.column-T.start.column;E.push(b[0].substring(0,x)),b[0]=b[0].substr(x);var A={start:u(_),end:w,lines:b,action:T.action};return A}function k(T,_){_=c(_);for(var E=T.length;E--;){for(var w=T[E],S=0;S<w.length;S++){var b=w[S],x=m(b,_);_=x[0],x.length!=2&&(x[2]?(w.splice(S+1,1,x[1],x[2]),S++):x[1]||(w.splice(S,1),S--))}w.length||T.splice(E,1)}return T}function C(T,_){for(var E=0;E<_.length;E++)for(var w=_[E],S=0;S<w.length;S++)k(T,w[S])}i.UndoManager=o}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(n,i,r){var o=n("../lib/dom"),s=function(){function l(a,u){this.element=a,this.canvasHeight=u||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return l.prototype.moveContainer=function(a){o.translate(this.element,0,-(a.firstRowScreen*a.lineHeight%this.canvasHeight)-a.offset*this.$offsetCoefficient)},l.prototype.pageChanged=function(a,u){return Math.floor(a.firstRowScreen*a.lineHeight/this.canvasHeight)!==Math.floor(u.firstRowScreen*u.lineHeight/this.canvasHeight)},l.prototype.computeLineTop=function(a,u,c){var h=u.firstRowScreen*u.lineHeight,d=Math.floor(h/this.canvasHeight),f=c.documentToScreenRow(a,0)*u.lineHeight;return f-d*this.canvasHeight},l.prototype.computeLineHeight=function(a,u,c){return u.lineHeight*c.getRowLineCount(a)},l.prototype.getLength=function(){return this.cells.length},l.prototype.get=function(a){return this.cells[a]},l.prototype.shift=function(){this.$cacheCell(this.cells.shift())},l.prototype.pop=function(){this.$cacheCell(this.cells.pop())},l.prototype.push=function(a){if(Array.isArray(a)){this.cells.push.apply(this.cells,a);for(var u=o.createFragment(this.element),c=0;c<a.length;c++)u.appendChild(a[c].element);this.element.appendChild(u)}else this.cells.push(a),this.element.appendChild(a.element)},l.prototype.unshift=function(a){if(Array.isArray(a)){this.cells.unshift.apply(this.cells,a);for(var u=o.createFragment(this.element),c=0;c<a.length;c++)u.appendChild(a[c].element);this.element.firstChild?this.element.insertBefore(u,this.element.firstChild):this.element.appendChild(u)}else this.cells.unshift(a),this.element.insertAdjacentElement("afterbegin",a.element)},l.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},l.prototype.$cacheCell=function(a){a&&(a.element.remove(),this.cellCache.push(a))},l.prototype.createCell=function(a,u,c,h){var d=this.cellCache.pop();if(!d){var f=o.createElement("div");h&&h(f),this.element.appendChild(f),d={element:f,text:"",row:a}}return d.row=a,d},l}();i.Lines=s}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],function(n,i,r){var o=n("../lib/dom"),s=n("../lib/oop"),l=n("../lib/lang"),a=n("../lib/event_emitter").EventEmitter,u=n("./lines").Lines,c=n("../config").nls,h=function(){function f(p){this.element=o.createElement("div"),this.element.className="ace_layer ace_gutter-layer",p.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new u(this.element),this.$lines.$offsetCoefficient=1}return f.prototype.setSession=function(p){this.session&&this.session.off("change",this.$updateAnnotations),this.session=p,p&&p.on("change",this.$updateAnnotations)},f.prototype.addGutterDecoration=function(p,m){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(p,m)},f.prototype.removeGutterDecoration=function(p,m){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(p,m)},f.prototype.setAnnotations=function(p){this.$annotations=[];for(var m=0;m<p.length;m++){var g=p[m],v=g.row,y=this.$annotations[v];y||(y=this.$annotations[v]={text:[],type:[]});var k=g.text,C=g.type;k=k?l.escapeHTML(k):g.html||"",y.text.indexOf(k)===-1&&(y.text.push(k),y.type.push(C));var T=g.className;T?y.className=T:C=="error"?y.className=" ace_error":C=="warning"&&y.className!=" ace_error"?y.className=" ace_warning":C=="info"&&!y.className&&(y.className=" ace_info")}},f.prototype.$updateAnnotations=function(p){if(this.$annotations.length){var m=p.start.row,g=p.end.row-m;if(g!==0)if(p.action=="remove")this.$annotations.splice(m,g+1,null);else{var v=new Array(g+1);v.unshift(m,1),this.$annotations.splice.apply(this.$annotations,v)}}},f.prototype.update=function(p){this.config=p;var m=this.session,g=p.firstRow,v=Math.min(p.lastRow+p.gutterOffset,m.getLength()-1);this.oldLastRow=v,this.config=p,this.$lines.moveContainer(p),this.$updateCursorRow();for(var y=m.getNextFoldLine(g),k=y?y.start.row:1/0,C=null,T=-1,_=g;;){if(_>k&&(_=y.end.row+1,y=m.getNextFoldLine(_,y),k=y?y.start.row:1/0),_>v){for(;this.$lines.getLength()>T+1;)this.$lines.pop();break}C=this.$lines.get(++T),C?C.row=_:(C=this.$lines.createCell(_,p,this.session,d),this.$lines.push(C)),this.$renderCell(C,p,y,_),_++}this._signal("afterRender"),this.$updateGutterWidth(p)},f.prototype.$updateGutterWidth=function(p){var m=this.session,g=m.gutterRenderer||this.$renderer,v=m.$firstLineNumber,y=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||m.$useWrapMode)&&(y=m.getLength()+v-1);var k=g?g.getWidth(m,y,p):y.toString().length*p.characterWidth,C=this.$padding||this.$computePadding();k+=C.left+C.right,k!==this.gutterWidth&&!isNaN(k)&&(this.gutterWidth=k,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",k))},f.prototype.$updateCursorRow=function(){if(this.$highlightGutterLine){var p=this.session.selection.getCursor();this.$cursorRow!==p.row&&(this.$cursorRow=p.row)}},f.prototype.updateLineHighlight=function(){if(this.$highlightGutterLine){var p=this.session.selection.cursor.row;if(this.$cursorRow=p,!(this.$cursorCell&&this.$cursorCell.row==p)){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var m=this.$lines.cells;this.$cursorCell=null;for(var g=0;g<m.length;g++){var v=m[g];if(v.row>=this.$cursorRow){if(v.row>this.$cursorRow){var y=this.session.getFoldLine(this.$cursorRow);if(g>0&&y&&y.start.row==m[g-1].row)v=m[g-1];else break}v.element.className="ace_gutter-active-line "+v.element.className,this.$cursorCell=v;break}}}}},f.prototype.scrollLines=function(p){var m=this.config;if(this.config=p,this.$updateCursorRow(),this.$lines.pageChanged(m,p))return this.update(p);this.$lines.moveContainer(p);var g=Math.min(p.lastRow+p.gutterOffset,this.session.getLength()-1),v=this.oldLastRow;if(this.oldLastRow=g,!m||v<p.firstRow)return this.update(p);if(g<m.firstRow)return this.update(p);if(m.firstRow<p.firstRow)for(var y=this.session.getFoldedRowCount(m.firstRow,p.firstRow-1);y>0;y--)this.$lines.shift();if(v>g)for(var y=this.session.getFoldedRowCount(g+1,v);y>0;y--)this.$lines.pop();p.firstRow<m.firstRow&&this.$lines.unshift(this.$renderLines(p,p.firstRow,m.firstRow-1)),g>v&&this.$lines.push(this.$renderLines(p,v+1,g)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(p)},f.prototype.$renderLines=function(p,m,g){for(var v=[],y=m,k=this.session.getNextFoldLine(y),C=k?k.start.row:1/0;y>C&&(y=k.end.row+1,k=this.session.getNextFoldLine(y,k),C=k?k.start.row:1/0),!(y>g);){var T=this.$lines.createCell(y,p,this.session,d);this.$renderCell(T,p,k,y),v.push(T),y++}return v},f.prototype.$renderCell=function(p,m,g,v){var y=p.element,k=this.session,C=y.childNodes[0],T=y.childNodes[1],_=y.childNodes[2],E=_.firstChild,w=k.$firstLineNumber,S=k.$breakpoints,b=k.$decorations,x=k.gutterRenderer||this.$renderer,A=this.$showFoldWidgets&&k.foldWidgets,O=g?g.start.row:Number.MAX_VALUE,$=m.lineHeight+"px",M=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",R=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",P=(x?x.getText(k,v):v+w).toString();if(this.$highlightGutterLine&&(v==this.$cursorRow||g&&v<this.$cursorRow&&v>=O&&this.$cursorRow<=g.end.row)&&(M+="ace_gutter-active-line ",this.$cursorCell!=p&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=p)),S[v]&&(M+=S[v]),b[v]&&(M+=b[v]),this.$annotations[v]&&v!==O&&(M+=this.$annotations[v].className),A){var N=A[v];N==null&&(N=A[v]=k.getFoldWidget(v))}if(N){var D="ace_fold-widget ace_"+N,V=N=="start"&&v==O&&v<g.end.row;if(V){D+=" ace_closed";for(var z="",F=!1,B=v+1;B<=g.end.row;B++)if(this.$annotations[B]){if(this.$annotations[B].className===" ace_error"){F=!0,z=" ace_error_fold";break}if(this.$annotations[B].className===" ace_warning"){F=!0,z=" ace_warning_fold";continue}}M+=z}else D+=" ace_open";T.className!=D&&(T.className=D),o.setStyle(T.style,"height",$),o.setStyle(T.style,"display","inline-block"),T.setAttribute("role","button"),T.setAttribute("tabindex","-1");var j=k.getFoldWidgetRange(v);j?T.setAttribute("aria-label",c("Toggle code folding, rows $0 through $1",[j.start.row+1,j.end.row+1])):g?T.setAttribute("aria-label",c("Toggle code folding, rows $0 through $1",[g.start.row+1,g.end.row+1])):T.setAttribute("aria-label",c("Toggle code folding, row $0",[v+1])),V?(T.setAttribute("aria-expanded","false"),T.setAttribute("title",c("Unfold code"))):(T.setAttribute("aria-expanded","true"),T.setAttribute("title",c("Fold code")))}else T&&(o.setStyle(T.style,"display","none"),T.setAttribute("tabindex","0"),T.removeAttribute("role"),T.removeAttribute("aria-label"));return F&&this.$showFoldedAnnotations?(_.className="ace_gutter_annotation",E.className=R,E.className+=z,o.setStyle(E.style,"height",$),o.setStyle(_.style,"display","block"),o.setStyle(_.style,"height",$),_.setAttribute("aria-label",c("Read annotations row $0",[P])),_.setAttribute("tabindex","-1"),_.setAttribute("role","button")):this.$annotations[v]?(_.className="ace_gutter_annotation",E.className=R,this.$useSvgGutterIcons?E.className+=this.$annotations[v].className:y.classList.add(this.$annotations[v].className.replace(" ","")),o.setStyle(E.style,"height",$),o.setStyle(_.style,"display","block"),o.setStyle(_.style,"height",$),_.setAttribute("aria-label",c("Read annotations row $0",[P])),_.setAttribute("tabindex","-1"),_.setAttribute("role","button")):(o.setStyle(_.style,"display","none"),_.removeAttribute("aria-label"),_.removeAttribute("role"),_.setAttribute("tabindex","0")),P!==C.data&&(C.data=P),y.className!=M&&(y.className=M),o.setStyle(p.element.style,"height",this.$lines.computeLineHeight(v,m,k)+"px"),o.setStyle(p.element.style,"top",this.$lines.computeLineTop(v,m,k)+"px"),p.text=P,_.style.display==="none"&&T.style.display==="none"?p.element.setAttribute("aria-hidden",!0):p.element.setAttribute("aria-hidden",!1),p},f.prototype.setHighlightGutterLine=function(p){this.$highlightGutterLine=p},f.prototype.setShowLineNumbers=function(p){this.$renderer=!p&&{getWidth:function(){return 0},getText:function(){return""}}},f.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},f.prototype.setShowFoldWidgets=function(p){p?o.addCssClass(this.element,"ace_folding-enabled"):o.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=p,this.$padding=null},f.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},f.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var p=o.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(p.borderLeftWidth)||0)+(parseInt(p.paddingLeft)||0)+1,this.$padding.right=(parseInt(p.borderRightWidth)||0)+(parseInt(p.paddingRight)||0),this.$padding},f.prototype.getRegion=function(p){var m=this.$padding||this.$computePadding(),g=this.element.getBoundingClientRect();if(p.x<m.left+g.left)return"markers";if(this.$showFoldWidgets&&p.x>g.right-m.right)return"foldWidgets"},f}();h.prototype.$fixedWidth=!1,h.prototype.$highlightGutterLine=!0,h.prototype.$renderer="",h.prototype.$showLineNumbers=!0,h.prototype.$showFoldWidgets=!0,s.implement(h.prototype,a);function d(f){var p=document.createTextNode("");f.appendChild(p);var m=o.createElement("span");f.appendChild(m);var g=o.createElement("span");f.appendChild(g);var v=o.createElement("span");return g.appendChild(v),f}i.Gutter=h}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(n,i,r){var o=n("../range").Range,s=n("../lib/dom"),l=function(){function u(c){this.element=s.createElement("div"),this.element.className="ace_layer ace_marker-layer",c.appendChild(this.element)}return u.prototype.setPadding=function(c){this.$padding=c},u.prototype.setSession=function(c){this.session=c},u.prototype.setMarkers=function(c){this.markers=c},u.prototype.elt=function(c,h){var d=this.i!=-1&&this.element.childNodes[this.i];d?this.i++:(d=document.createElement("div"),this.element.appendChild(d),this.i=-1),d.style.cssText=h,d.className=c},u.prototype.update=function(c){if(c){this.config=c,this.i=0;var h;for(var d in this.markers){var f=this.markers[d];if(!f.range){f.update(h,this,this.session,c);continue}var p=f.range.clipRows(c.firstRow,c.lastRow);if(!p.isEmpty())if(p=p.toScreenRange(this.session),f.renderer){var m=this.$getTop(p.start.row,c),g=this.$padding+p.start.column*c.characterWidth;f.renderer(h,p,g,m,c)}else f.type=="fullLine"?this.drawFullLineMarker(h,p,f.clazz,c):f.type=="screenLine"?this.drawScreenLineMarker(h,p,f.clazz,c):p.isMultiLine()?f.type=="text"?this.drawTextMarker(h,p,f.clazz,c):this.drawMultiLineMarker(h,p,f.clazz,c):this.drawSingleLineMarker(h,p,f.clazz+" ace_start ace_br15",c)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},u.prototype.$getTop=function(c,h){return(c-h.firstRowScreen)*h.lineHeight},u.prototype.drawTextMarker=function(c,h,d,f,p){for(var m=this.session,g=h.start.row,v=h.end.row,y=g,k=0,C=0,T=m.getScreenLastRowColumn(y),_=new o(y,h.start.column,y,C);y<=v;y++)_.start.row=_.end.row=y,_.start.column=y==g?h.start.column:m.getRowWrapIndent(y),_.end.column=T,k=C,C=T,T=y+1<v?m.getScreenLastRowColumn(y+1):y==v?0:h.end.column,this.drawSingleLineMarker(c,_,d+(y==g?" ace_start":"")+" ace_br"+a(y==g||y==g+1&&h.start.column,k<C,C>T,y==v),f,y==v?0:1,p)},u.prototype.drawMultiLineMarker=function(c,h,d,f,p){var m=this.$padding,g=f.lineHeight,v=this.$getTop(h.start.row,f),y=m+h.start.column*f.characterWidth;if(p=p||"",this.session.$bidiHandler.isBidiRow(h.start.row)){var k=h.clone();k.end.row=k.start.row,k.end.column=this.session.getLine(k.start.row).length,this.drawBidiSingleLineMarker(c,k,d+" ace_br1 ace_start",f,null,p)}else this.elt(d+" ace_br1 ace_start","height:"+g+"px;right:0;top:"+v+"px;left:"+y+"px;"+(p||""));if(this.session.$bidiHandler.isBidiRow(h.end.row)){var k=h.clone();k.start.row=k.end.row,k.start.column=0,this.drawBidiSingleLineMarker(c,k,d+" ace_br12",f,null,p)}else{v=this.$getTop(h.end.row,f);var C=h.end.column*f.characterWidth;this.elt(d+" ace_br12","height:"+g+"px;width:"+C+"px;top:"+v+"px;left:"+m+"px;"+(p||""))}if(g=(h.end.row-h.start.row-1)*f.lineHeight,!(g<=0)){v=this.$getTop(h.start.row+1,f);var T=(h.start.column?1:0)|(h.end.column?0:8);this.elt(d+(T?" ace_br"+T:""),"height:"+g+"px;right:0;top:"+v+"px;left:"+m+"px;"+(p||""))}},u.prototype.drawSingleLineMarker=function(c,h,d,f,p,m){if(this.session.$bidiHandler.isBidiRow(h.start.row))return this.drawBidiSingleLineMarker(c,h,d,f,p,m);var g=f.lineHeight,v=(h.end.column+(p||0)-h.start.column)*f.characterWidth,y=this.$getTop(h.start.row,f),k=this.$padding+h.start.column*f.characterWidth;this.elt(d,"height:"+g+"px;width:"+v+"px;top:"+y+"px;left:"+k+"px;"+(m||""))},u.prototype.drawBidiSingleLineMarker=function(c,h,d,f,p,m){var g=f.lineHeight,v=this.$getTop(h.start.row,f),y=this.$padding,k=this.session.$bidiHandler.getSelections(h.start.column,h.end.column);k.forEach(function(C){this.elt(d,"height:"+g+"px;width:"+(C.width+(p||0))+"px;top:"+v+"px;left:"+(y+C.left)+"px;"+(m||""))},this)},u.prototype.drawFullLineMarker=function(c,h,d,f,p){var m=this.$getTop(h.start.row,f),g=f.lineHeight;h.start.row!=h.end.row&&(g+=this.$getTop(h.end.row,f)-m),this.elt(d,"height:"+g+"px;top:"+m+"px;left:0;right:0;"+(p||""))},u.prototype.drawScreenLineMarker=function(c,h,d,f,p){var m=this.$getTop(h.start.row,f),g=f.lineHeight;this.elt(d,"height:"+g+"px;top:"+m+"px;left:0;right:0;"+(p||""))},u}();l.prototype.$padding=0;function a(u,c,h,d){return(u?1:0)|(c?2:0)|(h?4:0)|(d?8:0)}i.Marker=l}),ace.define("ace/layer/text_util",["require","exports","module"],function(n,i,r){var o=new Set(["text","rparen","lparen"]);i.isTextToken=function(s){return o.has(s)}}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config","ace/layer/text_util"],function(n,i,r){var o=n("../lib/oop"),s=n("../lib/dom"),l=n("../lib/lang"),a=n("./lines").Lines,u=n("../lib/event_emitter").EventEmitter,c=n("../config").nls,h=n("./text_util").isTextToken,d=function(){function f(p){this.dom=s,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",p.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new a(this.element)}return f.prototype.$updateEolChar=function(){var p=this.session.doc,m=p.getNewLineCharacter()==`
`&&p.getNewLineMode()!="windows",g=m?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=g)return this.EOL_CHAR=g,!0},f.prototype.setPadding=function(p){this.$padding=p,this.element.style.margin="0 "+p+"px"},f.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},f.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},f.prototype.$setFontMetrics=function(p){this.$fontMetrics=p,this.$fontMetrics.on("changeCharacterSize",(function(m){this._signal("changeCharacterSize",m)}).bind(this)),this.$pollSizeChanges()},f.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},f.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},f.prototype.setSession=function(p){this.session=p,p&&this.$computeTabString()},f.prototype.setShowInvisibles=function(p){return this.showInvisibles==p?!1:(this.showInvisibles=p,typeof p=="string"?(this.showSpaces=/tab/i.test(p),this.showTabs=/space/i.test(p),this.showEOL=/eol/i.test(p)):this.showSpaces=this.showTabs=this.showEOL=p,this.$computeTabString(),!0)},f.prototype.setDisplayIndentGuides=function(p){return this.displayIndentGuides==p?!1:(this.displayIndentGuides=p,this.$computeTabString(),!0)},f.prototype.setHighlightIndentGuides=function(p){return this.$highlightIndentGuides===p?!1:(this.$highlightIndentGuides=p,p)},f.prototype.$computeTabString=function(){var p=this.session.getTabSize();this.tabSize=p;for(var m=this.$tabStrings=[0],g=1;g<p+1;g++)if(this.showTabs){var v=this.dom.createElement("span");v.className="ace_invisible ace_invisible_tab",v.textContent=l.stringRepeat(this.TAB_CHAR,g),m.push(v)}else m.push(this.dom.createTextNode(l.stringRepeat(" ",g),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var y="ace_indent-guide",k=this.showSpaces?" ace_invisible ace_invisible_space":"",C=this.showSpaces?l.stringRepeat(this.SPACE_CHAR,this.tabSize):l.stringRepeat(" ",this.tabSize),T=this.showTabs?" ace_invisible ace_invisible_tab":"",_=this.showTabs?l.stringRepeat(this.TAB_CHAR,this.tabSize):C,v=this.dom.createElement("span");v.className=y+k,v.textContent=C,this.$tabStrings[" "]=v;var v=this.dom.createElement("span");v.className=y+T,v.textContent=_,this.$tabStrings["	"]=v}},f.prototype.updateLines=function(p,m,g){if(this.config.lastRow!=p.lastRow||this.config.firstRow!=p.firstRow)return this.update(p);this.config=p;for(var v=Math.max(m,p.firstRow),y=Math.min(g,p.lastRow),k=this.element.childNodes,C=0,_=p.firstRow;_<v;_++){var E=this.session.getFoldLine(_);if(E)if(E.containsRow(v)){v=E.start.row;break}else _=E.end.row;C++}for(var T=!1,_=v,E=this.session.getNextFoldLine(_),w=E?E.start.row:1/0;_>w&&(_=E.end.row+1,E=this.session.getNextFoldLine(_,E),w=E?E.start.row:1/0),!(_>y);){var S=k[C++];if(S){this.dom.removeChildren(S),this.$renderLine(S,_,_==w?E:!1),T&&(S.style.top=this.$lines.computeLineTop(_,p,this.session)+"px");var b=p.lineHeight*this.session.getRowLength(_)+"px";S.style.height!=b&&(T=!0,S.style.height=b)}_++}if(T)for(;C<this.$lines.cells.length;){var x=this.$lines.cells[C++];x.element.style.top=this.$lines.computeLineTop(x.row,p,this.session)+"px"}},f.prototype.scrollLines=function(p){var m=this.config;if(this.config=p,this.$lines.pageChanged(m,p))return this.update(p);this.$lines.moveContainer(p);var g=p.lastRow,v=m?m.lastRow:-1;if(!m||v<p.firstRow)return this.update(p);if(g<m.firstRow)return this.update(p);if(!m||m.lastRow<p.firstRow)return this.update(p);if(p.lastRow<m.firstRow)return this.update(p);if(m.firstRow<p.firstRow)for(var y=this.session.getFoldedRowCount(m.firstRow,p.firstRow-1);y>0;y--)this.$lines.shift();if(m.lastRow>p.lastRow)for(var y=this.session.getFoldedRowCount(p.lastRow+1,m.lastRow);y>0;y--)this.$lines.pop();p.firstRow<m.firstRow&&this.$lines.unshift(this.$renderLinesFragment(p,p.firstRow,m.firstRow-1)),p.lastRow>m.lastRow&&this.$lines.push(this.$renderLinesFragment(p,m.lastRow+1,p.lastRow)),this.$highlightIndentGuide()},f.prototype.$renderLinesFragment=function(p,m,g){for(var v=[],y=m,k=this.session.getNextFoldLine(y),C=k?k.start.row:1/0;y>C&&(y=k.end.row+1,k=this.session.getNextFoldLine(y,k),C=k?k.start.row:1/0),!(y>g);){var T=this.$lines.createCell(y,p,this.session),_=T.element;this.dom.removeChildren(_),s.setStyle(_.style,"height",this.$lines.computeLineHeight(y,p,this.session)+"px"),s.setStyle(_.style,"top",this.$lines.computeLineTop(y,p,this.session)+"px"),this.$renderLine(_,y,y==C?k:!1),this.$useLineGroups()?_.className="ace_line_group":_.className="ace_line",v.push(T),y++}return v},f.prototype.update=function(p){this.$lines.moveContainer(p),this.config=p;for(var m=p.firstRow,g=p.lastRow,v=this.$lines;v.getLength();)v.pop();v.push(this.$renderLinesFragment(p,m,g))},f.prototype.$renderToken=function(p,m,g,v){for(var y=this,k=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,C=this.dom.createFragment(this.element),T,_=0;T=k.exec(v);){var E=T[1],w=T[2],S=T[3],b=T[4],x=T[5];if(!(!y.showSpaces&&w)){var A=_!=T.index?v.slice(_,T.index):"";if(_=T.index+T[0].length,A&&C.appendChild(this.dom.createTextNode(A,this.element)),E){var O=y.session.getScreenTabSize(m+T.index);C.appendChild(y.$tabStrings[O].cloneNode(!0)),m+=O-1}else if(w)if(y.showSpaces){var $=this.dom.createElement("span");$.className="ace_invisible ace_invisible_space",$.textContent=l.stringRepeat(y.SPACE_CHAR,w.length),C.appendChild($)}else C.appendChild(this.dom.createTextNode(w,this.element));else if(S){var $=this.dom.createElement("span");$.className="ace_invisible ace_invisible_space ace_invalid",$.textContent=l.stringRepeat(y.SPACE_CHAR,S.length),C.appendChild($)}else if(b){m+=1;var $=this.dom.createElement("span");$.style.width=y.config.characterWidth*2+"px",$.className=y.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",$.textContent=y.showSpaces?y.SPACE_CHAR:b,C.appendChild($)}else if(x){m+=1;var $=this.dom.createElement("span");$.style.width=y.config.characterWidth*2+"px",$.className="ace_cjk",$.textContent=x,C.appendChild($)}}}if(C.appendChild(this.dom.createTextNode(_?v.slice(_):v,this.element)),h(g.type))p.appendChild(C);else{var M="ace_"+g.type.replace(/\./g," ace_"),$=this.dom.createElement("span");g.type=="fold"&&($.style.width=g.value.length*this.config.characterWidth+"px",$.setAttribute("title",c("Unfold code"))),$.className=M,$.appendChild(C),p.appendChild($)}return m+v.length},f.prototype.renderIndentGuide=function(p,m,g){var v=m.search(this.$indentGuideRe);if(v<=0||v>=g)return m;if(m[0]==" "){v-=v%this.tabSize;for(var y=v/this.tabSize,k=0;k<y;k++)p.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),m.substr(v)}else if(m[0]=="	"){for(var k=0;k<v;k++)p.appendChild(this.$tabStrings["	"].cloneNode(!0));return this.$highlightIndentGuide(),m.substr(v)}return this.$highlightIndentGuide(),m},f.prototype.$highlightIndentGuide=function(){if(!(!this.$highlightIndentGuides||!this.displayIndentGuides)){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var p=this.session.doc.$lines;if(p){var m=this.session.selection.getCursor(),g=/^\s*/.exec(this.session.doc.getLine(m.row))[0].length,v=Math.floor(g/this.tabSize);this.$highlightIndentGuideMarker={indentLevel:v,start:m.row};var y=this.session.$bracketHighlight;if(y){for(var k=this.session.$bracketHighlight.ranges,C=0;C<k.length;C++)if(m.row!==k[C].start.row){this.$highlightIndentGuideMarker.end=k[C].start.row,m.row>k[C].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}}if(!this.$highlightIndentGuideMarker.end&&p[m.row]!==""&&m.column===p[m.row].length){this.$highlightIndentGuideMarker.dir=1;for(var C=m.row+1;C<p.length;C++){var T=p[C],_=/^\s*/.exec(T)[0].length;if(T!==""&&(this.$highlightIndentGuideMarker.end=C,_<=g))break}}this.$renderHighlightIndentGuide()}}},f.prototype.$clearActiveIndentGuide=function(){for(var p=this.$lines.cells,m=0;m<p.length;m++){var g=p[m],v=g.element.childNodes;if(v.length>0){for(var y=0;y<v.length;y++)if(v[y].classList&&v[y].classList.contains("ace_indent-guide-active")){v[y].classList.remove("ace_indent-guide-active");break}}}},f.prototype.$setIndentGuideActive=function(p,m){var g=this.session.doc.getLine(p.row);if(g!==""){var v=p.element.childNodes;if(v){var y=v[m-1];y&&y.classList&&y.classList.contains("ace_indent-guide")&&y.classList.add("ace_indent-guide-active")}}},f.prototype.$renderHighlightIndentGuide=function(){if(this.$lines){var p=this.$lines.cells;this.$clearActiveIndentGuide();var m=this.$highlightIndentGuideMarker.indentLevel;if(m!==0)if(this.$highlightIndentGuideMarker.dir===1)for(var g=0;g<p.length;g++){var v=p[g];if(this.$highlightIndentGuideMarker.end&&v.row>=this.$highlightIndentGuideMarker.start+1){if(v.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(v,m)}}else for(var g=p.length-1;g>=0;g--){var v=p[g];if(this.$highlightIndentGuideMarker.end&&v.row<this.$highlightIndentGuideMarker.start){if(v.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(v,m)}}}},f.prototype.$createLineElement=function(p){var m=this.dom.createElement("div");return m.className="ace_line",m.style.height=this.config.lineHeight+"px",m},f.prototype.$renderWrappedLine=function(p,m,g){var v=0,y=0,k=g[0],C=0,T=this.$createLineElement();p.appendChild(T);for(var _=0;_<m.length;_++){var E=m[_],w=E.value;if(_==0&&this.displayIndentGuides){if(v=w.length,w=this.renderIndentGuide(T,w,k),!w)continue;v-=w.length}if(v+w.length<k)C=this.$renderToken(T,C,E,w),v+=w.length;else{for(;v+w.length>=k;)C=this.$renderToken(T,C,E,w.substring(0,k-v)),w=w.substring(k-v),v=k,T=this.$createLineElement(),p.appendChild(T),T.appendChild(this.dom.createTextNode(l.stringRepeat("",g.indent),this.element)),y++,C=0,k=g[y]||Number.MAX_VALUE;w.length!=0&&(v+=w.length,C=this.$renderToken(T,C,E,w))}}g[g.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(T,C,null,"",!0)},f.prototype.$renderSimpleLine=function(p,m){for(var g=0,v=0;v<m.length;v++){var y=m[v],k=y.value;if(!(v==0&&this.displayIndentGuides&&(k=this.renderIndentGuide(p,k),!k))){if(g+k.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(p,g,y,k);g=this.$renderToken(p,g,y,k)}}},f.prototype.$renderOverflowMessage=function(p,m,g,v,y){g&&this.$renderToken(p,m,g,v.slice(0,this.MAX_LINE_LENGTH-m));var k=this.dom.createElement("span");k.className="ace_inline_button ace_keyword ace_toggle_wrap",k.textContent=y?"<hide>":"<click to see more...>",p.appendChild(k)},f.prototype.$renderLine=function(p,m,g){if(!g&&g!=!1&&(g=this.session.getFoldLine(m)),g)var v=this.$getFoldLineTokens(m,g);else var v=this.session.getTokens(m);var y=p;if(v.length){var k=this.session.getRowSplitData(m);if(k&&k.length){this.$renderWrappedLine(p,v,k);var y=p.lastChild}else{var y=p;this.$useLineGroups()&&(y=this.$createLineElement(),p.appendChild(y)),this.$renderSimpleLine(y,v)}}else this.$useLineGroups()&&(y=this.$createLineElement(),p.appendChild(y));if(this.showEOL&&y){g&&(m=g.end.row);var C=this.dom.createElement("span");C.className="ace_invisible ace_invisible_eol",C.textContent=m==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,y.appendChild(C)}},f.prototype.$getFoldLineTokens=function(p,m){var g=this.session,v=[];function y(C,T,_){for(var E=0,w=0;w+C[E].value.length<T;)if(w+=C[E].value.length,E++,E==C.length)return;if(w!=T){var S=C[E].value.substring(T-w);S.length>_-T&&(S=S.substring(0,_-T)),v.push({type:C[E].type,value:S}),w=T+S.length,E+=1}for(;w<_&&E<C.length;){var S=C[E].value;S.length+w>_?v.push({type:C[E].type,value:S.substring(0,_-w)}):v.push(C[E]),w+=S.length,E+=1}}var k=g.getTokens(p);return m.walk(function(C,T,_,E,w){C!=null?v.push({type:"fold",value:C}):(w&&(k=g.getTokens(T)),k.length&&y(k,E,_))},m.end.row,this.session.getLine(m.end.row).length),v},f.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},f}();d.prototype.EOF_CHAR="",d.prototype.EOL_CHAR_LF="",d.prototype.EOL_CHAR_CRLF="",d.prototype.EOL_CHAR=d.prototype.EOL_CHAR_LF,d.prototype.TAB_CHAR="",d.prototype.SPACE_CHAR="",d.prototype.$padding=0,d.prototype.MAX_LINE_LENGTH=1e4,d.prototype.showInvisibles=!1,d.prototype.showSpaces=!1,d.prototype.showTabs=!1,d.prototype.showEOL=!1,d.prototype.displayIndentGuides=!0,d.prototype.$highlightIndentGuides=!0,d.prototype.$tabStrings=[],d.prototype.destroy={},d.prototype.onChangeTabSize=d.prototype.$computeTabString,o.implement(d.prototype,u),i.Text=d}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(n,i,r){var o=n("../lib/dom"),s=function(){function l(a){this.element=o.createElement("div"),this.element.className="ace_layer ace_cursor-layer",a.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),o.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}return l.prototype.$updateOpacity=function(a){for(var u=this.cursors,c=u.length;c--;)o.setStyle(u[c].style,"opacity",a?"":"0")},l.prototype.$startCssAnimation=function(){for(var a=this.cursors,u=a.length;u--;)a[u].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout((function(){this.$isAnimating&&o.addCssClass(this.element,"ace_animate-blinking")}).bind(this))},l.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,o.removeCssClass(this.element,"ace_animate-blinking")},l.prototype.setPadding=function(a){this.$padding=a},l.prototype.setSession=function(a){this.session=a},l.prototype.setBlinking=function(a){a!=this.isBlinking&&(this.isBlinking=a,this.restartTimer())},l.prototype.setBlinkInterval=function(a){a!=this.blinkInterval&&(this.blinkInterval=a,this.restartTimer())},l.prototype.setSmoothBlinking=function(a){a!=this.smoothBlinking&&(this.smoothBlinking=a,o.setCssClass(this.element,"ace_smooth-blinking",a),this.$updateCursors(!0),this.restartTimer())},l.prototype.addCursor=function(){var a=o.createElement("div");return a.className="ace_cursor",this.element.appendChild(a),this.cursors.push(a),a},l.prototype.removeCursor=function(){if(this.cursors.length>1){var a=this.cursors.pop();return a.parentNode.removeChild(a),a}},l.prototype.hideCursor=function(){this.isVisible=!1,o.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},l.prototype.showCursor=function(){this.isVisible=!0,o.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},l.prototype.restartTimer=function(){var a=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,o.removeCssClass(this.element,"ace_smooth-blinking")),a(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout((function(){this.$isSmoothBlinking&&o.addCssClass(this.element,"ace_smooth-blinking")}).bind(this))),o.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var u=(function(){this.timeoutId=setTimeout(function(){a(!1)},.6*this.blinkInterval)}).bind(this);this.intervalId=setInterval(function(){a(!0),u()},this.blinkInterval),u()}},l.prototype.getPixelPosition=function(a,u){if(!this.config||!this.session)return{left:0,top:0};a||(a=this.session.selection.getCursor());var c=this.session.documentToScreenPosition(a),h=this.$padding+(this.session.$bidiHandler.isBidiRow(c.row,a.row)?this.session.$bidiHandler.getPosLeft(c.column):c.column*this.config.characterWidth),d=(c.row-(u?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:h,top:d}},l.prototype.isCursorInView=function(a,u){return a.top>=0&&a.top<u.maxHeight},l.prototype.update=function(a){this.config=a;var u=this.session.$selectionMarkers,c=0,h=0;(u===void 0||u.length===0)&&(u=[{cursor:null}]);for(var c=0,d=u.length;c<d;c++){var f=this.getPixelPosition(u[c].cursor,!0);if(!((f.top>a.height+a.offset||f.top<0)&&c>1)){var p=this.cursors[h++]||this.addCursor(),m=p.style;this.drawCursor?this.drawCursor(p,f,a,u[c],this.session):this.isCursorInView(f,a)?(o.setStyle(m,"display","block"),o.translate(p,f.left,f.top),o.setStyle(m,"width",Math.round(a.characterWidth)+"px"),o.setStyle(m,"height",a.lineHeight+"px")):o.setStyle(m,"display","none")}}for(;this.cursors.length>h;)this.removeCursor();var g=this.session.getOverwrite();this.$setOverwrite(g),this.$pixelPos=f,this.restartTimer()},l.prototype.$setOverwrite=function(a){a!=this.overwrite&&(this.overwrite=a,a?o.addCssClass(this.element,"ace_overwrite-cursors"):o.removeCssClass(this.element,"ace_overwrite-cursors"))},l.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},l}();s.prototype.$padding=0,s.prototype.drawCursor=null,i.Cursor=s}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(n,i,r){var o=this&&this.__extends||function(){var p=function(m,g){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var k in y)Object.prototype.hasOwnProperty.call(y,k)&&(v[k]=y[k])},p(m,g)};return function(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");p(m,g);function v(){this.constructor=m}m.prototype=g===null?Object.create(g):(v.prototype=g.prototype,new v)}}(),s=n("./lib/oop"),l=n("./lib/dom"),a=n("./lib/event"),u=n("./lib/event_emitter").EventEmitter,c=32768,h=function(){function p(m,g){this.element=l.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+g,this.inner=l.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="",this.element.appendChild(this.inner),m.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,a.addListener(this.element,"scroll",this.onScroll.bind(this)),a.addListener(this.element,"mousedown",a.preventDefault)}return p.prototype.setVisible=function(m){this.element.style.display=m?"":"none",this.isVisible=m,this.coeff=1},p}();s.implement(h.prototype,u);var d=function(p){o(m,p);function m(g,v){var y=p.call(this,g,"-v")||this;return y.scrollTop=0,y.scrollHeight=0,v.$scrollbarWidth=y.width=l.scrollbarWidth(g.ownerDocument),y.inner.style.width=y.element.style.width=(y.width||15)+5+"px",y.$minWidth=0,y}return m.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var g=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-g)/(this.coeff-g)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},m.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},m.prototype.setHeight=function(g){this.element.style.height=g+"px"},m.prototype.setScrollHeight=function(g){this.scrollHeight=g,g>c?(this.coeff=c/g,g=c):this.coeff!=1&&(this.coeff=1),this.inner.style.height=g+"px"},m.prototype.setScrollTop=function(g){this.scrollTop!=g&&(this.skipEvent=!0,this.scrollTop=g,this.element.scrollTop=g*this.coeff)},m}(h);d.prototype.setInnerHeight=d.prototype.setScrollHeight;var f=function(p){o(m,p);function m(g,v){var y=p.call(this,g,"-h")||this;return y.scrollLeft=0,y.height=v.$scrollbarWidth,y.inner.style.height=y.element.style.height=(y.height||15)+5+"px",y}return m.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},m.prototype.getHeight=function(){return this.isVisible?this.height:0},m.prototype.setWidth=function(g){this.element.style.width=g+"px"},m.prototype.setInnerWidth=function(g){this.inner.style.width=g+"px"},m.prototype.setScrollWidth=function(g){this.inner.style.width=g+"px"},m.prototype.setScrollLeft=function(g){this.scrollLeft!=g&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=g)},m}(h);i.ScrollBar=d,i.ScrollBarV=d,i.ScrollBarH=f,i.VScrollBar=d,i.HScrollBar=f}),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(n,i,r){var o=this&&this.__extends||function(){var f=function(p,m){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(g[y]=v[y])},f(p,m)};return function(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");f(p,m);function g(){this.constructor=p}p.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}(),s=n("./lib/oop"),l=n("./lib/dom"),a=n("./lib/event"),u=n("./lib/event_emitter").EventEmitter;l.importCssString(`.ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{
  position: absolute;
  background: rgba(128, 128, 128, 0.6);
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border: 1px solid #bbb;
  border-radius: 2px;
  z-index: 8;
}
.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {
  position: absolute;
  z-index: 6;
  background: none;
  overflow: hidden!important;
}
.ace_editor>.ace_sb-v {
  z-index: 6;
  right: 0;
  top: 0;
  width: 12px;
}
.ace_editor>.ace_sb-v div {
  z-index: 8;
  right: 0;
  width: 100%;
}
.ace_editor>.ace_sb-h {
  bottom: 0;
  left: 0;
  height: 12px;
}
.ace_editor>.ace_sb-h div {
  bottom: 0;
  height: 100%;
}
.ace_editor>.ace_sb_grabbed {
  z-index: 8;
  background: #000;
}`,"ace_scrollbar.css",!1);var c=function(){function f(p,m){this.element=l.createElement("div"),this.element.className="ace_sb"+m,this.inner=l.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,p.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,a.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return f.prototype.setVisible=function(p){this.element.style.display=p?"":"none",this.isVisible=p,this.coeff=1},f}();s.implement(c.prototype,u);var h=function(f){o(p,f);function p(m,g){var v=f.call(this,m,"-v")||this;return v.scrollTop=0,v.scrollHeight=0,v.parent=m,v.width=v.VScrollWidth,v.renderer=g,v.inner.style.width=v.element.style.width=(v.width||15)+"px",v.$minWidth=0,v}return p.prototype.onMouseDown=function(m,g){if(m==="mousedown"&&!(a.getButton(g)!==0||g.detail===2)){if(g.target===this.inner){var v=this,y=g.clientY,k=function(b){y=b.clientY},C=function(){clearInterval(w)},T=g.clientY,_=this.thumbTop,E=function(){if(y!==void 0){var b=v.scrollTopFromThumbTop(_+y-T);b!==v.scrollTop&&v._emit("scroll",{data:b})}};a.capture(this.inner,k,C);var w=setInterval(E,20);return a.preventDefault(g)}var S=g.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(S)}),a.preventDefault(g)}},p.prototype.getHeight=function(){return this.height},p.prototype.scrollTopFromThumbTop=function(m){var g=m*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return g=g>>0,g<0?g=0:g>this.pageHeight-this.viewHeight&&(g=this.pageHeight-this.viewHeight),g},p.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},p.prototype.setHeight=function(m){this.height=Math.max(0,m),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},p.prototype.setScrollHeight=function(m,g){this.pageHeight===m&&!g||(this.pageHeight=m,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},p.prototype.setScrollTop=function(m){this.scrollTop=m,m<0&&(m=0),this.thumbTop=m*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},p}(c);h.prototype.setInnerHeight=h.prototype.setScrollHeight;var d=function(f){o(p,f);function p(m,g){var v=f.call(this,m,"-h")||this;return v.scrollLeft=0,v.scrollWidth=0,v.height=v.HScrollHeight,v.inner.style.height=v.element.style.height=(v.height||12)+"px",v.renderer=g,v}return p.prototype.onMouseDown=function(m,g){if(m==="mousedown"&&!(a.getButton(g)!==0||g.detail===2)){if(g.target===this.inner){var v=this,y=g.clientX,k=function(b){y=b.clientX},C=function(){clearInterval(w)},T=g.clientX,_=this.thumbLeft,E=function(){if(y!==void 0){var b=v.scrollLeftFromThumbLeft(_+y-T);b!==v.scrollLeft&&v._emit("scroll",{data:b})}};a.capture(this.inner,k,C);var w=setInterval(E,20);return a.preventDefault(g)}var S=g.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(S)}),a.preventDefault(g)}},p.prototype.getHeight=function(){return this.isVisible?this.height:0},p.prototype.scrollLeftFromThumbLeft=function(m){var g=m*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return g=g>>0,g<0?g=0:g>this.pageWidth-this.viewWidth&&(g=this.pageWidth-this.viewWidth),g},p.prototype.setWidth=function(m){this.width=Math.max(0,m),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},p.prototype.setScrollWidth=function(m,g){this.pageWidth===m&&!g||(this.pageWidth=m,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},p.prototype.setScrollLeft=function(m){this.scrollLeft=m,m<0&&(m=0),this.thumbLeft=m*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},p}(c);d.prototype.setInnerWidth=d.prototype.setScrollWidth,i.ScrollBar=h,i.ScrollBarV=h,i.ScrollBarH=d,i.VScrollBar=h,i.HScrollBar=d}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(n,i,r){var o=n("./lib/event"),s=function(){function l(a,u){this.onRender=a,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=u||window;var c=this;this._flush=function(h){c.pending=!1;var d=c.changes;if(d&&(o.blockIdle(100),c.changes=0,c.onRender(d)),c.changes){if(c.$recursionLimit--<0)return;c.schedule()}else c.$recursionLimit=2}}return l.prototype.schedule=function(a){this.changes=this.changes|a,this.changes&&!this.pending&&(o.nextFrame(this._flush),this.pending=!0)},l.prototype.clear=function(a){var u=this.changes;return this.changes=0,u},l}();i.RenderLoop=s}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(n,i,r){var o=n("../lib/oop"),s=n("../lib/dom"),l=n("../lib/lang"),a=n("../lib/event"),u=n("../lib/useragent"),c=n("../lib/event_emitter").EventEmitter,h=512,d=typeof ResizeObserver=="function",f=200,p=function(){function m(g){this.el=s.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=s.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=s.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),g.appendChild(this.el),this.$measureNode.textContent=l.stringRepeat("X",h),this.$characterSize={width:0,height:0},d?this.$addObserver():this.checkForSizeChanges()}return m.prototype.$setMeasureNodeStyles=function(g,v){g.width=g.height="auto",g.left=g.top="0px",g.visibility="hidden",g.position="absolute",g.whiteSpace="pre",u.isIE<8?g["font-family"]="inherit":g.font="inherit",g.overflow=v?"hidden":"visible"},m.prototype.checkForSizeChanges=function(g){if(g===void 0&&(g=this.$measureSizes()),g&&(this.$characterSize.width!==g.width||this.$characterSize.height!==g.height)){this.$measureNode.style.fontWeight="bold";var v=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=g,this.charSizes=Object.create(null),this.allowBoldFonts=v&&v.width===g.width&&v.height===g.height,this._emit("changeCharacterSize",{data:g})}},m.prototype.$addObserver=function(){var g=this;this.$observer=new window.ResizeObserver(function(v){g.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},m.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var g=this;return this.$pollSizeChangesTimer=a.onIdle(function v(){g.checkForSizeChanges(),a.onIdle(v,500)},500)},m.prototype.setPolling=function(g){g?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},m.prototype.$measureSizes=function(g){var v={height:(g||this.$measureNode).clientHeight,width:(g||this.$measureNode).clientWidth/h};return v.width===0||v.height===0?null:v},m.prototype.$measureCharWidth=function(g){this.$main.textContent=l.stringRepeat(g,h);var v=this.$main.getBoundingClientRect();return v.width/h},m.prototype.getCharacterWidth=function(g){var v=this.charSizes[g];return v===void 0&&(v=this.charSizes[g]=this.$measureCharWidth(g)/this.$characterSize.width),v},m.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},m.prototype.$getZoom=function(g){return!g||!g.parentElement?1:(window.getComputedStyle(g).zoom||1)*this.$getZoom(g.parentElement)},m.prototype.$initTransformMeasureNodes=function(){var g=function(v,y){return["div",{style:"position: absolute;top:"+v+"px;left:"+y+"px;"}]};this.els=s.buildDom([g(0,0),g(f,0),g(0,f),g(f,f)],this.el)},m.prototype.transformCoordinates=function(g,v){if(g){var y=this.$getZoom(this.el);g=_(1/y,g)}function k(V,z,F){var B=V[1]*z[0]-V[0]*z[1];return[(-z[1]*F[0]+z[0]*F[1])/B,(+V[1]*F[0]-V[0]*F[1])/B]}function C(V,z){return[V[0]-z[0],V[1]-z[1]]}function T(V,z){return[V[0]+z[0],V[1]+z[1]]}function _(V,z){return[V*z[0],V*z[1]]}this.els||this.$initTransformMeasureNodes();function E(V){var z=V.getBoundingClientRect();return[z.left,z.top]}var w=E(this.els[0]),S=E(this.els[1]),b=E(this.els[2]),x=E(this.els[3]),A=k(C(x,S),C(x,b),C(T(S,b),T(x,w))),O=_(1+A[0],C(S,w)),$=_(1+A[1],C(b,w));if(v){var M=v,R=A[0]*M[0]/f+A[1]*M[1]/f+1,P=T(_(M[0],O),_(M[1],$));return T(_(1/R/f,P),w)}var N=C(g,w),D=k(C(O,_(A[0],N)),C($,_(A[1],N)),N);return _(f,D)},m}();p.prototype.$characterSize={width:0,height:0},o.implement(p.prototype,c),i.FontMetrics=p}),ace.define("ace/css/editor-css",["require","exports","module"],function(n,i,r){r.exports=`
.ace_br1 {border-top-left-radius    : 3px;}
.ace_br2 {border-top-right-radius   : 3px;}
.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}
.ace_br4 {border-bottom-right-radius: 3px;}
.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}
.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}
.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}
.ace_br8 {border-bottom-left-radius : 3px;}
.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}
.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}
.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}
.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}


.ace_editor {
    position: relative;
    overflow: hidden;
    padding: 0;
    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Source Code Pro', 'source-code-pro', monospace;
    direction: ltr;
    text-align: left;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}

.ace_scroller {
    position: absolute;
    overflow: hidden;
    top: 0;
    bottom: 0;
    background-color: inherit;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    cursor: text;
}

.ace_content {
    position: absolute;
    box-sizing: border-box;
    min-width: 100%;
    contain: style size layout;
    font-variant-ligatures: no-common-ligatures;
}

.ace_keyboard-focus:focus {
    box-shadow: inset 0 0 0 2px #5E9ED6;
    outline: none;
}

.ace_dragging .ace_scroller:before{
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: '';
    background: rgba(250, 250, 250, 0.01);
    z-index: 1000;
}
.ace_dragging.ace_dark .ace_scroller:before{
    background: rgba(0, 0, 0, 0.01);
}

.ace_gutter {
    position: absolute;
    overflow : hidden;
    width: auto;
    top: 0;
    bottom: 0;
    left: 0;
    cursor: default;
    z-index: 4;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    contain: style size layout;
}

.ace_gutter-active-line {
    position: absolute;
    left: 0;
    right: 0;
}

.ace_scroller.ace_scroll-left:after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;
    pointer-events: none;
}

.ace_gutter-cell, .ace_gutter-cell_svg-icons {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding-left: 19px;
    padding-right: 6px;
    background-repeat: no-repeat;
}

.ace_gutter-cell_svg-icons .ace_gutter_annotation {
    margin-left: -14px;
    float: left;
}

.ace_gutter-cell .ace_gutter_annotation {
    margin-left: -19px;
    float: left;
}

.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_info, .ace_icon.ace_info {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");
    background-repeat: no-repeat;
    background-position: 2px center;
}
.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");
}

.ace_icon_svg.ace_error {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_warning {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: darkorange;
}
.ace_icon_svg.ace_info {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: royalblue;
}

.ace_icon_svg.ace_error_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_warning_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");
    background-color: darkorange;
}

.ace_scrollbar {
    contain: strict;
    position: absolute;
    right: 0;
    bottom: 0;
    z-index: 6;
}

.ace_scrollbar-inner {
    position: absolute;
    cursor: text;
    left: 0;
    top: 0;
}

.ace_scrollbar-v{
    overflow-x: hidden;
    overflow-y: scroll;
    top: 0;
}

.ace_scrollbar-h {
    overflow-x: scroll;
    overflow-y: hidden;
    left: 0;
}

.ace_print-margin {
    position: absolute;
    height: 100%;
}

.ace_text-input {
    position: absolute;
    z-index: 0;
    width: 0.5em;
    height: 1em;
    opacity: 0;
    background: transparent;
    -moz-appearance: none;
    appearance: none;
    border: none;
    resize: none;
    outline: none;
    overflow: hidden;
    font: inherit;
    padding: 0 1px;
    margin: 0 -1px;
    contain: strict;
    -ms-user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    user-select: text;
    /*with \`pre-line\` chrome inserts &nbsp; instead of space*/
    white-space: pre!important;
}
.ace_text-input.ace_composition {
    background: transparent;
    color: inherit;
    z-index: 1000;
    opacity: 1;
}
.ace_composition_placeholder { color: transparent }
.ace_composition_marker { 
    border-bottom: 1px solid;
    position: absolute;
    border-radius: 0;
    margin-top: 1px;
}

[ace_nocontext=true] {
    transform: none!important;
    filter: none!important;
    clip-path: none!important;
    mask : none!important;
    contain: none!important;
    perspective: none!important;
    mix-blend-mode: initial!important;
    z-index: auto;
}

.ace_layer {
    z-index: 1;
    position: absolute;
    overflow: hidden;
    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/
    word-wrap: normal;
    white-space: pre;
    height: 100%;
    width: 100%;
    box-sizing: border-box;
    /* setting pointer-events: auto; on node under the mouse, which changes
        during scroll, will break mouse wheel scrolling in Safari */
    pointer-events: none;
}

.ace_gutter-layer {
    position: relative;
    width: auto;
    text-align: right;
    pointer-events: auto;
    height: 1000000px;
    contain: style size layout;
}

.ace_text-layer {
    font: inherit !important;
    position: absolute;
    height: 1000000px;
    width: 1000000px;
    contain: style size layout;
}

.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {
    contain: style size layout;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
}

.ace_hidpi .ace_text-layer,
.ace_hidpi .ace_gutter-layer,
.ace_hidpi .ace_content,
.ace_hidpi .ace_gutter {
    contain: strict;
}
.ace_hidpi .ace_text-layer > .ace_line, 
.ace_hidpi .ace_text-layer > .ace_line_group {
    contain: strict;
}

.ace_cjk {
    display: inline-block;
    text-align: center;
}

.ace_cursor-layer {
    z-index: 4;
}

.ace_cursor {
    z-index: 4;
    position: absolute;
    box-sizing: border-box;
    border-left: 2px solid;
    /* workaround for smooth cursor repaintng whole screen in chrome */
    transform: translatez(0);
}

.ace_multiselect .ace_cursor {
    border-left-width: 1px;
}

.ace_slim-cursors .ace_cursor {
    border-left-width: 1px;
}

.ace_overwrite-cursors .ace_cursor {
    border-left-width: 0;
    border-bottom: 1px solid;
}

.ace_hidden-cursors .ace_cursor {
    opacity: 0.2;
}

.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {
    opacity: 0;
}

.ace_smooth-blinking .ace_cursor {
    transition: opacity 0.18s;
}

.ace_animate-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: step-end;
    animation-name: blink-ace-animate;
    animation-iteration-count: infinite;
}

.ace_animate-blinking.ace_smooth-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: ease-in-out;
    animation-name: blink-ace-animate-smooth;
}
    
@keyframes blink-ace-animate {
    from, to { opacity: 1; }
    60% { opacity: 0; }
}

@keyframes blink-ace-animate-smooth {
    from, to { opacity: 1; }
    45% { opacity: 1; }
    60% { opacity: 0; }
    85% { opacity: 0; }
}

.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {
    position: absolute;
    z-index: 3;
}

.ace_marker-layer .ace_selection {
    position: absolute;
    z-index: 5;
}

.ace_marker-layer .ace_bracket {
    position: absolute;
    z-index: 6;
}

.ace_marker-layer .ace_error_bracket {
    position: absolute;
    border-bottom: 1px solid #DE5555;
    border-radius: 0;
}

.ace_marker-layer .ace_active-line {
    position: absolute;
    z-index: 2;
}

.ace_marker-layer .ace_selected-word {
    position: absolute;
    z-index: 4;
    box-sizing: border-box;
}

.ace_line .ace_fold {
    box-sizing: border-box;

    display: inline-block;
    height: 11px;
    margin-top: -2px;
    vertical-align: middle;

    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");
    background-repeat: no-repeat, repeat-x;
    background-position: center center, top left;
    color: transparent;

    border: 1px solid black;
    border-radius: 2px;

    cursor: pointer;
    pointer-events: auto;
}

.ace_dark .ace_fold {
}

.ace_fold:hover{
    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");
}

.ace_tooltip {
    background-color: #f5f5f5;
    border: 1px solid gray;
    border-radius: 1px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    color: black;
    max-width: 100%;
    padding: 3px 4px;
    position: fixed;
    z-index: 999999;
    box-sizing: border-box;
    cursor: default;
    white-space: pre;
    word-wrap: break-word;
    line-height: normal;
    font-style: normal;
    font-weight: normal;
    letter-spacing: normal;
    pointer-events: none;
}

.ace_tooltip.ace_dark {
    background-color: #636363;
    color: #fff;
}

.ace_tooltip:focus {
    outline: 1px solid #5E9ED6;
}

.ace_icon {
    display: inline-block;
    width: 18px;
    vertical-align: top;
}

.ace_icon_svg {
    display: inline-block;
    width: 12px;
    vertical-align: top;
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-size: 12px;
    -webkit-mask-position: center;
}

.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {
    padding-right: 13px;
}

.ace_fold-widget {
    box-sizing: border-box;

    margin: 0 -12px 0 1px;
    display: none;
    width: 11px;
    vertical-align: top;

    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: center;

    border-radius: 3px;
    
    border: 1px solid transparent;
    cursor: pointer;
}

.ace_folding-enabled .ace_fold-widget {
    display: inline-block;   
}

.ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");
}

.ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");
}

.ace_fold-widget:hover {
    border: 1px solid rgba(0, 0, 0, 0.3);
    background-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
}

.ace_fold-widget:active {
    border: 1px solid rgba(0, 0, 0, 0.4);
    background-color: rgba(0, 0, 0, 0.05);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
}
/**
 * Dark version for fold widgets
 */
.ace_dark .ace_fold-widget {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");
}
.ace_dark .ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget:hover {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.1);
}
.ace_dark .ace_fold-widget:active {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.ace_inline_button {
    border: 1px solid lightgray;
    display: inline-block;
    margin: -1px 8px;
    padding: 0 5px;
    pointer-events: auto;
    cursor: pointer;
}
.ace_inline_button:hover {
    border-color: gray;
    background: rgba(200,200,200,0.2);
    display: inline-block;
    pointer-events: auto;
}

.ace_fold-widget.ace_invalid {
    background-color: #FFB4B4;
    border-color: #DE5555;
}

.ace_fade-fold-widgets .ace_fold-widget {
    transition: opacity 0.4s ease 0.05s;
    opacity: 0;
}

.ace_fade-fold-widgets:hover .ace_fold-widget {
    transition: opacity 0.05s ease 0.05s;
    opacity:1;
}

.ace_underline {
    text-decoration: underline;
}

.ace_bold {
    font-weight: bold;
}

.ace_nobold .ace_bold {
    font-weight: normal;
}

.ace_italic {
    font-style: italic;
}


.ace_error-marker {
    background-color: rgba(255, 0, 0,0.2);
    position: absolute;
    z-index: 9;
}

.ace_highlight-marker {
    background-color: rgba(255, 255, 0,0.2);
    position: absolute;
    z-index: 8;
}

.ace_mobile-menu {
    position: absolute;
    line-height: 1.5;
    border-radius: 4px;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    background: white;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #dcdcdc;
    color: black;
}
.ace_dark > .ace_mobile-menu {
    background: #333;
    color: #ccc;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #444;

}
.ace_mobile-button {
    padding: 2px;
    cursor: pointer;
    overflow: hidden;
}
.ace_mobile-button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_mobile-button:active {
    background-color: #ddd;
}

.ace_placeholder {
    font-family: arial;
    transform: scale(0.9);
    transform-origin: left;
    white-space: pre;
    opacity: 0.7;
    margin: 0 10px;
}

.ace_ghost_text {
    opacity: 0.5;
    font-style: italic;
    white-space: pre;
}`}),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(n,i,r){var o=n("../lib/dom"),s=n("../lib/oop"),l=n("../lib/event_emitter").EventEmitter,a=function(){function u(c,h){this.canvas=o.createElement("canvas"),this.renderer=h,this.pixelRatio=1,this.maxHeight=h.layerConfig.maxHeight,this.lineHeight=h.layerConfig.lineHeight,this.canvasHeight=c.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=c.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},c.element.appendChild(this.canvas)}return u.prototype.$updateDecorators=function(c){var h=this.renderer.theme.isDark===!0?this.colors.dark:this.colors.light;if(c){this.maxHeight=c.maxHeight,this.lineHeight=c.lineHeight,this.canvasHeight=c.height;var d=(c.lastRow+1)*this.lineHeight;d<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight}var f=this.canvas.getContext("2d");function p(x,A){return x.priority<A.priority?-1:x.priority>A.priority?1:0}var m=this.renderer.session.$annotations;if(f.clearRect(0,0,this.canvas.width,this.canvas.height),m){var g={info:1,warning:2,error:3};m.forEach(function(x){x.priority=g[x.type]||null}),m=m.sort(p);for(var v=this.renderer.session.$foldData,y=0;y<m.length;y++){var k=m[y].row,C=this.compensateFoldRows(k,v),T=Math.round((k-C)*this.lineHeight*this.heightRatio),_=Math.round((k-C)*this.lineHeight*this.heightRatio),E=Math.round(((k-C)*this.lineHeight+this.lineHeight)*this.heightRatio),w=E-_;if(w<this.minDecorationHeight){var S=(_+E)/2|0;S<this.halfMinDecorationHeight?S=this.halfMinDecorationHeight:S+this.halfMinDecorationHeight>this.canvasHeight&&(S=this.canvasHeight-this.halfMinDecorationHeight),_=Math.round(S-this.halfMinDecorationHeight),E=Math.round(S+this.halfMinDecorationHeight)}f.fillStyle=h[m[y].type]||null,f.fillRect(0,T,this.canvasWidth,E-_)}}var b=this.renderer.session.selection.getCursor();if(b){var C=this.compensateFoldRows(b.row,v),T=Math.round((b.row-C)*this.lineHeight*this.heightRatio);f.fillStyle="rgba(0, 0, 0, 0.5)",f.fillRect(0,T,this.canvasWidth,2)}},u.prototype.compensateFoldRows=function(c,h){var d=0;if(h&&h.length>0)for(var f=0;f<h.length;f++)c>h[f].start.row&&c<h[f].end.row?d+=c-h[f].start.row:c>=h[f].end.row&&(d+=h[f].end.row-h[f].start.row);return d},u}();s.implement(a.prototype,l),i.Decorator=a}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent"],function(n,i,r){var o=n("./lib/oop"),s=n("./lib/dom"),l=n("./lib/lang"),a=n("./config"),u=n("./layer/gutter").Gutter,c=n("./layer/marker").Marker,h=n("./layer/text").Text,d=n("./layer/cursor").Cursor,f=n("./scrollbar").HScrollBar,p=n("./scrollbar").VScrollBar,m=n("./scrollbar_custom").HScrollBar,g=n("./scrollbar_custom").VScrollBar,v=n("./renderloop").RenderLoop,y=n("./layer/font_metrics").FontMetrics,k=n("./lib/event_emitter").EventEmitter,C=n("./css/editor-css"),T=n("./layer/decorators").Decorator,_=n("./lib/useragent");s.importCssString(C,"ace_editor.css",!1);var E=function(){function w(S,b){var x=this;this.container=S||s.createElement("div"),s.addCssClass(this.container,"ace_editor"),s.HI_DPI&&s.addCssClass(this.container,"ace_hidpi"),this.setTheme(b),a.get("useStrictCSP")==null&&a.set("useStrictCSP",!1),this.$gutter=s.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=s.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=s.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new u(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new c(this.content);var A=this.$textLayer=new h(this.content);this.canvas=A.element,this.$markerFront=new c(this.content),this.$cursorLayer=new d(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new p(this.container,this),this.scrollBarH=new f(this.container,this),this.scrollBarV.on("scroll",function(O){x.$scrollAnimation||x.session.setScrollTop(O.data-x.scrollMargin.top)}),this.scrollBarH.on("scroll",function(O){x.$scrollAnimation||x.session.setScrollLeft(O.data-x.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new y(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(O){x.updateCharacterSize(),x.onResize(!0,x.gutterWidth,x.$size.width,x.$size.height),x._signal("changeCharacterSize",O)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!_.isIOS,this.$loop=new v(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),a.resetOptions(this),a._signal("renderer",this)}return w.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),s.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},w.prototype.setSession=function(S){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=S,S&&this.scrollMargin.top&&S.getScrollTop()<=0&&S.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(S),this.$markerBack.setSession(S),this.$markerFront.setSession(S),this.$gutterLayer.setSession(S),this.$textLayer.setSession(S),S&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},w.prototype.updateLines=function(S,b,x){if(b===void 0&&(b=1/0),this.$changedLines?(this.$changedLines.firstRow>S&&(this.$changedLines.firstRow=S),this.$changedLines.lastRow<b&&(this.$changedLines.lastRow=b)):this.$changedLines={firstRow:S,lastRow:b},this.$changedLines.lastRow<this.layerConfig.firstRow)if(x)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},w.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},w.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},w.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},w.prototype.updateFull=function(S){S?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},w.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},w.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},w.prototype.onResize=function(S,b,x,A){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=S?1:0;var O=this.container;A||(A=O.clientHeight||O.scrollHeight),x||(x=O.clientWidth||O.scrollWidth);var $=this.$updateCachedSize(S,b,x,A);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!x&&!A)return this.resizing=0;S&&(this.$gutterLayer.$padding=null),S?this.$renderChanges($|this.$changes,!0):this.$loop.schedule($|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},w.prototype.$updateCachedSize=function(S,b,x,A){A-=this.$extraHeight||0;var O=0,$=this.$size,M={width:$.width,height:$.height,scrollerHeight:$.scrollerHeight,scrollerWidth:$.scrollerWidth};if(A&&(S||$.height!=A)&&($.height=A,O|=this.CHANGE_SIZE,$.scrollerHeight=$.height,this.$horizScroll&&($.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight($.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",O=O|this.CHANGE_SCROLL),x&&(S||$.width!=x)){O|=this.CHANGE_SIZE,$.width=x,b==null&&(b=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=b,s.setStyle(this.scrollBarH.element.style,"left",b+"px"),s.setStyle(this.scroller.style,"left",b+this.margin.left+"px"),$.scrollerWidth=Math.max(0,x-b-this.scrollBarV.getWidth()-this.margin.h),s.setStyle(this.$gutter.style,"left",this.margin.left+"px");var R=this.scrollBarV.getWidth()+"px";s.setStyle(this.scrollBarH.element.style,"right",R),s.setStyle(this.scroller.style,"right",R),s.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth($.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||S)&&(O|=this.CHANGE_FULL)}return $.$dirty=!x||!A,O&&this._signal("resize",M),O},w.prototype.onGutterResize=function(S){var b=this.$showGutter?S:0;b!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,b,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},w.prototype.adjustWrapLimit=function(){var S=this.$size.scrollerWidth-this.$padding*2,b=Math.floor(S/this.characterWidth);return this.session.adjustWrapLimit(b,this.$showPrintMargin&&this.$printMarginColumn)},w.prototype.setAnimatedScroll=function(S){this.setOption("animatedScroll",S)},w.prototype.getAnimatedScroll=function(){return this.$animatedScroll},w.prototype.setShowInvisibles=function(S){this.setOption("showInvisibles",S),this.session.$bidiHandler.setShowInvisibles(S)},w.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},w.prototype.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},w.prototype.setDisplayIndentGuides=function(S){this.setOption("displayIndentGuides",S)},w.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},w.prototype.setHighlightIndentGuides=function(S){this.setOption("highlightIndentGuides",S)},w.prototype.setShowPrintMargin=function(S){this.setOption("showPrintMargin",S)},w.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},w.prototype.setPrintMarginColumn=function(S){this.setOption("printMarginColumn",S)},w.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},w.prototype.getShowGutter=function(){return this.getOption("showGutter")},w.prototype.setShowGutter=function(S){return this.setOption("showGutter",S)},w.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},w.prototype.setFadeFoldWidgets=function(S){this.setOption("fadeFoldWidgets",S)},w.prototype.setHighlightGutterLine=function(S){this.setOption("highlightGutterLine",S)},w.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},w.prototype.$updatePrintMargin=function(){if(!(!this.$showPrintMargin&&!this.$printMarginEl)){if(!this.$printMarginEl){var S=s.createElement("div");S.className="ace_layer ace_print-margin-layer",this.$printMarginEl=s.createElement("div"),this.$printMarginEl.className="ace_print-margin",S.appendChild(this.$printMarginEl),this.content.insertBefore(S,this.content.firstChild)}var b=this.$printMarginEl.style;b.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",b.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},w.prototype.getContainerElement=function(){return this.container},w.prototype.getMouseEventTarget=function(){return this.scroller},w.prototype.getTextAreaContainer=function(){return this.container},w.prototype.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var S=this.textarea.style,b=this.$composition;if(!this.$keepTextAreaAtCursor&&!b){s.translate(this.textarea,-100,0);return}var x=this.$cursorLayer.$pixelPos;if(x){b&&b.markerRange&&(x=this.$cursorLayer.getPixelPosition(b.markerRange.start,!0));var A=this.layerConfig,O=x.top,$=x.left;O-=A.offset;var M=b&&b.useTextareaForIME||_.isMobile?this.lineHeight:1;if(O<0||O>A.height-M){s.translate(this.textarea,0,0);return}var R=1,P=this.$size.height-M;if(!b)O+=this.lineHeight;else if(b.useTextareaForIME){var N=this.textarea.value;R=this.characterWidth*this.session.$getStringScreenWidth(N)[0]}else O+=this.lineHeight+2;$-=this.scrollLeft,$>this.$size.scrollerWidth-R&&($=this.$size.scrollerWidth-R),$+=this.gutterWidth+this.margin.left,s.setStyle(S,"height",M+"px"),s.setStyle(S,"width",R+"px"),s.translate(this.textarea,Math.min($,this.$size.scrollerWidth-R),Math.min(O,P))}}},w.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},w.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},w.prototype.getLastFullyVisibleRow=function(){var S=this.layerConfig,b=S.lastRow,x=this.session.documentToScreenRow(b,0)*S.lineHeight;return x-this.session.getScrollTop()>S.height-S.lineHeight?b-1:b},w.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},w.prototype.setPadding=function(S){this.$padding=S,this.$textLayer.setPadding(S),this.$cursorLayer.setPadding(S),this.$markerFront.setPadding(S),this.$markerBack.setPadding(S),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},w.prototype.setScrollMargin=function(S,b,x,A){var O=this.scrollMargin;O.top=S|0,O.bottom=b|0,O.right=A|0,O.left=x|0,O.v=O.top+O.bottom,O.h=O.left+O.right,O.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-O.top),this.updateFull()},w.prototype.setMargin=function(S,b,x,A){var O=this.margin;O.top=S|0,O.bottom=b|0,O.right=A|0,O.left=x|0,O.v=O.top+O.bottom,O.h=O.left+O.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},w.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},w.prototype.setHScrollBarAlwaysVisible=function(S){this.setOption("hScrollBarAlwaysVisible",S)},w.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},w.prototype.setVScrollBarAlwaysVisible=function(S){this.setOption("vScrollBarAlwaysVisible",S)},w.prototype.$updateScrollBarV=function(){var S=this.layerConfig.maxHeight,b=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(S-=(b-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>S-b&&(S=this.scrollTop+b,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(S+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},w.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},w.prototype.freeze=function(){this.$frozen=!0},w.prototype.unfreeze=function(){this.$frozen=!1},w.prototype.$renderChanges=function(S,b){if(this.$changes&&(S|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!S&&!b){this.$changes|=S;return}if(this.$size.$dirty)return this.$changes|=S,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",S),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var x=this.layerConfig;if(S&this.CHANGE_FULL||S&this.CHANGE_SIZE||S&this.CHANGE_TEXT||S&this.CHANGE_LINES||S&this.CHANGE_SCROLL||S&this.CHANGE_H_SCROLL){if(S|=this.$computeLayerConfig()|this.$loop.clear(),x.firstRow!=this.layerConfig.firstRow&&x.firstRowScreen==this.layerConfig.firstRowScreen){var A=this.scrollTop+(x.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;A>0&&(this.scrollTop=A,S=S|this.CHANGE_SCROLL,S|=this.$computeLayerConfig()|this.$loop.clear())}x=this.layerConfig,this.$updateScrollBarV(),S&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),s.translate(this.content,-this.scrollLeft,-x.offset);var O=x.width+2*this.$padding+"px",$=x.minHeight+"px";s.setStyle(this.content.style,"width",O),s.setStyle(this.content.style,"height",$)}if(S&this.CHANGE_H_SCROLL&&(s.translate(this.content,-this.scrollLeft,-x.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),S&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update(x),this.$showGutter&&this.$gutterLayer.update(x),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(x),this.$markerBack.update(x),this.$markerFront.update(x),this.$cursorLayer.update(x),this.$moveTextAreaToCursor(),this._signal("afterRender",S);return}if(S&this.CHANGE_SCROLL){this.$changedLines=null,S&this.CHANGE_TEXT||S&this.CHANGE_LINES?this.$textLayer.update(x):this.$textLayer.scrollLines(x),this.$showGutter&&(S&this.CHANGE_GUTTER||S&this.CHANGE_LINES?this.$gutterLayer.update(x):this.$gutterLayer.scrollLines(x)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(x),this.$markerBack.update(x),this.$markerFront.update(x),this.$cursorLayer.update(x),this.$moveTextAreaToCursor(),this._signal("afterRender",S);return}S&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(x),this.$showGutter&&this.$gutterLayer.update(x),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(x)):S&this.CHANGE_LINES?((this.$updateLines()||S&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(x),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(x)):S&this.CHANGE_TEXT||S&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(x),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(x)):S&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(x),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(x)),S&this.CHANGE_CURSOR&&(this.$cursorLayer.update(x),this.$moveTextAreaToCursor()),S&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(x),S&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(x),this._signal("afterRender",S)},w.prototype.$autosize=function(){var S=this.session.getScreenLength()*this.lineHeight,b=this.$maxLines*this.lineHeight,x=Math.min(b,Math.max((this.$minLines||1)*this.lineHeight,S))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(x+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&x>this.$maxPixelHeight&&(x=this.$maxPixelHeight);var A=x<=2*this.lineHeight,O=!A&&S>b;if(x!=this.desiredHeight||this.$size.height!=this.desiredHeight||O!=this.$vScroll){O!=this.$vScroll&&(this.$vScroll=O,this.scrollBarV.setVisible(O));var $=this.container.clientWidth;this.container.style.height=x+"px",this.$updateCachedSize(!0,this.$gutterWidth,$,x),this.desiredHeight=x,this._signal("autosize")}},w.prototype.$computeLayerConfig=function(){var S=this.session,b=this.$size,x=b.height<=2*this.lineHeight,A=this.session.getScreenLength(),O=A*this.lineHeight,$=this.$getLongestLine(),M=!x&&(this.$hScrollBarAlwaysVisible||b.scrollerWidth-$-2*this.$padding<0),R=this.$horizScroll!==M;R&&(this.$horizScroll=M,this.scrollBarH.setVisible(M));var P=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var N=b.scrollerHeight+this.lineHeight,D=!this.$maxLines&&this.$scrollPastEnd?(b.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;O+=D;var V=this.scrollMargin;this.session.setScrollTop(Math.max(-V.top,Math.min(this.scrollTop,O-b.scrollerHeight+V.bottom))),this.session.setScrollLeft(Math.max(-V.left,Math.min(this.scrollLeft,$+2*this.$padding-b.scrollerWidth+V.right)));var z=!x&&(this.$vScrollBarAlwaysVisible||b.scrollerHeight-O+D<0||this.scrollTop>V.top),F=P!==z;F&&(this.$vScroll=z,this.scrollBarV.setVisible(z));var B=this.scrollTop%this.lineHeight,j=Math.ceil(N/this.lineHeight)-1,H=Math.max(0,Math.round((this.scrollTop-B)/this.lineHeight)),G=H+j,Q,J,Y=this.lineHeight;H=S.screenToDocumentRow(H,0);var ee=S.getFoldLine(H);ee&&(H=ee.start.row),Q=S.documentToScreenRow(H,0),J=S.getRowLength(H)*Y,G=Math.min(S.screenToDocumentRow(G,0),S.getLength()-1),N=b.scrollerHeight+S.getRowLength(G)*Y+J,B=this.scrollTop-Q*Y;var ne=0;return(this.layerConfig.width!=$||R)&&(ne=this.CHANGE_H_SCROLL),(R||F)&&(ne|=this.$updateCachedSize(!0,this.gutterWidth,b.width,b.height),this._signal("scrollbarVisibilityChanged"),F&&($=this.$getLongestLine())),this.layerConfig={width:$,padding:this.$padding,firstRow:H,firstRowScreen:Q,lastRow:G,lineHeight:Y,characterWidth:this.characterWidth,minHeight:N,maxHeight:O,offset:B,gutterOffset:Y?Math.max(0,Math.ceil((B+b.height-b.scrollerHeight)/Y)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth($-this.$padding),ne},w.prototype.$updateLines=function(){if(this.$changedLines){var S=this.$changedLines.firstRow,b=this.$changedLines.lastRow;this.$changedLines=null;var x=this.layerConfig;if(!(S>x.lastRow+1)&&!(b<x.firstRow)){if(b===1/0){this.$showGutter&&this.$gutterLayer.update(x),this.$textLayer.update(x);return}return this.$textLayer.updateLines(x,S,b),!0}}},w.prototype.$getLongestLine=function(){var S=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(S+=1),this.$textLayer&&S>this.$textLayer.MAX_LINE_LENGTH&&(S=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(S*this.characterWidth))},w.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},w.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},w.prototype.addGutterDecoration=function(S,b){this.$gutterLayer.addGutterDecoration(S,b)},w.prototype.removeGutterDecoration=function(S,b){this.$gutterLayer.removeGutterDecoration(S,b)},w.prototype.updateBreakpoints=function(S){this.$loop.schedule(this.CHANGE_GUTTER)},w.prototype.setAnnotations=function(S){this.$gutterLayer.setAnnotations(S),this.$loop.schedule(this.CHANGE_GUTTER)},w.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},w.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},w.prototype.showCursor=function(){this.$cursorLayer.showCursor()},w.prototype.scrollSelectionIntoView=function(S,b,x){this.scrollCursorIntoView(S,x),this.scrollCursorIntoView(b,x)},w.prototype.scrollCursorIntoView=function(S,b,x){if(this.$size.scrollerHeight!==0){var A=this.$cursorLayer.getPixelPosition(S),O=A.left,$=A.top,M=x&&x.top||0,R=x&&x.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var P=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;P+M>$?(b&&P+M>$+this.lineHeight&&($-=b*this.$size.scrollerHeight),$===0&&($=-this.scrollMargin.top),this.session.setScrollTop($)):P+this.$size.scrollerHeight-R<$+this.lineHeight&&(b&&P+this.$size.scrollerHeight-R<$-this.lineHeight&&($+=b*this.$size.scrollerHeight),this.session.setScrollTop($+this.lineHeight+R-this.$size.scrollerHeight));var N=this.scrollLeft,D=2*this.layerConfig.characterWidth;O-D<N?(O-=D,O<this.$padding+D&&(O=-this.scrollMargin.left),this.session.setScrollLeft(O)):(O+=D,N+this.$size.scrollerWidth<O+this.characterWidth?this.session.setScrollLeft(Math.round(O+this.characterWidth-this.$size.scrollerWidth)):N<=this.$padding&&O-N<this.characterWidth&&this.session.setScrollLeft(0))}},w.prototype.getScrollTop=function(){return this.session.getScrollTop()},w.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},w.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},w.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},w.prototype.scrollToRow=function(S){this.session.setScrollTop(S*this.lineHeight)},w.prototype.alignCursor=function(S,b){typeof S=="number"&&(S={row:S,column:0});var x=this.$cursorLayer.getPixelPosition(S),A=this.$size.scrollerHeight-this.lineHeight,O=x.top-A*(b||0);return this.session.setScrollTop(O),O},w.prototype.$calcSteps=function(S,b){var x=0,A=this.STEPS,O=[],$=function(M,R,P){return P*(Math.pow(M-1,3)+1)+R};for(x=0;x<A;++x)O.push($(x/this.STEPS,S,b-S));return O},w.prototype.scrollToLine=function(S,b,x,A){var O=this.$cursorLayer.getPixelPosition({row:S,column:0}),$=O.top;b&&($-=this.$size.scrollerHeight/2);var M=this.scrollTop;this.session.setScrollTop($),x!==!1&&this.animateScrolling(M,A)},w.prototype.animateScrolling=function(S,b){var x=this.scrollTop;if(!this.$animatedScroll)return;var A=this;if(S==x)return;if(this.$scrollAnimation){var O=this.$scrollAnimation.steps;if(O.length&&(S=O[0],S==x))return}var $=A.$calcSteps(S,x);this.$scrollAnimation={from:S,to:x,steps:$},clearInterval(this.$timer),A.session.setScrollTop($.shift()),A.session.$scrollTop=x;function M(){A.$timer=clearInterval(A.$timer),A.$scrollAnimation=null,A.$stopAnimation=!1,b&&b()}this.$timer=setInterval(function(){if(A.$stopAnimation){M();return}if(!A.session)return clearInterval(A.$timer);$.length?(A.session.setScrollTop($.shift()),A.session.$scrollTop=x):x!=null?(A.session.$scrollTop=-1,A.session.setScrollTop(x),x=null):M()},10)},w.prototype.scrollToY=function(S){this.scrollTop!==S&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=S)},w.prototype.scrollToX=function(S){this.scrollLeft!==S&&(this.scrollLeft=S),this.$loop.schedule(this.CHANGE_H_SCROLL)},w.prototype.scrollTo=function(S,b){this.session.setScrollTop(b),this.session.setScrollLeft(S)},w.prototype.scrollBy=function(S,b){b&&this.session.setScrollTop(this.session.getScrollTop()+b),S&&this.session.setScrollLeft(this.session.getScrollLeft()+S)},w.prototype.isScrollableBy=function(S,b){if(b<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||b>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||S<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||S>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},w.prototype.pixelToScreenCoordinates=function(S,b){var x;if(this.$hasCssTransforms){x={top:0,left:0};var A=this.$fontMetrics.transformCoordinates([S,b]);S=A[1]-this.gutterWidth-this.margin.left,b=A[0]}else x=this.scroller.getBoundingClientRect();var O=S+this.scrollLeft-x.left-this.$padding,$=O/this.characterWidth,M=Math.floor((b+this.scrollTop-x.top)/this.lineHeight),R=this.$blockCursor?Math.floor($):Math.round($);return{row:M,column:R,side:$-R>0?1:-1,offsetX:O}},w.prototype.screenToTextCoordinates=function(S,b){var x;if(this.$hasCssTransforms){x={top:0,left:0};var A=this.$fontMetrics.transformCoordinates([S,b]);S=A[1]-this.gutterWidth-this.margin.left,b=A[0]}else x=this.scroller.getBoundingClientRect();var O=S+this.scrollLeft-x.left-this.$padding,$=O/this.characterWidth,M=this.$blockCursor?Math.floor($):Math.round($),R=Math.floor((b+this.scrollTop-x.top)/this.lineHeight);return this.session.screenToDocumentPosition(R,Math.max(M,0),O)},w.prototype.textToScreenCoordinates=function(S,b){var x=this.scroller.getBoundingClientRect(),A=this.session.documentToScreenPosition(S,b),O=this.$padding+(this.session.$bidiHandler.isBidiRow(A.row,S)?this.session.$bidiHandler.getPosLeft(A.column):Math.round(A.column*this.characterWidth)),$=A.row*this.lineHeight;return{pageX:x.left+O-this.scrollLeft,pageY:x.top+$-this.scrollTop}},w.prototype.visualizeFocus=function(){s.addCssClass(this.container,"ace_focus")},w.prototype.visualizeBlur=function(){s.removeCssClass(this.container,"ace_focus")},w.prototype.showComposition=function(S){this.$composition=S,S.cssText||(S.cssText=this.textarea.style.cssText),S.useTextareaForIME==null&&(S.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(s.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):S.markerId=this.session.addMarker(S.markerRange,"ace_composition_marker","text")},w.prototype.setCompositionText=function(S){var b=this.session.selection.cursor;this.addToken(S,"composition_placeholder",b.row,b.column),this.$moveTextAreaToCursor()},w.prototype.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),s.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var S=this.session.selection.cursor;this.removeExtraToken(S.row,S.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},w.prototype.setGhostText=function(S,b){var x=this.session.selection.cursor,A=b||{row:x.row,column:x.column};this.removeGhostText();var O=S.split(`
`);this.addToken(O[0],"ghost_text",A.row,A.column),this.$ghostText={text:S,position:{row:A.row,column:A.column}},O.length>1&&(this.$ghostTextWidget={text:O.slice(1).join(`
`),row:A.row,column:A.column,className:"ace_ghost_text"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget))},w.prototype.removeGhostText=function(){if(this.$ghostText){var S=this.$ghostText.position;this.removeExtraToken(S.row,S.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},w.prototype.addToken=function(S,b,x,A){var O=this.session;O.bgTokenizer.lines[x]=null;var $={type:b,value:S},M=O.getTokens(x);if(A==null||!M.length)M.push($);else for(var R=0,P=0;P<M.length;P++){var N=M[P];if(R+=N.value.length,A<=R){var D=N.value.length-(R-A),V=N.value.slice(0,D),z=N.value.slice(D);M.splice(P,1,{type:N.type,value:V},$,{type:N.type,value:z});break}}this.updateLines(x,x)},w.prototype.removeExtraToken=function(S,b){this.session.bgTokenizer.lines[S]=null,this.updateLines(S,S)},w.prototype.setTheme=function(S,b){var x=this;if(this.$themeId=S,x._dispatchEvent("themeChange",{theme:S}),!S||typeof S=="string"){var A=S||this.$options.theme.initialValue;a.loadModule(["theme",A],O)}else O(S);function O($){if(x.$themeId!=S)return b&&b();if(!$||!$.cssClass)throw new Error("couldn't load module "+S+" or it didn't call define");$.$id&&(x.$themeId=$.$id),s.importCssString($.cssText,$.cssClass,x.container),x.theme&&s.removeCssClass(x.container,x.theme.cssClass);var M="padding"in $?$.padding:"padding"in(x.theme||{})?4:x.$padding;x.$padding&&M!=x.$padding&&x.setPadding(M),x.$theme=$.cssClass,x.theme=$,s.addCssClass(x.container,$.cssClass),s.setCssClass(x.container,"ace_dark",$.isDark),x.$size&&(x.$size.width=0,x.$updateSizeAsync()),x._dispatchEvent("themeLoaded",{theme:$}),b&&b()}},w.prototype.getTheme=function(){return this.$themeId},w.prototype.setStyle=function(S,b){s.setCssClass(this.container,S,b!==!1)},w.prototype.unsetStyle=function(S){s.removeCssClass(this.container,S)},w.prototype.setCursorStyle=function(S){s.setStyle(this.scroller.style,"cursor",S)},w.prototype.setMouseCursor=function(S){s.setStyle(this.scroller.style,"cursor",S)},w.prototype.attachToShadowRoot=function(){s.importCssString(C,"ace_editor.css",this.container)},w.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},w.prototype.$updateCustomScrollbar=function(S){var b=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,S===!0?(this.scrollBarV=new g(this.container,this),this.scrollBarH=new m(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(x){b.$scrollAnimation||b.session.setScrollTop(x.data-b.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(x){b.$scrollAnimation||b.session.setScrollLeft(x.data-b.scrollMargin.left)}),this.$scrollDecorator=new T(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new p(this.container,this),this.scrollBarH=new f(this.container,this),this.scrollBarV.addEventListener("scroll",function(x){b.$scrollAnimation||b.session.setScrollTop(x.data-b.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(x){b.$scrollAnimation||b.session.setScrollLeft(x.data-b.scrollMargin.left)}))},w.prototype.$addResizeObserver=function(){if(!(!window.ResizeObserver||this.$resizeObserver)){var S=this;this.$resizeTimer=l.delayedCall(function(){S.destroyed||S.onResize()},50),this.$resizeObserver=new window.ResizeObserver(function(b){var x=b[0].contentRect.width,A=b[0].contentRect.height;Math.abs(S.$size.width-x)>1||Math.abs(S.$size.height-A)>1?S.$resizeTimer.delay():S.$resizeTimer.cancel()}),this.$resizeObserver.observe(this.container)}},w}();E.prototype.CHANGE_CURSOR=1,E.prototype.CHANGE_MARKER=2,E.prototype.CHANGE_GUTTER=4,E.prototype.CHANGE_SCROLL=8,E.prototype.CHANGE_LINES=16,E.prototype.CHANGE_TEXT=32,E.prototype.CHANGE_SIZE=64,E.prototype.CHANGE_MARKER_BACK=128,E.prototype.CHANGE_MARKER_FRONT=256,E.prototype.CHANGE_FULL=512,E.prototype.CHANGE_H_SCROLL=1024,E.prototype.$changes=0,E.prototype.$padding=null,E.prototype.$frozen=!1,E.prototype.STEPS=8,o.implement(E.prototype,k),a.defineOptions(E.prototype,"renderer",{useResizeObserver:{set:function(w){!w&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):w&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(w){this.$textLayer.setShowInvisibles(w)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(w){typeof w=="number"&&(this.$printMarginColumn=w),this.$showPrintMargin=!!w,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(w){this.$gutter.style.display=w?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(w){this.$gutterLayer.$useSvgGutterIcons=w},initialValue:!1},showFoldedAnnotations:{set:function(w){this.$gutterLayer.$showFoldedAnnotations=w},initialValue:!1},fadeFoldWidgets:{set:function(w){s.setCssClass(this.$gutter,"ace_fade-fold-widgets",w)},initialValue:!1},showFoldWidgets:{set:function(w){this.$gutterLayer.setShowFoldWidgets(w),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(w){this.$textLayer.setDisplayIndentGuides(w)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(w){this.$textLayer.setHighlightIndentGuides(w)==!0?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(w){this.$gutterLayer.setHighlightGutterLine(w),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(w){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(w){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(w){typeof w=="number"&&(w=w+"px"),this.container.style.fontSize=w,this.updateFontSize()},initialValue:12},fontFamily:{set:function(w){this.container.style.fontFamily=w,this.updateFontSize()}},maxLines:{set:function(w){this.updateFull()}},minLines:{set:function(w){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(w){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(w){w=+w||0,this.$scrollPastEnd!=w&&(this.$scrollPastEnd=w,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(w){this.$gutterLayer.$fixedWidth=!!w,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(w){this.$updateCustomScrollbar(w)},initialValue:!1},theme:{set:function(w){this.setTheme(w)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!_.isMobile&&!_.isIE}}),i.VirtualRenderer=E}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(n,i,r){var o=n("../lib/oop"),s=n("../lib/net"),l=n("../lib/event_emitter").EventEmitter,a=n("../config");function u(f){var p="importScripts('"+s.qualifyURL(f)+"');";try{return new Blob([p],{type:"application/javascript"})}catch{var m=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,g=new m;return g.append(p),g.getBlob("application/javascript")}}function c(f){if(typeof Worker>"u")return{postMessage:function(){},terminate:function(){}};if(a.get("loadWorkerFromBlob")){var p=u(f),m=window.URL||window.webkitURL,g=m.createObjectURL(p);return new Worker(g)}return new Worker(f)}var h=function(f){f.postMessage||(f=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=f,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){o.implement(this,l),this.$createWorkerFromOldConfig=function(f,p,m,g,v){if(n.nameToUrl&&!n.toUrl&&(n.toUrl=n.nameToUrl),a.get("packaged")||!n.toUrl)g=g||a.moduleUrl(p,"worker");else{var y=this.$normalizePath;g=g||y(n.toUrl("ace/worker/worker.js",null,"_"));var k={};f.forEach(function(C){k[C]=y(n.toUrl(C,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=c(g),v&&this.send("importScripts",v),this.$worker.postMessage({init:!0,tlns:k,module:p,classname:m}),this.$worker},this.onMessage=function(f){var p=f.data;switch(p.type){case"event":this._signal(p.name,{data:p.data});break;case"call":var m=this.callbacks[p.id];m&&(m(p.data),delete this.callbacks[p.id]);break;case"error":this.reportError(p.data);break;case"log":window.console&&console.log&&console.log.apply(console,p.data);break}},this.reportError=function(f){window.console&&console.error&&console.error(f)},this.$normalizePath=function(f){return s.qualifyURL(f)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker.onerror=function(f){f.preventDefault()},this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(f,p){this.$worker.postMessage({command:f,args:p})},this.call=function(f,p,m){if(m){var g=this.callbackId++;this.callbacks[g]=m,p.push(g)}this.send(f,p)},this.emit=function(f,p){try{p.data&&p.data.err&&(p.data.err={message:p.data.err.message,stack:p.data.err.stack,code:p.data.err.code}),this.$worker&&this.$worker.postMessage({event:f,data:{data:p.data}})}catch(m){console.error(m.stack)}},this.attachToDocument=function(f){this.$doc&&this.terminate(),this.$doc=f,this.call("setValue",[f.getValue()]),f.on("change",this.changeListener,!0)},this.changeListener=function(f){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),f.action=="insert"?this.deltaQueue.push(f.start,f.lines):this.deltaQueue.push(f.start,f.end)},this.$sendDeltaQueue=function(){var f=this.deltaQueue;f&&(this.deltaQueue=null,f.length>50&&f.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:f}))}}).call(h.prototype);var d=function(f,p,m){var g=null,v=!1,y=Object.create(l),k=[],C=new h({messageBuffer:k,terminate:function(){},postMessage:function(_){k.push(_),g&&(v?setTimeout(T):T())}});C.setEmitSync=function(_){v=_};var T=function(){var _=k.shift();_.command?g[_.command].apply(g,_.args):_.event&&y._signal(_.event,_.data)};return y.postMessage=function(_){C.onMessage({data:_})},y.callback=function(_,E){this.postMessage({type:"call",id:E,data:_})},y.emit=function(_,E){this.postMessage({type:"event",name:_,data:E})},a.loadModule(["worker",p],function(_){for(g=new _[m](y);k.length;)T()}),C};i.UIWorkerClient=d,i.WorkerClient=h,i.createWorker=c}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(n,i,r){var o=n("./range").Range,s=n("./lib/event_emitter").EventEmitter,l=n("./lib/oop"),a=function(){function u(c,h,d,f,p,m){var g=this;this.length=h,this.session=c,this.doc=c.getDocument(),this.mainClass=p,this.othersClass=m,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=f,this.$onCursorChange=function(){setTimeout(function(){g.onCursorChange()})},this.$pos=d;var v=c.getUndoManager().$undoStack||c.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=v.length,this.setup(),c.selection.on("changeCursor",this.$onCursorChange)}return u.prototype.setup=function(){var c=this,h=this.doc,d=this.session;this.selectionBefore=d.selection.toJSON(),d.selection.inMultiSelectMode&&d.selection.toSingleRange(),this.pos=h.createAnchor(this.$pos.row,this.$pos.column);var f=this.pos;f.$insertRight=!0,f.detach(),f.markerId=d.addMarker(new o(f.row,f.column,f.row,f.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(p){var m=h.createAnchor(p.row,p.column);m.$insertRight=!0,m.detach(),c.others.push(m)}),d.setUndoSelect(!1)},u.prototype.showOtherMarkers=function(){if(!this.othersActive){var c=this.session,h=this;this.othersActive=!0,this.others.forEach(function(d){d.markerId=c.addMarker(new o(d.row,d.column,d.row,d.column+h.length),h.othersClass,null,!1)})}},u.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var c=0;c<this.others.length;c++)this.session.removeMarker(this.others[c].markerId)}},u.prototype.onUpdate=function(c){if(this.$updating)return this.updateAnchors(c);var h=c;if(h.start.row===h.end.row&&h.start.row===this.pos.row){this.$updating=!0;var d=c.action==="insert"?h.end.column-h.start.column:h.start.column-h.end.column,f=h.start.column>=this.pos.column&&h.start.column<=this.pos.column+this.length+1,p=h.start.column-this.pos.column;if(this.updateAnchors(c),f&&(this.length+=d),f&&!this.session.$fromUndo){if(c.action==="insert")for(var m=this.others.length-1;m>=0;m--){var g=this.others[m],v={row:g.row,column:g.column+p};this.doc.insertMergedLines(v,c.lines)}else if(c.action==="remove")for(var m=this.others.length-1;m>=0;m--){var g=this.others[m],v={row:g.row,column:g.column+p};this.doc.remove(new o(v.row,v.column,v.row,v.column-d))}}this.$updating=!1,this.updateMarkers()}},u.prototype.updateAnchors=function(c){this.pos.onChange(c);for(var h=this.others.length;h--;)this.others[h].onChange(c);this.updateMarkers()},u.prototype.updateMarkers=function(){if(!this.$updating){var c=this,h=this.session,d=function(p,m){h.removeMarker(p.markerId),p.markerId=h.addMarker(new o(p.row,p.column,p.row,p.column+c.length),m,null,!1)};d(this.pos,this.mainClass);for(var f=this.others.length;f--;)d(this.others[f],this.othersClass)}},u.prototype.onCursorChange=function(c){if(!(this.$updating||!this.session)){var h=this.session.selection.getCursor();h.row===this.pos.row&&h.column>=this.pos.column&&h.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",c)):(this.hideOtherMarkers(),this._emit("cursorLeave",c))}},u.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},u.prototype.cancel=function(){if(this.$undoStackDepth!==-1){for(var c=this.session.getUndoManager(),h=(c.$undoStack||c.$undostack).length-this.$undoStackDepth,d=0;d<h;d++)c.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},u}();l.implement(a.prototype,s),i.PlaceHolder=a}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(n,i,r){var o=n("../lib/event"),s=n("../lib/useragent");function l(u,c){return u.row==c.row&&u.column==c.column}function a(u){var c=u.domEvent,h=c.altKey,d=c.shiftKey,f=c.ctrlKey,p=u.getAccelKey(),m=u.getButton();if(f&&s.isMac&&(m=c.button),u.editor.inMultiSelectMode&&m==2){u.editor.textInput.onContextMenu(u.domEvent);return}if(!f&&!h&&!p){m===0&&u.editor.inMultiSelectMode&&u.editor.exitMultiSelectMode();return}if(m===0){var g=u.editor,v=g.selection,y=g.inMultiSelectMode,k=u.getDocumentPosition(),C=v.getCursor(),T=u.inSelection()||v.isEmpty()&&l(k,C),_=u.x,E=u.y,w=function(z){_=z.clientX,E=z.clientY},S=g.session,b=g.renderer.pixelToScreenCoordinates(_,E),x=b,A;if(g.$mouseHandler.$enableJumpToDef)f&&h||p&&h?A=d?"block":"add":h&&g.$blockSelectEnabled&&(A="block");else if(p&&!h){if(A="add",!y&&d)return}else h&&g.$blockSelectEnabled&&(A="block");if(A&&s.isMac&&c.ctrlKey&&g.$mouseHandler.cancelContextMenu(),A=="add"){if(!y&&T)return;if(!y){var O=v.toOrientedRange();g.addSelectionMarker(O)}var $=v.rangeList.rangeAtPoint(k);g.inVirtualSelectionMode=!0,d&&($=null,O=v.ranges[0]||O,g.removeSelectionMarker(O)),g.once("mouseup",function(){var z=v.toOrientedRange();$&&z.isEmpty()&&l($.cursor,z.cursor)?v.substractPoint(z.cursor):(d?v.substractPoint(O.cursor):O&&(g.removeSelectionMarker(O),v.addRange(O)),v.addRange(z)),g.inVirtualSelectionMode=!1})}else if(A=="block"){u.stop(),g.inVirtualSelectionMode=!0;var M,R=[],P=function(){var z=g.renderer.pixelToScreenCoordinates(_,E),F=S.screenToDocumentPosition(z.row,z.column,z.offsetX);l(x,z)&&l(F,v.lead)||(x=z,g.selection.moveToPosition(F),g.renderer.scrollCursorIntoView(),g.removeSelectionMarkers(R),R=v.rectangularRangeBlock(x,b),g.$mouseHandler.$clickSelection&&R.length==1&&R[0].isEmpty()&&(R[0]=g.$mouseHandler.$clickSelection.clone()),R.forEach(g.addSelectionMarker,g),g.updateSelectionMarkers())};y&&!p?v.toSingleRange():!y&&p&&(M=v.toOrientedRange(),g.addSelectionMarker(M)),d?b=S.documentToScreenPosition(v.lead):v.moveToPosition(k),x={row:-1,column:-1};var N=function(z){P(),clearInterval(V),g.removeSelectionMarkers(R),R.length||(R=[v.toOrientedRange()]),M&&(g.removeSelectionMarker(M),v.toSingleRange(M));for(var F=0;F<R.length;F++)v.addRange(R[F]);g.inVirtualSelectionMode=!1,g.$mouseHandler.$clickSelection=null},D=P;o.capture(g.container,w,N);var V=setInterval(function(){D()},20);return u.preventDefault()}}}i.onMouseDown=a}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(n,i,r){i.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(s){s.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(s){s.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(s){s.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(s){s.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(s){s.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(s){s.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(s){s.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(s){s.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(s){s.multiSelect.rangeCount>1?s.multiSelect.joinSelections():s.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(s){s.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(s){s.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(s){s.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],i.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(s){s.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(s){return s&&s.inMultiSelectMode}}];var o=n("../keyboard/hash_handler").HashHandler;i.keyboardHandler=new o(i.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(n,i,r){var o=n("./range_list").RangeList,s=n("./range").Range,l=n("./selection").Selection,a=n("./mouse/multi_select_handler").onMouseDown,u=n("./lib/event"),c=n("./lib/lang"),h=n("./commands/multi_select_commands");i.commands=h.defaultCommands.concat(h.multiSelectCommands);var d=n("./search").Search,f=new d;function p(C,T,_){return f.$options.wrap=!0,f.$options.needle=T,f.$options.backwards=_==-1,f.find(C)}var m=n("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(m.prototype),(function(){this.ranges=null,this.rangeList=null,this.addRange=function(C,T){if(C){if(!this.inMultiSelectMode&&this.rangeCount===0){var _=this.toOrientedRange();if(this.rangeList.add(_),this.rangeList.add(C),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),T||this.fromOrientedRange(C);this.rangeList.removeAll(),this.rangeList.add(_),this.$onAddRange(_)}C.cursor||(C.cursor=C.end);var E=this.rangeList.add(C);return this.$onAddRange(C),E.length&&this.$onRemoveRange(E),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),T||this.fromOrientedRange(C)}},this.toSingleRange=function(C){C=C||this.ranges[0];var T=this.rangeList.removeAll();T.length&&this.$onRemoveRange(T),C&&this.fromOrientedRange(C)},this.substractPoint=function(C){var T=this.rangeList.substractPoint(C);if(T)return this.$onRemoveRange(T),T[0]},this.mergeOverlappingRanges=function(){var C=this.rangeList.merge();C.length&&this.$onRemoveRange(C)},this.$onAddRange=function(C){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(C),this._signal("addRange",{range:C})},this.$onRemoveRange=function(C){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var T=this.rangeList.ranges.pop();C.push(T),this.rangeCount=0}for(var _=C.length;_--;){var E=this.ranges.indexOf(C[_]);this.ranges.splice(E,1)}this._signal("removeRange",{ranges:C}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),T=T||this.ranges[0],T&&!T.isEqual(this.getRange())&&this.fromOrientedRange(T)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new o,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var C=this.ranges.length?this.ranges:[this.getRange()],T=[],_=0;_<C.length;_++){var E=C[_],w=E.start.row,S=E.end.row;if(w===S)T.push(E.clone());else{for(T.push(new s(w,E.start.column,w,this.session.getLine(w).length));++w<S;)T.push(this.getLineRange(w,!0));T.push(new s(S,0,S,E.end.column))}_==0&&!this.isBackwards()&&(T=T.reverse())}this.toSingleRange();for(var _=T.length;_--;)this.addRange(T[_])},this.joinSelections=function(){var C=this.rangeList.ranges,T=C[C.length-1],_=s.fromPoints(C[0].start,T.end);this.toSingleRange(),this.setSelectionRange(_,T.cursor==T.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var C=this.rangeList.ranges,T=C[C.length-1],_=s.fromPoints(C[0].start,T.end);this.toSingleRange(),this.setSelectionRange(_,T.cursor==T.start)}else{var E=this.session.documentToScreenPosition(this.cursor),w=this.session.documentToScreenPosition(this.anchor),S=this.rectangularRangeBlock(E,w);S.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(C,T,_){var E=[],w=C.column<T.column;if(w)var S=C.column,b=T.column,x=C.offsetX,A=T.offsetX;else var S=T.column,b=C.column,x=T.offsetX,A=C.offsetX;var O=C.row<T.row;if(O)var $=C.row,M=T.row;else var $=T.row,M=C.row;S<0&&(S=0),$<0&&($=0),$==M&&(_=!0);for(var R,P=$;P<=M;P++){var N=s.fromPoints(this.session.screenToDocumentPosition(P,S,x),this.session.screenToDocumentPosition(P,b,A));if(N.isEmpty()){if(R&&v(N.end,R))break;R=N.end}N.cursor=w?N.start:N.end,E.push(N)}if(O&&E.reverse(),!_){for(var D=E.length-1;E[D].isEmpty()&&D>0;)D--;if(D>0)for(var V=0;E[V].isEmpty();)V++;for(var z=D;z>=V;z--)E[z].isEmpty()&&E.splice(z,1)}return E}}).call(l.prototype);var g=n("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(C){C.cursor||(C.cursor=C.end);var T=this.getSelectionStyle();return C.marker=this.session.addMarker(C,"ace_selection",T),this.session.$selectionMarkers.push(C),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,C},this.removeSelectionMarker=function(C){if(C.marker){this.session.removeMarker(C.marker);var T=this.session.$selectionMarkers.indexOf(C);T!=-1&&this.session.$selectionMarkers.splice(T,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(C){for(var T=this.session.$selectionMarkers,_=C.length;_--;){var E=C[_];if(E.marker){this.session.removeMarker(E.marker);var w=T.indexOf(E);w!=-1&&T.splice(w,1)}}this.session.selectionMarkerCount=T.length},this.$onAddRange=function(C){this.addSelectionMarker(C.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(C){this.removeSelectionMarkers(C.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(C){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(h.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(C){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(h.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(C){var T=C.command,_=C.editor;if(_.multiSelect){if(T.multiSelectAction)T.multiSelectAction=="forEach"?E=_.forEachSelection(T,C.args):T.multiSelectAction=="forEachLine"?E=_.forEachSelection(T,C.args,!0):T.multiSelectAction=="single"?(_.exitMultiSelectMode(),E=T.exec(_,C.args||{})):E=T.multiSelectAction(_,C.args||{});else{var E=T.exec(_,C.args||{});_.multiSelect.addRange(_.multiSelect.toOrientedRange()),_.multiSelect.mergeOverlappingRanges()}return E}},this.forEachSelection=function(C,T,_){if(!this.inVirtualSelectionMode){var E=_&&_.keepOrder,w=_==!0||_&&_.$byLines,S=this.session,b=this.selection,x=b.rangeList,A=(E?b:x).ranges,O;if(!A.length)return C.exec?C.exec(this,T||{}):C(this,T||{});var $=b._eventRegistry;b._eventRegistry={};var M=new l(S);this.inVirtualSelectionMode=!0;for(var R=A.length;R--;){if(w)for(;R>0&&A[R].start.row==A[R-1].end.row;)R--;M.fromOrientedRange(A[R]),M.index=R,this.selection=S.selection=M;var P=C.exec?C.exec(this,T||{}):C(this,T||{});!O&&P!==void 0&&(O=P),M.toOrientedRange(A[R])}M.detach(),this.selection=S.selection=b,this.inVirtualSelectionMode=!1,b._eventRegistry=$,b.mergeOverlappingRanges(),b.ranges[0]&&b.fromOrientedRange(b.ranges[0]);var N=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),N&&N.from==N.to&&this.renderer.animateScrolling(N.from),O}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var C="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var T=this.multiSelect.rangeList.ranges,_=[],E=0;E<T.length;E++)_.push(this.session.getTextRange(T[E]));var w=this.session.getDocument().getNewLineCharacter();C=_.join(w),C.length==(_.length-1)*w.length&&(C="")}else this.selection.isEmpty()||(C=this.session.getTextRange(this.getSelectionRange()));return C},this.$checkMultiselectChange=function(C,T){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var _=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&T==this.multiSelect.anchor)return;var E=T==this.multiSelect.anchor?_.cursor==_.start?_.end:_.start:_.cursor;E.row!=T.row||this.session.$clipPositionToDocument(E.row,E.column).column!=T.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(C,T,_){if(T=T||{},T.needle=C||T.needle,T.needle==null){var E=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();T.needle=this.session.getTextRange(E)}this.$search.set(T);var w=this.$search.findAll(this.session);if(!w.length)return 0;var S=this.multiSelect;_||S.toSingleRange(w[0]);for(var b=w.length;b--;)S.addRange(w[b],!0);return E&&S.rangeList.rangeAtPoint(E.start)&&S.addRange(E,!0),w.length},this.selectMoreLines=function(C,T){var _=this.selection.toOrientedRange(),E=_.cursor==_.end,w=this.session.documentToScreenPosition(_.cursor);this.selection.$desiredColumn&&(w.column=this.selection.$desiredColumn);var S=this.session.screenToDocumentPosition(w.row+C,w.column);if(_.isEmpty())var x=S;else var b=this.session.documentToScreenPosition(E?_.end:_.start),x=this.session.screenToDocumentPosition(b.row+C,b.column);if(E){var A=s.fromPoints(S,x);A.cursor=A.start}else{var A=s.fromPoints(x,S);A.cursor=A.end}if(A.desiredColumn=w.column,!this.selection.inMultiSelectMode)this.selection.addRange(_);else if(T)var O=_.cursor;this.selection.addRange(A),O&&this.selection.substractPoint(O)},this.transposeSelections=function(C){for(var T=this.session,_=T.multiSelect,E=_.ranges,w=E.length;w--;){var S=E[w];if(S.isEmpty()){var b=T.getWordRange(S.start.row,S.start.column);S.start.row=b.start.row,S.start.column=b.start.column,S.end.row=b.end.row,S.end.column=b.end.column}}_.mergeOverlappingRanges();for(var x=[],w=E.length;w--;){var S=E[w];x.unshift(T.getTextRange(S))}C<0?x.unshift(x.pop()):x.push(x.shift());for(var w=E.length;w--;){var S=E[w],b=S.clone();T.replace(S,x[w]),S.start.row=b.start.row,S.start.column=b.start.column}_.fromOrientedRange(_.ranges[0])},this.selectMore=function(C,T,_){var E=this.session,w=E.multiSelect,S=w.toOrientedRange();if(!(S.isEmpty()&&(S=E.getWordRange(S.start.row,S.start.column),S.cursor=C==-1?S.start:S.end,this.multiSelect.addRange(S),_))){var b=E.getTextRange(S),x=p(E,b,C);x&&(x.cursor=C==-1?x.start:x.end,this.session.unfold(x),this.multiSelect.addRange(x),this.renderer.scrollCursorIntoView(null,.5)),T&&this.multiSelect.substractPoint(S.cursor)}},this.alignCursors=function(){var C=this.session,T=C.multiSelect,_=T.ranges,E=-1,w=_.filter(function(D){if(D.cursor.row==E)return!0;E=D.cursor.row});if(!_.length||w.length==_.length-1){var S=this.selection.getRange(),b=S.start.row,x=S.end.row,A=b==x;if(A){var O=this.session.getLength(),$;do $=this.session.getLine(x);while(/[=:]/.test($)&&++x<O);do $=this.session.getLine(b);while(/[=:]/.test($)&&--b>0);b<0&&(b=0),x>=O&&(x=O-1)}var M=this.session.removeFullLines(b,x);M=this.$reAlignText(M,A),this.session.insert({row:b,column:0},M.join(`
`)+`
`),A||(S.start.column=0,S.end.column=M[M.length-1].length),this.selection.setRange(S)}else{w.forEach(function(D){T.substractPoint(D.cursor)});var R=0,P=1/0,N=_.map(function(D){var V=D.cursor,z=C.getLine(V.row),F=z.substr(V.column).search(/\S/g);return F==-1&&(F=0),V.column>R&&(R=V.column),F<P&&(P=F),F});_.forEach(function(D,V){var z=D.cursor,F=R-z.column,B=N[V]-P;F>B?C.insert(z,c.stringRepeat(" ",F-B)):C.remove(new s(z.row,z.column,z.row,z.column-F+B)),D.start.column=D.end.column=R,D.start.row=D.end.row=z.row,D.cursor=D.end}),T.fromOrientedRange(_[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(C,T){var _=!0,E=!0,w,S,b;return C.map(function(M){var R=M.match(/(\s*)(.*?)(\s*)([=:].*)/);return R?w==null?(w=R[1].length,S=R[2].length,b=R[3].length,R):(w+S+b!=R[1].length+R[2].length+R[3].length&&(E=!1),w!=R[1].length&&(_=!1),w>R[1].length&&(w=R[1].length),S<R[2].length&&(S=R[2].length),b>R[3].length&&(b=R[3].length),R):[M]}).map(T?A:_?E?O:A:$);function x(M){return c.stringRepeat(" ",M)}function A(M){return M[2]?x(w)+M[2]+x(S-M[2].length+b)+M[4].replace(/^([=:])\s+/,"$1 "):M[0]}function O(M){return M[2]?x(w+S-M[2].length)+M[2]+x(b)+M[4].replace(/^([=:])\s+/,"$1 "):M[0]}function $(M){return M[2]?x(w)+M[2]+x(b)+M[4].replace(/^([=:])\s+/,"$1 "):M[0]}}}).call(g.prototype);function v(C,T){return C.row==T.row&&C.column==T.column}i.onSessionChange=function(C){var T=C.session;T&&!T.multiSelect&&(T.$selectionMarkers=[],T.selection.$initRangeList(),T.multiSelect=T.selection),this.multiSelect=T&&T.multiSelect;var _=C.oldSession;_&&(_.multiSelect.off("addRange",this.$onAddRange),_.multiSelect.off("removeRange",this.$onRemoveRange),_.multiSelect.off("multiSelect",this.$onMultiSelect),_.multiSelect.off("singleSelect",this.$onSingleSelect),_.multiSelect.lead.off("change",this.$checkMultiselectChange),_.multiSelect.anchor.off("change",this.$checkMultiselectChange)),T&&(T.multiSelect.on("addRange",this.$onAddRange),T.multiSelect.on("removeRange",this.$onRemoveRange),T.multiSelect.on("multiSelect",this.$onMultiSelect),T.multiSelect.on("singleSelect",this.$onSingleSelect),T.multiSelect.lead.on("change",this.$checkMultiselectChange),T.multiSelect.anchor.on("change",this.$checkMultiselectChange)),T&&this.inMultiSelectMode!=T.selection.inMultiSelectMode&&(T.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};function y(C){C.$multiselectOnSessionChange||(C.$onAddRange=C.$onAddRange.bind(C),C.$onRemoveRange=C.$onRemoveRange.bind(C),C.$onMultiSelect=C.$onMultiSelect.bind(C),C.$onSingleSelect=C.$onSingleSelect.bind(C),C.$multiselectOnSessionChange=i.onSessionChange.bind(C),C.$checkMultiselectChange=C.$checkMultiselectChange.bind(C),C.$multiselectOnSessionChange(C),C.on("changeSession",C.$multiselectOnSessionChange),C.on("mousedown",a),C.commands.addCommands(h.defaultCommands),k(C))}function k(C){if(!C.textInput)return;var T=C.textInput.getElement(),_=!1;u.addListener(T,"keydown",function(w){var S=w.keyCode==18&&!(w.ctrlKey||w.shiftKey||w.metaKey);C.$blockSelectEnabled&&S?_||(C.renderer.setMouseCursor("crosshair"),_=!0):_&&E()},C),u.addListener(T,"keyup",E,C),u.addListener(T,"blur",E,C);function E(w){_&&(C.renderer.setMouseCursor(""),_=!1)}}i.MultiSelect=y,n("./config").defineOptions(g.prototype,"editor",{enableMultiselect:{set:function(C){y(this),C?this.on("mousedown",a):this.off("mousedown",a)},value:!0},enableBlockSelect:{set:function(C){this.$blockSelectEnabled=C},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(n,i,r){var o=n("../../range").Range,s=i.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(l,a,u){var c=l.getLine(u);return this.foldingStartMarker.test(c)?"start":a=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(c)?"end":""},this.getFoldWidgetRange=function(l,a,u){return null},this.indentationBlock=function(l,a,u){var c=/\S/,h=l.getLine(a),d=h.search(c);if(d!=-1){for(var f=u||h.length,p=l.getLength(),m=a,g=a;++a<p;){var v=l.getLine(a).search(c);if(v!=-1){if(v<=d){var y=l.getTokenAt(a,0);if(!y||y.type!=="string")break}g=a}}if(g>m){var k=l.getLine(g).length;return new o(m,f,g,k)}}},this.openingBracketBlock=function(l,a,u,c,h){var d={row:u,column:c+1},f=l.$findClosingBracket(a,d,h);if(f){var p=l.foldWidgets[f.row];return p==null&&(p=l.getFoldWidget(f.row)),p=="start"&&f.row>d.row&&(f.row--,f.column=l.getLine(f.row).length),o.fromPoints(d,f)}},this.closingBracketBlock=function(l,a,u,c,h){var d={row:u,column:c},f=l.$findOpeningBracket(a,d);if(f)return f.column++,d.column--,o.fromPoints(f,d)}}).call(s.prototype)}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range","ace/config"],function(n,i,r){var o=n("../line_widgets").LineWidgets,s=n("../lib/dom"),l=n("../range").Range,a=n("../config").nls;function u(h,d,f){for(var p=0,m=h.length-1;p<=m;){var g=p+m>>1,v=f(d,h[g]);if(v>0)p=g+1;else if(v<0)m=g-1;else return g}return-(p+1)}function c(h,d,f){var p=h.getAnnotations().sort(l.comparePoints);if(p.length){var m=u(p,{row:d,column:-1},l.comparePoints);m<0&&(m=-m-1),m>=p.length?m=f>0?0:p.length-1:m===0&&f<0&&(m=p.length-1);var g=p[m];if(!(!g||!f)){if(g.row===d){do g=p[m+=f];while(g&&g.row===d);if(!g)return p.slice()}var v=[];d=g.row;do v[f<0?"unshift":"push"](g),g=p[m+=f];while(g&&g.row==d);return v.length&&v}}}i.showErrorMarker=function(h,d){var f=h.session;f.widgetManager||(f.widgetManager=new o(f),f.widgetManager.attach(h));var p=h.getCursorPosition(),m=p.row,g=f.widgetManager.getWidgetsAtRow(m).filter(function(S){return S.type=="errorMarker"})[0];g?g.destroy():m-=d;var v=c(f,m,d),y;if(v){var k=v[0];p.column=(k.pos&&typeof k.column!="number"?k.pos.sc:k.column)||0,p.row=k.row,y=h.renderer.$gutterLayer.$annotations[p.row]}else{if(g)return;y={text:[a("Looks good!")],className:"ace_ok"}}h.session.unfold(p.row),h.selection.moveToPosition(p);var C={row:p.row,fixedWidth:!0,coverGutter:!0,el:s.createElement("div"),type:"errorMarker"},T=C.el.appendChild(s.createElement("div")),_=C.el.appendChild(s.createElement("div"));_.className="error_widget_arrow "+y.className;var E=h.renderer.$cursorLayer.getPixelPosition(p).left;_.style.left=E+h.renderer.gutterWidth-5+"px",C.el.className="error_widget_wrapper",T.className="error_widget "+y.className,T.innerHTML=y.text.join("<br>"),T.appendChild(s.createElement("div"));var w=function(S,b,x){if(b===0&&(x==="esc"||x==="return"))return C.destroy(),{command:"null"}};C.destroy=function(){h.$mouseHandler.isMousePressed||(h.keyBinding.removeKeyboardHandler(w),f.widgetManager.removeLineWidget(C),h.off("changeSelection",C.destroy),h.off("changeSession",C.destroy),h.off("mouseup",C.destroy),h.off("change",C.destroy))},h.keyBinding.addKeyboardHandler(w),h.on("changeSelection",C.destroy),h.on("changeSession",C.destroy),h.on("mouseup",C.destroy),h.on("change",C.destroy),h.session.widgetManager.addLineWidget(C),C.el.onmousedown=h.focus.bind(h),h.renderer.scrollCursorIntoView(null,.5,{bottom:C.el.offsetHeight})},s.importCssString(`
    .error_widget_wrapper {
        background: inherit;
        color: inherit;
        border:none
    }
    .error_widget {
        border-top: solid 2px;
        border-bottom: solid 2px;
        margin: 5px 0;
        padding: 10px 40px;
        white-space: pre-wrap;
    }
    .error_widget.ace_error, .error_widget_arrow.ace_error{
        border-color: #ff5a5a
    }
    .error_widget.ace_warning, .error_widget_arrow.ace_warning{
        border-color: #F1D817
    }
    .error_widget.ace_info, .error_widget_arrow.ace_info{
        border-color: #5a5a5a
    }
    .error_widget.ace_ok, .error_widget_arrow.ace_ok{
        border-color: #5aaa5a
    }
    .error_widget_arrow {
        position: absolute;
        border: solid 5px;
        border-top-color: transparent!important;
        border-right-color: transparent!important;
        border-left-color: transparent!important;
        top: -5px;
    }
`,"error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(n,i,r){n("./loader_build")(i);var o=n("./lib/dom"),s=n("./range").Range,l=n("./editor").Editor,a=n("./edit_session").EditSession,u=n("./undomanager").UndoManager,c=n("./virtual_renderer").VirtualRenderer;n("./worker/worker_client"),n("./keyboard/hash_handler"),n("./placeholder"),n("./multi_select"),n("./mode/folding/fold_mode"),n("./theme/textmate"),n("./ext/error_marker"),i.config=n("./config"),i.edit=function(h,d){if(typeof h=="string"){var f=h;if(h=document.getElementById(f),!h)throw new Error("ace.edit can't find div #"+f)}if(h&&h.env&&h.env.editor instanceof l)return h.env.editor;var p="";if(h&&/input|textarea/i.test(h.tagName)){var m=h;p=m.value,h=o.createElement("pre"),m.parentNode.replaceChild(h,m)}else h&&(p=h.textContent,h.innerHTML="");var g=i.createEditSession(p),v=new l(new c(h),g,d),y={document:g,editor:v,onResize:v.resize.bind(v,null)};return m&&(y.textarea=m),v.on("destroy",function(){y.editor.container.env=null}),v.container.env=v.env=y,v},i.createEditSession=function(h,d){var f=new a(h,d);return f.setUndoManager(new u),f},i.Range=s,i.Editor=l,i.EditSession=a,i.UndoManager=u,i.VirtualRenderer=c,i.version=i.config.version}),function(){ace.require(["ace/ace"],function(n){n&&(n.config.init(!0),n.define=ace.define);var i=function(){return this}();!i&&typeof window<"u"&&(i=window),!i&&typeof self<"u"&&(i=self),i.ace||(i.ace=n);for(var r in n)n.hasOwnProperty(r)&&(i.ace[r]=n[r]);i.ace.default=i.ace,t&&(t.exports=i.ace)})}()})(gO);var Of=gO.exports,Mf={exports:{}};Mf.exports,function(t,e){var n=200,i="__lodash_hash_undefined__",r=1,o=2,s=9007199254740991,l="[object Arguments]",a="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",h="[object Date]",d="[object Error]",f="[object Function]",p="[object GeneratorFunction]",m="[object Map]",g="[object Number]",v="[object Null]",y="[object Object]",k="[object Promise]",C="[object Proxy]",T="[object RegExp]",_="[object Set]",E="[object String]",w="[object Symbol]",S="[object Undefined]",b="[object WeakMap]",x="[object ArrayBuffer]",A="[object DataView]",O="[object Float32Array]",$="[object Float64Array]",M="[object Int8Array]",R="[object Int16Array]",P="[object Int32Array]",N="[object Uint8Array]",D="[object Uint8ClampedArray]",V="[object Uint16Array]",z="[object Uint32Array]",F=/[\\^$.*+?()[\]{}|]/g,B=/^\[object .+?Constructor\]$/,j=/^(?:0|[1-9]\d*)$/,H={};H[O]=H[$]=H[M]=H[R]=H[P]=H[N]=H[D]=H[V]=H[z]=!0,H[l]=H[a]=H[x]=H[c]=H[A]=H[h]=H[d]=H[f]=H[m]=H[g]=H[y]=H[T]=H[_]=H[E]=H[b]=!1;var G=typeof it=="object"&&it&&it.Object===Object&&it,Q=typeof self=="object"&&self&&self.Object===Object&&self,J=G||Q||Function("return this")(),Y=e&&!e.nodeType&&e,ee=Y&&!0&&t&&!t.nodeType&&t,ne=ee&&ee.exports===Y,ce=ne&&G.process,ue=function(){try{return ce&&ce.binding&&ce.binding("util")}catch{}}(),we=ue&&ue.isTypedArray;function he(W,q){for(var ie=-1,ve=W==null?0:W.length,ft=0,je=[];++ie<ve;){var Rt=W[ie];q(Rt,ie,W)&&(je[ft++]=Rt)}return je}function fe(W,q){for(var ie=-1,ve=q.length,ft=W.length;++ie<ve;)W[ft+ie]=q[ie];return W}function Xe(W,q){for(var ie=-1,ve=W==null?0:W.length;++ie<ve;)if(q(W[ie],ie,W))return!0;return!1}function Ke(W,q){for(var ie=-1,ve=Array(W);++ie<W;)ve[ie]=q(ie);return ve}function Je(W){return function(q){return W(q)}}function tt(W,q){return W.has(q)}function nt(W,q){return W==null?void 0:W[q]}function Ee(W){var q=-1,ie=Array(W.size);return W.forEach(function(ve,ft){ie[++q]=[ft,ve]}),ie}function De(W,q){return function(ie){return W(q(ie))}}function Dt(W){var q=-1,ie=Array(W.size);return W.forEach(function(ve){ie[++q]=ve}),ie}var _e=Array.prototype,te=Function.prototype,le=Object.prototype,pe=J["__core-js_shared__"],ke=te.toString,Se=le.hasOwnProperty,Fe=function(){var W=/[^.]+$/.exec(pe&&pe.keys&&pe.keys.IE_PROTO||"");return W?"Symbol(src)_1."+W:""}(),Pe=le.toString,qe=RegExp("^"+ke.call(Se).replace(F,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Te=ne?J.Buffer:void 0,He=J.Symbol,dt=J.Uint8Array,ts=le.propertyIsEnumerable,ym=_e.splice,da=He?He.toStringTag:void 0,UD=Object.getOwnPropertySymbols,kte=Te?Te.isBuffer:void 0,Cte=De(Object.keys,Object),fx=Xl(J,"DataView"),lh=Xl(J,"Map"),px=Xl(J,"Promise"),mx=Xl(J,"Set"),gx=Xl(J,"WeakMap"),ch=Xl(Object,"create"),Ete=ma(fx),Tte=ma(lh),$te=ma(px),Ate=ma(mx),Ote=ma(gx),KD=He?He.prototype:void 0,vx=KD?KD.valueOf:void 0;function fa(W){var q=-1,ie=W==null?0:W.length;for(this.clear();++q<ie;){var ve=W[q];this.set(ve[0],ve[1])}}function Mte(){this.__data__=ch?ch(null):{},this.size=0}function Lte(W){var q=this.has(W)&&delete this.__data__[W];return this.size-=q?1:0,q}function Rte(W){var q=this.__data__;if(ch){var ie=q[W];return ie===i?void 0:ie}return Se.call(q,W)?q[W]:void 0}function Pte(W){var q=this.__data__;return ch?q[W]!==void 0:Se.call(q,W)}function Dte(W,q){var ie=this.__data__;return this.size+=this.has(W)?0:1,ie[W]=ch&&q===void 0?i:q,this}fa.prototype.clear=Mte,fa.prototype.delete=Lte,fa.prototype.get=Rte,fa.prototype.has=Pte,fa.prototype.set=Dte;function Kr(W){var q=-1,ie=W==null?0:W.length;for(this.clear();++q<ie;){var ve=W[q];this.set(ve[0],ve[1])}}function Ite(){this.__data__=[],this.size=0}function Nte(W){var q=this.__data__,ie=wm(q,W);if(ie<0)return!1;var ve=q.length-1;return ie==ve?q.pop():ym.call(q,ie,1),--this.size,!0}function Fte(W){var q=this.__data__,ie=wm(q,W);return ie<0?void 0:q[ie][1]}function zte(W){return wm(this.__data__,W)>-1}function Bte(W,q){var ie=this.__data__,ve=wm(ie,W);return ve<0?(++this.size,ie.push([W,q])):ie[ve][1]=q,this}Kr.prototype.clear=Ite,Kr.prototype.delete=Nte,Kr.prototype.get=Fte,Kr.prototype.has=zte,Kr.prototype.set=Bte;function pa(W){var q=-1,ie=W==null?0:W.length;for(this.clear();++q<ie;){var ve=W[q];this.set(ve[0],ve[1])}}function jte(){this.size=0,this.__data__={hash:new fa,map:new(lh||Kr),string:new fa}}function Vte(W){var q=_m(this,W).delete(W);return this.size-=q?1:0,q}function Wte(W){return _m(this,W).get(W)}function Hte(W){return _m(this,W).has(W)}function Ute(W,q){var ie=_m(this,W),ve=ie.size;return ie.set(W,q),this.size+=ie.size==ve?0:1,this}pa.prototype.clear=jte,pa.prototype.delete=Vte,pa.prototype.get=Wte,pa.prototype.has=Hte,pa.prototype.set=Ute;function bm(W){var q=-1,ie=W==null?0:W.length;for(this.__data__=new pa;++q<ie;)this.add(W[q])}function Kte(W){return this.__data__.set(W,i),this}function Gte(W){return this.__data__.has(W)}bm.prototype.add=bm.prototype.push=Kte,bm.prototype.has=Gte;function ns(W){var q=this.__data__=new Kr(W);this.size=q.size}function Yte(){this.__data__=new Kr,this.size=0}function Xte(W){var q=this.__data__,ie=q.delete(W);return this.size=q.size,ie}function qte(W){return this.__data__.get(W)}function Qte(W){return this.__data__.has(W)}function Jte(W,q){var ie=this.__data__;if(ie instanceof Kr){var ve=ie.__data__;if(!lh||ve.length<n-1)return ve.push([W,q]),this.size=++ie.size,this;ie=this.__data__=new pa(ve)}return ie.set(W,q),this.size=ie.size,this}ns.prototype.clear=Yte,ns.prototype.delete=Xte,ns.prototype.get=qte,ns.prototype.has=Qte,ns.prototype.set=Jte;function Zte(W,q){var ie=xm(W),ve=!ie&&pne(W),ft=!ie&&!ve&&yx(W),je=!ie&&!ve&&!ft&&tI(W),Rt=ie||ve||ft||je,tn=Rt?Ke(W.length,String):[],hn=tn.length;for(var Et in W)(q||Se.call(W,Et))&&!(Rt&&(Et=="length"||ft&&(Et=="offset"||Et=="parent")||je&&(Et=="buffer"||Et=="byteLength"||Et=="byteOffset")||cne(Et,hn)))&&tn.push(Et);return tn}function wm(W,q){for(var ie=W.length;ie--;)if(QD(W[ie][0],q))return ie;return-1}function ene(W,q,ie){var ve=q(W);return xm(W)?ve:fe(ve,ie(W))}function uh(W){return W==null?W===void 0?S:v:da&&da in Object(W)?ane(W):fne(W)}function GD(W){return hh(W)&&uh(W)==l}function YD(W,q,ie,ve,ft){return W===q?!0:W==null||q==null||!hh(W)&&!hh(q)?W!==W&&q!==q:tne(W,q,ie,ve,YD,ft)}function tne(W,q,ie,ve,ft,je){var Rt=xm(W),tn=xm(q),hn=Rt?a:is(W),Et=tn?a:is(q);hn=hn==l?y:hn,Et=Et==l?y:Et;var ci=hn==y,Ki=Et==y,xn=hn==Et;if(xn&&yx(W)){if(!yx(q))return!1;Rt=!0,ci=!1}if(xn&&!ci)return je||(je=new ns),Rt||tI(W)?XD(W,q,ie,ve,ft,je):one(W,q,hn,ie,ve,ft,je);if(!(ie&r)){var Ci=ci&&Se.call(W,"__wrapped__"),Ei=Ki&&Se.call(q,"__wrapped__");if(Ci||Ei){var rs=Ci?W.value():W,Gr=Ei?q.value():q;return je||(je=new ns),ft(rs,Gr,ie,ve,je)}}return xn?(je||(je=new ns),sne(W,q,ie,ve,ft,je)):!1}function nne(W){if(!eI(W)||hne(W))return!1;var q=JD(W)?qe:B;return q.test(ma(W))}function ine(W){return hh(W)&&ZD(W.length)&&!!H[uh(W)]}function rne(W){if(!dne(W))return Cte(W);var q=[];for(var ie in Object(W))Se.call(W,ie)&&ie!="constructor"&&q.push(ie);return q}function XD(W,q,ie,ve,ft,je){var Rt=ie&r,tn=W.length,hn=q.length;if(tn!=hn&&!(Rt&&hn>tn))return!1;var Et=je.get(W);if(Et&&je.get(q))return Et==q;var ci=-1,Ki=!0,xn=ie&o?new bm:void 0;for(je.set(W,q),je.set(q,W);++ci<tn;){var Ci=W[ci],Ei=q[ci];if(ve)var rs=Rt?ve(Ei,Ci,ci,q,W,je):ve(Ci,Ei,ci,W,q,je);if(rs!==void 0){if(rs)continue;Ki=!1;break}if(xn){if(!Xe(q,function(Gr,ga){if(!tt(xn,ga)&&(Ci===Gr||ft(Ci,Gr,ie,ve,je)))return xn.push(ga)})){Ki=!1;break}}else if(!(Ci===Ei||ft(Ci,Ei,ie,ve,je))){Ki=!1;break}}return je.delete(W),je.delete(q),Ki}function one(W,q,ie,ve,ft,je,Rt){switch(ie){case A:if(W.byteLength!=q.byteLength||W.byteOffset!=q.byteOffset)return!1;W=W.buffer,q=q.buffer;case x:return!(W.byteLength!=q.byteLength||!je(new dt(W),new dt(q)));case c:case h:case g:return QD(+W,+q);case d:return W.name==q.name&&W.message==q.message;case T:case E:return W==q+"";case m:var tn=Ee;case _:var hn=ve&r;if(tn||(tn=Dt),W.size!=q.size&&!hn)return!1;var Et=Rt.get(W);if(Et)return Et==q;ve|=o,Rt.set(W,q);var ci=XD(tn(W),tn(q),ve,ft,je,Rt);return Rt.delete(W),ci;case w:if(vx)return vx.call(W)==vx.call(q)}return!1}function sne(W,q,ie,ve,ft,je){var Rt=ie&r,tn=qD(W),hn=tn.length,Et=qD(q),ci=Et.length;if(hn!=ci&&!Rt)return!1;for(var Ki=hn;Ki--;){var xn=tn[Ki];if(!(Rt?xn in q:Se.call(q,xn)))return!1}var Ci=je.get(W);if(Ci&&je.get(q))return Ci==q;var Ei=!0;je.set(W,q),je.set(q,W);for(var rs=Rt;++Ki<hn;){xn=tn[Ki];var Gr=W[xn],ga=q[xn];if(ve)var nI=Rt?ve(ga,Gr,xn,q,W,je):ve(Gr,ga,xn,W,q,je);if(!(nI===void 0?Gr===ga||ft(Gr,ga,ie,ve,je):nI)){Ei=!1;break}rs||(rs=xn=="constructor")}if(Ei&&!rs){var Sm=W.constructor,km=q.constructor;Sm!=km&&"constructor"in W&&"constructor"in q&&!(typeof Sm=="function"&&Sm instanceof Sm&&typeof km=="function"&&km instanceof km)&&(Ei=!1)}return je.delete(W),je.delete(q),Ei}function qD(W){return ene(W,vne,lne)}function _m(W,q){var ie=W.__data__;return une(q)?ie[typeof q=="string"?"string":"hash"]:ie.map}function Xl(W,q){var ie=nt(W,q);return nne(ie)?ie:void 0}function ane(W){var q=Se.call(W,da),ie=W[da];try{W[da]=void 0;var ve=!0}catch{}var ft=Pe.call(W);return ve&&(q?W[da]=ie:delete W[da]),ft}var lne=UD?function(W){return W==null?[]:(W=Object(W),he(UD(W),function(q){return ts.call(W,q)}))}:yne,is=uh;(fx&&is(new fx(new ArrayBuffer(1)))!=A||lh&&is(new lh)!=m||px&&is(px.resolve())!=k||mx&&is(new mx)!=_||gx&&is(new gx)!=b)&&(is=function(W){var q=uh(W),ie=q==y?W.constructor:void 0,ve=ie?ma(ie):"";if(ve)switch(ve){case Ete:return A;case Tte:return m;case $te:return k;case Ate:return _;case Ote:return b}return q});function cne(W,q){return q=q??s,!!q&&(typeof W=="number"||j.test(W))&&W>-1&&W%1==0&&W<q}function une(W){var q=typeof W;return q=="string"||q=="number"||q=="symbol"||q=="boolean"?W!=="__proto__":W===null}function hne(W){return!!Fe&&Fe in W}function dne(W){var q=W&&W.constructor,ie=typeof q=="function"&&q.prototype||le;return W===ie}function fne(W){return Pe.call(W)}function ma(W){if(W!=null){try{return ke.call(W)}catch{}try{return W+""}catch{}}return""}function QD(W,q){return W===q||W!==W&&q!==q}var pne=GD(function(){return arguments}())?GD:function(W){return hh(W)&&Se.call(W,"callee")&&!ts.call(W,"callee")},xm=Array.isArray;function mne(W){return W!=null&&ZD(W.length)&&!JD(W)}var yx=kte||bne;function gne(W,q){return YD(W,q)}function JD(W){if(!eI(W))return!1;var q=uh(W);return q==f||q==p||q==u||q==C}function ZD(W){return typeof W=="number"&&W>-1&&W%1==0&&W<=s}function eI(W){var q=typeof W;return W!=null&&(q=="object"||q=="function")}function hh(W){return W!=null&&typeof W=="object"}var tI=we?Je(we):ine;function vne(W){return mne(W)?Zte(W):rne(W)}function yne(){return[]}function bne(){return!1}t.exports=gne}(Mf,Mf.exports);var vO=Mf.exports,zi={};Object.defineProperty(zi,"__esModule",{value:!0}),zi.getAceInstance=zi.debounce=zi.editorEvents=zi.editorOptions=void 0;var FW=["minLines","maxLines","readOnly","highlightActiveLine","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets"];zi.editorOptions=FW;var zW=["onChange","onFocus","onInput","onBlur","onCopy","onPaste","onSelectionChange","onCursorChange","onScroll","handleOptions","updateRef"];zi.editorEvents=zW;var BW=function(){var t;return typeof window>"u"?(it.window={},t=Of,delete it.window):window.ace?(t=window.ace,t.acequire=window.ace.require||window.ace.acequire):t=Of,t};zi.getAceInstance=BW;var jW=function(t,e){var n=null;return function(){var i=this,r=arguments;clearTimeout(n),n=setTimeout(function(){t.apply(i,r)},e)}};zi.debounce=jW;var VW=it&&it.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Yb=it&&it.__assign||function(){return Yb=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},Yb.apply(this,arguments)};Object.defineProperty(Gb,"__esModule",{value:!0});var WW=Of,Ce=Td,yO=I,Lf=vO,pl=zi,bO=(0,pl.getAceInstance)(),HW=function(t){VW(e,t);function e(n){var i=t.call(this,n)||this;return pl.editorEvents.forEach(function(r){i[r]=i[r].bind(i)}),i.debounce=pl.debounce,i}return e.prototype.isInShadow=function(n){for(var i=n&&n.parentNode;i;){if(i.toString()==="[object ShadowRoot]")return!0;i=i.parentNode}return!1},e.prototype.componentDidMount=function(){var n=this,i=this.props,r=i.className,o=i.onBeforeLoad,s=i.onValidate,l=i.mode,a=i.focus,u=i.theme,c=i.fontSize,h=i.value,d=i.defaultValue,f=i.showGutter,p=i.wrapEnabled,m=i.showPrintMargin,g=i.scrollMargin,v=g===void 0?[0,0,0,0]:g,y=i.keyboardHandler,k=i.onLoad,C=i.commands,T=i.annotations,_=i.markers,E=i.placeholder;this.editor=bO.edit(this.refEditor),o&&o(bO);for(var w=Object.keys(this.props.editorProps),S=0;S<w.length;S++)this.editor[w[S]]=this.props.editorProps[w[S]];this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),this.editor.renderer.setScrollMargin(v[0],v[1],v[2],v[3]),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.getSession().setMode(typeof l=="string"?"ace/mode/".concat(l):l),u&&u!==""&&this.editor.setTheme("ace/theme/".concat(u)),this.editor.setFontSize(typeof c=="number"?"".concat(c,"px"):c),this.editor.getSession().setValue(d||h||""),this.props.navigateToFileEnd&&this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(f),this.editor.getSession().setUseWrapMode(p),this.editor.setShowPrintMargin(m),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.on("input",this.onInput),E&&this.updatePlaceholder(),this.editor.getSession().selection.on("changeSelection",this.onSelectionChange),this.editor.getSession().selection.on("changeCursor",this.onCursorChange),s&&this.editor.getSession().on("changeAnnotation",function(){var x=n.editor.getSession().getAnnotations();n.props.onValidate(x)}),this.editor.session.on("changeScrollTop",this.onScroll),this.editor.getSession().setAnnotations(T||[]),_&&_.length>0&&this.handleMarkers(_);var b=this.editor.$options;pl.editorOptions.forEach(function(x){b.hasOwnProperty(x)?n.editor.setOption(x,n.props[x]):n.props[x]&&console.warn("ReactAce: editor option ".concat(x," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}),this.handleOptions(this.props),Array.isArray(C)&&C.forEach(function(x){typeof x.exec=="string"?n.editor.commands.bindKey(x.bindKey,x.exec):n.editor.commands.addCommand(x)}),y&&this.editor.setKeyboardHandler("ace/keyboard/"+y),r&&(this.refEditor.className+=" "+r),k&&k(this.editor),this.editor.resize(),a&&this.editor.focus()},e.prototype.componentDidUpdate=function(n){for(var i=n,r=this.props,o=0;o<pl.editorOptions.length;o++){var s=pl.editorOptions[o];r[s]!==i[s]&&this.editor.setOption(s,r[s])}if(r.className!==i.className){var l=this.refEditor.className,a=l.trim().split(" "),u=i.className.trim().split(" ");u.forEach(function(d){var f=a.indexOf(d);a.splice(f,1)}),this.refEditor.className=" "+r.className+" "+a.join(" ")}var c=this.editor&&r.value!=null&&this.editor.getValue()!==r.value;if(c){this.silent=!0;var h=this.editor.session.selection.toJSON();this.editor.setValue(r.value,r.cursorStart),this.editor.session.selection.fromJSON(h),this.silent=!1}r.placeholder!==i.placeholder&&this.updatePlaceholder(),r.mode!==i.mode&&this.editor.getSession().setMode(typeof r.mode=="string"?"ace/mode/".concat(r.mode):r.mode),r.theme!==i.theme&&this.editor.setTheme("ace/theme/"+r.theme),r.keyboardHandler!==i.keyboardHandler&&(r.keyboardHandler?this.editor.setKeyboardHandler("ace/keyboard/"+r.keyboardHandler):this.editor.setKeyboardHandler(null)),r.fontSize!==i.fontSize&&this.editor.setFontSize(typeof r.fontSize=="number"?"".concat(r.fontSize,"px"):r.fontSize),r.wrapEnabled!==i.wrapEnabled&&this.editor.getSession().setUseWrapMode(r.wrapEnabled),r.showPrintMargin!==i.showPrintMargin&&this.editor.setShowPrintMargin(r.showPrintMargin),r.showGutter!==i.showGutter&&this.editor.renderer.setShowGutter(r.showGutter),Lf(r.setOptions,i.setOptions)||this.handleOptions(r),(c||!Lf(r.annotations,i.annotations))&&this.editor.getSession().setAnnotations(r.annotations||[]),!Lf(r.markers,i.markers)&&Array.isArray(r.markers)&&this.handleMarkers(r.markers),Lf(r.scrollMargin,i.scrollMargin)||this.handleScrollMargins(r.scrollMargin),(n.height!==this.props.height||n.width!==this.props.width)&&this.editor.resize(),this.props.focus&&!n.focus&&this.editor.focus()},e.prototype.handleScrollMargins=function(n){n===void 0&&(n=[0,0,0,0]),this.editor.renderer.setScrollMargin(n[0],n[1],n[2],n[3])},e.prototype.componentWillUnmount=function(){this.editor&&(this.editor.destroy(),this.editor=null)},e.prototype.onChange=function(n){if(this.props.onChange&&!this.silent){var i=this.editor.getValue();this.props.onChange(i,n)}},e.prototype.onSelectionChange=function(n){if(this.props.onSelectionChange){var i=this.editor.getSelection();this.props.onSelectionChange(i,n)}},e.prototype.onCursorChange=function(n){if(this.props.onCursorChange){var i=this.editor.getSelection();this.props.onCursorChange(i,n)}},e.prototype.onInput=function(n){this.props.onInput&&this.props.onInput(n),this.props.placeholder&&this.updatePlaceholder()},e.prototype.onFocus=function(n){this.props.onFocus&&this.props.onFocus(n,this.editor)},e.prototype.onBlur=function(n){this.props.onBlur&&this.props.onBlur(n,this.editor)},e.prototype.onCopy=function(n){var i=n.text;this.props.onCopy&&this.props.onCopy(i)},e.prototype.onPaste=function(n){var i=n.text;this.props.onPaste&&this.props.onPaste(i)},e.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},e.prototype.handleOptions=function(n){for(var i=Object.keys(n.setOptions),r=0;r<i.length;r++)this.editor.setOption(i[r],n.setOptions[i[r]])},e.prototype.handleMarkers=function(n){var i=this,r=this.editor.getSession().getMarkers(!0);for(var o in r)r.hasOwnProperty(o)&&this.editor.getSession().removeMarker(r[o].id);r=this.editor.getSession().getMarkers(!1);for(var o in r)r.hasOwnProperty(o)&&r[o].clazz!=="ace_active-line"&&r[o].clazz!=="ace_selected-word"&&this.editor.getSession().removeMarker(r[o].id);n.forEach(function(s){var l=s.startRow,a=s.startCol,u=s.endRow,c=s.endCol,h=s.className,d=s.type,f=s.inFront,p=f===void 0?!1:f,m=new WW.Range(l,a,u,c);i.editor.getSession().addMarker(m,h,d,p)})},e.prototype.updatePlaceholder=function(){var n=this.editor,i=this.props.placeholder,r=!n.session.getValue().length,o=n.renderer.placeholderNode;!r&&o?(n.renderer.scroller.removeChild(n.renderer.placeholderNode),n.renderer.placeholderNode=null):r&&!o?(o=n.renderer.placeholderNode=document.createElement("div"),o.textContent=i||"",o.className="ace_comment ace_placeholder",o.style.padding="0 9px",o.style.position="absolute",o.style.zIndex="3",n.renderer.scroller.appendChild(o)):r&&o&&(o.textContent=i)},e.prototype.updateRef=function(n){this.refEditor=n},e.prototype.render=function(){var n=this.props,i=n.name,r=n.width,o=n.height,s=n.style,l=Yb({width:r,height:o},s);return yO.createElement("div",{ref:this.updateRef,id:i,style:l})},e.propTypes={mode:Ce.oneOfType([Ce.string,Ce.object]),focus:Ce.bool,theme:Ce.string,name:Ce.string,className:Ce.string,height:Ce.string,width:Ce.string,fontSize:Ce.oneOfType([Ce.number,Ce.string]),showGutter:Ce.bool,onChange:Ce.func,onCopy:Ce.func,onPaste:Ce.func,onFocus:Ce.func,onInput:Ce.func,onBlur:Ce.func,onScroll:Ce.func,value:Ce.string,defaultValue:Ce.string,onLoad:Ce.func,onSelectionChange:Ce.func,onCursorChange:Ce.func,onBeforeLoad:Ce.func,onValidate:Ce.func,minLines:Ce.number,maxLines:Ce.number,readOnly:Ce.bool,highlightActiveLine:Ce.bool,tabSize:Ce.number,showPrintMargin:Ce.bool,cursorStart:Ce.number,debounceChangePeriod:Ce.number,editorProps:Ce.object,setOptions:Ce.object,style:Ce.object,scrollMargin:Ce.array,annotations:Ce.array,markers:Ce.array,keyboardHandler:Ce.string,wrapEnabled:Ce.bool,enableSnippets:Ce.bool,enableBasicAutocompletion:Ce.oneOfType([Ce.bool,Ce.array]),enableLiveAutocompletion:Ce.oneOfType([Ce.bool,Ce.array]),navigateToFileEnd:Ce.bool,commands:Ce.array,placeholder:Ce.string},e.defaultProps={name:"ace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",fontSize:12,enableSnippets:!1,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,placeholder:null,navigateToFileEnd:!0},e}(yO.Component);Gb.default=HW;var Xb={},Rf={},wO={exports:{}};(function(t,e){ace.define("ace/split",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/editor","ace/virtual_renderer","ace/edit_session"],function(n,i,r){var o=n("./lib/oop");n("./lib/lang");var s=n("./lib/event_emitter").EventEmitter,l=n("./editor").Editor,a=n("./virtual_renderer").VirtualRenderer,u=n("./edit_session").EditSession,c=function(h,d,f){this.BELOW=1,this.BESIDE=0,this.$container=h,this.$theme=d,this.$splits=0,this.$editorCSS="",this.$editors=[],this.$orientation=this.BESIDE,this.setSplits(f||1),this.$cEditor=this.$editors[0],this.on("focus",(function(p){this.$cEditor=p}).bind(this))};(function(){o.implement(this,s),this.$createEditor=function(){var h=document.createElement("div");h.className=this.$editorCSS,h.style.cssText="position: absolute; top:0px; bottom:0px",this.$container.appendChild(h);var d=new l(new a(h,this.$theme));return d.on("focus",(function(){this._emit("focus",d)}).bind(this)),this.$editors.push(d),d.setFontSize(this.$fontSize),d},this.setSplits=function(h){var d;if(h<1)throw"The number of splits have to be > 0!";if(h!=this.$splits){if(h>this.$splits){for(;this.$splits<this.$editors.length&&this.$splits<h;)d=this.$editors[this.$splits],this.$container.appendChild(d.container),d.setFontSize(this.$fontSize),this.$splits++;for(;this.$splits<h;)this.$createEditor(),this.$splits++}else for(;this.$splits>h;)d=this.$editors[this.$splits-1],this.$container.removeChild(d.container),this.$splits--;this.resize()}},this.getSplits=function(){return this.$splits},this.getEditor=function(h){return this.$editors[h]},this.getCurrentEditor=function(){return this.$cEditor},this.focus=function(){this.$cEditor.focus()},this.blur=function(){this.$cEditor.blur()},this.setTheme=function(h){this.$editors.forEach(function(d){d.setTheme(h)})},this.setKeyboardHandler=function(h){this.$editors.forEach(function(d){d.setKeyboardHandler(h)})},this.forEach=function(h,d){this.$editors.forEach(h,d)},this.$fontSize="",this.setFontSize=function(h){this.$fontSize=h,this.forEach(function(d){d.setFontSize(h)})},this.$cloneSession=function(h){var d=new u(h.getDocument(),h.getMode()),f=h.getUndoManager();return d.setUndoManager(f),d.setTabSize(h.getTabSize()),d.setUseSoftTabs(h.getUseSoftTabs()),d.setOverwrite(h.getOverwrite()),d.setBreakpoints(h.getBreakpoints()),d.setUseWrapMode(h.getUseWrapMode()),d.setUseWorker(h.getUseWorker()),d.setWrapLimitRange(h.$wrapLimitRange.min,h.$wrapLimitRange.max),d.$foldData=h.$cloneFoldData(),d},this.setSession=function(h,d){var f;d==null?f=this.$cEditor:f=this.$editors[d];var p=this.$editors.some(function(m){return m.session===h});return p&&(h=this.$cloneSession(h)),f.setSession(h),h},this.getOrientation=function(){return this.$orientation},this.setOrientation=function(h){this.$orientation!=h&&(this.$orientation=h,this.resize())},this.resize=function(){var h=this.$container.clientWidth,d=this.$container.clientHeight,f;if(this.$orientation==this.BESIDE)for(var p=h/this.$splits,m=0;m<this.$splits;m++)f=this.$editors[m],f.container.style.width=p+"px",f.container.style.top="0px",f.container.style.left=m*p+"px",f.container.style.height=d+"px",f.resize();else for(var g=d/this.$splits,m=0;m<this.$splits;m++)f=this.$editors[m],f.container.style.width=h+"px",f.container.style.top=m*g+"px",f.container.style.left="0px",f.container.style.height=g+"px",f.resize()}}).call(c.prototype),i.Split=c}),ace.define("ace/ext/split",["require","exports","module","ace/split"],function(n,i,r){r.exports=n("../split")}),function(){ace.require(["ace/ext/split"],function(n){t&&(t.exports=n)})}()})(wO);var UW=wO.exports,KW="Expected a function",_O="__lodash_hash_undefined__",xO=1/0,GW="[object Function]",YW="[object GeneratorFunction]",XW="[object Symbol]",qW=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,QW=/^\w*$/,JW=/^\./,ZW=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,e8=/[\\^$.*+?()[\]{}|]/g,t8=/\\(\\)?/g,n8=/^\[object .+?Constructor\]$/,i8=typeof it=="object"&&it&&it.Object===Object&&it,r8=typeof self=="object"&&self&&self.Object===Object&&self,qb=i8||r8||Function("return this")();function o8(t,e){return t==null?void 0:t[e]}function s8(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}var a8=Array.prototype,l8=Function.prototype,SO=Object.prototype,Qb=qb["__core-js_shared__"],kO=function(){var t=/[^.]+$/.exec(Qb&&Qb.keys&&Qb.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),CO=l8.toString,Jb=SO.hasOwnProperty,EO=SO.toString,c8=RegExp("^"+CO.call(Jb).replace(e8,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),TO=qb.Symbol,u8=a8.splice,h8=OO(qb,"Map"),Su=OO(Object,"create"),$O=TO?TO.prototype:void 0,AO=$O?$O.toString:void 0;function Ds(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function d8(){this.__data__=Su?Su(null):{}}function f8(t){return this.has(t)&&delete this.__data__[t]}function p8(t){var e=this.__data__;if(Su){var n=e[t];return n===_O?void 0:n}return Jb.call(e,t)?e[t]:void 0}function m8(t){var e=this.__data__;return Su?e[t]!==void 0:Jb.call(e,t)}function g8(t,e){var n=this.__data__;return n[t]=Su&&e===void 0?_O:e,this}Ds.prototype.clear=d8,Ds.prototype.delete=f8,Ds.prototype.get=p8,Ds.prototype.has=m8,Ds.prototype.set=g8;function ml(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function v8(){this.__data__=[]}function y8(t){var e=this.__data__,n=Pf(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():u8.call(e,n,1),!0}function b8(t){var e=this.__data__,n=Pf(e,t);return n<0?void 0:e[n][1]}function w8(t){return Pf(this.__data__,t)>-1}function _8(t,e){var n=this.__data__,i=Pf(n,t);return i<0?n.push([t,e]):n[i][1]=e,this}ml.prototype.clear=v8,ml.prototype.delete=y8,ml.prototype.get=b8,ml.prototype.has=w8,ml.prototype.set=_8;function Is(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function x8(){this.__data__={hash:new Ds,map:new(h8||ml),string:new Ds}}function S8(t){return Df(this,t).delete(t)}function k8(t){return Df(this,t).get(t)}function C8(t){return Df(this,t).has(t)}function E8(t,e){return Df(this,t).set(t,e),this}Is.prototype.clear=x8,Is.prototype.delete=S8,Is.prototype.get=k8,Is.prototype.has=C8,Is.prototype.set=E8;function Pf(t,e){for(var n=t.length;n--;)if(N8(t[n][0],e))return n;return-1}function T8(t,e){e=M8(e,t)?[e]:O8(e);for(var n=0,i=e.length;t!=null&&n<i;)t=t[D8(e[n++])];return n&&n==i?t:void 0}function $8(t){if(!LO(t)||R8(t))return!1;var e=F8(t)||s8(t)?c8:n8;return e.test(I8(t))}function A8(t){if(typeof t=="string")return t;if(ew(t))return AO?AO.call(t):"";var e=t+"";return e=="0"&&1/t==-xO?"-0":e}function O8(t){return MO(t)?t:P8(t)}function Df(t,e){var n=t.__data__;return L8(e)?n[typeof e=="string"?"string":"hash"]:n.map}function OO(t,e){var n=o8(t,e);return $8(n)?n:void 0}function M8(t,e){if(MO(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||ew(t)?!0:QW.test(t)||!qW.test(t)||e!=null&&t in Object(e)}function L8(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function R8(t){return!!kO&&kO in t}var P8=Zb(function(t){t=B8(t);var e=[];return JW.test(t)&&e.push(""),t.replace(ZW,function(n,i,r,o){e.push(r?o.replace(t8,"$1"):i||n)}),e});function D8(t){if(typeof t=="string"||ew(t))return t;var e=t+"";return e=="0"&&1/t==-xO?"-0":e}function I8(t){if(t!=null){try{return CO.call(t)}catch{}try{return t+""}catch{}}return""}function Zb(t,e){if(typeof t!="function"||e&&typeof e!="function")throw new TypeError(KW);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=t.apply(this,i);return n.cache=o.set(r,s),s};return n.cache=new(Zb.Cache||Is),n}Zb.Cache=Is;function N8(t,e){return t===e||t!==t&&e!==e}var MO=Array.isArray;function F8(t){var e=LO(t)?EO.call(t):"";return e==GW||e==YW}function LO(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function z8(t){return!!t&&typeof t=="object"}function ew(t){return typeof t=="symbol"||z8(t)&&EO.call(t)==XW}function B8(t){return t==null?"":A8(t)}function j8(t,e,n){var i=t==null?void 0:T8(t,e);return i===void 0?n:i}var V8=j8,W8=it&&it.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),tw=it&&it.__assign||function(){return tw=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},tw.apply(this,arguments)};Object.defineProperty(Rf,"__esModule",{value:!0});var Ns=zi,nw=(0,Ns.getAceInstance)(),H8=Of,U8=UW,Ae=Td,RO=I,iw=vO,Nr=V8,K8=function(t){W8(e,t);function e(n){var i=t.call(this,n)||this;return Ns.editorEvents.forEach(function(r){i[r]=i[r].bind(i)}),i.debounce=Ns.debounce,i}return e.prototype.isInShadow=function(n){for(var i=n&&n.parentNode;i;){if(i.toString()==="[object ShadowRoot]")return!0;i=i.parentNode}return!1},e.prototype.componentDidMount=function(){var n=this,i=this.props,r=i.className,o=i.onBeforeLoad,s=i.mode,l=i.focus,a=i.theme,u=i.fontSize,c=i.value,h=i.defaultValue,d=i.cursorStart,f=i.showGutter,p=i.wrapEnabled,m=i.showPrintMargin,g=i.scrollMargin,v=g===void 0?[0,0,0,0]:g,y=i.keyboardHandler,k=i.onLoad,C=i.commands,T=i.annotations,_=i.markers,E=i.splits;this.editor=nw.edit(this.refEditor),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.setTheme("ace/theme/".concat(a)),o&&o(nw);var w=Object.keys(this.props.editorProps),S=new U8.Split(this.editor.container,"ace/theme/".concat(a),E);this.editor.env.split=S,this.splitEditor=S.getEditor(0),this.split=S,this.editor.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!1);var b=this.splitEditor.$options;this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),S.forEach(function(A,O){for(var $=0;$<w.length;$++)A[w[$]]=n.props.editorProps[w[$]];var M=Nr(h,O),R=Nr(c,O,"");A.session.setUndoManager(new nw.UndoManager),A.setTheme("ace/theme/".concat(a)),A.renderer.setScrollMargin(v[0],v[1],v[2],v[3]),A.getSession().setMode("ace/mode/".concat(s)),A.setFontSize(u),A.renderer.setShowGutter(f),A.getSession().setUseWrapMode(p),A.setShowPrintMargin(m),A.on("focus",n.onFocus),A.on("blur",n.onBlur),A.on("input",n.onInput),A.on("copy",n.onCopy),A.on("paste",n.onPaste),A.on("change",n.onChange),A.getSession().selection.on("changeSelection",n.onSelectionChange),A.getSession().selection.on("changeCursor",n.onCursorChange),A.session.on("changeScrollTop",n.onScroll),A.setValue(M===void 0?R:M,d);var P=Nr(T,O,[]),N=Nr(_,O,[]);A.getSession().setAnnotations(P),N&&N.length>0&&n.handleMarkers(N,A);for(var $=0;$<Ns.editorOptions.length;$++){var D=Ns.editorOptions[$];b.hasOwnProperty(D)?A.setOption(D,n.props[D]):n.props[D]&&console.warn("ReaceAce: editor option ".concat(D," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}n.handleOptions(n.props,A),Array.isArray(C)&&C.forEach(function(V){typeof V.exec=="string"?A.commands.bindKey(V.bindKey,V.exec):A.commands.addCommand(V)}),y&&A.setKeyboardHandler("ace/keyboard/"+y)}),r&&(this.refEditor.className+=" "+r),l&&this.splitEditor.focus();var x=this.editor.env.split;x.setOrientation(this.props.orientation==="below"?x.BELOW:x.BESIDE),x.resize(!0),k&&k(x)},e.prototype.componentDidUpdate=function(n){var i=this,r=n,o=this.props,s=this.editor.env.split;if(o.splits!==r.splits&&s.setSplits(o.splits),o.orientation!==r.orientation&&s.setOrientation(o.orientation==="below"?s.BELOW:s.BESIDE),s.forEach(function(c,h){o.mode!==r.mode&&c.getSession().setMode("ace/mode/"+o.mode),o.keyboardHandler!==r.keyboardHandler&&(o.keyboardHandler?c.setKeyboardHandler("ace/keyboard/"+o.keyboardHandler):c.setKeyboardHandler(null)),o.fontSize!==r.fontSize&&c.setFontSize(o.fontSize),o.wrapEnabled!==r.wrapEnabled&&c.getSession().setUseWrapMode(o.wrapEnabled),o.showPrintMargin!==r.showPrintMargin&&c.setShowPrintMargin(o.showPrintMargin),o.showGutter!==r.showGutter&&c.renderer.setShowGutter(o.showGutter);for(var d=0;d<Ns.editorOptions.length;d++){var f=Ns.editorOptions[d];o[f]!==r[f]&&c.setOption(f,o[f])}iw(o.setOptions,r.setOptions)||i.handleOptions(o,c);var p=Nr(o.value,h,"");if(c.getValue()!==p){i.silent=!0;var m=c.session.selection.toJSON();c.setValue(p,o.cursorStart),c.session.selection.fromJSON(m),i.silent=!1}var g=Nr(o.annotations,h,[]),v=Nr(r.annotations,h,[]);iw(g,v)||c.getSession().setAnnotations(g);var y=Nr(o.markers,h,[]),k=Nr(r.markers,h,[]);!iw(y,k)&&Array.isArray(y)&&i.handleMarkers(y,c)}),o.className!==r.className){var l=this.refEditor.className,a=l.trim().split(" "),u=r.className.trim().split(" ");u.forEach(function(c){var h=a.indexOf(c);a.splice(h,1)}),this.refEditor.className=" "+o.className+" "+a.join(" ")}o.theme!==r.theme&&s.setTheme("ace/theme/"+o.theme),o.focus&&!r.focus&&this.splitEditor.focus(),(o.height!==this.props.height||o.width!==this.props.width)&&this.editor.resize()},e.prototype.componentWillUnmount=function(){this.editor.destroy(),this.editor=null},e.prototype.onChange=function(n){if(this.props.onChange&&!this.silent){var i=[];this.editor.env.split.forEach(function(r){i.push(r.getValue())}),this.props.onChange(i,n)}},e.prototype.onSelectionChange=function(n){if(this.props.onSelectionChange){var i=[];this.editor.env.split.forEach(function(r){i.push(r.getSelection())}),this.props.onSelectionChange(i,n)}},e.prototype.onCursorChange=function(n){if(this.props.onCursorChange){var i=[];this.editor.env.split.forEach(function(r){i.push(r.getSelection())}),this.props.onCursorChange(i,n)}},e.prototype.onFocus=function(n){this.props.onFocus&&this.props.onFocus(n)},e.prototype.onInput=function(n){this.props.onInput&&this.props.onInput(n)},e.prototype.onBlur=function(n){this.props.onBlur&&this.props.onBlur(n)},e.prototype.onCopy=function(n){this.props.onCopy&&this.props.onCopy(n)},e.prototype.onPaste=function(n){this.props.onPaste&&this.props.onPaste(n)},e.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},e.prototype.handleOptions=function(n,i){for(var r=Object.keys(n.setOptions),o=0;o<r.length;o++)i.setOption(r[o],n.setOptions[r[o]])},e.prototype.handleMarkers=function(n,i){var r=i.getSession().getMarkers(!0);for(var o in r)r.hasOwnProperty(o)&&i.getSession().removeMarker(r[o].id);r=i.getSession().getMarkers(!1);for(var o in r)r.hasOwnProperty(o)&&i.getSession().removeMarker(r[o].id);n.forEach(function(s){var l=s.startRow,a=s.startCol,u=s.endRow,c=s.endCol,h=s.className,d=s.type,f=s.inFront,p=f===void 0?!1:f,m=new H8.Range(l,a,u,c);i.getSession().addMarker(m,h,d,p)})},e.prototype.updateRef=function(n){this.refEditor=n},e.prototype.render=function(){var n=this.props,i=n.name,r=n.width,o=n.height,s=n.style,l=tw({width:r,height:o},s);return RO.createElement("div",{ref:this.updateRef,id:i,style:l})},e.propTypes={className:Ae.string,debounceChangePeriod:Ae.number,defaultValue:Ae.arrayOf(Ae.string),focus:Ae.bool,fontSize:Ae.oneOfType([Ae.number,Ae.string]),height:Ae.string,mode:Ae.string,name:Ae.string,onBlur:Ae.func,onChange:Ae.func,onCopy:Ae.func,onFocus:Ae.func,onInput:Ae.func,onLoad:Ae.func,onPaste:Ae.func,onScroll:Ae.func,orientation:Ae.string,showGutter:Ae.bool,splits:Ae.number,theme:Ae.string,value:Ae.arrayOf(Ae.string),width:Ae.string,onSelectionChange:Ae.func,onCursorChange:Ae.func,onBeforeLoad:Ae.func,minLines:Ae.number,maxLines:Ae.number,readOnly:Ae.bool,highlightActiveLine:Ae.bool,tabSize:Ae.number,showPrintMargin:Ae.bool,cursorStart:Ae.number,editorProps:Ae.object,setOptions:Ae.object,style:Ae.object,scrollMargin:Ae.array,annotations:Ae.array,markers:Ae.array,keyboardHandler:Ae.string,wrapEnabled:Ae.bool,enableBasicAutocompletion:Ae.oneOfType([Ae.bool,Ae.array]),enableLiveAutocompletion:Ae.oneOfType([Ae.bool,Ae.array]),commands:Ae.array},e.defaultProps={name:"ace-editor",focus:!1,orientation:"beside",splits:2,mode:"",theme:"",height:"500px",width:"500px",value:[],fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1},e}(RO.Component);Rf.default=K8;var PO={exports:{}};(function(t){var e=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},n=-1,i=1,r=0;e.Diff=function(o,s){return[o,s]},e.prototype.diff_main=function(o,s,l,a){typeof a>"u"&&(this.Diff_Timeout<=0?a=Number.MAX_VALUE:a=new Date().getTime()+this.Diff_Timeout*1e3);var u=a;if(o==null||s==null)throw new Error("Null input. (diff_main)");if(o==s)return o?[new e.Diff(r,o)]:[];typeof l>"u"&&(l=!0);var c=l,h=this.diff_commonPrefix(o,s),d=o.substring(0,h);o=o.substring(h),s=s.substring(h),h=this.diff_commonSuffix(o,s);var f=o.substring(o.length-h);o=o.substring(0,o.length-h),s=s.substring(0,s.length-h);var p=this.diff_compute_(o,s,c,u);return d&&p.unshift(new e.Diff(r,d)),f&&p.push(new e.Diff(r,f)),this.diff_cleanupMerge(p),p},e.prototype.diff_compute_=function(o,s,l,a){var u;if(!o)return[new e.Diff(i,s)];if(!s)return[new e.Diff(n,o)];var c=o.length>s.length?o:s,h=o.length>s.length?s:o,d=c.indexOf(h);if(d!=-1)return u=[new e.Diff(i,c.substring(0,d)),new e.Diff(r,h),new e.Diff(i,c.substring(d+h.length))],o.length>s.length&&(u[0][0]=u[2][0]=n),u;if(h.length==1)return[new e.Diff(n,o),new e.Diff(i,s)];var f=this.diff_halfMatch_(o,s);if(f){var p=f[0],m=f[1],g=f[2],v=f[3],y=f[4],k=this.diff_main(p,g,l,a),C=this.diff_main(m,v,l,a);return k.concat([new e.Diff(r,y)],C)}return l&&o.length>100&&s.length>100?this.diff_lineMode_(o,s,a):this.diff_bisect_(o,s,a)},e.prototype.diff_lineMode_=function(o,s,l){var a=this.diff_linesToChars_(o,s);o=a.chars1,s=a.chars2;var u=a.lineArray,c=this.diff_main(o,s,!1,l);this.diff_charsToLines_(c,u),this.diff_cleanupSemantic(c),c.push(new e.Diff(r,""));for(var h=0,d=0,f=0,p="",m="";h<c.length;){switch(c[h][0]){case i:f++,m+=c[h][1];break;case n:d++,p+=c[h][1];break;case r:if(d>=1&&f>=1){c.splice(h-d-f,d+f),h=h-d-f;for(var g=this.diff_main(p,m,!1,l),v=g.length-1;v>=0;v--)c.splice(h,0,g[v]);h=h+g.length}f=0,d=0,p="",m="";break}h++}return c.pop(),c},e.prototype.diff_bisect_=function(o,s,l){for(var a=o.length,u=s.length,c=Math.ceil((a+u)/2),h=c,d=2*c,f=new Array(d),p=new Array(d),m=0;m<d;m++)f[m]=-1,p[m]=-1;f[h+1]=0,p[h+1]=0;for(var g=a-u,v=g%2!=0,y=0,k=0,C=0,T=0,_=0;_<c&&!(new Date().getTime()>l);_++){for(var E=-_+y;E<=_-k;E+=2){var w=h+E,S;E==-_||E!=_&&f[w-1]<f[w+1]?S=f[w+1]:S=f[w-1]+1;for(var b=S-E;S<a&&b<u&&o.charAt(S)==s.charAt(b);)S++,b++;if(f[w]=S,S>a)k+=2;else if(b>u)y+=2;else if(v){var x=h+g-E;if(x>=0&&x<d&&p[x]!=-1){var A=a-p[x];if(S>=A)return this.diff_bisectSplit_(o,s,S,b,l)}}}for(var O=-_+C;O<=_-T;O+=2){var x=h+O,A;O==-_||O!=_&&p[x-1]<p[x+1]?A=p[x+1]:A=p[x-1]+1;for(var $=A-O;A<a&&$<u&&o.charAt(a-A-1)==s.charAt(u-$-1);)A++,$++;if(p[x]=A,A>a)T+=2;else if($>u)C+=2;else if(!v){var w=h+g-O;if(w>=0&&w<d&&f[w]!=-1){var S=f[w],b=h+S-w;if(A=a-A,S>=A)return this.diff_bisectSplit_(o,s,S,b,l)}}}}return[new e.Diff(n,o),new e.Diff(i,s)]},e.prototype.diff_bisectSplit_=function(o,s,l,a,u){var c=o.substring(0,l),h=s.substring(0,a),d=o.substring(l),f=s.substring(a),p=this.diff_main(c,h,!1,u),m=this.diff_main(d,f,!1,u);return p.concat(m)},e.prototype.diff_linesToChars_=function(o,s){var l=[],a={};l[0]="";function u(f){for(var p="",m=0,g=-1,v=l.length;g<f.length-1;){g=f.indexOf(`
`,m),g==-1&&(g=f.length-1);var y=f.substring(m,g+1);(a.hasOwnProperty?a.hasOwnProperty(y):a[y]!==void 0)?p+=String.fromCharCode(a[y]):(v==c&&(y=f.substring(m),g=f.length),p+=String.fromCharCode(v),a[y]=v,l[v++]=y),m=g+1}return p}var c=4e4,h=u(o);c=65535;var d=u(s);return{chars1:h,chars2:d,lineArray:l}},e.prototype.diff_charsToLines_=function(o,s){for(var l=0;l<o.length;l++){for(var a=o[l][1],u=[],c=0;c<a.length;c++)u[c]=s[a.charCodeAt(c)];o[l][1]=u.join("")}},e.prototype.diff_commonPrefix=function(o,s){if(!o||!s||o.charAt(0)!=s.charAt(0))return 0;for(var l=0,a=Math.min(o.length,s.length),u=a,c=0;l<u;)o.substring(c,u)==s.substring(c,u)?(l=u,c=l):a=u,u=Math.floor((a-l)/2+l);return u},e.prototype.diff_commonSuffix=function(o,s){if(!o||!s||o.charAt(o.length-1)!=s.charAt(s.length-1))return 0;for(var l=0,a=Math.min(o.length,s.length),u=a,c=0;l<u;)o.substring(o.length-u,o.length-c)==s.substring(s.length-u,s.length-c)?(l=u,c=l):a=u,u=Math.floor((a-l)/2+l);return u},e.prototype.diff_commonOverlap_=function(o,s){var l=o.length,a=s.length;if(l==0||a==0)return 0;l>a?o=o.substring(l-a):l<a&&(s=s.substring(0,l));var u=Math.min(l,a);if(o==s)return u;for(var c=0,h=1;;){var d=o.substring(u-h),f=s.indexOf(d);if(f==-1)return c;h+=f,(f==0||o.substring(u-h)==s.substring(0,h))&&(c=h,h++)}},e.prototype.diff_halfMatch_=function(o,s){if(this.Diff_Timeout<=0)return null;var l=o.length>s.length?o:s,a=o.length>s.length?s:o;if(l.length<4||a.length*2<l.length)return null;var u=this;function c(k,C,T){for(var _=k.substring(T,T+Math.floor(k.length/4)),E=-1,w="",S,b,x,A;(E=C.indexOf(_,E+1))!=-1;){var O=u.diff_commonPrefix(k.substring(T),C.substring(E)),$=u.diff_commonSuffix(k.substring(0,T),C.substring(0,E));w.length<$+O&&(w=C.substring(E-$,E)+C.substring(E,E+O),S=k.substring(0,T-$),b=k.substring(T+O),x=C.substring(0,E-$),A=C.substring(E+O))}return w.length*2>=k.length?[S,b,x,A,w]:null}var h=c(l,a,Math.ceil(l.length/4)),d=c(l,a,Math.ceil(l.length/2)),f;if(!h&&!d)return null;d?h?f=h[4].length>d[4].length?h:d:f=d:f=h;var p,m,g,v;o.length>s.length?(p=f[0],m=f[1],g=f[2],v=f[3]):(g=f[0],v=f[1],p=f[2],m=f[3]);var y=f[4];return[p,m,g,v,y]},e.prototype.diff_cleanupSemantic=function(o){for(var s=!1,l=[],a=0,u=null,c=0,h=0,d=0,f=0,p=0;c<o.length;)o[c][0]==r?(l[a++]=c,h=f,d=p,f=0,p=0,u=o[c][1]):(o[c][0]==i?f+=o[c][1].length:p+=o[c][1].length,u&&u.length<=Math.max(h,d)&&u.length<=Math.max(f,p)&&(o.splice(l[a-1],0,new e.Diff(n,u)),o[l[a-1]+1][0]=i,a--,a--,c=a>0?l[a-1]:-1,h=0,d=0,f=0,p=0,u=null,s=!0)),c++;for(s&&this.diff_cleanupMerge(o),this.diff_cleanupSemanticLossless(o),c=1;c<o.length;){if(o[c-1][0]==n&&o[c][0]==i){var m=o[c-1][1],g=o[c][1],v=this.diff_commonOverlap_(m,g),y=this.diff_commonOverlap_(g,m);v>=y?(v>=m.length/2||v>=g.length/2)&&(o.splice(c,0,new e.Diff(r,g.substring(0,v))),o[c-1][1]=m.substring(0,m.length-v),o[c+1][1]=g.substring(v),c++):(y>=m.length/2||y>=g.length/2)&&(o.splice(c,0,new e.Diff(r,m.substring(0,y))),o[c-1][0]=i,o[c-1][1]=g.substring(0,g.length-y),o[c+1][0]=n,o[c+1][1]=m.substring(y),c++),c++}c++}},e.prototype.diff_cleanupSemanticLossless=function(o){function s(y,k){if(!y||!k)return 6;var C=y.charAt(y.length-1),T=k.charAt(0),_=C.match(e.nonAlphaNumericRegex_),E=T.match(e.nonAlphaNumericRegex_),w=_&&C.match(e.whitespaceRegex_),S=E&&T.match(e.whitespaceRegex_),b=w&&C.match(e.linebreakRegex_),x=S&&T.match(e.linebreakRegex_),A=b&&y.match(e.blanklineEndRegex_),O=x&&k.match(e.blanklineStartRegex_);return A||O?5:b||x?4:_&&!w&&S?3:w||S?2:_||E?1:0}for(var l=1;l<o.length-1;){if(o[l-1][0]==r&&o[l+1][0]==r){var a=o[l-1][1],u=o[l][1],c=o[l+1][1],h=this.diff_commonSuffix(a,u);if(h){var d=u.substring(u.length-h);a=a.substring(0,a.length-h),u=d+u.substring(0,u.length-h),c=d+c}for(var f=a,p=u,m=c,g=s(a,u)+s(u,c);u.charAt(0)===c.charAt(0);){a+=u.charAt(0),u=u.substring(1)+c.charAt(0),c=c.substring(1);var v=s(a,u)+s(u,c);v>=g&&(g=v,f=a,p=u,m=c)}o[l-1][1]!=f&&(f?o[l-1][1]=f:(o.splice(l-1,1),l--),o[l][1]=p,m?o[l+1][1]=m:(o.splice(l+1,1),l--))}l++}},e.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,e.whitespaceRegex_=/\s/,e.linebreakRegex_=/[\r\n]/,e.blanklineEndRegex_=/\n\r?\n$/,e.blanklineStartRegex_=/^\r?\n\r?\n/,e.prototype.diff_cleanupEfficiency=function(o){for(var s=!1,l=[],a=0,u=null,c=0,h=!1,d=!1,f=!1,p=!1;c<o.length;)o[c][0]==r?(o[c][1].length<this.Diff_EditCost&&(f||p)?(l[a++]=c,h=f,d=p,u=o[c][1]):(a=0,u=null),f=p=!1):(o[c][0]==n?p=!0:f=!0,u&&(h&&d&&f&&p||u.length<this.Diff_EditCost/2&&h+d+f+p==3)&&(o.splice(l[a-1],0,new e.Diff(n,u)),o[l[a-1]+1][0]=i,a--,u=null,h&&d?(f=p=!0,a=0):(a--,c=a>0?l[a-1]:-1,f=p=!1),s=!0)),c++;s&&this.diff_cleanupMerge(o)},e.prototype.diff_cleanupMerge=function(o){o.push(new e.Diff(r,""));for(var s=0,l=0,a=0,u="",c="",h;s<o.length;)switch(o[s][0]){case i:a++,c+=o[s][1],s++;break;case n:l++,u+=o[s][1],s++;break;case r:l+a>1?(l!==0&&a!==0&&(h=this.diff_commonPrefix(c,u),h!==0&&(s-l-a>0&&o[s-l-a-1][0]==r?o[s-l-a-1][1]+=c.substring(0,h):(o.splice(0,0,new e.Diff(r,c.substring(0,h))),s++),c=c.substring(h),u=u.substring(h)),h=this.diff_commonSuffix(c,u),h!==0&&(o[s][1]=c.substring(c.length-h)+o[s][1],c=c.substring(0,c.length-h),u=u.substring(0,u.length-h))),s-=l+a,o.splice(s,l+a),u.length&&(o.splice(s,0,new e.Diff(n,u)),s++),c.length&&(o.splice(s,0,new e.Diff(i,c)),s++),s++):s!==0&&o[s-1][0]==r?(o[s-1][1]+=o[s][1],o.splice(s,1)):s++,a=0,l=0,u="",c="";break}o[o.length-1][1]===""&&o.pop();var d=!1;for(s=1;s<o.length-1;)o[s-1][0]==r&&o[s+1][0]==r&&(o[s][1].substring(o[s][1].length-o[s-1][1].length)==o[s-1][1]?(o[s][1]=o[s-1][1]+o[s][1].substring(0,o[s][1].length-o[s-1][1].length),o[s+1][1]=o[s-1][1]+o[s+1][1],o.splice(s-1,1),d=!0):o[s][1].substring(0,o[s+1][1].length)==o[s+1][1]&&(o[s-1][1]+=o[s+1][1],o[s][1]=o[s][1].substring(o[s+1][1].length)+o[s+1][1],o.splice(s+1,1),d=!0)),s++;d&&this.diff_cleanupMerge(o)},e.prototype.diff_xIndex=function(o,s){var l=0,a=0,u=0,c=0,h;for(h=0;h<o.length&&(o[h][0]!==i&&(l+=o[h][1].length),o[h][0]!==n&&(a+=o[h][1].length),!(l>s));h++)u=l,c=a;return o.length!=h&&o[h][0]===n?c:c+(s-u)},e.prototype.diff_prettyHtml=function(o){for(var s=[],l=/&/g,a=/</g,u=/>/g,c=/\n/g,h=0;h<o.length;h++){var d=o[h][0],f=o[h][1],p=f.replace(l,"&amp;").replace(a,"&lt;").replace(u,"&gt;").replace(c,"&para;<br>");switch(d){case i:s[h]='<ins style="background:#e6ffe6;">'+p+"</ins>";break;case n:s[h]='<del style="background:#ffe6e6;">'+p+"</del>";break;case r:s[h]="<span>"+p+"</span>";break}}return s.join("")},e.prototype.diff_text1=function(o){for(var s=[],l=0;l<o.length;l++)o[l][0]!==i&&(s[l]=o[l][1]);return s.join("")},e.prototype.diff_text2=function(o){for(var s=[],l=0;l<o.length;l++)o[l][0]!==n&&(s[l]=o[l][1]);return s.join("")},e.prototype.diff_levenshtein=function(o){for(var s=0,l=0,a=0,u=0;u<o.length;u++){var c=o[u][0],h=o[u][1];switch(c){case i:l+=h.length;break;case n:a+=h.length;break;case r:s+=Math.max(l,a),l=0,a=0;break}}return s+=Math.max(l,a),s},e.prototype.diff_toDelta=function(o){for(var s=[],l=0;l<o.length;l++)switch(o[l][0]){case i:s[l]="+"+encodeURI(o[l][1]);break;case n:s[l]="-"+o[l][1].length;break;case r:s[l]="="+o[l][1].length;break}return s.join("	").replace(/%20/g," ")},e.prototype.diff_fromDelta=function(o,s){for(var l=[],a=0,u=0,c=s.split(/\t/g),h=0;h<c.length;h++){var d=c[h].substring(1);switch(c[h].charAt(0)){case"+":try{l[a++]=new e.Diff(i,decodeURI(d))}catch{throw new Error("Illegal escape in diff_fromDelta: "+d)}break;case"-":case"=":var f=parseInt(d,10);if(isNaN(f)||f<0)throw new Error("Invalid number in diff_fromDelta: "+d);var p=o.substring(u,u+=f);c[h].charAt(0)=="="?l[a++]=new e.Diff(r,p):l[a++]=new e.Diff(n,p);break;default:if(c[h])throw new Error("Invalid diff operation in diff_fromDelta: "+c[h])}}if(u!=o.length)throw new Error("Delta length ("+u+") does not equal source text length ("+o.length+").");return l},e.prototype.match_main=function(o,s,l){if(o==null||s==null||l==null)throw new Error("Null input. (match_main)");return l=Math.max(0,Math.min(l,o.length)),o==s?0:o.length?o.substring(l,l+s.length)==s?l:this.match_bitap_(o,s,l):-1},e.prototype.match_bitap_=function(o,s,l){if(s.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var a=this.match_alphabet_(s),u=this;function c(S,b){var x=S/s.length,A=Math.abs(l-b);return u.Match_Distance?x+A/u.Match_Distance:A?1:x}var h=this.Match_Threshold,d=o.indexOf(s,l);d!=-1&&(h=Math.min(c(0,d),h),d=o.lastIndexOf(s,l+s.length),d!=-1&&(h=Math.min(c(0,d),h)));var f=1<<s.length-1;d=-1;for(var p,m,g=s.length+o.length,v,y=0;y<s.length;y++){for(p=0,m=g;p<m;)c(y,l+m)<=h?p=m:g=m,m=Math.floor((g-p)/2+p);g=m;var k=Math.max(1,l-m+1),C=Math.min(l+m,o.length)+s.length,T=Array(C+2);T[C+1]=(1<<y)-1;for(var _=C;_>=k;_--){var E=a[o.charAt(_-1)];if(y===0?T[_]=(T[_+1]<<1|1)&E:T[_]=(T[_+1]<<1|1)&E|((v[_+1]|v[_])<<1|1)|v[_+1],T[_]&f){var w=c(y,_-1);if(w<=h)if(h=w,d=_-1,d>l)k=Math.max(1,2*l-d);else break}}if(c(y+1,l)>h)break;v=T}return d},e.prototype.match_alphabet_=function(o){for(var s={},l=0;l<o.length;l++)s[o.charAt(l)]=0;for(var l=0;l<o.length;l++)s[o.charAt(l)]|=1<<o.length-l-1;return s},e.prototype.patch_addContext_=function(o,s){if(s.length!=0){if(o.start2===null)throw Error("patch not initialized");for(var l=s.substring(o.start2,o.start2+o.length1),a=0;s.indexOf(l)!=s.lastIndexOf(l)&&l.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)a+=this.Patch_Margin,l=s.substring(o.start2-a,o.start2+o.length1+a);a+=this.Patch_Margin;var u=s.substring(o.start2-a,o.start2);u&&o.diffs.unshift(new e.Diff(r,u));var c=s.substring(o.start2+o.length1,o.start2+o.length1+a);c&&o.diffs.push(new e.Diff(r,c)),o.start1-=u.length,o.start2-=u.length,o.length1+=u.length+c.length,o.length2+=u.length+c.length}},e.prototype.patch_make=function(o,s,l){var a,u;if(typeof o=="string"&&typeof s=="string"&&typeof l>"u")a=o,u=this.diff_main(a,s,!0),u.length>2&&(this.diff_cleanupSemantic(u),this.diff_cleanupEfficiency(u));else if(o&&typeof o=="object"&&typeof s>"u"&&typeof l>"u")u=o,a=this.diff_text1(u);else if(typeof o=="string"&&s&&typeof s=="object"&&typeof l>"u")a=o,u=s;else if(typeof o=="string"&&typeof s=="string"&&l&&typeof l=="object")a=o,u=l;else throw new Error("Unknown call format to patch_make.");if(u.length===0)return[];for(var c=[],h=new e.patch_obj,d=0,f=0,p=0,m=a,g=a,v=0;v<u.length;v++){var y=u[v][0],k=u[v][1];switch(!d&&y!==r&&(h.start1=f,h.start2=p),y){case i:h.diffs[d++]=u[v],h.length2+=k.length,g=g.substring(0,p)+k+g.substring(p);break;case n:h.length1+=k.length,h.diffs[d++]=u[v],g=g.substring(0,p)+g.substring(p+k.length);break;case r:k.length<=2*this.Patch_Margin&&d&&u.length!=v+1?(h.diffs[d++]=u[v],h.length1+=k.length,h.length2+=k.length):k.length>=2*this.Patch_Margin&&d&&(this.patch_addContext_(h,m),c.push(h),h=new e.patch_obj,d=0,m=g,f=p);break}y!==i&&(f+=k.length),y!==n&&(p+=k.length)}return d&&(this.patch_addContext_(h,m),c.push(h)),c},e.prototype.patch_deepCopy=function(o){for(var s=[],l=0;l<o.length;l++){var a=o[l],u=new e.patch_obj;u.diffs=[];for(var c=0;c<a.diffs.length;c++)u.diffs[c]=new e.Diff(a.diffs[c][0],a.diffs[c][1]);u.start1=a.start1,u.start2=a.start2,u.length1=a.length1,u.length2=a.length2,s[l]=u}return s},e.prototype.patch_apply=function(o,s){if(o.length==0)return[s,[]];o=this.patch_deepCopy(o);var l=this.patch_addPadding(o);s=l+s+l,this.patch_splitMax(o);for(var a=0,u=[],c=0;c<o.length;c++){var h=o[c].start2+a,d=this.diff_text1(o[c].diffs),f,p=-1;if(d.length>this.Match_MaxBits?(f=this.match_main(s,d.substring(0,this.Match_MaxBits),h),f!=-1&&(p=this.match_main(s,d.substring(d.length-this.Match_MaxBits),h+d.length-this.Match_MaxBits),(p==-1||f>=p)&&(f=-1))):f=this.match_main(s,d,h),f==-1)u[c]=!1,a-=o[c].length2-o[c].length1;else{u[c]=!0,a=f-h;var m;if(p==-1?m=s.substring(f,f+d.length):m=s.substring(f,p+this.Match_MaxBits),d==m)s=s.substring(0,f)+this.diff_text2(o[c].diffs)+s.substring(f+d.length);else{var g=this.diff_main(d,m,!1);if(d.length>this.Match_MaxBits&&this.diff_levenshtein(g)/d.length>this.Patch_DeleteThreshold)u[c]=!1;else{this.diff_cleanupSemanticLossless(g);for(var v=0,y,k=0;k<o[c].diffs.length;k++){var C=o[c].diffs[k];C[0]!==r&&(y=this.diff_xIndex(g,v)),C[0]===i?s=s.substring(0,f+y)+C[1]+s.substring(f+y):C[0]===n&&(s=s.substring(0,f+y)+s.substring(f+this.diff_xIndex(g,v+C[1].length))),C[0]!==n&&(v+=C[1].length)}}}}}return s=s.substring(l.length,s.length-l.length),[s,u]},e.prototype.patch_addPadding=function(o){for(var s=this.Patch_Margin,l="",a=1;a<=s;a++)l+=String.fromCharCode(a);for(var a=0;a<o.length;a++)o[a].start1+=s,o[a].start2+=s;var u=o[0],c=u.diffs;if(c.length==0||c[0][0]!=r)c.unshift(new e.Diff(r,l)),u.start1-=s,u.start2-=s,u.length1+=s,u.length2+=s;else if(s>c[0][1].length){var h=s-c[0][1].length;c[0][1]=l.substring(c[0][1].length)+c[0][1],u.start1-=h,u.start2-=h,u.length1+=h,u.length2+=h}if(u=o[o.length-1],c=u.diffs,c.length==0||c[c.length-1][0]!=r)c.push(new e.Diff(r,l)),u.length1+=s,u.length2+=s;else if(s>c[c.length-1][1].length){var h=s-c[c.length-1][1].length;c[c.length-1][1]+=l.substring(0,h),u.length1+=h,u.length2+=h}return l},e.prototype.patch_splitMax=function(o){for(var s=this.Match_MaxBits,l=0;l<o.length;l++)if(!(o[l].length1<=s)){var a=o[l];o.splice(l--,1);for(var u=a.start1,c=a.start2,h="";a.diffs.length!==0;){var d=new e.patch_obj,f=!0;for(d.start1=u-h.length,d.start2=c-h.length,h!==""&&(d.length1=d.length2=h.length,d.diffs.push(new e.Diff(r,h)));a.diffs.length!==0&&d.length1<s-this.Patch_Margin;){var p=a.diffs[0][0],m=a.diffs[0][1];p===i?(d.length2+=m.length,c+=m.length,d.diffs.push(a.diffs.shift()),f=!1):p===n&&d.diffs.length==1&&d.diffs[0][0]==r&&m.length>2*s?(d.length1+=m.length,u+=m.length,f=!1,d.diffs.push(new e.Diff(p,m)),a.diffs.shift()):(m=m.substring(0,s-d.length1-this.Patch_Margin),d.length1+=m.length,u+=m.length,p===r?(d.length2+=m.length,c+=m.length):f=!1,d.diffs.push(new e.Diff(p,m)),m==a.diffs[0][1]?a.diffs.shift():a.diffs[0][1]=a.diffs[0][1].substring(m.length))}h=this.diff_text2(d.diffs),h=h.substring(h.length-this.Patch_Margin);var g=this.diff_text1(a.diffs).substring(0,this.Patch_Margin);g!==""&&(d.length1+=g.length,d.length2+=g.length,d.diffs.length!==0&&d.diffs[d.diffs.length-1][0]===r?d.diffs[d.diffs.length-1][1]+=g:d.diffs.push(new e.Diff(r,g))),f||o.splice(++l,0,d)}}},e.prototype.patch_toText=function(o){for(var s=[],l=0;l<o.length;l++)s[l]=o[l];return s.join("")},e.prototype.patch_fromText=function(o){var s=[];if(!o)return s;for(var l=o.split(`
`),a=0,u=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;a<l.length;){var c=l[a].match(u);if(!c)throw new Error("Invalid patch string: "+l[a]);var h=new e.patch_obj;for(s.push(h),h.start1=parseInt(c[1],10),c[2]===""?(h.start1--,h.length1=1):c[2]=="0"?h.length1=0:(h.start1--,h.length1=parseInt(c[2],10)),h.start2=parseInt(c[3],10),c[4]===""?(h.start2--,h.length2=1):c[4]=="0"?h.length2=0:(h.start2--,h.length2=parseInt(c[4],10)),a++;a<l.length;){var d=l[a].charAt(0);try{var f=decodeURI(l[a].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+f)}if(d=="-")h.diffs.push(new e.Diff(n,f));else if(d=="+")h.diffs.push(new e.Diff(i,f));else if(d==" ")h.diffs.push(new e.Diff(r,f));else{if(d=="@")break;if(d!=="")throw new Error('Invalid patch mode "'+d+'" in: '+f)}a++}}return s},e.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},e.patch_obj.prototype.toString=function(){var o,s;this.length1===0?o=this.start1+",0":this.length1==1?o=this.start1+1:o=this.start1+1+","+this.length1,this.length2===0?s=this.start2+",0":this.length2==1?s=this.start2+1:s=this.start2+1+","+this.length2;for(var l=["@@ -"+o+" +"+s+` @@
`],a,u=0;u<this.diffs.length;u++){switch(this.diffs[u][0]){case i:a="+";break;case n:a="-";break;case r:a=" ";break}l[u+1]=a+encodeURI(this.diffs[u][1])+`
`}return l.join("").replace(/%20/g," ")},t.exports=e,t.exports.diff_match_patch=e,t.exports.DIFF_DELETE=n,t.exports.DIFF_INSERT=i,t.exports.DIFF_EQUAL=r})(PO);var G8=PO.exports,Y8=it&&it.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(Xb,"__esModule",{value:!0});var Ze=Td,DO=I,X8=Rf,q8=G8,Q8=function(t){Y8(e,t);function e(n){var i=t.call(this,n)||this;return i.state={value:i.props.value},i.onChange=i.onChange.bind(i),i.diff=i.diff.bind(i),i}return e.prototype.componentDidUpdate=function(){var n=this.props.value;n!==this.state.value&&this.setState({value:n})},e.prototype.onChange=function(n){this.setState({value:n}),this.props.onChange&&this.props.onChange(n)},e.prototype.diff=function(){var n=new q8,i=this.state.value[0],r=this.state.value[1];if(i.length===0&&r.length===0)return[];var o=n.diff_main(i,r);n.diff_cleanupSemantic(o);var s=this.generateDiffedLines(o),l=this.setCodeMarkers(s);return l},e.prototype.generateDiffedLines=function(n){var i={DIFF_EQUAL:0,DIFF_DELETE:-1,DIFF_INSERT:1},r={left:[],right:[]},o={left:1,right:1};return n.forEach(function(s){var l=s[0],a=s[1],u=a.split(`
`).length-1;if(a.length!==0){var c=a[0],h=a[a.length-1],d=0;switch(l){case i.DIFF_EQUAL:o.left+=u,o.right+=u;break;case i.DIFF_DELETE:c===`
`&&(o.left++,u--),d=u,d===0&&r.right.push({startLine:o.right,endLine:o.right}),h===`
`&&(d-=1),r.left.push({startLine:o.left,endLine:o.left+d}),o.left+=u;break;case i.DIFF_INSERT:c===`
`&&(o.right++,u--),d=u,d===0&&r.left.push({startLine:o.left,endLine:o.left}),h===`
`&&(d-=1),r.right.push({startLine:o.right,endLine:o.right+d}),o.right+=u;break;default:throw new Error("Diff type was not defined.")}}}),r},e.prototype.setCodeMarkers=function(n){n===void 0&&(n={left:[],right:[]});for(var i=[],r={left:[],right:[]},o=0;o<n.left.length;o++){var s={startRow:n.left[o].startLine-1,endRow:n.left[o].endLine,type:"text",className:"codeMarker"};r.left.push(s)}for(var o=0;o<n.right.length;o++){var s={startRow:n.right[o].startLine-1,endRow:n.right[o].endLine,type:"text",className:"codeMarker"};r.right.push(s)}return i[0]=r.left,i[1]=r.right,i},e.prototype.render=function(){var n=this.diff();return DO.createElement(X8.default,{name:this.props.name,className:this.props.className,focus:this.props.focus,orientation:this.props.orientation,splits:this.props.splits,mode:this.props.mode,theme:this.props.theme,height:this.props.height,width:this.props.width,fontSize:this.props.fontSize,showGutter:this.props.showGutter,onChange:this.onChange,onPaste:this.props.onPaste,onLoad:this.props.onLoad,onScroll:this.props.onScroll,minLines:this.props.minLines,maxLines:this.props.maxLines,readOnly:this.props.readOnly,highlightActiveLine:this.props.highlightActiveLine,showPrintMargin:this.props.showPrintMargin,tabSize:this.props.tabSize,cursorStart:this.props.cursorStart,editorProps:this.props.editorProps,style:this.props.style,scrollMargin:this.props.scrollMargin,setOptions:this.props.setOptions,wrapEnabled:this.props.wrapEnabled,enableBasicAutocompletion:this.props.enableBasicAutocompletion,enableLiveAutocompletion:this.props.enableLiveAutocompletion,value:this.state.value,markers:n})},e.propTypes={cursorStart:Ze.number,editorProps:Ze.object,enableBasicAutocompletion:Ze.bool,enableLiveAutocompletion:Ze.bool,focus:Ze.bool,fontSize:Ze.number,height:Ze.string,highlightActiveLine:Ze.bool,maxLines:Ze.number,minLines:Ze.number,mode:Ze.string,name:Ze.string,className:Ze.string,onLoad:Ze.func,onPaste:Ze.func,onScroll:Ze.func,onChange:Ze.func,orientation:Ze.string,readOnly:Ze.bool,scrollMargin:Ze.array,setOptions:Ze.object,showGutter:Ze.bool,showPrintMargin:Ze.bool,splits:Ze.number,style:Ze.object,tabSize:Ze.number,theme:Ze.string,value:Ze.array,width:Ze.string,wrapEnabled:Ze.bool},e.defaultProps={cursorStart:1,editorProps:{},enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,focus:!1,fontSize:12,height:"500px",highlightActiveLine:!0,maxLines:null,minLines:null,mode:"",name:"ace-editor",onLoad:null,onScroll:null,onPaste:null,onChange:null,orientation:"beside",readOnly:!1,scrollMargin:[0,0,0,0],setOptions:{},showGutter:!0,showPrintMargin:!0,splits:2,style:{},tabSize:4,theme:"github",value:["",""],width:"500px",wrapEnabled:!0},e}(DO.Component);Xb.default=Q8,Object.defineProperty(fl,"__esModule",{value:!0}),fl.diff=fl.split=void 0;var J8=Gb,Z8=Xb;fl.diff=Z8.default;var eH=Rf;fl.split=eH.default;var tH=fl.default=J8.default;ace.config.set("basePath","/codeeditor");const IO=Object.freeze(Object.defineProperty({__proto__:null,default:t=>{const e=I.useRef(null);return I.useEffect(()=>{const n=i=>{(i.ctrlKey||i.metaKey)&&i.key==="f"&&(i.preventDefault(),e.current.editor.execCommand("find"))};return window.addEventListener("keydown",n),()=>{window.removeEventListener("keydown",n)}},[]),L(tH,{ref:e,...t,setOptions:{useWorker:!1},editorProps:{$blockScrolling:!0}})}},Symbol.toStringTag,{value:"Module"}));function an(t){this.content=t}an.prototype={constructor:an,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var i=n&&n!=t?this.remove(n):this,r=i.find(t),o=i.content.slice();return r==-1?o.push(n||t,e):(o[r+1]=e,n&&(o[r]=n)),new an(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new an(n)},addToStart:function(t,e){return new an([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new an(n)},addBefore:function(t,e,n){var i=this.remove(e),r=i.content.slice(),o=i.find(t);return r.splice(o==-1?r.length:o,0,e,n),new an(r)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=an.from(t),t.size?new an(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=an.from(t),t.size?new an(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=an.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}},an.from=function(t){if(t instanceof an)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new an(e)};function NO(t,e,n){for(let i=0;;i++){if(i==t.childCount||i==e.childCount)return t.childCount==e.childCount?null:n;let r=t.child(i),o=e.child(i);if(r==o){n+=r.nodeSize;continue}if(!r.sameMarkup(o))return n;if(r.isText&&r.text!=o.text){for(let s=0;r.text[s]==o.text[s];s++)n++;return n}if(r.content.size||o.content.size){let s=NO(r.content,o.content,n+1);if(s!=null)return s}n+=r.nodeSize}}function FO(t,e,n,i){for(let r=t.childCount,o=e.childCount;;){if(r==0||o==0)return r==o?null:{a:n,b:i};let s=t.child(--r),l=e.child(--o),a=s.nodeSize;if(s==l){n-=a,i-=a;continue}if(!s.sameMarkup(l))return{a:n,b:i};if(s.isText&&s.text!=l.text){let u=0,c=Math.min(s.text.length,l.text.length);for(;u<c&&s.text[s.text.length-u-1]==l.text[l.text.length-u-1];)u++,n--,i--;return{a:n,b:i}}if(s.content.size||l.content.size){let u=FO(s.content,l.content,n-1,i-1);if(u)return u}n-=a,i-=a}}class re{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let i=0;i<e.length;i++)this.size+=e[i].nodeSize}nodesBetween(e,n,i,r=0,o){for(let s=0,l=0;l<n;s++){let a=this.content[s],u=l+a.nodeSize;if(u>e&&i(a,r+l,o||null,s)!==!1&&a.content.size){let c=l+1;a.nodesBetween(Math.max(0,e-c),Math.min(a.content.size,n-c),i,r+c)}l=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,i,r){let o="",s=!0;return this.nodesBetween(e,n,(l,a)=>{l.isText?(o+=l.text.slice(Math.max(e,a)-a,n-a),s=!i):l.isLeaf?(r?o+=typeof r=="function"?r(l):r:l.type.spec.leafText&&(o+=l.type.spec.leafText(l)),s=!i):!s&&l.isBlock&&(o+=i,s=!0)},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,i=e.firstChild,r=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(i)&&(r[r.length-1]=n.withText(n.text+i.text),o=1);o<e.content.length;o++)r.push(e.content[o]);return new re(r,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let i=[],r=0;if(n>e)for(let o=0,s=0;s<n;o++){let l=this.content[o],a=s+l.nodeSize;a>e&&((s<e||a>n)&&(l.isText?l=l.cut(Math.max(0,e-s),Math.min(l.text.length,n-s)):l=l.cut(Math.max(0,e-s-1),Math.min(l.content.size,n-s-1))),i.push(l),r+=l.nodeSize),s=a}return new re(i,r)}cutByIndex(e,n){return e==n?re.empty:e==0&&n==this.content.length?this:new re(this.content.slice(e,n))}replaceChild(e,n){let i=this.content[e];if(i==n)return this;let r=this.content.slice(),o=this.size+n.nodeSize-i.nodeSize;return r[e]=n,new re(r,o)}addToStart(e){return new re([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new re(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,i=0;n<this.content.length;n++){let r=this.content[n];e(r,i,n),i+=r.nodeSize}}findDiffStart(e,n=0){return NO(this,e,n)}findDiffEnd(e,n=this.size,i=e.size){return FO(this,e,n,i)}findIndex(e,n=-1){if(e==0)return If(0,e);if(e==this.size)return If(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let i=0,r=0;;i++){let o=this.child(i),s=r+o.nodeSize;if(s>=e)return s==e||n>0?If(i+1,s):If(i,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return re.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new re(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return re.empty;let n,i=0;for(let r=0;r<e.length;r++){let o=e[r];i+=o.nodeSize,r&&o.isText&&e[r-1].sameMarkup(o)?(n||(n=e.slice(0,r)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new re(n||e,i)}static from(e){if(!e)return re.empty;if(e instanceof re)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new re([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}re.empty=new re([],0);const rw={index:0,offset:0};function If(t,e){return rw.index=t,rw.offset=e,rw}function Nf(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(!Nf(t[i],e[i]))return!1}else{for(let i in t)if(!(i in e)||!Nf(t[i],e[i]))return!1;for(let i in e)if(!(i in t))return!1}return!0}let rt=class bx{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,i=!1;for(let r=0;r<e.length;r++){let o=e[r];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,r));else{if(o.type.excludes(this.type))return e;!i&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,r)),n.push(this),i=!0),n&&n.push(o)}}return n||(n=e.slice()),i||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Nf(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let i=e.marks[n.type];if(!i)throw new RangeError(`There is no mark type ${n.type} in this schema`);return i.create(n.attrs)}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let i=0;i<e.length;i++)if(!e[i].eq(n[i]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return bx.none;if(e instanceof bx)return[e];let n=e.slice();return n.sort((i,r)=>i.type.rank-r.type.rank),n}};rt.none=[];class Ff extends Error{}class de{constructor(e,n,i){this.content=e,this.openStart=n,this.openEnd=i}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let i=BO(this.content,e+this.openStart,n);return i&&new de(i,this.openStart,this.openEnd)}removeBetween(e,n){return new de(zO(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return de.empty;let i=n.openStart||0,r=n.openEnd||0;if(typeof i!="number"||typeof r!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new de(re.fromJSON(e,n.content),i,r)}static maxOpen(e,n=!0){let i=0,r=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)i++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)r++;return new de(e,i,r)}}de.empty=new de(re.empty,0,0);function zO(t,e,n){let{index:i,offset:r}=t.findIndex(e),o=t.maybeChild(i),{index:s,offset:l}=t.findIndex(n);if(r==e||o.isText){if(l!=n&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(i!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(i,o.copy(zO(o.content,e-r-1,n-r-1)))}function BO(t,e,n,i){let{index:r,offset:o}=t.findIndex(e),s=t.maybeChild(r);if(o==e||s.isText)return i&&!i.canReplace(r,r,n)?null:t.cut(0,e).append(n).append(t.cut(e));let l=BO(s.content,e-o-1,n);return l&&t.replaceChild(r,s.copy(l))}function nH(t,e,n){if(n.openStart>t.depth)throw new Ff("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Ff("Inconsistent open depths");return jO(t,e,n,0)}function jO(t,e,n,i){let r=t.index(i),o=t.node(i);if(r==e.index(i)&&i<t.depth-n.openStart){let s=jO(t,e,n,i+1);return o.copy(o.content.replaceChild(r,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==i&&e.depth==i){let s=t.parent,l=s.content;return zs(s,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:s,end:l}=iH(n,t);return zs(o,WO(t,s,l,e,i))}else return zs(o,zf(t,e,i))}function VO(t,e){if(!e.type.compatibleContent(t.type))throw new Ff("Cannot join "+e.type.name+" onto "+t.type.name)}function ow(t,e,n){let i=t.node(n);return VO(i,e.node(n)),i}function Fs(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function ku(t,e,n,i){let r=(e||t).node(n),o=0,s=e?e.index(n):r.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(Fs(t.nodeAfter,i),o++));for(let l=o;l<s;l++)Fs(r.child(l),i);e&&e.depth==n&&e.textOffset&&Fs(e.nodeBefore,i)}function zs(t,e){return t.type.checkContent(e),t.copy(e)}function WO(t,e,n,i,r){let o=t.depth>r&&ow(t,e,r+1),s=i.depth>r&&ow(n,i,r+1),l=[];return ku(null,t,r,l),o&&s&&e.index(r)==n.index(r)?(VO(o,s),Fs(zs(o,WO(t,e,n,i,r+1)),l)):(o&&Fs(zs(o,zf(t,e,r+1)),l),ku(e,n,r,l),s&&Fs(zs(s,zf(n,i,r+1)),l)),ku(i,null,r,l),new re(l)}function zf(t,e,n){let i=[];if(ku(null,t,n,i),t.depth>n){let r=ow(t,e,n+1);Fs(zs(r,zf(t,e,n+1)),i)}return ku(e,null,n,i),new re(i)}function iH(t,e){let n=e.depth-t.openStart,r=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)r=e.node(o).copy(re.from(r));return{start:r.resolveNoCache(t.openStart+n),end:r.resolveNoCache(r.content.size-t.openEnd-n)}}class Cu{constructor(e,n,i){this.pos=e,this.path=n,this.parentOffset=i,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let i=this.pos-this.path[this.path.length-1],r=e.child(n);return i?e.child(n).cut(i):r}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let i=this.path[n*3],r=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)r+=i.child(o).nodeSize;return r}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return rt.none;if(this.textOffset)return e.child(n).marks;let i=e.maybeChild(n-1),r=e.maybeChild(n);if(!i){let l=i;i=r,r=l}let o=i.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!r||!o[s].isInSet(r.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let i=n.marks,r=e.parent.maybeChild(e.index());for(var o=0;o<i.length;o++)i[o].type.spec.inclusive===!1&&(!r||!i[o].isInSet(r.marks))&&(i=i[o--].removeFromSet(i));return i}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let i=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);i>=0;i--)if(e.pos<=this.end(i)&&(!n||n(this.node(i))))return new Bf(this,e,i);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let i=[],r=0,o=n;for(let s=e;;){let{index:l,offset:a}=s.content.findIndex(o),u=o-a;if(i.push(s,l,r+a),!u||(s=s.child(l),s.isText))break;o=u-1,r+=a+1}return new Cu(n,i,o)}static resolveCached(e,n){for(let r=0;r<sw.length;r++){let o=sw[r];if(o.pos==n&&o.doc==e)return o}let i=sw[aw]=Cu.resolve(e,n);return aw=(aw+1)%rH,i}}let sw=[],aw=0,rH=12;class Bf{constructor(e,n,i){this.$from=e,this.$to=n,this.depth=i}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const oH=Object.create(null);let Bs=class wx{constructor(e,n,i,r=rt.none){this.type=e,this.attrs=n,this.marks=r,this.content=i||re.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,i,r=0){this.content.nodesBetween(e,n,i,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,i,r){return this.content.textBetween(e,n,i,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,i){return this.type==e&&Nf(this.attrs,n||e.defaultAttrs||oH)&&rt.sameSet(this.marks,i||rt.none)}copy(e=null){return e==this.content?this:new wx(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new wx(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,i=!1){if(e==n)return de.empty;let r=this.resolve(e),o=this.resolve(n),s=i?0:r.sharedDepth(n),l=r.start(s),u=r.node(s).content.cut(r.pos-l,o.pos-l);return new de(u,r.depth-s,o.depth-s)}replace(e,n,i){return nH(this.resolve(e),this.resolve(n),i)}nodeAt(e){for(let n=this;;){let{index:i,offset:r}=n.content.findIndex(e);if(n=n.maybeChild(i),!n)return null;if(r==e||n.isText)return n;e-=r+1}}childAfter(e){let{index:n,offset:i}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:i}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:i}=this.content.findIndex(e);if(i<e)return{node:this.content.child(n),index:n,offset:i};let r=this.content.child(n-1);return{node:r,index:n-1,offset:i-r.nodeSize}}resolve(e){return Cu.resolveCached(this,e)}resolveNoCache(e){return Cu.resolve(this,e)}rangeHasMark(e,n,i){let r=!1;return n>e&&this.nodesBetween(e,n,o=>(i.isInSet(o.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),HO(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,i=re.empty,r=0,o=i.childCount){let s=this.contentMatchAt(e).matchFragment(i,r,o),l=s&&s.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let a=r;a<o;a++)if(!this.type.allowsMarks(i.child(a).marks))return!1;return!0}canReplaceWith(e,n,i,r){if(r&&!this.type.allowsMarks(r))return!1;let o=this.contentMatchAt(e).matchType(i),s=o&&o.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=rt.none;for(let n=0;n<this.marks.length;n++)e=this.marks[n].addToSet(e);if(!rt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let i=null;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");i=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,i)}let r=re.fromJSON(e,n.content);return e.nodeType(n.type).create(n.attrs,r,i)}};Bs.prototype.text=void 0;class jf extends Bs{constructor(e,n,i,r){if(super(e,n,null,r),!i)throw new RangeError("Empty text nodes are not allowed");this.text=i}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):HO(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new jf(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new jf(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function HO(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class js{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let i=new sH(e,n);if(i.next==null)return js.empty;let r=UO(i);i.next&&i.err("Unexpected trailing text");let o=fH(dH(r));return pH(o,i),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,i=e.childCount){let r=this;for(let o=n;r&&o<i;o++)r=r.matchType(e.child(o).type);return r}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let i=0;i<e.next.length;i++)if(this.next[n].type==e.next[i].type)return!0;return!1}fillBefore(e,n=!1,i=0){let r=[this];function o(s,l){let a=s.matchFragment(e,i);if(a&&(!n||a.validEnd))return re.from(l.map(u=>u.createAndFill()));for(let u=0;u<s.next.length;u++){let{type:c,next:h}=s.next[u];if(!(c.isText||c.hasRequiredAttrs())&&r.indexOf(h)==-1){r.push(h);let d=o(h,l.concat(c));if(d)return d}}return null}return o(this,[])}findWrapping(e){for(let i=0;i<this.wrapCache.length;i+=2)if(this.wrapCache[i]==e)return this.wrapCache[i+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),i=[{match:this,type:null,via:null}];for(;i.length;){let r=i.shift(),o=r.match;if(o.matchType(e)){let s=[];for(let l=r;l.type;l=l.via)s.push(l.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:l,next:a}=o.next[s];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!r.type||a.validEnd)&&(i.push({match:l.contentMatch,type:l,via:r}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(i){e.push(i);for(let r=0;r<i.next.length;r++)e.indexOf(i.next[r].next)==-1&&n(i.next[r].next)}return n(this),e.map((i,r)=>{let o=r+(i.validEnd?"*":" ")+" ";for(let s=0;s<i.next.length;s++)o+=(s?", ":"")+i.next[s].type.name+"->"+e.indexOf(i.next[s].next);return o}).join(`
`)}}js.empty=new js(!0);class sH{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function UO(t){let e=[];do e.push(aH(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function aH(t){let e=[];do e.push(lH(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function lH(t){let e=hH(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=cH(t,e);else break;return e}function KO(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function cH(t,e){let n=KO(t),i=n;return t.eat(",")&&(t.next!="}"?i=KO(t):i=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:i,expr:e}}function uH(t,e){let n=t.nodeTypes,i=n[e];if(i)return[i];let r=[];for(let o in n){let s=n[o];s.groups.indexOf(e)>-1&&r.push(s)}return r.length==0&&t.err("No node type or group '"+e+"' found"),r}function hH(t){if(t.eat("(")){let e=UO(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=uH(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function dH(t){let e=[[]];return r(o(t,0),n()),e;function n(){return e.push([])-1}function i(s,l,a){let u={term:a,to:l};return e[s].push(u),u}function r(s,l){s.forEach(a=>a.to=l)}function o(s,l){if(s.type=="choice")return s.exprs.reduce((a,u)=>a.concat(o(u,l)),[]);if(s.type=="seq")for(let a=0;;a++){let u=o(s.exprs[a],l);if(a==s.exprs.length-1)return u;r(u,l=n())}else if(s.type=="star"){let a=n();return i(l,a),r(o(s.expr,a),a),[i(a)]}else if(s.type=="plus"){let a=n();return r(o(s.expr,l),a),r(o(s.expr,a),a),[i(a)]}else{if(s.type=="opt")return[i(l)].concat(o(s.expr,l));if(s.type=="range"){let a=l;for(let u=0;u<s.min;u++){let c=n();r(o(s.expr,a),c),a=c}if(s.max==-1)r(o(s.expr,a),a);else for(let u=s.min;u<s.max;u++){let c=n();i(a,c),r(o(s.expr,a),c),a=c}return[i(a)]}else{if(s.type=="name")return[i(l,void 0,s.value)];throw new Error("Unknown expr type")}}}}function GO(t,e){return e-t}function YO(t,e){let n=[];return i(e),n.sort(GO);function i(r){let o=t[r];if(o.length==1&&!o[0].term)return i(o[0].to);n.push(r);for(let s=0;s<o.length;s++){let{term:l,to:a}=o[s];!l&&n.indexOf(a)==-1&&i(a)}}}function fH(t){let e=Object.create(null);return n(YO(t,0));function n(i){let r=[];i.forEach(s=>{t[s].forEach(({term:l,to:a})=>{if(!l)return;let u;for(let c=0;c<r.length;c++)r[c][0]==l&&(u=r[c][1]);YO(t,a).forEach(c=>{u||r.push([l,u=[]]),u.indexOf(c)==-1&&u.push(c)})})});let o=e[i.join(",")]=new js(i.indexOf(t.length-1)>-1);for(let s=0;s<r.length;s++){let l=r[s][1].sort(GO);o.next.push({type:r[s][0],next:e[l.join(",")]||n(l)})}return o}}function pH(t,e){for(let n=0,i=[t];n<i.length;n++){let r=i[n],o=!r.validEnd,s=[];for(let l=0;l<r.next.length;l++){let{type:a,next:u}=r.next[l];s.push(a.name),o&&!(a.isText||a.hasRequiredAttrs())&&(o=!1),i.indexOf(u)==-1&&i.push(u)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function XO(t){let e=Object.create(null);for(let n in t){let i=t[n];if(!i.hasDefault)return null;e[n]=i.default}return e}function qO(t,e){let n=Object.create(null);for(let i in t){let r=e&&e[i];if(r===void 0){let o=t[i];if(o.hasDefault)r=o.default;else throw new RangeError("No value supplied for attribute "+i)}n[i]=r}return n}function QO(t){let e=Object.create(null);if(t)for(let n in t)e[n]=new mH(t[n]);return e}let JO=class rI{constructor(e,n,i){this.name=e,this.schema=n,this.spec=i,this.markSet=null,this.groups=i.group?i.group.split(" "):[],this.attrs=QO(i.attrs),this.defaultAttrs=XO(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(i.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==js.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:qO(this.attrs,e)}create(e=null,n,i){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Bs(this,this.computeAttrs(e),re.from(n),rt.setFrom(i))}createChecked(e=null,n,i){return n=re.from(n),this.checkContent(n),new Bs(this,this.computeAttrs(e),n,rt.setFrom(i))}createAndFill(e=null,n,i){if(e=this.computeAttrs(e),n=re.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let r=this.contentMatch.matchFragment(n),o=r&&r.fillBefore(re.empty,!0);return o?new Bs(this,e,n.append(o),rt.setFrom(i)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let i=0;i<e.childCount;i++)if(!this.allowsMarks(e.child(i).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let i=0;i<e.length;i++)this.allowsMarkType(e[i].type)?n&&n.push(e[i]):n||(n=e.slice(0,i));return n?n.length?n:rt.none:e}static compile(e,n){let i=Object.create(null);e.forEach((o,s)=>i[o]=new rI(o,n,s));let r=n.spec.topNode||"doc";if(!i[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!i.text)throw new RangeError("Every schema needs a 'text' type");for(let o in i.text.attrs)throw new RangeError("The text node type should not have attributes");return i}};class mH{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class Vf{constructor(e,n,i,r){this.name=e,this.rank=n,this.schema=i,this.spec=r,this.attrs=QO(r.attrs),this.excluded=null;let o=XO(this.attrs);this.instance=o?new rt(this,o):null}create(e=null){return!e&&this.instance?this.instance:new rt(this,qO(this.attrs,e))}static compile(e,n){let i=Object.create(null),r=0;return e.forEach((o,s)=>i[o]=new Vf(o,r++,n,s)),i}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}excludes(e){return this.excluded.indexOf(e)>-1}}class gH{constructor(e){this.cached=Object.create(null);let n=this.spec={};for(let r in e)n[r]=e[r];n.nodes=an.from(e.nodes),n.marks=an.from(e.marks||{}),this.nodes=JO.compile(this.spec.nodes,this),this.marks=Vf.compile(this.spec.marks,this);let i=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let o=this.nodes[r],s=o.spec.content||"",l=o.spec.marks;o.contentMatch=i[s]||(i[s]=js.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.markSet=l=="_"?null:l?ZO(this,l.split(" ")):l==""||!o.inlineContent?[]:null}for(let r in this.marks){let o=this.marks[r],s=o.spec.excludes;o.excluded=s==null?[o]:s==""?[]:ZO(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,i,r){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof JO){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,i,r)}text(e,n){let i=this.nodes.text;return new jf(i,i.defaultAttrs,e,rt.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return Bs.fromJSON(this,e)}markFromJSON(e){return rt.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function ZO(t,e){let n=[];for(let i=0;i<e.length;i++){let r=e[i],o=t.marks[r],s=o;if(o)n.push(o);else for(let l in t.marks){let a=t.marks[l];(r=="_"||a.spec.group&&a.spec.group.split(" ").indexOf(r)>-1)&&n.push(s=a)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[i]+"'")}return n}let lw=class _x{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[],n.forEach(i=>{i.tag?this.tags.push(i):i.style&&this.styles.push(i)}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let r=e.nodes[i.node];return r.contentMatch.matchType(r)})}parse(e,n={}){let i=new iM(this,n,!1);return i.addAll(e,n.from,n.to),i.finish()}parseSlice(e,n={}){let i=new iM(this,n,!0);return i.addAll(e,n.from,n.to),de.maxOpen(i.finish())}matchTag(e,n,i){for(let r=i?this.tags.indexOf(i)+1:0;r<this.tags.length;r++){let o=this.tags[r];if(bH(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(e);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(e,n,i,r){for(let o=r?this.styles.indexOf(r)+1:0;o<this.styles.length;o++){let s=this.styles[o],l=s.style;if(!(l.indexOf(e)!=0||s.context&&!i.matchesContext(s.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(s.getAttrs){let a=s.getAttrs(n);if(a===!1)continue;s.attrs=a||void 0}return s}}}static schemaRules(e){let n=[];function i(r){let o=r.priority==null?50:r.priority,s=0;for(;s<n.length;s++){let l=n[s];if((l.priority==null?50:l.priority)<o)break}n.splice(s,0,r)}for(let r in e.marks){let o=e.marks[r].spec.parseDOM;o&&o.forEach(s=>{i(s=rM(s)),s.mark||s.ignore||s.clearMark||(s.mark=r)})}for(let r in e.nodes){let o=e.nodes[r].spec.parseDOM;o&&o.forEach(s=>{i(s=rM(s)),s.node||s.ignore||s.mark||(s.node=r)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new _x(e,_x.schemaRules(e)))}};const eM={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},vH={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},tM={ol:!0,ul:!0},Wf=1,Hf=2,Eu=4;function nM(t,e,n){return e!=null?(e?Wf:0)|(e==="full"?Hf:0):t&&t.whitespace=="pre"?Wf|Hf:n&~Eu}class Uf{constructor(e,n,i,r,o,s,l){this.type=e,this.attrs=n,this.marks=i,this.pendingMarks=r,this.solid=o,this.options=l,this.content=[],this.activeMarks=rt.none,this.stashMarks=[],this.match=s||(l&Eu?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(re.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let i=this.type.contentMatch,r;return(r=i.findWrapping(e.type))?(this.match=i,r):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Wf)){let i=this.content[this.content.length-1],r;if(i&&i.isText&&(r=/[ \t\r\n\u000c]+$/.exec(i.text))){let o=i;i.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-r[0].length))}}let n=re.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(re.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(e){for(let n=this.stashMarks.length-1;n>=0;n--)if(e.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(e){for(let n=0,i=this.pendingMarks;n<i.length;n++){let r=i[n];(this.type?this.type.allowsMarkType(r.type):_H(r.type,e))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!eM.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class iM{constructor(e,n,i){this.parser=e,this.options=n,this.isOpen=i,this.open=0;let r=n.topNode,o,s=nM(null,n.preserveWhitespace,0)|(i?Eu:0);r?o=new Uf(r.type,r.attrs,rt.none,rt.none,!0,n.topMatch||r.type.contentMatch,s):i?o=new Uf(null,null,rt.none,rt.none,!0,null,s):o=new Uf(e.schema.topNodeType,null,rt.none,rt.none,!0,null,s),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){e.nodeType==3?this.addTextNode(e):e.nodeType==1&&this.addElement(e)}withStyleRules(e,n){let i=e.getAttribute("style");if(!i)return n();let r=this.readStyles(wH(i));if(!r)return;let[o,s]=r,l=this.top;for(let a=0;a<s.length;a++)this.removePendingMark(s[a],l);for(let a=0;a<o.length;a++)this.addPendingMark(o[a]);n();for(let a=0;a<o.length;a++)this.removePendingMark(o[a],l);for(let a=0;a<s.length;a++)this.addPendingMark(s[a])}addTextNode(e){let n=e.nodeValue,i=this.top;if(i.options&Hf||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(i.options&Wf)i.options&Hf?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let r=i.content[i.content.length-1],o=e.previousSibling;(!r||o&&o.nodeName=="BR"||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(e)}else this.findInside(e)}addElement(e,n){let i=e.nodeName.toLowerCase(),r;tM.hasOwnProperty(i)&&this.parser.normalizeLists&&yH(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(r=this.parser.matchTag(e,this,n));if(o?o.ignore:vH.hasOwnProperty(i))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let s,l=this.top,a=this.needsBlock;if(eM.hasOwnProperty(i))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),s=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}o&&o.skip?this.addAll(e):this.withStyleRules(e,()=>this.addAll(e)),s&&this.sync(l),this.needsBlock=a}else this.withStyleRules(e,()=>{this.addElementByRule(e,o,o.consuming===!1?r:void 0)})}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let n=rt.none,i=rt.none;for(let r=0;r<e.length;r+=2)for(let o=void 0;;){let s=this.parser.matchStyle(e[r],e[r+1],this,o);if(!s)break;if(s.ignore)return null;if(s.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(l=>{s.clearMark(l)&&(i=l.addToSet(i))}):n=this.parser.schema.marks[s.mark].create(s.attrs).addToSet(n),s.consuming===!1)o=s;else break}return[n,i]}addElementByRule(e,n,i){let r,o,s;n.node?(o=this.parser.schema.nodes[n.node],o.isLeaf?this.insertNode(o.create(n.attrs))||this.leafFallback(e):r=this.enter(o,n.attrs||null,n.preserveWhitespace)):(s=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(s));let l=this.top;if(o&&o.isLeaf)this.findInside(e);else if(i)this.addElement(e,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(a=>this.insertNode(a));else{let a=e;typeof n.contentElement=="string"?a=e.querySelector(n.contentElement):typeof n.contentElement=="function"?a=n.contentElement(e):n.contentElement&&(a=n.contentElement),this.findAround(e,a,!0),this.addAll(a)}r&&this.sync(l)&&this.open--,s&&this.removePendingMark(s,l)}addAll(e,n,i){let r=n||0;for(let o=n?e.childNodes[n]:e.firstChild,s=i==null?null:e.childNodes[i];o!=s;o=o.nextSibling,++r)this.findAtPoint(e,r),this.addDOM(o);this.findAtPoint(e,r)}findPlace(e){let n,i;for(let r=this.open;r>=0;r--){let o=this.nodes[r],s=o.findWrapping(e);if(s&&(!n||n.length>s.length)&&(n=s,i=o,!s.length)||o.solid)break}if(!n)return!1;this.sync(i);for(let r=0;r<n.length;r++)this.enterInner(n[r],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(e)){this.closeExtra();let n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));let i=n.activeMarks;for(let r=0;r<e.marks.length;r++)(!n.type||n.type.allowsMarkType(e.marks[r].type))&&(i=e.marks[r].addToSet(i));return n.content.push(e.mark(i)),!0}return!1}enter(e,n,i){let r=this.findPlace(e.create(n));return r&&this.enterInner(e,n,!0,i),r}enterInner(e,n=null,i=!1,r){this.closeExtra();let o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e);let s=nM(e,r,o.options);o.options&Eu&&o.content.length==0&&(s|=Eu),this.nodes.push(new Uf(e,n,o.activeMarks,o.pendingMarks,i,null,s)),this.open++}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let i=this.nodes[n].content;for(let r=i.length-1;r>=0;r--)e+=i[r].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let i=0;i<this.find.length;i++)this.find[i].node==e&&this.find[i].offset==n&&(this.find[i].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,i){if(e!=n&&this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&n.compareDocumentPosition(this.find[r].node)&(i?2:4)&&(this.find[r].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),i=this.options.context,r=!this.isOpen&&(!i||i.parent.type==this.nodes[0].type),o=-(i?i.depth+1:0)+(r?0:1),s=(l,a)=>{for(;l>=0;l--){let u=n[l];if(u==""){if(l==n.length-1||l==0)continue;for(;a>=o;a--)if(s(l-1,a))return!0;return!1}else{let c=a>0||a==0&&r?this.nodes[a].type:i&&a>=o?i.node(a-o).type:null;if(!c||c.name!=u&&c.groups.indexOf(u)==-1)return!1;a--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(i&&i.isTextblock&&i.defaultAttrs)return i}for(let n in this.parser.schema.nodes){let i=this.parser.schema.nodes[n];if(i.isTextblock&&i.defaultAttrs)return i}}addPendingMark(e){let n=xH(e,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,n){for(let i=this.open;i>=0;i--){let r=this.nodes[i];if(r.pendingMarks.lastIndexOf(e)>-1)r.pendingMarks=e.removeFromSet(r.pendingMarks);else{r.activeMarks=e.removeFromSet(r.activeMarks);let s=r.popFromStashMark(e);s&&r.type&&r.type.allowsMarkType(s.type)&&(r.activeMarks=s.addToSet(r.activeMarks))}if(r==n)break}}}function yH(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let i=e.nodeType==1?e.nodeName.toLowerCase():null;i&&tM.hasOwnProperty(i)&&n?(n.appendChild(e),e=n):i=="li"?n=e:i&&(n=null)}}function bH(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function wH(t){let e=/\s*([\w-]+)\s*:\s*([^;]+)/g,n,i=[];for(;n=e.exec(t);)i.push(n[1],n[2].trim());return i}function rM(t){let e={};for(let n in t)e[n]=t[n];return e}function _H(t,e){let n=e.schema.nodes;for(let i in n){let r=n[i];if(!r.allowsMarkType(t))continue;let o=[],s=l=>{o.push(l);for(let a=0;a<l.edgeCount;a++){let{type:u,next:c}=l.edge(a);if(u==e||o.indexOf(c)<0&&s(c))return!0}};if(s(r.contentMatch))return!0}}function xH(t,e){for(let n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}class rr{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},i){i||(i=cw(n).createDocumentFragment());let r=i,o=[];return e.forEach(s=>{if(o.length||s.marks.length){let l=0,a=0;for(;l<o.length&&a<s.marks.length;){let u=s.marks[a];if(!this.marks[u.type.name]){a++;continue}if(!u.eq(o[l][0])||u.type.spec.spanning===!1)break;l++,a++}for(;l<o.length;)r=o.pop()[1];for(;a<s.marks.length;){let u=s.marks[a++],c=this.serializeMark(u,s.isInline,n);c&&(o.push([u,r]),r.appendChild(c.dom),r=c.contentDOM||c.dom)}}r.appendChild(this.serializeNodeInner(s,n))}),i}serializeNodeInner(e,n){let{dom:i,contentDOM:r}=rr.renderSpec(cw(n),this.nodes[e.type.name](e));if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,r)}return i}serializeNode(e,n={}){let i=this.serializeNodeInner(e,n);for(let r=e.marks.length-1;r>=0;r--){let o=this.serializeMark(e.marks[r],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(i),i=o.dom)}return i}serializeMark(e,n,i={}){let r=this.marks[e.type.name];return r&&rr.renderSpec(cw(i),r(e,n))}static renderSpec(e,n,i=null){if(typeof n=="string")return{dom:e.createTextNode(n)};if(n.nodeType!=null)return{dom:n};if(n.dom&&n.dom.nodeType!=null)return n;let r=n[0],o=r.indexOf(" ");o>0&&(i=r.slice(0,o),r=r.slice(o+1));let s,l=i?e.createElementNS(i,r):e.createElement(r),a=n[1],u=1;if(a&&typeof a=="object"&&a.nodeType==null&&!Array.isArray(a)){u=2;for(let c in a)if(a[c]!=null){let h=c.indexOf(" ");h>0?l.setAttributeNS(c.slice(0,h),c.slice(h+1),a[c]):l.setAttribute(c,a[c])}}for(let c=u;c<n.length;c++){let h=n[c];if(h===0){if(c<n.length-1||c>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:d,contentDOM:f}=rr.renderSpec(e,h,i);if(l.appendChild(d),f){if(s)throw new RangeError("Multiple content holes");s=f}}}return{dom:l,contentDOM:s}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new rr(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=oM(e.nodes);return n.text||(n.text=i=>i.text),n}static marksFromSchema(e){return oM(e.marks)}}function oM(t){let e={};for(let n in t){let i=t[n].spec.toDOM;i&&(e[n]=i)}return e}function cw(t){return t.document||window.document}const sM=65535,aM=Math.pow(2,16);function SH(t,e){return t+e*aM}function lM(t){return t&sM}function kH(t){return(t-(t&sM))/aM}const cM=1,uM=2,Kf=4,hM=8;class uw{constructor(e,n,i){this.pos=e,this.delInfo=n,this.recover=i}get deleted(){return(this.delInfo&hM)>0}get deletedBefore(){return(this.delInfo&(cM|Kf))>0}get deletedAfter(){return(this.delInfo&(uM|Kf))>0}get deletedAcross(){return(this.delInfo&Kf)>0}}class bi{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&bi.empty)return bi.empty}recover(e){let n=0,i=lM(e);if(!this.inverted)for(let r=0;r<i;r++)n+=this.ranges[r*3+2]-this.ranges[r*3+1];return this.ranges[i*3]+n+kH(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,i){let r=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?r:0);if(a>e)break;let u=this.ranges[l+o],c=this.ranges[l+s],h=a+u;if(e<=h){let d=u?e==a?-1:e==h?1:n:n,f=a+r+(d<0?0:c);if(i)return f;let p=e==(n<0?a:h)?null:SH(l/3,e-a),m=e==a?uM:e==h?cM:Kf;return(n<0?e!=a:e!=h)&&(m|=hM),new uw(f,m,p)}r+=c-u}return i?e+r:new uw(e+r,0,null)}touches(e,n){let i=0,r=lM(n),o=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?i:0);if(a>e)break;let u=this.ranges[l+o],c=a+u;if(e<=c&&l==r*3)return!0;i+=this.ranges[l+s]-u}return!1}forEach(e){let n=this.inverted?2:1,i=this.inverted?1:2;for(let r=0,o=0;r<this.ranges.length;r+=3){let s=this.ranges[r],l=s-(this.inverted?o:0),a=s+(this.inverted?0:o),u=this.ranges[r+n],c=this.ranges[r+i];e(l,l+u,a,a+c),o+=c-u}}invert(){return new bi(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?bi.empty:new bi(e<0?[0,-e,0]:[0,0,e])}}bi.empty=new bi([]);class gl{constructor(e=[],n,i=0,r=e.length){this.maps=e,this.mirror=n,this.from=i,this.to=r}slice(e=0,n=this.maps.length){return new gl(this.maps,this.mirror,e,n)}copy(){return new gl(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,i=this.maps.length;n<e.maps.length;n++){let r=e.getMirror(n);this.appendMap(e.maps[n],r!=null&&r<n?i+r:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,i=this.maps.length+e.maps.length;n>=0;n--){let r=e.getMirror(n);this.appendMap(e.maps[n].invert(),r!=null&&r>n?i-r-1:void 0)}}invert(){let e=new gl;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let i=this.from;i<this.to;i++)e=this.maps[i].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,i){let r=0;for(let o=this.from;o<this.to;o++){let s=this.maps[o],l=s.mapResult(e,n);if(l.recover!=null){let a=this.getMirror(o);if(a!=null&&a>o&&a<this.to){o=a,e=this.maps[a].recover(l.recover);continue}}r|=l.delInfo,e=l.pos}return i?e:new uw(e,r,null)}}const hw=Object.create(null);class Hn{getMap(){return bi.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let i=hw[n.stepType];if(!i)throw new RangeError(`No step type ${n.stepType} defined`);return i.fromJSON(e,n)}static jsonID(e,n){if(e in hw)throw new RangeError("Duplicate use of step JSON ID "+e);return hw[e]=n,n.prototype.jsonID=e,n}}class Ut{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Ut(e,null)}static fail(e){return new Ut(null,e)}static fromReplace(e,n,i,r){try{return Ut.ok(e.replace(n,i,r))}catch(o){if(o instanceof Ff)return Ut.fail(o.message);throw o}}}function dw(t,e,n){let i=[];for(let r=0;r<t.childCount;r++){let o=t.child(r);o.content.size&&(o=o.copy(dw(o.content,e,o))),o.isInline&&(o=e(o,n,r)),i.push(o)}return re.fromArray(i)}class Oo extends Hn{constructor(e,n,i){super(),this.from=e,this.to=n,this.mark=i}apply(e){let n=e.slice(this.from,this.to),i=e.resolve(this.from),r=i.node(i.sharedDepth(this.to)),o=new de(dw(n.content,(s,l)=>!s.isAtom||!l.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),r),n.openStart,n.openEnd);return Ut.fromReplace(e,this.from,this.to,o)}invert(){return new or(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new Oo(n.pos,i.pos,this.mark)}merge(e){return e instanceof Oo&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Oo(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Oo(n.from,n.to,e.markFromJSON(n.mark))}}Hn.jsonID("addMark",Oo);class or extends Hn{constructor(e,n,i){super(),this.from=e,this.to=n,this.mark=i}apply(e){let n=e.slice(this.from,this.to),i=new de(dw(n.content,r=>r.mark(this.mark.removeFromSet(r.marks)),e),n.openStart,n.openEnd);return Ut.fromReplace(e,this.from,this.to,i)}invert(){return new Oo(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new or(n.pos,i.pos,this.mark)}merge(e){return e instanceof or&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new or(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new or(n.from,n.to,e.markFromJSON(n.mark))}}Hn.jsonID("removeMark",or);class Mo extends Hn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ut.fail("No node at mark step's position");let i=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Ut.fromReplace(e,this.pos,this.pos+1,new de(re.from(i),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let i=this.mark.addToSet(n.marks);if(i.length==n.marks.length){for(let r=0;r<n.marks.length;r++)if(!n.marks[r].isInSet(i))return new Mo(this.pos,n.marks[r]);return new Mo(this.pos,this.mark)}}return new vl(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Mo(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Mo(n.pos,e.markFromJSON(n.mark))}}Hn.jsonID("addNodeMark",Mo);class vl extends Hn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ut.fail("No node at mark step's position");let i=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Ut.fromReplace(e,this.pos,this.pos+1,new de(re.from(i),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Mo(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new vl(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new vl(n.pos,e.markFromJSON(n.mark))}}Hn.jsonID("removeNodeMark",vl);class ln extends Hn{constructor(e,n,i,r=!1){super(),this.from=e,this.to=n,this.slice=i,this.structure=r}apply(e){return this.structure&&fw(e,this.from,this.to)?Ut.fail("Structure replace would overwrite content"):Ut.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new bi([this.from,this.to-this.from,this.slice.size])}invert(e){return new ln(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deletedAcross&&i.deletedAcross?null:new ln(n.pos,Math.max(n.pos,i.pos),this.slice)}merge(e){if(!(e instanceof ln)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?de.empty:new de(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new ln(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?de.empty:new de(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new ln(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ln(n.from,n.to,de.fromJSON(e,n.slice),!!n.structure)}}Hn.jsonID("replace",ln);class qt extends Hn{constructor(e,n,i,r,o,s,l=!1){super(),this.from=e,this.to=n,this.gapFrom=i,this.gapTo=r,this.slice=o,this.insert=s,this.structure=l}apply(e){if(this.structure&&(fw(e,this.from,this.gapFrom)||fw(e,this.gapTo,this.to)))return Ut.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Ut.fail("Gap is not a flat range");let i=this.slice.insertAt(this.insert,n.content);return i?Ut.fromReplace(e,this.from,this.to,i):Ut.fail("Content does not fit in gap")}getMap(){return new bi([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new qt(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1),r=e.map(this.gapFrom,-1),o=e.map(this.gapTo,1);return n.deletedAcross&&i.deletedAcross||r<n.pos||o>i.pos?null:new qt(n.pos,i.pos,r,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new qt(n.from,n.to,n.gapFrom,n.gapTo,de.fromJSON(e,n.slice),n.insert,!!n.structure)}}Hn.jsonID("replaceAround",qt);function fw(t,e,n){let i=t.resolve(e),r=n-e,o=i.depth;for(;r>0&&o>0&&i.indexAfter(o)==i.node(o).childCount;)o--,r--;if(r>0){let s=i.node(o).maybeChild(i.indexAfter(o));for(;r>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,r--}}return!1}function CH(t,e,n,i){let r=[],o=[],s,l;t.doc.nodesBetween(e,n,(a,u,c)=>{if(!a.isInline)return;let h=a.marks;if(!i.isInSet(h)&&c.type.allowsMarkType(i.type)){let d=Math.max(u,e),f=Math.min(u+a.nodeSize,n),p=i.addToSet(h);for(let m=0;m<h.length;m++)h[m].isInSet(p)||(s&&s.to==d&&s.mark.eq(h[m])?s.to=f:r.push(s=new or(d,f,h[m])));l&&l.to==d?l.to=f:o.push(l=new Oo(d,f,i))}}),r.forEach(a=>t.step(a)),o.forEach(a=>t.step(a))}function EH(t,e,n,i){let r=[],o=0;t.doc.nodesBetween(e,n,(s,l)=>{if(!s.isInline)return;o++;let a=null;if(i instanceof Vf){let u=s.marks,c;for(;c=i.isInSet(u);)(a||(a=[])).push(c),u=c.removeFromSet(u)}else i?i.isInSet(s.marks)&&(a=[i]):a=s.marks;if(a&&a.length){let u=Math.min(l+s.nodeSize,n);for(let c=0;c<a.length;c++){let h=a[c],d;for(let f=0;f<r.length;f++){let p=r[f];p.step==o-1&&h.eq(r[f].style)&&(d=p)}d?(d.to=u,d.step=o):r.push({style:h,from:Math.max(l,e),to:u,step:o})}}}),r.forEach(s=>t.step(new or(s.from,s.to,s.style)))}function TH(t,e,n,i=n.contentMatch){let r=t.doc.nodeAt(e),o=[],s=e+1;for(let l=0;l<r.childCount;l++){let a=r.child(l),u=s+a.nodeSize,c=i.matchType(a.type);if(!c)o.push(new ln(s,u,de.empty));else{i=c;for(let h=0;h<a.marks.length;h++)n.allowsMarkType(a.marks[h].type)||t.step(new or(s,u,a.marks[h]));if(a.isText&&!n.spec.code){let h,d=/\r?\n|\r/g,f;for(;h=d.exec(a.text);)f||(f=new de(re.from(n.schema.text(" ",n.allowedMarks(a.marks))),0,0)),o.push(new ln(s+h.index,s+h.index+h[0].length,f))}}s=u}if(!i.validEnd){let l=i.fillBefore(re.empty,!0);t.replace(s,s,new de(l,0,0))}for(let l=o.length-1;l>=0;l--)t.step(o[l])}function $H(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function yl(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let i=t.depth;;--i){let r=t.$from.node(i),o=t.$from.index(i),s=t.$to.indexAfter(i);if(i<t.depth&&r.canReplace(o,s,n))return i;if(i==0||r.type.spec.isolating||!$H(r,o,s))break}return null}function AH(t,e,n){let{$from:i,$to:r,depth:o}=e,s=i.before(o+1),l=r.after(o+1),a=s,u=l,c=re.empty,h=0;for(let p=o,m=!1;p>n;p--)m||i.index(p)>0?(m=!0,c=re.from(i.node(p).copy(c)),h++):a--;let d=re.empty,f=0;for(let p=o,m=!1;p>n;p--)m||r.after(p+1)<r.end(p)?(m=!0,d=re.from(r.node(p).copy(d)),f++):u++;t.step(new qt(a,u,s,l,new de(c.append(d),h,f),c.size-h,!0))}function pw(t,e,n=null,i=t){let r=OH(t,e),o=r&&MH(i,e);return o?r.map(dM).concat({type:e,attrs:n}).concat(o.map(dM)):null}function dM(t){return{type:t,attrs:null}}function OH(t,e){let{parent:n,startIndex:i,endIndex:r}=t,o=n.contentMatchAt(i).findWrapping(e);if(!o)return null;let s=o.length?o[0]:e;return n.canReplaceWith(i,r,s)?o:null}function MH(t,e){let{parent:n,startIndex:i,endIndex:r}=t,o=n.child(i),s=e.contentMatch.findWrapping(o.type);if(!s)return null;let a=(s.length?s[s.length-1]:e).contentMatch;for(let u=i;a&&u<r;u++)a=a.matchType(n.child(u).type);return!a||!a.validEnd?null:s}function LH(t,e,n){let i=re.empty;for(let s=n.length-1;s>=0;s--){if(i.size){let l=n[s].type.contentMatch.matchFragment(i);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=re.from(n[s].type.create(n[s].attrs,i))}let r=e.start,o=e.end;t.step(new qt(r,o,r,o,new de(i,0,0),n.length,!0))}function RH(t,e,n,i,r){if(!i.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(s,l)=>{if(s.isTextblock&&!s.hasMarkup(i,r)&&PH(t.doc,t.mapping.slice(o).map(l),i)){t.clearIncompatible(t.mapping.slice(o).map(l,1),i);let a=t.mapping.slice(o),u=a.map(l,1),c=a.map(l+s.nodeSize,1);return t.step(new qt(u,c,u+1,c-1,new de(re.from(i.create(r,null,s.marks)),0,0),1,!0)),!1}})}function PH(t,e,n){let i=t.resolve(e),r=i.index();return i.parent.canReplaceWith(r,r+1,n)}function DH(t,e,n,i,r){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let s=n.create(i,null,r||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,s);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new qt(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new de(re.from(s),0,0),1,!0))}function bl(t,e,n=1,i){let r=t.resolve(e),o=r.depth-n,s=i&&i[i.length-1]||r.parent;if(o<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!s.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(let u=r.depth-1,c=n-2;u>o;u--,c--){let h=r.node(u),d=r.index(u);if(h.type.spec.isolating)return!1;let f=h.content.cutByIndex(d,h.childCount),p=i&&i[c+1];p&&(f=f.replaceChild(0,p.type.create(p.attrs)));let m=i&&i[c]||h;if(!h.canReplace(d+1,h.childCount)||!m.type.validContent(f))return!1}let l=r.indexAfter(o),a=i&&i[0];return r.node(o).canReplaceWith(l,l,a?a.type:r.node(o+1).type)}function IH(t,e,n=1,i){let r=t.doc.resolve(e),o=re.empty,s=re.empty;for(let l=r.depth,a=r.depth-n,u=n-1;l>a;l--,u--){o=re.from(r.node(l).copy(o));let c=i&&i[u];s=re.from(c?c.type.create(c.attrs,s):r.node(l).copy(s))}t.step(new ln(e,e,new de(o.append(s),n,n),!0))}function Lo(t,e){let n=t.resolve(e),i=n.index();return fM(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(i,i+1)}function fM(t,e){return!!(t&&e&&!t.isLeaf&&t.canAppend(e))}function Gf(t,e,n=-1){let i=t.resolve(e);for(let r=i.depth;;r--){let o,s,l=i.index(r);if(r==i.depth?(o=i.nodeBefore,s=i.nodeAfter):n>0?(o=i.node(r+1),l++,s=i.node(r).maybeChild(l)):(o=i.node(r).maybeChild(l-1),s=i.node(r+1)),o&&!o.isTextblock&&fM(o,s)&&i.node(r).canReplace(l,l+1))return e;if(r==0)break;e=n<0?i.before(r):i.after(r)}}function NH(t,e,n){let i=new ln(e-n,e+n,de.empty,!0);t.step(i)}function FH(t,e,n){let i=t.resolve(e);if(i.parent.canReplaceWith(i.index(),i.index(),n))return e;if(i.parentOffset==0)for(let r=i.depth-1;r>=0;r--){let o=i.index(r);if(i.node(r).canReplaceWith(o,o,n))return i.before(r+1);if(o>0)return null}if(i.parentOffset==i.parent.content.size)for(let r=i.depth-1;r>=0;r--){let o=i.indexAfter(r);if(i.node(r).canReplaceWith(o,o,n))return i.after(r+1);if(o<i.node(r).childCount)return null}return null}function pM(t,e,n){let i=t.resolve(e);if(!n.content.size)return e;let r=n.content;for(let o=0;o<n.openStart;o++)r=r.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let s=i.depth;s>=0;s--){let l=s==i.depth?0:i.pos<=(i.start(s+1)+i.end(s+1))/2?-1:1,a=i.index(s)+(l>0?1:0),u=i.node(s),c=!1;if(o==1)c=u.canReplace(a,a,r);else{let h=u.contentMatchAt(a).findWrapping(r.firstChild.type);c=h&&u.canReplaceWith(a,a,h[0])}if(c)return l==0?i.pos:l<0?i.before(s+1):i.after(s+1)}return null}function mw(t,e,n=e,i=de.empty){if(e==n&&!i.size)return null;let r=t.resolve(e),o=t.resolve(n);return mM(r,o,i)?new ln(e,n,i):new zH(r,o,i).fit()}function mM(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class zH{constructor(e,n,i){this.$from=e,this.$to=n,this.unplaced=i,this.frontier=[],this.placed=re.empty;for(let r=0;r<=e.depth;r++){let o=e.node(r);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(r))})}for(let r=e.depth;r>0;r--)this.placed=re.from(e.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,i=this.$from,r=this.close(e<0?this.$to:i.doc.resolve(e));if(!r)return null;let o=this.placed,s=i.depth,l=r.depth;for(;s&&l&&o.childCount==1;)o=o.firstChild.content,s--,l--;let a=new de(o,s,l);return e>-1?new qt(i.pos,e,this.$to.pos,this.$to.end(),a,n):a.size||i.pos!=this.$to.pos?new ln(i.pos,r.pos,a):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,i=0,r=this.unplaced.openEnd;i<e;i++){let o=n.firstChild;if(n.childCount>1&&(r=0),o.type.spec.isolating&&r<=i){e=i;break}n=o.content}for(let n=1;n<=2;n++)for(let i=n==1?e:this.unplaced.openStart;i>=0;i--){let r,o=null;i?(o=gw(this.unplaced.content,i-1).firstChild,r=o.content):r=this.unplaced.content;let s=r.firstChild;for(let l=this.depth;l>=0;l--){let{type:a,match:u}=this.frontier[l],c,h=null;if(n==1&&(s?u.matchType(s.type)||(h=u.fillBefore(re.from(s),!1)):o&&a.compatibleContent(o.type)))return{sliceDepth:i,frontierDepth:l,parent:o,inject:h};if(n==2&&s&&(c=u.findWrapping(s.type)))return{sliceDepth:i,frontierDepth:l,parent:o,wrap:c};if(o&&u.matchType(o.type))break}}}openMore(){let{content:e,openStart:n,openEnd:i}=this.unplaced,r=gw(e,n);return!r.childCount||r.firstChild.isLeaf?!1:(this.unplaced=new de(e,n+1,Math.max(i,r.size+n>=e.size-i?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:i}=this.unplaced,r=gw(e,n);if(r.childCount<=1&&n>0){let o=e.size-n<=n+r.size;this.unplaced=new de(Tu(e,n-1,1),n-1,o?n-1:i)}else this.unplaced=new de(Tu(e,n,1),n,i)}placeNodes({sliceDepth:e,frontierDepth:n,parent:i,inject:r,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let m=0;m<o.length;m++)this.openFrontierNode(o[m]);let s=this.unplaced,l=i?i.content:s.content,a=s.openStart-e,u=0,c=[],{match:h,type:d}=this.frontier[n];if(r){for(let m=0;m<r.childCount;m++)c.push(r.child(m));h=h.matchFragment(r)}let f=l.size+e-(s.content.size-s.openEnd);for(;u<l.childCount;){let m=l.child(u),g=h.matchType(m.type);if(!g)break;u++,(u>1||a==0||m.content.size)&&(h=g,c.push(gM(m.mark(d.allowedMarks(m.marks)),u==1?a:0,u==l.childCount?f:-1)))}let p=u==l.childCount;p||(f=-1),this.placed=$u(this.placed,n,re.from(c)),this.frontier[n].match=h,p&&f<0&&i&&i.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let m=0,g=l;m<f;m++){let v=g.lastChild;this.frontier.push({type:v.type,match:v.contentMatchAt(v.childCount)}),g=v.content}this.unplaced=p?e==0?de.empty:new de(Tu(s.content,e-1,1),e-1,f<0?s.openEnd:e-1):new de(Tu(s.content,e,u),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!vw(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:i}=this.$to,r=this.$to.after(i);for(;i>1&&r==this.$to.end(--i);)++r;return r}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:i,type:r}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),s=vw(e,n,r,i,o);if(s){for(let l=n-1;l>=0;l--){let{match:a,type:u}=this.frontier[l],c=vw(e,l,u,a,!0);if(!c||c.childCount)continue e}return{depth:n,fit:s,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=$u(this.placed,n.depth,n.fit)),e=n.move;for(let i=n.depth+1;i<=e.depth;i++){let r=e.node(i),o=r.type.contentMatch.fillBefore(r.content,!0,e.index(i));this.openFrontierNode(r.type,r.attrs,o)}return e}openFrontierNode(e,n=null,i){let r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=$u(this.placed,this.depth,re.from(e.create(n,i))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(re.empty,!0);n.childCount&&(this.placed=$u(this.placed,this.frontier.length,n))}}function Tu(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Tu(t.firstChild.content,e-1,n)))}function $u(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy($u(t.lastChild.content,e-1,n)))}function gw(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function gM(t,e,n){if(e<=0)return t;let i=t.content;return e>1&&(i=i.replaceChild(0,gM(i.firstChild,e-1,i.childCount==1?n-1:0))),e>0&&(i=t.type.contentMatch.fillBefore(i).append(i),n<=0&&(i=i.append(t.type.contentMatch.matchFragment(i).fillBefore(re.empty,!0)))),t.copy(i)}function vw(t,e,n,i,r){let o=t.node(e),s=r?t.indexAfter(e):t.index(e);if(s==o.childCount&&!n.compatibleContent(o.type))return null;let l=i.fillBefore(o.content,!0,s);return l&&!BH(n,o.content,s)?l:null}function BH(t,e,n){for(let i=n;i<e.childCount;i++)if(!t.allowsMarks(e.child(i).marks))return!0;return!1}function jH(t){return t.spec.defining||t.spec.definingForContent}function VH(t,e,n,i){if(!i.size)return t.deleteRange(e,n);let r=t.doc.resolve(e),o=t.doc.resolve(n);if(mM(r,o,i))return t.step(new ln(e,n,i));let s=yM(r,t.doc.resolve(n));s[s.length-1]==0&&s.pop();let l=-(r.depth+1);s.unshift(l);for(let d=r.depth,f=r.pos-1;d>0;d--,f--){let p=r.node(d).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;s.indexOf(d)>-1?l=d:r.before(d)==f&&s.splice(1,0,-d)}let a=s.indexOf(l),u=[],c=i.openStart;for(let d=i.content,f=0;;f++){let p=d.firstChild;if(u.push(p),f==i.openStart)break;d=p.content}for(let d=c-1;d>=0;d--){let f=u[d],p=jH(f.type);if(p&&!f.sameMarkup(r.node(Math.abs(l)-1)))c=d;else if(p||!f.type.isTextblock)break}for(let d=i.openStart;d>=0;d--){let f=(d+c+1)%(i.openStart+1),p=u[f];if(p)for(let m=0;m<s.length;m++){let g=s[(m+a)%s.length],v=!0;g<0&&(v=!1,g=-g);let y=r.node(g-1),k=r.index(g-1);if(y.canReplaceWith(k,k,p.type,p.marks))return t.replace(r.before(g),v?o.after(g):n,new de(vM(i.content,0,i.openStart,f),f,i.openEnd))}}let h=t.steps.length;for(let d=s.length-1;d>=0&&(t.replace(e,n,i),!(t.steps.length>h));d--){let f=s[d];f<0||(e=r.before(f),n=o.after(f))}}function vM(t,e,n,i,r){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(vM(o.content,e+1,n,i,o)))}if(e>i){let o=r.contentMatchAt(0),s=o.fillBefore(t).append(t);t=s.append(o.matchFragment(s).fillBefore(re.empty,!0))}return t}function WH(t,e,n,i){if(!i.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let r=FH(t.doc,e,i.type);r!=null&&(e=n=r)}t.replaceRange(e,n,new de(re.from(i),0,0))}function HH(t,e,n){let i=t.doc.resolve(e),r=t.doc.resolve(n),o=yM(i,r);for(let s=0;s<o.length;s++){let l=o[s],a=s==o.length-1;if(a&&l==0||i.node(l).type.contentMatch.validEnd)return t.delete(i.start(l),r.end(l));if(l>0&&(a||i.node(l-1).canReplace(i.index(l-1),r.indexAfter(l-1))))return t.delete(i.before(l),r.after(l))}for(let s=1;s<=i.depth&&s<=r.depth;s++)if(e-i.start(s)==i.depth-s&&n>i.end(s)&&r.end(s)-n!=r.depth-s)return t.delete(i.before(s),n);t.delete(e,n)}function yM(t,e){let n=[],i=Math.min(t.depth,e.depth);for(let r=i;r>=0;r--){let o=t.start(r);if(o<t.pos-(t.depth-r)||e.end(r)>e.pos+(e.depth-r)||t.node(r).type.spec.isolating||e.node(r).type.spec.isolating)break;(o==e.start(r)||r==t.depth&&r==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&r&&e.start(r-1)==o-1)&&n.push(r)}return n}class wl extends Hn{constructor(e,n,i){super(),this.pos=e,this.attr=n,this.value=i}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ut.fail("No node at attribute step's position");let i=Object.create(null);for(let o in n.attrs)i[o]=n.attrs[o];i[this.attr]=this.value;let r=n.type.create(i,null,n.marks);return Ut.fromReplace(e,this.pos,this.pos+1,new de(re.from(r),0,n.isLeaf?0:1))}getMap(){return bi.empty}invert(e){return new wl(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new wl(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new wl(n.pos,n.attr,n.value)}}Hn.jsonID("attr",wl);let _l=class extends Error{};_l=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n},_l.prototype=Object.create(Error.prototype),_l.prototype.constructor=_l,_l.prototype.name="TransformError";class bM{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new gl}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new _l(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,i=de.empty){let r=mw(this.doc,e,n,i);return r&&this.step(r),this}replaceWith(e,n,i){return this.replace(e,n,new de(re.from(i),0,0))}delete(e,n){return this.replace(e,n,de.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,i){return VH(this,e,n,i),this}replaceRangeWith(e,n,i){return WH(this,e,n,i),this}deleteRange(e,n){return HH(this,e,n),this}lift(e,n){return AH(this,e,n),this}join(e,n=1){return NH(this,e,n),this}wrap(e,n){return LH(this,e,n),this}setBlockType(e,n=e,i,r=null){return RH(this,e,n,i,r),this}setNodeMarkup(e,n,i=null,r){return DH(this,e,n,i,r),this}setNodeAttribute(e,n,i){return this.step(new wl(e,n,i)),this}addNodeMark(e,n){return this.step(new Mo(e,n)),this}removeNodeMark(e,n){if(!(n instanceof rt)){let i=this.doc.nodeAt(e);if(!i)throw new RangeError("No node at position "+e);if(n=n.isInSet(i.marks),!n)return this}return this.step(new vl(e,n)),this}split(e,n=1,i){return IH(this,e,n,i),this}addMark(e,n,i){return CH(this,e,n,i),this}removeMark(e,n,i){return EH(this,e,n,i),this}clearIncompatible(e,n,i){return TH(this,e,n,i),this}}const yw=Object.create(null);class Ve{constructor(e,n,i){this.$anchor=e,this.$head=n,this.ranges=i||[new UH(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=de.empty){let i=n.content.lastChild,r=null;for(let l=0;l<n.openEnd;l++)r=i,i=i.lastChild;let o=e.steps.length,s=this.ranges;for(let l=0;l<s.length;l++){let{$from:a,$to:u}=s[l],c=e.mapping.slice(o);e.replaceRange(c.map(a.pos),c.map(u.pos),l?de.empty:n),l==0&&xM(e,o,(i?i.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(e,n){let i=e.steps.length,r=this.ranges;for(let o=0;o<r.length;o++){let{$from:s,$to:l}=r[o],a=e.mapping.slice(i),u=a.map(s.pos),c=a.map(l.pos);o?e.deleteRange(u,c):(e.replaceRangeWith(u,c,n),xM(e,i,n.isInline?-1:1))}}static findFrom(e,n,i=!1){let r=e.parent.inlineContent?new Be(e):xl(e.node(0),e.parent,e.pos,e.index(),n,i);if(r)return r;for(let o=e.depth-1;o>=0;o--){let s=n<0?xl(e.node(0),e.node(o),e.before(o+1),e.index(o),n,i):xl(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,i);if(s)return s}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Bi(e.node(0))}static atStart(e){return xl(e,e,0,0,1)||new Bi(e)}static atEnd(e){return xl(e,e,e.content.size,e.childCount,-1)||new Bi(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let i=yw[n.type];if(!i)throw new RangeError(`No selection type ${n.type} defined`);return i.fromJSON(e,n)}static jsonID(e,n){if(e in yw)throw new RangeError("Duplicate use of selection JSON ID "+e);return yw[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Be.between(this.$anchor,this.$head).getBookmark()}}Ve.prototype.visible=!0;class UH{constructor(e,n){this.$from=e,this.$to=n}}let wM=!1;function _M(t){!wM&&!t.parent.inlineContent&&(wM=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Be extends Ve{constructor(e,n=e){_M(e),_M(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let i=e.resolve(n.map(this.head));if(!i.parent.inlineContent)return Ve.near(i);let r=e.resolve(n.map(this.anchor));return new Be(r.parent.inlineContent?r:i,i)}replace(e,n=de.empty){if(super.replace(e,n),n==de.empty){let i=this.$from.marksAcross(this.$to);i&&e.ensureMarks(i)}}eq(e){return e instanceof Be&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Yf(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Be(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,i=n){let r=e.resolve(n);return new this(r,i==n?r:e.resolve(i))}static between(e,n,i){let r=e.pos-n.pos;if((!i||r)&&(i=r>=0?1:-1),!n.parent.inlineContent){let o=Ve.findFrom(n,i,!0)||Ve.findFrom(n,-i,!0);if(o)n=o.$head;else return Ve.near(n,i)}return e.parent.inlineContent||(r==0?e=n:(e=(Ve.findFrom(e,-i,!0)||Ve.findFrom(e,i,!0)).$anchor,e.pos<n.pos!=r<0&&(e=n))),new Be(e,n)}}Ve.jsonID("text",Be);class Yf{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Yf(e.map(this.anchor),e.map(this.head))}resolve(e){return Be.between(e.resolve(this.anchor),e.resolve(this.head))}}class Oe extends Ve{constructor(e){let n=e.nodeAfter,i=e.node(0).resolve(e.pos+n.nodeSize);super(e,i),this.node=n}map(e,n){let{deleted:i,pos:r}=n.mapResult(this.anchor),o=e.resolve(r);return i?Ve.near(o):new Oe(o)}content(){return new de(re.from(this.node),0,0)}eq(e){return e instanceof Oe&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new bw(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Oe(e.resolve(n.anchor))}static create(e,n){return new Oe(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Oe.prototype.visible=!1,Ve.jsonID("node",Oe);class bw{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:i}=e.mapResult(this.anchor);return n?new Yf(i,i):new bw(i)}resolve(e){let n=e.resolve(this.anchor),i=n.nodeAfter;return i&&Oe.isSelectable(i)?new Oe(n):Ve.near(n)}}class Bi extends Ve{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=de.empty){if(n==de.empty){e.delete(0,e.doc.content.size);let i=Ve.atStart(e.doc);i.eq(e.selection)||e.setSelection(i)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Bi(e)}map(e){return new Bi(e)}eq(e){return e instanceof Bi}getBookmark(){return KH}}Ve.jsonID("all",Bi);const KH={map(){return this},resolve(t){return new Bi(t)}};function xl(t,e,n,i,r,o=!1){if(e.inlineContent)return Be.create(t,n);for(let s=i-(r>0?0:1);r>0?s<e.childCount:s>=0;s+=r){let l=e.child(s);if(l.isAtom){if(!o&&Oe.isSelectable(l))return Oe.create(t,n-(r<0?l.nodeSize:0))}else{let a=xl(t,l,n+r,r<0?l.childCount:0,r,o);if(a)return a}n+=l.nodeSize*r}return null}function xM(t,e,n){let i=t.steps.length-1;if(i<e)return;let r=t.steps[i];if(!(r instanceof ln||r instanceof qt))return;let o=t.mapping.maps[i],s;o.forEach((l,a,u,c)=>{s==null&&(s=c)}),t.setSelection(Ve.near(t.doc.resolve(s),n))}const SM=1,Xf=2,kM=4;class GH extends bM{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|SM)&~Xf,this.storedMarks=null,this}get selectionSet(){return(this.updated&SM)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Xf,this}ensureMarks(e){return rt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Xf)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Xf,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let i=this.selection;return n&&(e=e.mark(this.storedMarks||(i.empty?i.$from.marks():i.$from.marksAcross(i.$to)||rt.none))),i.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,i){let r=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(i==null&&(i=n),i=i??n,!e)return this.deleteRange(n,i);let o=this.storedMarks;if(!o){let s=this.doc.resolve(n);o=i==n?s.marks():s.marksAcross(this.doc.resolve(i))}return this.replaceRangeWith(n,i,r.text(e,o)),this.selection.empty||this.setSelection(Ve.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=kM,this}get scrolledIntoView(){return(this.updated&kM)>0}}function CM(t,e){return!e||!t?t:t.bind(e)}class Au{constructor(e,n,i){this.name=e,this.init=CM(n.init,i),this.apply=CM(n.apply,i)}}const YH=[new Au("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Au("selection",{init(t,e){return t.selection||Ve.atStart(e.doc)},apply(t){return t.selection}}),new Au("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,i){return i.selection.$cursor?t.storedMarks:null}}),new Au("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class ww{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=YH.slice(),n&&n.forEach(i=>{if(this.pluginsByKey[i.key])throw new RangeError("Adding different instances of a keyed plugin ("+i.key+")");this.plugins.push(i),this.pluginsByKey[i.key]=i,i.spec.state&&this.fields.push(new Au(i.key,i.spec.state,i))})}}class Sl{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let i=0;i<this.config.plugins.length;i++)if(i!=n){let r=this.config.plugins[i];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],i=this.applyInner(e),r=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let l=this.config.plugins[s];if(l.spec.appendTransaction){let a=r?r[s].n:0,u=r?r[s].state:this,c=a<n.length&&l.spec.appendTransaction.call(l,a?n.slice(a):n,u,i);if(c&&i.filterTransaction(c,s)){if(c.setMeta("appendedTransaction",e),!r){r=[];for(let h=0;h<this.config.plugins.length;h++)r.push(h<s?{state:i,n:n.length}:{state:this,n:0})}n.push(c),i=i.applyInner(c),o=!0}r&&(r[s]={state:i,n:n.length})}}if(!o)return{state:i,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Sl(this.config),i=this.config.fields;for(let r=0;r<i.length;r++){let o=i[r];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new GH(this)}static create(e){let n=new ww(e.doc?e.doc.type.schema:e.schema,e.plugins),i=new Sl(n);for(let r=0;r<n.fields.length;r++)i[n.fields[r].name]=n.fields[r].init(e,i);return i}reconfigure(e){let n=new ww(this.schema,e.plugins),i=n.fields,r=new Sl(n);for(let o=0;o<i.length;o++){let s=i[o].name;r[s]=this.hasOwnProperty(s)?this[s]:i[o].init(e,r)}return r}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(i=>i.toJSON())),e&&typeof e=="object")for(let i in e){if(i=="doc"||i=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[i],o=r.spec.state;o&&o.toJSON&&(n[i]=o.toJSON.call(r,this[r.key]))}return n}static fromJSON(e,n,i){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let r=new ww(e.schema,e.plugins),o=new Sl(r);return r.fields.forEach(s=>{if(s.name=="doc")o.doc=Bs.fromJSON(e.schema,n.doc);else if(s.name=="selection")o.selection=Ve.fromJSON(o.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(i)for(let l in i){let a=i[l],u=a.spec.state;if(a.key==s.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){o[s.name]=u.fromJSON.call(a,e,n[l],o);return}}o[s.name]=s.init(e,o)}}),o}}function EM(t,e,n){for(let i in t){let r=t[i];r instanceof Function?r=r.bind(e):i=="handleDOMEvents"&&(r=EM(r,e,{})),n[i]=r}return n}class bn{constructor(e){this.spec=e,this.props={},e.props&&EM(e.props,this,this.props),this.key=e.key?e.key.key:TM("plugin")}getState(e){return e[this.key]}}const _w=Object.create(null);function TM(t){return t in _w?t+"$"+ ++_w[t]:(_w[t]=0,t+"$")}class wi{constructor(e="key"){this.key=TM(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const On=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Ou=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let $M=null;const Fr=function(t,e,n){let i=$M||($M=document.createRange());return i.setEnd(t,n??t.nodeValue.length),i.setStart(t,e||0),i},Vs=function(t,e,n,i){return n&&(AM(t,e,n,i,-1)||AM(t,e,n,i,1))},XH=/^(img|br|input|textarea|hr)$/i;function AM(t,e,n,i,r){for(;;){if(t==n&&e==i)return!0;if(e==(r<0?0:sr(t))){let o=t.parentNode;if(!o||o.nodeType!=1||xw(t)||XH.test(t.nodeName)||t.contentEditable=="false")return!1;e=On(t)+(r<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(r<0?-1:0)],t.contentEditable=="false")return!1;e=r<0?sr(t):0}else return!1}}function sr(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function qH(t,e,n){for(let i=e==0,r=e==sr(t);i||r;){if(t==n)return!0;let o=On(t);if(t=t.parentNode,!t)return!1;i=i&&o==0,r=r&&o==sr(t)}}function xw(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const qf=function(t){return t.focusNode&&Vs(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Ws(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function QH(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function JH(t,e,n){if(t.caretPositionFromPoint)try{let i=t.caretPositionFromPoint(e,n);if(i)return{node:i.offsetNode,offset:i.offset}}catch{}if(t.caretRangeFromPoint){let i=t.caretRangeFromPoint(e,n);if(i)return{node:i.startContainer,offset:i.startOffset}}}const ar=typeof navigator<"u"?navigator:null,OM=typeof document<"u"?document:null,Ro=ar&&ar.userAgent||"",Sw=/Edge\/(\d+)/.exec(Ro),MM=/MSIE \d/.exec(Ro),kw=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ro),Un=!!(MM||kw||Sw),Po=MM?document.documentMode:kw?+kw[1]:Sw?+Sw[1]:0,ji=!Un&&/gecko\/(\d+)/i.test(Ro);ji&&+(/Firefox\/(\d+)/.exec(Ro)||[0,0])[1];const Cw=!Un&&/Chrome\/(\d+)/.exec(Ro),wn=!!Cw,ZH=Cw?+Cw[1]:0,Mn=!Un&&!!ar&&/Apple Computer/.test(ar.vendor),kl=Mn&&(/Mobile\/\w+/.test(Ro)||!!ar&&ar.maxTouchPoints>2),_i=kl||(ar?/Mac/.test(ar.platform):!1),e9=ar?/Win/.test(ar.platform):!1,Vi=/Android \d/.test(Ro),Qf=!!OM&&"webkitFontSmoothing"in OM.documentElement.style,t9=Qf?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function n9(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function zr(t,e){return typeof t=="number"?t:t[e]}function i9(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,i=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*i}}function LM(t,e,n){let i=t.someProp("scrollThreshold")||0,r=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let s=n||t.dom;s;s=Ou(s)){if(s.nodeType!=1)continue;let l=s,a=l==o.body,u=a?n9(o):i9(l),c=0,h=0;if(e.top<u.top+zr(i,"top")?h=-(u.top-e.top+zr(r,"top")):e.bottom>u.bottom-zr(i,"bottom")&&(h=e.bottom-e.top>u.bottom-u.top?e.top+zr(r,"top")-u.top:e.bottom-u.bottom+zr(r,"bottom")),e.left<u.left+zr(i,"left")?c=-(u.left-e.left+zr(r,"left")):e.right>u.right-zr(i,"right")&&(c=e.right-u.right+zr(r,"right")),c||h)if(a)o.defaultView.scrollBy(c,h);else{let d=l.scrollLeft,f=l.scrollTop;h&&(l.scrollTop+=h),c&&(l.scrollLeft+=c);let p=l.scrollLeft-d,m=l.scrollTop-f;e={left:e.left-p,top:e.top-m,right:e.right-p,bottom:e.bottom-m}}if(a||/^(fixed|sticky)$/.test(getComputedStyle(s).position))break}}function r9(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),i,r;for(let o=(e.left+e.right)/2,s=n+1;s<Math.min(innerHeight,e.bottom);s+=5){let l=t.root.elementFromPoint(o,s);if(!l||l==t.dom||!t.dom.contains(l))continue;let a=l.getBoundingClientRect();if(a.top>=n-20){i=l,r=a.top;break}}return{refDOM:i,refTop:r,stack:RM(t.dom)}}function RM(t){let e=[],n=t.ownerDocument;for(let i=t;i&&(e.push({dom:i,top:i.scrollTop,left:i.scrollLeft}),t!=n);i=Ou(i));return e}function o9({refDOM:t,refTop:e,stack:n}){let i=t?t.getBoundingClientRect().top:0;PM(n,i==0?0:i-e)}function PM(t,e){for(let n=0;n<t.length;n++){let{dom:i,top:r,left:o}=t[n];i.scrollTop!=r+e&&(i.scrollTop=r+e),i.scrollLeft!=o&&(i.scrollLeft=o)}}let Cl=null;function s9(t){if(t.setActive)return t.setActive();if(Cl)return t.focus(Cl);let e=RM(t);t.focus(Cl==null?{get preventScroll(){return Cl={preventScroll:!0},!0}}:void 0),Cl||(Cl=!1,PM(e,0))}function DM(t,e){let n,i=2e8,r,o=0,s=e.top,l=e.top,a,u;for(let c=t.firstChild,h=0;c;c=c.nextSibling,h++){let d;if(c.nodeType==1)d=c.getClientRects();else if(c.nodeType==3)d=Fr(c).getClientRects();else continue;for(let f=0;f<d.length;f++){let p=d[f];if(p.top<=s&&p.bottom>=l){s=Math.max(p.bottom,s),l=Math.min(p.top,l);let m=p.left>e.left?p.left-e.left:p.right<e.left?e.left-p.right:0;if(m<i){n=c,i=m,r=m&&n.nodeType==3?{left:p.right<e.left?p.right:p.left,top:e.top}:e,c.nodeType==1&&m&&(o=h+(e.left>=(p.left+p.right)/2?1:0));continue}}else p.top>e.top&&!a&&p.left<=e.left&&p.right>=e.left&&(a=c,u={left:Math.max(p.left,Math.min(p.right,e.left)),top:p.top});!n&&(e.left>=p.right&&e.top>=p.top||e.left>=p.left&&e.top>=p.bottom)&&(o=h+1)}}return!n&&a&&(n=a,r=u,i=0),n&&n.nodeType==3?a9(n,r):!n||i&&n.nodeType==1?{node:t,offset:o}:DM(n,r)}function a9(t,e){let n=t.nodeValue.length,i=document.createRange();for(let r=0;r<n;r++){i.setEnd(t,r+1),i.setStart(t,r);let o=Do(i,1);if(o.top!=o.bottom&&Ew(e,o))return{node:t,offset:r+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}function Ew(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function l9(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function c9(t,e,n){let{node:i,offset:r}=DM(e,n),o=-1;if(i.nodeType==1&&!i.firstChild){let s=i.getBoundingClientRect();o=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(i,r,o)}function u9(t,e,n,i){let r=-1;for(let o=e,s=!1;o!=t.dom;){let l=t.docView.nearestDesc(o,!0);if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent&&!s||!l.contentDOM)){let a=l.dom.getBoundingClientRect();if(l.node.isBlock&&l.parent&&!s&&(s=!0,a.left>i.left||a.top>i.top?r=l.posBefore:(a.right<i.left||a.bottom<i.top)&&(r=l.posAfter)),!l.contentDOM&&r<0&&!l.node.isText)return(l.node.isBlock?i.top<(a.top+a.bottom)/2:i.left<(a.left+a.right)/2)?l.posBefore:l.posAfter}o=l.dom.parentNode}return r>-1?r:t.docView.posFromDOM(e,n,-1)}function IM(t,e,n){let i=t.childNodes.length;if(i&&n.top<n.bottom)for(let r=Math.max(0,Math.min(i-1,Math.floor(i*(e.top-n.top)/(n.bottom-n.top))-2)),o=r;;){let s=t.childNodes[o];if(s.nodeType==1){let l=s.getClientRects();for(let a=0;a<l.length;a++){let u=l[a];if(Ew(e,u))return IM(s,e,u)}}if((o=(o+1)%i)==r)break}return t}function h9(t,e){let n=t.dom.ownerDocument,i,r=0,o=JH(n,e.left,e.top);o&&({node:i,offset:r}=o);let s=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),l;if(!s||!t.dom.contains(s.nodeType!=1?s.parentNode:s)){let u=t.dom.getBoundingClientRect();if(!Ew(e,u)||(s=IM(t.dom,e,u),!s))return null}if(Mn)for(let u=s;i&&u;u=Ou(u))u.draggable&&(i=void 0);if(s=l9(s,e),i){if(ji&&i.nodeType==1&&(r=Math.min(r,i.childNodes.length),r<i.childNodes.length)){let u=i.childNodes[r],c;u.nodeName=="IMG"&&(c=u.getBoundingClientRect()).right<=e.left&&c.bottom>e.top&&r++}i==t.dom&&r==i.childNodes.length-1&&i.lastChild.nodeType==1&&e.top>i.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(r==0||i.nodeType!=1||i.childNodes[r-1].nodeName!="BR")&&(l=u9(t,i,r,e))}l==null&&(l=c9(t,s,e));let a=t.docView.nearestDesc(s,!0);return{pos:l,inside:a?a.posAtStart-a.border:-1}}function NM(t){return t.top<t.bottom||t.left<t.right}function Do(t,e){let n=t.getClientRects();if(n.length){let i=n[e<0?0:n.length-1];if(NM(i))return i}return Array.prototype.find.call(n,NM)||t.getBoundingClientRect()}const d9=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function FM(t,e,n){let{node:i,offset:r,atom:o}=t.docView.domFromPos(e,n<0?-1:1),s=Qf||ji;if(i.nodeType==3)if(s&&(d9.test(i.nodeValue)||(n<0?!r:r==i.nodeValue.length))){let a=Do(Fr(i,r,r),n);if(ji&&r&&/\s/.test(i.nodeValue[r-1])&&r<i.nodeValue.length){let u=Do(Fr(i,r-1,r-1),-1);if(u.top==a.top){let c=Do(Fr(i,r,r+1),-1);if(c.top!=a.top)return Mu(c,c.left<u.left)}}return a}else{let a=r,u=r,c=n<0?1:-1;return n<0&&!r?(u++,c=-1):n>=0&&r==i.nodeValue.length?(a--,c=1):n<0?a--:u++,Mu(Do(Fr(i,a,u),c),c<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&r&&(n<0||r==sr(i))){let a=i.childNodes[r-1];if(a.nodeType==1)return Tw(a.getBoundingClientRect(),!1)}if(o==null&&r<sr(i)){let a=i.childNodes[r];if(a.nodeType==1)return Tw(a.getBoundingClientRect(),!0)}return Tw(i.getBoundingClientRect(),n>=0)}if(o==null&&r&&(n<0||r==sr(i))){let a=i.childNodes[r-1],u=a.nodeType==3?Fr(a,sr(a)-(s?0:1)):a.nodeType==1&&(a.nodeName!="BR"||!a.nextSibling)?a:null;if(u)return Mu(Do(u,1),!1)}if(o==null&&r<sr(i)){let a=i.childNodes[r];for(;a.pmViewDesc&&a.pmViewDesc.ignoreForCoords;)a=a.nextSibling;let u=a?a.nodeType==3?Fr(a,0,s?0:1):a.nodeType==1?a:null:null;if(u)return Mu(Do(u,-1),!0)}return Mu(Do(i.nodeType==3?Fr(i):i,-n),n>=0)}function Mu(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Tw(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function zM(t,e,n){let i=t.state,r=t.root.activeElement;i!=e&&t.updateState(e),r!=t.dom&&t.focus();try{return n()}finally{i!=e&&t.updateState(i),r!=t.dom&&r&&r.focus()}}function f9(t,e,n){let i=e.selection,r=n=="up"?i.$from:i.$to;return zM(t,e,()=>{let{node:o}=t.docView.domFromPos(r.pos,n=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(o,!0);if(!l)break;if(l.node.isBlock){o=l.contentDOM||l.dom;break}o=l.dom.parentNode}let s=FM(t,r.pos,1);for(let l=o.firstChild;l;l=l.nextSibling){let a;if(l.nodeType==1)a=l.getClientRects();else if(l.nodeType==3)a=Fr(l,0,l.nodeValue.length).getClientRects();else continue;for(let u=0;u<a.length;u++){let c=a[u];if(c.bottom>c.top+1&&(n=="up"?s.top-c.top>(c.bottom-s.top)*2:c.bottom-s.bottom>(s.bottom-c.top)*2))return!1}}return!0})}const p9=/[\u0590-\u08ac]/;function m9(t,e,n){let{$head:i}=e.selection;if(!i.parent.isTextblock)return!1;let r=i.parentOffset,o=!r,s=r==i.parent.content.size,l=t.domSelection();return!p9.test(i.parent.textContent)||!l.modify?n=="left"||n=="backward"?o:s:zM(t,e,()=>{let{focusNode:a,focusOffset:u,anchorNode:c,anchorOffset:h}=t.domSelectionRange(),d=l.caretBidiLevel;l.modify("move",n,"character");let f=i.depth?t.docView.domAfterPos(i.before()):t.dom,{focusNode:p,focusOffset:m}=t.domSelectionRange(),g=p&&!f.contains(p.nodeType==1?p:p.parentNode)||a==p&&u==m;try{l.collapse(c,h),a&&(a!=c||u!=h)&&l.extend&&l.extend(a,u)}catch{}return d!=null&&(l.caretBidiLevel=d),g})}let BM=null,jM=null,VM=!1;function g9(t,e,n){return BM==e&&jM==n?VM:(BM=e,jM=n,VM=n=="up"||n=="down"?f9(t,e,n):m9(t,e,n))}const xi=0,WM=1,Hs=2,lr=3;class Lu{constructor(e,n,i,r){this.parent=e,this.children=n,this.dom=i,this.contentDOM=r,this.dirty=xi,i.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,i){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,i=this.posAtStart;;n++){let r=this.children[n];if(r==e)return i;i+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,i){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(i<0){let o,s;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{let o,s;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}let r;if(e==this.dom&&this.contentDOM)r=n>On(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){r=!1;break}if(o.previousSibling)break}if(r==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){r=!0;break}if(o.nextSibling)break}}return r??i>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let i=!0,r=e;r;r=r.parentNode){let o=this.getDesc(r),s;if(o&&(!n||o.node))if(i&&(s=o.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))i=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let i=n;i;i=i.parent)if(i==this)return n}posFromDOM(e,n,i){for(let r=e;r;r=r.parentNode){let o=this.getDesc(r);if(o)return o.localPosFromDOM(e,n,i)}return-1}descAt(e){for(let n=0,i=0;n<this.children.length;n++){let r=this.children[n],o=i+r.size;if(i==e&&o!=i){for(;!r.border&&r.children.length;)r=r.children[0];return r}if(e<o)return r.descAt(e-i-r.border);i=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let i=0,r=0;for(let o=0;i<this.children.length;i++){let s=this.children[i],l=o+s.size;if(l>e||s instanceof KM){r=e-o;break}o=l}if(r)return this.children[i].domFromPos(r-this.children[i].border,n);for(let o;i&&!(o=this.children[i-1]).size&&o instanceof HM&&o.side>=0;i--);if(n<=0){let o,s=!0;for(;o=i?this.children[i-1]:null,!(!o||o.dom.parentNode==this.contentDOM);i--,s=!1);return o&&n&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?On(o.dom)+1:0}}else{let o,s=!0;for(;o=i<this.children.length?this.children[i]:null,!(!o||o.dom.parentNode==this.contentDOM);i++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?On(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,i=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,o=-1;for(let s=i,l=0;;l++){let a=this.children[l],u=s+a.size;if(r==-1&&e<=u){let c=s+a.border;if(e>=c&&n<=u-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(e,n,c);e=s;for(let h=l;h>0;h--){let d=this.children[h-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){r=On(d.dom)+1;break}e-=d.size}r==-1&&(r=0)}if(r>-1&&(u>n||l==this.children.length-1)){n=u;for(let c=l+1;c<this.children.length;c++){let h=this.children[c];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){o=On(h.dom);break}n+=h.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=u}return{node:this.contentDOM,from:e,to:n,fromOffset:r,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:i}=this.domFromPos(e,0);if(n.nodeType!=1||i==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[i]}setSelection(e,n,i,r=!1){let o=Math.min(e,n),s=Math.max(e,n);for(let d=0,f=0;d<this.children.length;d++){let p=this.children[d],m=f+p.size;if(o>f&&s<m)return p.setSelection(e-f-p.border,n-f-p.border,i,r);f=m}let l=this.domFromPos(e,e?-1:1),a=n==e?l:this.domFromPos(n,n?-1:1),u=i.getSelection(),c=!1;if((ji||Mn)&&e==n){let{node:d,offset:f}=l;if(d.nodeType==3){if(c=!!(f&&d.nodeValue[f-1]==`
`),c&&f==d.nodeValue.length)for(let p=d,m;p;p=p.parentNode){if(m=p.nextSibling){m.nodeName=="BR"&&(l=a={node:m.parentNode,offset:On(m)+1});break}let g=p.pmViewDesc;if(g&&g.node&&g.node.isBlock)break}}else{let p=d.childNodes[f-1];c=p&&(p.nodeName=="BR"||p.contentEditable=="false")}}if(ji&&u.focusNode&&u.focusNode!=a.node&&u.focusNode.nodeType==1){let d=u.focusNode.childNodes[u.focusOffset];d&&d.contentEditable=="false"&&(r=!0)}if(!(r||c&&Mn)&&Vs(l.node,l.offset,u.anchorNode,u.anchorOffset)&&Vs(a.node,a.offset,u.focusNode,u.focusOffset))return;let h=!1;if((u.extend||e==n)&&!c){u.collapse(l.node,l.offset);try{e!=n&&u.extend(a.node,a.offset),h=!0}catch{}}if(!h){if(e>n){let f=l;l=a,a=f}let d=document.createRange();d.setEnd(a.node,a.offset),d.setStart(l.node,l.offset),u.removeAllRanges(),u.addRange(d)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let i=0,r=0;r<this.children.length;r++){let o=this.children[r],s=i+o.size;if(i==s?e<=s&&n>=i:e<s&&n>i){let l=i+o.border,a=s-o.border;if(e>=l&&n<=a){this.dirty=e==i||n==s?Hs:WM,e==l&&n==a&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=lr:o.markDirty(e-l,n-l);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?Hs:lr}i=s}this.dirty=Hs}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let i=e==1?Hs:WM;n.dirty<i&&(n.dirty=i)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class HM extends Lu{constructor(e,n,i,r){let o,s=n.type.toDOM;if(typeof s=="function"&&(s=s(i,()=>{if(!o)return r;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(s.nodeType!=1){let l=document.createElement("span");l.appendChild(s),s=l}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=n,this.widget=n,o=this}matchesWidget(e){return this.dirty==xi&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class v9 extends Lu{constructor(e,n,i,r){super(e,[],n,null),this.textDOM=i,this.text=r}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Us extends Lu{constructor(e,n,i,r){super(e,[],i,r),this.mark=n}static create(e,n,i,r){let o=r.nodeViews[n.type.name],s=o&&o(n,r,i);return(!s||!s.dom)&&(s=rr.renderSpec(document,n.type.spec.toDOM(n,i))),new Us(e,n,s.dom,s.contentDOM||s.dom)}parseRule(){return this.dirty&lr||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=lr&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=xi){let i=this.parent;for(;!i.node;)i=i.parent;i.dirty<this.dirty&&(i.dirty=this.dirty),this.dirty=xi}}slice(e,n,i){let r=Us.create(this.parent,this.mark,!0,i),o=this.children,s=this.size;n<s&&(o=Ow(o,n,s,i)),e>0&&(o=Ow(o,0,e,i));for(let l=0;l<o.length;l++)o[l].parent=r;return r.children=o,r}}class Io extends Lu{constructor(e,n,i,r,o,s,l,a,u){super(e,[],o,s),this.node=n,this.outerDeco=i,this.innerDeco=r,this.nodeDOM=l}static create(e,n,i,r,o,s){let l=o.nodeViews[n.type.name],a,u=l&&l(n,o,()=>{if(!a)return s;if(a.parent)return a.parent.posBeforeChild(a)},i,r),c=u&&u.dom,h=u&&u.contentDOM;if(n.isText){if(!c)c=document.createTextNode(n.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:h}=rr.renderSpec(document,n.type.spec.toDOM(n)));!h&&!n.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),n.type.spec.draggable&&(c.draggable=!0));let d=c;return c=XM(c,i,n),u?a=new y9(e,n,i,r,c,h||null,d,u,o,s+1):n.isText?new Jf(e,n,i,r,c,d,o):new Io(e,n,i,r,c,h||null,d,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let i=this.children[n];if(this.dom.contains(i.dom.parentNode)){e.contentElement=i.dom.parentNode;break}}e.contentElement||(e.getContent=()=>re.empty)}return e}matchesNode(e,n,i){return this.dirty==xi&&e.eq(this.node)&&Aw(n,this.outerDeco)&&i.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let i=this.node.inlineContent,r=n,o=e.composing?this.localCompositionInfo(e,n):null,s=o&&o.pos>-1?o:null,l=o&&o.pos<0,a=new w9(this,s&&s.node,e);S9(this.node,this.innerDeco,(u,c,h)=>{u.spec.marks?a.syncToMarks(u.spec.marks,i,e):u.type.side>=0&&!h&&a.syncToMarks(c==this.node.childCount?rt.none:this.node.child(c).marks,i,e),a.placeWidget(u,e,r)},(u,c,h,d)=>{a.syncToMarks(u.marks,i,e);let f;a.findNodeMatch(u,c,h,d)||l&&e.state.selection.from>r&&e.state.selection.to<r+u.nodeSize&&(f=a.findIndexWithChild(o.node))>-1&&a.updateNodeAt(u,c,h,f,e)||a.updateNextNode(u,c,h,e,d,r)||a.addNode(u,c,h,e,r),r+=u.nodeSize}),a.syncToMarks([],i,e),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||this.dirty==Hs)&&(s&&this.protectLocalComposition(e,s),GM(this.contentDOM,this.children,e),kl&&k9(this.dom))}localCompositionInfo(e,n){let{from:i,to:r}=e.state.selection;if(!(e.state.selection instanceof Be)||i<n||r>n+this.node.content.size)return null;let o=e.domSelectionRange(),s=C9(o.focusNode,o.focusOffset);if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let l=s.nodeValue,a=E9(this.node.content,l,i-n,r-n);return a<0?null:{node:s,pos:a,text:l}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:i,text:r}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new v9(this,o,n,r);e.input.compositionNodes.push(s),this.children=Ow(this.children,i,i+r.length,e,s)}update(e,n,i,r){return this.dirty==lr||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,i,r),!0)}updateInner(e,n,i,r){this.updateOuterDeco(n),this.node=e,this.innerDeco=i,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=xi}updateOuterDeco(e){if(Aw(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,i=this.dom;this.dom=YM(this.dom,this.nodeDOM,$w(this.outerDeco,this.node,n),$w(e,this.node,n)),this.dom!=i&&(i.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function UM(t,e,n,i,r){XM(i,e,t);let o=new Io(void 0,t,e,n,i,i,i,r,0);return o.contentDOM&&o.updateChildren(r,0),o}class Jf extends Io{constructor(e,n,i,r,o,s,l){super(e,n,i,r,o,null,s,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,i,r){return this.dirty==lr||this.dirty!=xi&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=xi||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=xi,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,i){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,i)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,i){let r=this.node.cut(e,n),o=document.createTextNode(r.text);return new Jf(this.parent,r,this.outerDeco,this.innerDeco,o,o,i)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=lr)}get domAtom(){return!1}}class KM extends Lu{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==xi&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class y9 extends Io{constructor(e,n,i,r,o,s,l,a,u,c){super(e,n,i,r,o,s,l,u,c),this.spec=a}update(e,n,i,r){if(this.dirty==lr)return!1;if(this.spec.update){let o=this.spec.update(e,n,i);return o&&this.updateInner(e,n,i,r),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,i,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,i,r){this.spec.setSelection?this.spec.setSelection(e,n,i):super.setSelection(e,n,i,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function GM(t,e,n){let i=t.firstChild,r=!1;for(let o=0;o<e.length;o++){let s=e[o],l=s.dom;if(l.parentNode==t){for(;l!=i;)i=qM(i),r=!0;i=i.nextSibling}else r=!0,t.insertBefore(l,i);if(s instanceof Us){let a=i?i.previousSibling:t.lastChild;GM(s.contentDOM,s.children,n),i=a?a.nextSibling:t.firstChild}}for(;i;)i=qM(i),r=!0;r&&n.trackWrites==t&&(n.trackWrites=null)}const Ru=function(t){t&&(this.nodeName=t)};Ru.prototype=Object.create(null);const Ks=[new Ru];function $w(t,e,n){if(t.length==0)return Ks;let i=n?Ks[0]:new Ru,r=[i];for(let o=0;o<t.length;o++){let s=t[o].type.attrs;if(s){s.nodeName&&r.push(i=new Ru(s.nodeName));for(let l in s){let a=s[l];a!=null&&(n&&r.length==1&&r.push(i=new Ru(e.isInline?"span":"div")),l=="class"?i.class=(i.class?i.class+" ":"")+a:l=="style"?i.style=(i.style?i.style+";":"")+a:l!="nodeName"&&(i[l]=a))}}}return r}function YM(t,e,n,i){if(n==Ks&&i==Ks)return e;let r=e;for(let o=0;o<i.length;o++){let s=i[o],l=n[o];if(o){let a;l&&l.nodeName==s.nodeName&&r!=t&&(a=r.parentNode)&&a.nodeName.toLowerCase()==s.nodeName||(a=document.createElement(s.nodeName),a.pmIsDeco=!0,a.appendChild(r),l=Ks[0]),r=a}b9(r,l||Ks[0],s)}return r}function b9(t,e,n){for(let i in e)i!="class"&&i!="style"&&i!="nodeName"&&!(i in n)&&t.removeAttribute(i);for(let i in n)i!="class"&&i!="style"&&i!="nodeName"&&n[i]!=e[i]&&t.setAttribute(i,n[i]);if(e.class!=n.class){let i=e.class?e.class.split(" ").filter(Boolean):[],r=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&t.classList.remove(i[o]);for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&t.classList.add(r[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let i=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,r;for(;r=i.exec(e.style);)t.style.removeProperty(r[1])}n.style&&(t.style.cssText+=n.style)}}function XM(t,e,n){return YM(t,t,Ks,$w(e,n,t.nodeType!=1))}function Aw(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function qM(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class w9{constructor(e,n,i){this.lock=n,this.view=i,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=_9(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let i=e;i<n;i++)this.top.children[i].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,i){let r=0,o=this.stack.length>>1,s=Math.min(o,e.length);for(;r<s&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&e[r].type.spec.spanning!==!1;)r++;for(;r<o;)this.destroyRest(),this.top.dirty=xi,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let a=this.index;a<Math.min(this.index+3,this.top.children.length);a++){let u=this.top.children[a];if(u.matchesMark(e[o])&&!this.isLocked(u.dom)){l=a;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let a=Us.create(this.top,e[o],n,i);this.top.children.splice(this.index,0,a),this.top=a,this.changed=!0}this.index=0,o++}}findNodeMatch(e,n,i,r){let o=-1,s;if(r>=this.preMatch.index&&(s=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&s.matchesNode(e,n,i))o=this.top.children.indexOf(s,this.index);else for(let l=this.index,a=Math.min(this.top.children.length,l+5);l<a;l++){let u=this.top.children[l];if(u.matchesNode(e,n,i)&&!this.preMatch.matched.has(u)){o=l;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,i,r,o){let s=this.top.children[r];return s.dirty==lr&&s.dom==s.contentDOM&&(s.dirty=Hs),s.update(e,n,i,o)?(this.destroyBetween(this.index,r),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let i=e.pmViewDesc;if(i){for(let r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==i)return r}return-1}e=n}}updateNextNode(e,n,i,r,o,s){for(let l=this.index;l<this.top.children.length;l++){let a=this.top.children[l];if(a instanceof Io){let u=this.preMatch.matched.get(a);if(u!=null&&u!=o)return!1;let c=a.dom,h,d=this.isLocked(c)&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&a.dirty!=lr&&Aw(n,a.outerDeco));if(!d&&a.update(e,n,i,r))return this.destroyBetween(this.index,l),a.dom!=c&&(this.changed=!0),this.index++,!0;if(!d&&(h=this.recreateWrapper(a,e,n,i,r,s)))return this.top.children[this.index]=h,h.contentDOM&&(h.dirty=Hs,h.updateChildren(r,s+1),h.dirty=xi),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,i,r,o,s){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content))return null;let l=Io.create(this.top,n,i,r,o,s);if(l.contentDOM){l.children=e.children,e.children=[];for(let a of l.children)a.parent=l}return e.destroy(),l}addNode(e,n,i,r,o){let s=Io.create(this.top,e,n,i,r,o);s.contentDOM&&s.updateChildren(r,o+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,n,i){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(r&&r.matchesWidget(e)&&(e==r.widget||!r.widget.type.toDOM.parentNode))this.index++;else{let o=new HM(this.top,e,n,i);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Us;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Jf)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Mn||wn)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let i=document.createElement(e);e=="IMG"&&(i.className="ProseMirror-separator",i.alt=""),e=="BR"&&(i.className="ProseMirror-trailingBreak");let r=new KM(this.top,[],i,null);n!=this.top?n.children.push(r):n.children.splice(this.index++,0,r),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function _9(t,e){let n=e,i=n.children.length,r=t.childCount,o=new Map,s=[];e:for(;r>0;){let l;for(;;)if(i){let u=n.children[i-1];if(u instanceof Us)n=u,i=u.children.length;else{l=u,i--;break}}else{if(n==e)break e;i=n.parent.children.indexOf(n),n=n.parent}let a=l.node;if(a){if(a!=t.child(r-1))break;--r,o.set(l,r),s.push(l)}}return{index:r,matched:o,matches:s.reverse()}}function x9(t,e){return t.type.side-e.type.side}function S9(t,e,n,i){let r=e.locals(t),o=0;if(r.length==0){for(let u=0;u<t.childCount;u++){let c=t.child(u);i(c,r,e.forChild(o,c),u),o+=c.nodeSize}return}let s=0,l=[],a=null;for(let u=0;;){let c,h;for(;s<r.length&&r[s].to==o;){let g=r[s++];g.widget&&(c?(h||(h=[c])).push(g):c=g)}if(c)if(h){h.sort(x9);for(let g=0;g<h.length;g++)n(h[g],u,!!a)}else n(c,u,!!a);let d,f;if(a)f=-1,d=a,a=null;else if(u<t.childCount)f=u,d=t.child(u++);else break;for(let g=0;g<l.length;g++)l[g].to<=o&&l.splice(g--,1);for(;s<r.length&&r[s].from<=o&&r[s].to>o;)l.push(r[s++]);let p=o+d.nodeSize;if(d.isText){let g=p;s<r.length&&r[s].from<g&&(g=r[s].from);for(let v=0;v<l.length;v++)l[v].to<g&&(g=l[v].to);g<p&&(a=d.cut(g-o),d=d.cut(0,g-o),p=g,f=-1)}let m=d.isInline&&!d.isLeaf?l.filter(g=>!g.inline):l.slice();i(d,m,e.forChild(o,d),f),o=p}}function k9(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function C9(t,e){for(;;){if(t.nodeType==3)return t;if(t.nodeType==1&&e>0){if(t.childNodes.length>e&&t.childNodes[e].nodeType==3)return t.childNodes[e];t=t.childNodes[e-1],e=sr(t)}else if(t.nodeType==1&&e<t.childNodes.length)t=t.childNodes[e],e=0;else return null}}function E9(t,e,n,i){for(let r=0,o=0;r<t.childCount&&o<=i;){let s=t.child(r++),l=o;if(o+=s.nodeSize,!s.isText)continue;let a=s.text;for(;r<t.childCount;){let u=t.child(r++);if(o+=u.nodeSize,!u.isText)break;a+=u.text}if(o>=n){let u=l<i?a.lastIndexOf(e,i-l-1):-1;if(u>=0&&u+e.length+l>=n)return l+u;if(n==i&&a.length>=i+e.length-l&&a.slice(i-l,i-l+e.length)==e)return i}}return-1}function Ow(t,e,n,i,r){let o=[];for(let s=0,l=0;s<t.length;s++){let a=t[s],u=l,c=l+=a.size;u>=n||c<=e?o.push(a):(u<e&&o.push(a.slice(0,e-u,i)),r&&(o.push(r),r=void 0),c>n&&o.push(a.slice(n-u,a.size,i)))}return o}function Mw(t,e=null){let n=t.domSelectionRange(),i=t.state.doc;if(!n.focusNode)return null;let r=t.docView.nearestDesc(n.focusNode),o=r&&r.size==0,s=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let l=i.resolve(s),a,u;if(qf(n)){for(a=l;r&&!r.node;)r=r.parent;let c=r.node;if(r&&c.isAtom&&Oe.isSelectable(c)&&r.parent&&!(c.isInline&&qH(n.focusNode,n.focusOffset,r.dom))){let h=r.posBefore;u=new Oe(s==h?l:i.resolve(h))}}else{let c=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(c<0)return null;a=i.resolve(c)}if(!u){let c=e=="pointer"||t.state.selection.head<l.pos&&!o?1:-1;u=Rw(t,a,l,c)}return u}function QM(t){return t.editable?t.hasFocus():r2(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Br(t,e=!1){let n=t.state.selection;if(t2(t,n),!!QM(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&wn){let i=t.domSelectionRange(),r=t.domObserver.currentSelection;if(i.anchorNode&&r.anchorNode&&Vs(i.anchorNode,i.anchorOffset,r.anchorNode,r.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)$9(t);else{let{anchor:i,head:r}=n,o,s;JM&&!(n instanceof Be)&&(n.$from.parent.inlineContent||(o=ZM(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=ZM(t,n.to))),t.docView.setSelection(i,r,t.root,e),JM&&(o&&e2(o),s&&e2(s)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&T9(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const JM=Mn||wn&&ZH<63;function ZM(t,e){let{node:n,offset:i}=t.docView.domFromPos(e,0),r=i<n.childNodes.length?n.childNodes[i]:null,o=i?n.childNodes[i-1]:null;if(Mn&&r&&r.contentEditable=="false")return Lw(r);if((!r||r.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(r)return Lw(r);if(o)return Lw(o)}}function Lw(t){return t.contentEditable="true",Mn&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function e2(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function T9(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),i=n.anchorNode,r=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=i||n.anchorOffset!=r)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!QM(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function $9(t){let e=t.domSelection(),n=document.createRange(),i=t.cursorWrapper.dom,r=i.nodeName=="IMG";r?n.setEnd(i.parentNode,On(i)+1):n.setEnd(i,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!r&&!t.state.selection.visible&&Un&&Po<=11&&(i.disabled=!0,i.disabled=!1)}function t2(t,e){if(e instanceof Oe){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(n2(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else n2(t)}function n2(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Rw(t,e,n,i){return t.someProp("createSelectionBetween",r=>r(t,e,n))||Be.between(e,n,i)}function i2(t){return t.editable&&!t.hasFocus()?!1:r2(t)}function r2(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function A9(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Vs(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Pw(t,e){let{$anchor:n,$head:i}=t.selection,r=e>0?n.max(i):n.min(i),o=r.parent.inlineContent?r.depth?t.doc.resolve(e>0?r.after():r.before()):null:r;return o&&Ve.findFrom(o,e)}function Gs(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function o2(t,e,n){let i=t.state.selection;if(i instanceof Be){if(!i.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"forward":"backward")){let r=Pw(t.state,e);return r&&r instanceof Oe?Gs(t,r):!1}else if(!(_i&&n.indexOf("m")>-1)){let r=i.$head,o=r.textOffset?null:e<0?r.nodeBefore:r.nodeAfter,s;if(!o||o.isText)return!1;let l=e<0?r.pos-o.nodeSize:r.pos;return o.isAtom||(s=t.docView.descAt(l))&&!s.contentDOM?Oe.isSelectable(o)?Gs(t,new Oe(e<0?t.state.doc.resolve(r.pos-o.nodeSize):r)):Qf?Gs(t,new Be(t.state.doc.resolve(e<0?l:l+o.nodeSize))):!1:!1}}else{if(i instanceof Oe&&i.node.isInline)return Gs(t,new Be(e>0?i.$to:i.$from));{let r=Pw(t.state,e);return r?Gs(t,r):!1}}}function Zf(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Pu(t,e){if(t.contentEditable=="false")return!0;let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function El(t,e){return e<0?O9(t):M9(t)}function O9(t){let e=t.domSelectionRange(),n=e.focusNode,i=e.focusOffset;if(!n)return;let r,o,s=!1;for(ji&&n.nodeType==1&&i<Zf(n)&&Pu(n.childNodes[i],-1)&&(s=!0);;)if(i>0){if(n.nodeType!=1)break;{let l=n.childNodes[i-1];if(Pu(l,-1))r=n,o=--i;else if(l.nodeType==3)n=l,i=n.nodeValue.length;else break}}else{if(s2(n))break;{let l=n.previousSibling;for(;l&&Pu(l,-1);)r=n.parentNode,o=On(l),l=l.previousSibling;if(l)n=l,i=Zf(n);else{if(n=n.parentNode,n==t.dom)break;i=0}}}s?Dw(t,n,i):r&&Dw(t,r,o)}function M9(t){let e=t.domSelectionRange(),n=e.focusNode,i=e.focusOffset;if(!n)return;let r=Zf(n),o,s;for(;;)if(i<r){if(n.nodeType!=1)break;let l=n.childNodes[i];if(Pu(l,1))o=n,s=++i;else break}else{if(s2(n))break;{let l=n.nextSibling;for(;l&&Pu(l,1);)o=l.parentNode,s=On(l)+1,l=l.nextSibling;if(l)n=l,i=0,r=Zf(n);else{if(n=n.parentNode,n==t.dom)break;i=r=0}}}o&&Dw(t,o,s)}function s2(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function L9(t,e){for(;t&&e==t.childNodes.length&&!xw(t);)e=On(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function R9(t,e){for(;t&&!e&&!xw(t);)e=On(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function Dw(t,e,n){if(e.nodeType!=3){let o,s;(s=L9(e,n))?(e=s,n=0):(o=R9(e,n))&&(e=o,n=o.nodeValue.length)}let i=t.domSelection();if(qf(i)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),i.removeAllRanges(),i.addRange(o)}else i.extend&&i.extend(e,n);t.domObserver.setCurSelection();let{state:r}=t;setTimeout(()=>{t.state==r&&Br(t)},50)}function a2(t,e){let n=t.state.doc.resolve(e);if(!(wn||e9)&&n.parent.inlineContent){let r=t.coordsAtPos(e);if(e>n.start()){let o=t.coordsAtPos(e-1),s=(o.top+o.bottom)/2;if(s>r.top&&s<r.bottom&&Math.abs(o.left-r.left)>1)return o.left<r.left?"ltr":"rtl"}if(e<n.end()){let o=t.coordsAtPos(e+1),s=(o.top+o.bottom)/2;if(s>r.top&&s<r.bottom&&Math.abs(o.left-r.left)>1)return o.left>r.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function l2(t,e,n){let i=t.state.selection;if(i instanceof Be&&!i.empty||n.indexOf("s")>-1||_i&&n.indexOf("m")>-1)return!1;let{$from:r,$to:o}=i;if(!r.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=Pw(t.state,e);if(s&&s instanceof Oe)return Gs(t,s)}if(!r.parent.inlineContent){let s=e<0?r:o,l=i instanceof Bi?Ve.near(s,e):Ve.findFrom(s,e);return l?Gs(t,l):!1}return!1}function c2(t,e){if(!(t.state.selection instanceof Be))return!0;let{$head:n,$anchor:i,empty:r}=t.state.selection;if(!n.sameParent(i))return!0;if(!r)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let s=t.state.tr;return e<0?s.delete(n.pos-o.nodeSize,n.pos):s.delete(n.pos,n.pos+o.nodeSize),t.dispatch(s),!0}return!1}function u2(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function P9(t){if(!Mn||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let i=e.firstChild;u2(t,i,"true"),setTimeout(()=>u2(t,i,"false"),20)}return!1}function D9(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function I9(t,e){let n=e.keyCode,i=D9(e);if(n==8||_i&&n==72&&i=="c")return c2(t,-1)||El(t,-1);if(n==46&&!e.shiftKey||_i&&n==68&&i=="c")return c2(t,1)||El(t,1);if(n==13||n==27)return!0;if(n==37||_i&&n==66&&i=="c"){let r=n==37?a2(t,t.state.selection.from)=="ltr"?-1:1:-1;return o2(t,r,i)||El(t,r)}else if(n==39||_i&&n==70&&i=="c"){let r=n==39?a2(t,t.state.selection.from)=="ltr"?1:-1:1;return o2(t,r,i)||El(t,r)}else{if(n==38||_i&&n==80&&i=="c")return l2(t,-1,i)||El(t,-1);if(n==40||_i&&n==78&&i=="c")return P9(t)||l2(t,1,i)||El(t,1);if(i==(_i?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function h2(t,e){t.someProp("transformCopied",f=>{e=f(e,t)});let n=[],{content:i,openStart:r,openEnd:o}=e;for(;r>1&&o>1&&i.childCount==1&&i.firstChild.childCount==1;){r--,o--;let f=i.firstChild;n.push(f.type.name,f.attrs!=f.type.defaultAttrs?f.attrs:null),i=f.content}let s=t.someProp("clipboardSerializer")||rr.fromSchema(t.state.schema),l=b2(),a=l.createElement("div");a.appendChild(s.serializeFragment(i,{document:l}));let u=a.firstChild,c,h=0;for(;u&&u.nodeType==1&&(c=v2[u.nodeName.toLowerCase()]);){for(let f=c.length-1;f>=0;f--){let p=l.createElement(c[f]);for(;a.firstChild;)p.appendChild(a.firstChild);a.appendChild(p),h++}u=a.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${r} ${o}${h?` -${h}`:""} ${JSON.stringify(n)}`);let d=t.someProp("clipboardTextSerializer",f=>f(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:a,text:d}}function d2(t,e,n,i,r){let o=r.parent.type.spec.code,s,l;if(!n&&!e)return null;let a=e&&(i||o||!n);if(a){if(t.someProp("transformPastedText",d=>{e=d(e,o||i,t)}),o)return e?new de(re.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):de.empty;let h=t.someProp("clipboardTextParser",d=>d(e,r,i,t));if(h)l=h;else{let d=r.marks(),{schema:f}=t.state,p=rr.fromSchema(f);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(m=>{let g=s.appendChild(document.createElement("p"));m&&g.appendChild(p.serializeNode(f.text(m,d)))})}}else t.someProp("transformPastedHTML",h=>{n=h(n,t)}),s=z9(n),Qf&&B9(s);let u=s&&s.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let h=+c[3];h>0;h--){let d=s.firstChild;for(;d&&d.nodeType!=1;)d=d.nextSibling;if(!d)break;s=d}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||lw.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(a||c),context:r,ruleFromNode(d){return d.nodeName=="BR"&&!d.nextSibling&&d.parentNode&&!N9.test(d.parentNode.nodeName)?{ignore:!0}:null}})),c)l=j9(g2(l,+c[1],+c[2]),c[4]);else if(l=de.maxOpen(F9(l.content,r),!0),l.openStart||l.openEnd){let h=0,d=0;for(let f=l.content.firstChild;h<l.openStart&&!f.type.spec.isolating;h++,f=f.firstChild);for(let f=l.content.lastChild;d<l.openEnd&&!f.type.spec.isolating;d++,f=f.lastChild);l=g2(l,h,d)}return t.someProp("transformPasted",h=>{l=h(l,t)}),l}const N9=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function F9(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.index(n)),o,s=[];if(t.forEach(l=>{if(!s)return;let a=r.findWrapping(l.type),u;if(!a)return s=null;if(u=s.length&&o.length&&p2(a,o,l,s[s.length-1],0))s[s.length-1]=u;else{s.length&&(s[s.length-1]=m2(s[s.length-1],o.length));let c=f2(l,a);s.push(c),r=r.matchType(c.type),o=a}}),s)return re.from(s)}return t}function f2(t,e,n=0){for(let i=e.length-1;i>=n;i--)t=e[i].create(null,re.from(t));return t}function p2(t,e,n,i,r){if(r<t.length&&r<e.length&&t[r]==e[r]){let o=p2(t,e,n,i.lastChild,r+1);if(o)return i.copy(i.content.replaceChild(i.childCount-1,o));if(i.contentMatchAt(i.childCount).matchType(r==t.length-1?n.type:t[r+1]))return i.copy(i.content.append(re.from(f2(n,t,r+1))))}}function m2(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,m2(t.lastChild,e-1)),i=t.contentMatchAt(t.childCount).fillBefore(re.empty,!0);return t.copy(n.append(i))}function Iw(t,e,n,i,r,o){let s=e<0?t.firstChild:t.lastChild,l=s.content;return t.childCount>1&&(o=0),r<i-1&&(l=Iw(l,e,n,i,r+1,o)),r>=n&&(l=e<0?s.contentMatchAt(0).fillBefore(l,o<=r).append(l):l.append(s.contentMatchAt(s.childCount).fillBefore(re.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(l))}function g2(t,e,n){return e<t.openStart&&(t=new de(Iw(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new de(Iw(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const v2={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let y2=null;function b2(){return y2||(y2=document.implementation.createHTMLDocument("title"))}function z9(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=b2().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(t),r;if((r=i&&v2[i[1].toLowerCase()])&&(t=r.map(o=>"<"+o+">").join("")+t+r.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=t,r)for(let o=0;o<r.length;o++)n=n.querySelector(r[o])||n;return n}function B9(t){let e=t.querySelectorAll(wn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let i=e[n];i.childNodes.length==1&&i.textContent==""&&i.parentNode&&i.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),i)}}function j9(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,i;try{i=JSON.parse(e)}catch{return t}let{content:r,openStart:o,openEnd:s}=t;for(let l=i.length-2;l>=0;l-=2){let a=n.nodes[i[l]];if(!a||a.hasRequiredAttrs())break;r=re.from(a.create(i[l+1],r)),o++,s++}return new de(r,o,s)}const Ln={},Rn={},V9={touchstart:!0,touchmove:!0};class W9{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function H9(t){for(let e in Ln){let n=Ln[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=i=>{K9(t,i)&&!Fw(t,i)&&(t.editable||!(i.type in Rn))&&n(t,i)},V9[e]?{passive:!0}:void 0)}Mn&&t.dom.addEventListener("input",()=>null),Nw(t)}function No(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function U9(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Nw(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=i=>Fw(t,i))})}function Fw(t,e){return t.someProp("handleDOMEvents",n=>{let i=n[e.type];return i?i(t,e)||e.defaultPrevented:!1})}function K9(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function G9(t,e){!Fw(t,e)&&Ln[e.type]&&(t.editable||!(e.type in Rn))&&Ln[e.type](t,e)}Rn.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!_2(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Vi&&wn&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),kl&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let i=Date.now();t.input.lastIOSEnter=i,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==i&&(t.someProp("handleKeyDown",r=>r(t,Ws(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",i=>i(t,n))||I9(t,n)?n.preventDefault():No(t,"key")},Rn.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)},Rn.keypress=(t,e)=>{let n=e;if(_2(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||_i&&n.metaKey)return;if(t.someProp("handleKeyPress",r=>r(t,n))){n.preventDefault();return}let i=t.state.selection;if(!(i instanceof Be)||!i.$from.sameParent(i.$to)){let r=String.fromCharCode(n.charCode);!/[\r\n]/.test(r)&&!t.someProp("handleTextInput",o=>o(t,i.$from.pos,i.$to.pos,r))&&t.dispatch(t.state.tr.insertText(r).scrollIntoView()),n.preventDefault()}};function ep(t){return{left:t.clientX,top:t.clientY}}function Y9(t,e){let n=e.x-t.clientX,i=e.y-t.clientY;return n*n+i*i<100}function zw(t,e,n,i,r){if(i==-1)return!1;let o=t.state.doc.resolve(i);for(let s=o.depth+1;s>0;s--)if(t.someProp(e,l=>s>o.depth?l(t,n,o.nodeAfter,o.before(s),r,!0):l(t,n,o.node(s),o.before(s),r,!1)))return!0;return!1}function Tl(t,e,n){t.focused||t.focus();let i=t.state.tr.setSelection(e);n=="pointer"&&i.setMeta("pointer",!0),t.dispatch(i)}function X9(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),i=n.nodeAfter;return i&&i.isAtom&&Oe.isSelectable(i)?(Tl(t,new Oe(n),"pointer"),!0):!1}function q9(t,e){if(e==-1)return!1;let n=t.state.selection,i,r;n instanceof Oe&&(i=n.node);let o=t.state.doc.resolve(e);for(let s=o.depth+1;s>0;s--){let l=s>o.depth?o.nodeAfter:o.node(s);if(Oe.isSelectable(l)){i&&n.$from.depth>0&&s>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?r=o.before(n.$from.depth):r=o.before(s);break}}return r!=null?(Tl(t,Oe.create(t.state.doc,r),"pointer"),!0):!1}function Q9(t,e,n,i,r){return zw(t,"handleClickOn",e,n,i)||t.someProp("handleClick",o=>o(t,e,i))||(r?q9(t,n):X9(t,n))}function J9(t,e,n,i){return zw(t,"handleDoubleClickOn",e,n,i)||t.someProp("handleDoubleClick",r=>r(t,e,i))}function Z9(t,e,n,i){return zw(t,"handleTripleClickOn",e,n,i)||t.someProp("handleTripleClick",r=>r(t,e,i))||e7(t,n,i)}function e7(t,e,n){if(n.button!=0)return!1;let i=t.state.doc;if(e==-1)return i.inlineContent?(Tl(t,Be.create(i,0,i.content.size),"pointer"),!0):!1;let r=i.resolve(e);for(let o=r.depth+1;o>0;o--){let s=o>r.depth?r.nodeAfter:r.node(o),l=r.before(o);if(s.inlineContent)Tl(t,Be.create(i,l+1,l+1+s.content.size),"pointer");else if(Oe.isSelectable(s))Tl(t,Oe.create(i,l),"pointer");else continue;return!0}}function Bw(t){return tp(t)}const w2=_i?"metaKey":"ctrlKey";Ln.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let i=Bw(t),r=Date.now(),o="singleClick";r-t.input.lastClick.time<500&&Y9(n,t.input.lastClick)&&!n[w2]&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:r,x:n.clientX,y:n.clientY,type:o};let s=t.posAtCoords(ep(n));s&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new t7(t,s,n,!!i)):(o=="doubleClick"?J9:Z9)(t,s.pos,s.inside,n)?n.preventDefault():No(t,"pointer"))};class t7{constructor(e,n,i,r){this.view=e,this.pos=n,this.event=i,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!i[w2],this.allowDefault=i.shiftKey;let o,s;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),s=n.inside;else{let c=e.state.doc.resolve(n.pos);o=c.parent,s=c.depth?c.before():0}const l=r?null:i.target,a=l?e.docView.nearestDesc(l,!0):null;this.target=a?a.dom:null;let{selection:u}=e.state;(i.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||u instanceof Oe&&u.from<=s&&u.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&ji&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),No(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Br(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(ep(e))),this.updateAllowDefault(e),this.allowDefault||!n?No(this.view,"pointer"):Q9(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Mn&&this.mightDrag&&!this.mightDrag.node.isAtom||wn&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Tl(this.view,Ve.near(this.view.state.doc.resolve(n.pos)),"pointer"),e.preventDefault()):No(this.view,"pointer")}move(e){this.updateAllowDefault(e),No(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Ln.touchstart=t=>{t.input.lastTouch=Date.now(),Bw(t),No(t,"pointer")},Ln.touchmove=t=>{t.input.lastTouch=Date.now(),No(t,"pointer")},Ln.contextmenu=t=>Bw(t);function _2(t,e){return t.composing?!0:Mn&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const n7=Vi?5e3:-1;Rn.compositionstart=Rn.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(i=>i.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),tp(t,!0),t.markCursor=null;else if(tp(t),ji&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let i=t.domSelectionRange();for(let r=i.focusNode,o=i.focusOffset;r&&r.nodeType==1&&o!=0;){let s=o<0?r.lastChild:r.childNodes[o-1];if(!s)break;if(s.nodeType==3){t.domSelection().collapse(s,s.nodeValue.length);break}else r=s,o=-1}}t.input.composing=!0}x2(t,n7)},Rn.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,x2(t,20))};function x2(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>tp(t),e))}function S2(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=i7());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function i7(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function tp(t,e=!1){if(!(Vi&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),S2(t),e||t.docView&&t.docView.dirty){let n=Mw(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}}function r7(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let i=getSelection(),r=document.createRange();r.selectNodeContents(e),t.dom.blur(),i.removeAllRanges(),i.addRange(r),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const $l=Un&&Po<15||kl&&t9<604;Ln.copy=Rn.cut=(t,e)=>{let n=e,i=t.state.selection,r=n.type=="cut";if(i.empty)return;let o=$l?null:n.clipboardData,s=i.content(),{dom:l,text:a}=h2(t,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",l.innerHTML),o.setData("text/plain",a)):r7(t,l),r&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function o7(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function s7(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,i=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus();let r=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),i.parentNode&&i.parentNode.removeChild(i),n?Du(t,i.value,null,r,e):Du(t,i.textContent,i.innerHTML,r,e)},50)}function Du(t,e,n,i,r){let o=d2(t,e,n,i,t.state.selection.$from);if(t.someProp("handlePaste",a=>a(t,r,o||de.empty)))return!0;if(!o)return!1;let s=o7(o),l=s?t.state.tr.replaceSelectionWith(s,i):t.state.tr.replaceSelection(o);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Rn.paste=(t,e)=>{let n=e;if(t.composing&&!Vi)return;let i=$l?null:n.clipboardData,r=t.input.shiftKey&&t.input.lastKeyCode!=45;i&&Du(t,i.getData("text/plain"),i.getData("text/html"),r,n)?n.preventDefault():s7(t,n)};class a7{constructor(e,n){this.slice=e,this.move=n}}const k2=_i?"altKey":"ctrlKey";Ln.dragstart=(t,e)=>{let n=e,i=t.input.mouseDown;if(i&&i.done(),!n.dataTransfer)return;let r=t.state.selection,o=r.empty?null:t.posAtCoords(ep(n));if(!(o&&o.pos>=r.from&&o.pos<=(r instanceof Oe?r.to-1:r.to))){if(i&&i.mightDrag)t.dispatch(t.state.tr.setSelection(Oe.create(t.state.doc,i.mightDrag.pos)));else if(n.target&&n.target.nodeType==1){let u=t.docView.nearestDesc(n.target,!0);u&&u.node.type.spec.draggable&&u!=t.docView&&t.dispatch(t.state.tr.setSelection(Oe.create(t.state.doc,u.posBefore)))}}let s=t.state.selection.content(),{dom:l,text:a}=h2(t,s);n.dataTransfer.clearData(),n.dataTransfer.setData($l?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",$l||n.dataTransfer.setData("text/plain",a),t.dragging=new a7(s,!n[k2])},Ln.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)},Rn.dragover=Rn.dragenter=(t,e)=>e.preventDefault(),Rn.drop=(t,e)=>{let n=e,i=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let r=t.posAtCoords(ep(n));if(!r)return;let o=t.state.doc.resolve(r.pos),s=i&&i.slice;s?t.someProp("transformPasted",p=>{s=p(s,t)}):s=d2(t,n.dataTransfer.getData($l?"Text":"text/plain"),$l?null:n.dataTransfer.getData("text/html"),!1,o);let l=!!(i&&!n[k2]);if(t.someProp("handleDrop",p=>p(t,n,s||de.empty,l))){n.preventDefault();return}if(!s)return;n.preventDefault();let a=s?pM(t.state.doc,o.pos,s):o.pos;a==null&&(a=o.pos);let u=t.state.tr;l&&u.deleteSelection();let c=u.mapping.map(a),h=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,d=u.doc;if(h?u.replaceRangeWith(c,c,s.content.firstChild):u.replaceRange(c,c,s),u.doc.eq(d))return;let f=u.doc.resolve(c);if(h&&Oe.isSelectable(s.content.firstChild)&&f.nodeAfter&&f.nodeAfter.sameMarkup(s.content.firstChild))u.setSelection(new Oe(f));else{let p=u.mapping.map(a);u.mapping.maps[u.mapping.maps.length-1].forEach((m,g,v,y)=>p=y),u.setSelection(Rw(t,f,u.doc.resolve(p)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))},Ln.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Br(t)},20))},Ln.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)},Ln.beforeinput=(t,e)=>{if(wn&&Vi&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:i}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=i||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,Ws(8,"Backspace")))))return;let{$cursor:r}=t.state.selection;r&&r.pos>0&&t.dispatch(t.state.tr.delete(r.pos-1,r.pos).scrollIntoView())},50)}};for(let t in Rn)Ln[t]=Rn[t];function Iu(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class np{constructor(e,n){this.toDOM=e,this.spec=n||Ys,this.side=this.spec.side||0}map(e,n,i,r){let{pos:o,deleted:s}=e.mapResult(n.from+r,this.side<0?-1:1);return s?null:new si(o-i,o-i,this)}valid(){return!0}eq(e){return this==e||e instanceof np&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Iu(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Fo{constructor(e,n){this.attrs=e,this.spec=n||Ys}map(e,n,i,r){let o=e.map(n.from+r,this.spec.inclusiveStart?-1:1)-i,s=e.map(n.to+r,this.spec.inclusiveEnd?1:-1)-i;return o>=s?null:new si(o,s,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Fo&&Iu(this.attrs,e.attrs)&&Iu(this.spec,e.spec)}static is(e){return e.type instanceof Fo}destroy(){}}class jw{constructor(e,n){this.attrs=e,this.spec=n||Ys}map(e,n,i,r){let o=e.mapResult(n.from+r,1);if(o.deleted)return null;let s=e.mapResult(n.to+r,-1);return s.deleted||s.pos<=o.pos?null:new si(o.pos-i,s.pos-i,this)}valid(e,n){let{index:i,offset:r}=e.content.findIndex(n.from),o;return r==n.from&&!(o=e.child(i)).isText&&r+o.nodeSize==n.to}eq(e){return this==e||e instanceof jw&&Iu(this.attrs,e.attrs)&&Iu(this.spec,e.spec)}destroy(){}}class si{constructor(e,n,i){this.from=e,this.to=n,this.type=i}copy(e,n){return new si(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,i){return this.type.map(e,this,n,i)}static widget(e,n,i){return new si(e,e,new np(n,i))}static inline(e,n,i,r){return new si(e,n,new Fo(i,r))}static node(e,n,i,r){return new si(e,n,new jw(i,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof Fo}get widget(){return this.type instanceof np}}const Al=[],Ys={};class Bt{constructor(e,n){this.local=e.length?e:Al,this.children=n.length?n:Al}static create(e,n){return n.length?ip(n,e,0,Ys):_n}find(e,n,i){let r=[];return this.findInner(e??0,n??1e9,r,0,i),r}findInner(e,n,i,r,o){for(let s=0;s<this.local.length;s++){let l=this.local[s];l.from<=n&&l.to>=e&&(!o||o(l.spec))&&i.push(l.copy(l.from+r,l.to+r))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>e){let l=this.children[s]+1;this.children[s+2].findInner(e-l,n-l,i,r+l,o)}}map(e,n,i){return this==_n||e.maps.length==0?this:this.mapInner(e,n,0,0,i||Ys)}mapInner(e,n,i,r,o){let s;for(let l=0;l<this.local.length;l++){let a=this.local[l].map(e,i,r);a&&a.type.valid(n,a)?(s||(s=[])).push(a):o.onRemove&&o.onRemove(this.local[l].spec)}return this.children.length?l7(this.children,s||[],e,n,i,r,o):s?new Bt(s.sort(Xs),Al):_n}add(e,n){return n.length?this==_n?Bt.create(e,n):this.addInner(e,n,0):this}addInner(e,n,i){let r,o=0;e.forEach((l,a)=>{let u=a+i,c;if(c=E2(n,l,u)){for(r||(r=this.children.slice());o<r.length&&r[o]<a;)o+=3;r[o]==a?r[o+2]=r[o+2].addInner(l,c,u+1):r.splice(o,0,a,a+l.nodeSize,ip(c,l,u+1,Ys)),o+=3}});let s=C2(o?T2(n):n,-i);for(let l=0;l<s.length;l++)s[l].type.valid(e,s[l])||s.splice(l--,1);return new Bt(s.length?this.local.concat(s).sort(Xs):this.local,r||this.children)}remove(e){return e.length==0||this==_n?this:this.removeInner(e,0)}removeInner(e,n){let i=this.children,r=this.local;for(let o=0;o<i.length;o+=3){let s,l=i[o]+n,a=i[o+1]+n;for(let c=0,h;c<e.length;c++)(h=e[c])&&h.from>l&&h.to<a&&(e[c]=null,(s||(s=[])).push(h));if(!s)continue;i==this.children&&(i=this.children.slice());let u=i[o+2].removeInner(s,l+1);u!=_n?i[o+2]=u:(i.splice(o,3),o-=3)}if(r.length){for(let o=0,s;o<e.length;o++)if(s=e[o])for(let l=0;l<r.length;l++)r[l].eq(s,n)&&(r==this.local&&(r=this.local.slice()),r.splice(l--,1))}return i==this.children&&r==this.local?this:r.length||i.length?new Bt(r,i):_n}forChild(e,n){if(this==_n)return this;if(n.isLeaf)return Bt.empty;let i,r;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(i=this.children[l+2]);break}let o=e+1,s=o+n.content.size;for(let l=0;l<this.local.length;l++){let a=this.local[l];if(a.from<s&&a.to>o&&a.type instanceof Fo){let u=Math.max(o,a.from)-o,c=Math.min(s,a.to)-o;u<c&&(r||(r=[])).push(a.copy(u,c))}}if(r){let l=new Bt(r.sort(Xs),Al);return i?new zo([l,i]):l}return i||_n}eq(e){if(this==e)return!0;if(!(e instanceof Bt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return Vw(this.localsInner(e))}localsInner(e){if(this==_n)return Al;if(e.inlineContent||!this.local.some(Fo.is))return this.local;let n=[];for(let i=0;i<this.local.length;i++)this.local[i].type instanceof Fo||n.push(this.local[i]);return n}}Bt.empty=new Bt([],[]),Bt.removeOverlap=Vw;const _n=Bt.empty;class zo{constructor(e){this.members=e}map(e,n){const i=this.members.map(r=>r.map(e,n,Ys));return zo.from(i)}forChild(e,n){if(n.isLeaf)return Bt.empty;let i=[];for(let r=0;r<this.members.length;r++){let o=this.members[r].forChild(e,n);o!=_n&&(o instanceof zo?i=i.concat(o.members):i.push(o))}return zo.from(i)}eq(e){if(!(e instanceof zo)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,i=!0;for(let r=0;r<this.members.length;r++){let o=this.members[r].localsInner(e);if(o.length)if(!n)n=o;else{i&&(n=n.slice(),i=!1);for(let s=0;s<o.length;s++)n.push(o[s])}}return n?Vw(i?n:n.sort(Xs)):Al}static from(e){switch(e.length){case 0:return _n;case 1:return e[0];default:return new zo(e.every(n=>n instanceof Bt)?e:e.reduce((n,i)=>n.concat(i instanceof Bt?i:i.members),[]))}}}function l7(t,e,n,i,r,o,s){let l=t.slice();for(let u=0,c=o;u<n.maps.length;u++){let h=0;n.maps[u].forEach((d,f,p,m)=>{let g=m-p-(f-d);for(let v=0;v<l.length;v+=3){let y=l[v+1];if(y<0||d>y+c-h)continue;let k=l[v]+c-h;f>=k?l[v+1]=d<=k?-2:-1:p>=r&&g&&(l[v]+=g,l[v+1]+=g)}h+=g}),c=n.maps[u].map(c,-1)}let a=!1;for(let u=0;u<l.length;u+=3)if(l[u+1]<0){if(l[u+1]==-2){a=!0,l[u+1]=-1;continue}let c=n.map(t[u]+o),h=c-r;if(h<0||h>=i.content.size){a=!0;continue}let d=n.map(t[u+1]+o,-1),f=d-r,{index:p,offset:m}=i.content.findIndex(h),g=i.maybeChild(p);if(g&&m==h&&m+g.nodeSize==f){let v=l[u+2].mapInner(n,g,c+1,t[u]+o+1,s);v!=_n?(l[u]=h,l[u+1]=f,l[u+2]=v):(l[u+1]=-2,a=!0)}else a=!0}if(a){let u=c7(l,t,e,n,r,o,s),c=ip(u,i,0,s);e=c.local;for(let h=0;h<l.length;h+=3)l[h+1]<0&&(l.splice(h,3),h-=3);for(let h=0,d=0;h<c.children.length;h+=3){let f=c.children[h];for(;d<l.length&&l[d]<f;)d+=3;l.splice(d,0,c.children[h],c.children[h+1],c.children[h+2])}}return new Bt(e.sort(Xs),l)}function C2(t,e){if(!e||!t.length)return t;let n=[];for(let i=0;i<t.length;i++){let r=t[i];n.push(new si(r.from+e,r.to+e,r.type))}return n}function c7(t,e,n,i,r,o,s){function l(a,u){for(let c=0;c<a.local.length;c++){let h=a.local[c].map(i,r,u);h?n.push(h):s.onRemove&&s.onRemove(a.local[c].spec)}for(let c=0;c<a.children.length;c+=3)l(a.children[c+2],a.children[c]+u+1)}for(let a=0;a<t.length;a+=3)t[a+1]==-1&&l(t[a+2],e[a]+o+1);return n}function E2(t,e,n){if(e.isLeaf)return null;let i=n+e.nodeSize,r=null;for(let o=0,s;o<t.length;o++)(s=t[o])&&s.from>n&&s.to<i&&((r||(r=[])).push(s),t[o]=null);return r}function T2(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function ip(t,e,n,i){let r=[],o=!1;e.forEach((l,a)=>{let u=E2(t,l,a+n);if(u){o=!0;let c=ip(u,l,n+a+1,i);c!=_n&&r.push(a,a+l.nodeSize,c)}});let s=C2(o?T2(t):t,-n).sort(Xs);for(let l=0;l<s.length;l++)s[l].type.valid(e,s[l])||(i.onRemove&&i.onRemove(s[l].spec),s.splice(l--,1));return s.length||r.length?new Bt(s,r):_n}function Xs(t,e){return t.from-e.from||t.to-e.to}function Vw(t){let e=t;for(let n=0;n<e.length-1;n++){let i=e[n];if(i.from!=i.to)for(let r=n+1;r<e.length;r++){let o=e[r];if(o.from==i.from){o.to!=i.to&&(e==t&&(e=t.slice()),e[r]=o.copy(o.from,i.to),$2(e,r+1,o.copy(i.to,o.to)));continue}else{o.from<i.to&&(e==t&&(e=t.slice()),e[n]=i.copy(i.from,o.from),$2(e,r,i.copy(o.from,i.to)));break}}}return e}function $2(t,e,n){for(;e<t.length&&Xs(n,t[e])>0;)e++;t.splice(e,0,n)}function Ww(t){let e=[];return t.someProp("decorations",n=>{let i=n(t.state);i&&i!=_n&&e.push(i)}),t.cursorWrapper&&e.push(Bt.create(t.state.doc,[t.cursorWrapper.deco])),zo.from(e)}const u7={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},h7=Un&&Po<=11;class d7{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class f7{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new d7,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(i=>{for(let r=0;r<i.length;r++)this.queue.push(i[r]);Un&&Po<=11&&i.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),h7&&(this.onCharData=i=>{this.queue.push({target:i.target,type:"characterData",oldValue:i.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,u7)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(i2(this.view)){if(this.suppressingSelectionUpdates)return Br(this.view);if(Un&&Po<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Vs(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,i;for(let o=e.focusNode;o;o=Ou(o))n.add(o);for(let o=e.anchorNode;o;o=Ou(o))if(n.has(o)){i=o;break}let r=i&&this.view.docView.nearestDesc(i);if(r&&r.ignoreMutation({type:"selection",target:i.nodeType==3?i.parentNode:i}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let i=e.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(i)&&i2(e)&&!this.ignoreSelectionChange(i),o=-1,s=-1,l=!1,a=[];if(e.editable)for(let c=0;c<n.length;c++){let h=this.registerMutation(n[c],a);h&&(o=o<0?h.from:Math.min(h.from,o),s=s<0?h.to:Math.max(h.to,s),h.typeOver&&(l=!0))}if(ji&&a.length>1){let c=a.filter(h=>h.nodeName=="BR");if(c.length==2){let h=c[0],d=c[1];h.parentNode&&h.parentNode.parentNode==d.parentNode?d.remove():h.remove()}}let u=null;o<0&&r&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&qf(i)&&(u=Mw(e))&&u.eq(Ve.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Br(e),this.currentSelection.set(i),e.scrollToSelection()):(o>-1||r)&&(o>-1&&(e.docView.markDirty(o,s),p7(e)),this.handleDOMChange(o,s,l,a),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(i)||Br(e),this.currentSelection.set(i))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let i=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(i==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!i||i.ignoreMutation(e))return null;if(e.type=="childList"){for(let c=0;c<e.addedNodes.length;c++)n.push(e.addedNodes[c]);if(i.contentDOM&&i.contentDOM!=i.dom&&!i.contentDOM.contains(e.target))return{from:i.posBefore,to:i.posAfter};let r=e.previousSibling,o=e.nextSibling;if(Un&&Po<=11&&e.addedNodes.length)for(let c=0;c<e.addedNodes.length;c++){let{previousSibling:h,nextSibling:d}=e.addedNodes[c];(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(r=h),(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(o=d)}let s=r&&r.parentNode==e.target?On(r)+1:0,l=i.localPosFromDOM(e.target,s,-1),a=o&&o.parentNode==e.target?On(o):e.target.childNodes.length,u=i.localPosFromDOM(e.target,a,1);return{from:l,to:u}}else return e.type=="attributes"?{from:i.posAtStart-i.border,to:i.posAtEnd+i.border}:{from:i.posAtStart,to:i.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let A2=new WeakMap,O2=!1;function p7(t){if(!A2.has(t)&&(A2.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=ji,O2)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),O2=!0}}function m7(t){let e;function n(a){a.preventDefault(),a.stopImmediatePropagation(),e=a.getTargetRanges()[0]}t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0);let i=e.startContainer,r=e.startOffset,o=e.endContainer,s=e.endOffset,l=t.domAtPos(t.state.selection.anchor);return Vs(l.node,l.offset,o,s)&&([i,r,o,s]=[o,s,i,r]),{anchorNode:i,anchorOffset:r,focusNode:o,focusOffset:s}}function g7(t,e,n){let{node:i,fromOffset:r,toOffset:o,from:s,to:l}=t.docView.parseRange(e,n),a=t.domSelectionRange(),u,c=a.anchorNode;if(c&&t.dom.contains(c.nodeType==1?c:c.parentNode)&&(u=[{node:c,offset:a.anchorOffset}],qf(a)||u.push({node:a.focusNode,offset:a.focusOffset})),wn&&t.input.lastKeyCode===8)for(let g=o;g>r;g--){let v=i.childNodes[g-1],y=v.pmViewDesc;if(v.nodeName=="BR"&&!y){o=g;break}if(!y||y.size)break}let h=t.state.doc,d=t.someProp("domParser")||lw.fromSchema(t.state.schema),f=h.resolve(s),p=null,m=d.parse(i,{topNode:f.parent,topMatch:f.parent.contentMatchAt(f.index()),topOpen:!0,from:r,to:o,preserveWhitespace:f.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:v7,context:f});if(u&&u[0].pos!=null){let g=u[0].pos,v=u[1]&&u[1].pos;v==null&&(v=g),p={anchor:g+s,head:v+s}}return{doc:m,sel:p,from:s,to:l}}function v7(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Mn&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Mn&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const y7=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function b7(t,e,n,i,r){let o=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let S=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,b=Mw(t,S);if(b&&!t.state.selection.eq(b)){if(wn&&Vi&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",A=>A(t,Ws(13,"Enter"))))return;let x=t.state.tr.setSelection(b);S=="pointer"?x.setMeta("pointer",!0):S=="key"&&x.scrollIntoView(),o&&x.setMeta("composition",o),t.dispatch(x)}return}let s=t.state.doc.resolve(e),l=s.sharedDepth(n);e=s.before(l+1),n=t.state.doc.resolve(n).after(l+1);let a=t.state.selection,u=g7(t,e,n),c=t.state.doc,h=c.slice(u.from,u.to),d,f;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(d=t.state.selection.to,f="end"):(d=t.state.selection.from,f="start"),t.input.lastKeyCode=null;let p=x7(h.content,u.doc.content,u.from,d,f);if((kl&&t.input.lastIOSEnter>Date.now()-225||Vi)&&r.some(S=>S.nodeType==1&&!y7.test(S.nodeName))&&(!p||p.endA>=p.endB)&&t.someProp("handleKeyDown",S=>S(t,Ws(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!p)if(i&&a instanceof Be&&!a.empty&&a.$head.sameParent(a.$anchor)&&!t.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))p={start:a.from,endA:a.to,endB:a.to};else{if(u.sel){let S=M2(t,t.state.doc,u.sel);if(S&&!S.eq(t.state.selection)){let b=t.state.tr.setSelection(S);o&&b.setMeta("composition",o),t.dispatch(b)}}return}if(wn&&t.cursorWrapper&&u.sel&&u.sel.anchor==t.cursorWrapper.deco.from&&u.sel.head==u.sel.anchor){let S=p.endB-p.start;u.sel={anchor:u.sel.anchor+S,head:u.sel.anchor+S}}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&p.start==p.endB&&t.state.selection instanceof Be&&(p.start>t.state.selection.from&&p.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?p.start=t.state.selection.from:p.endA<t.state.selection.to&&p.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(p.endB+=t.state.selection.to-p.endA,p.endA=t.state.selection.to)),Un&&Po<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>u.from&&u.doc.textBetween(p.start-u.from-1,p.start-u.from+1)==" "&&(p.start--,p.endA--,p.endB--);let m=u.doc.resolveNoCache(p.start-u.from),g=u.doc.resolveNoCache(p.endB-u.from),v=c.resolve(p.start),y=m.sameParent(g)&&m.parent.inlineContent&&v.end()>=p.endA,k;if((kl&&t.input.lastIOSEnter>Date.now()-225&&(!y||r.some(S=>S.nodeName=="DIV"||S.nodeName=="P"))||!y&&m.pos<u.doc.content.size&&!m.sameParent(g)&&(k=Ve.findFrom(u.doc.resolve(m.pos+1),1,!0))&&k.head==g.pos)&&t.someProp("handleKeyDown",S=>S(t,Ws(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>p.start&&_7(c,p.start,p.endA,m,g)&&t.someProp("handleKeyDown",S=>S(t,Ws(8,"Backspace")))){Vi&&wn&&t.domObserver.suppressSelectionUpdates();return}wn&&Vi&&p.endB==p.start&&(t.input.lastAndroidDelete=Date.now()),Vi&&!y&&m.start()!=g.start()&&g.parentOffset==0&&m.depth==g.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==p.endA&&(p.endB-=2,g=u.doc.resolveNoCache(p.endB-u.from),setTimeout(()=>{t.someProp("handleKeyDown",function(S){return S(t,Ws(13,"Enter"))})},20));let C=p.start,T=p.endA,_,E,w;if(y){if(m.pos==g.pos)Un&&Po<=11&&m.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Br(t),20)),_=t.state.tr.delete(C,T),E=c.resolve(p.start).marksAcross(c.resolve(p.endA));else if(p.endA==p.endB&&(w=w7(m.parent.content.cut(m.parentOffset,g.parentOffset),v.parent.content.cut(v.parentOffset,p.endA-v.start()))))_=t.state.tr,w.type=="add"?_.addMark(C,T,w.mark):_.removeMark(C,T,w.mark);else if(m.parent.child(m.index()).isText&&m.index()==g.index()-(g.textOffset?0:1)){let S=m.parent.textBetween(m.parentOffset,g.parentOffset);if(t.someProp("handleTextInput",b=>b(t,C,T,S)))return;_=t.state.tr.insertText(S,C,T)}}if(_||(_=t.state.tr.replace(C,T,u.doc.slice(p.start-u.from,p.endB-u.from))),u.sel){let S=M2(t,_.doc,u.sel);S&&!(wn&&Vi&&t.composing&&S.empty&&(p.start!=p.endB||t.input.lastAndroidDelete<Date.now()-100)&&(S.head==C||S.head==_.mapping.map(T)-1)||Un&&S.empty&&S.head==C)&&_.setSelection(S)}E&&_.ensureMarks(E),o&&_.setMeta("composition",o),t.dispatch(_.scrollIntoView())}function M2(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Rw(t,e.resolve(n.anchor),e.resolve(n.head))}function w7(t,e){let n=t.firstChild.marks,i=e.firstChild.marks,r=n,o=i,s,l,a;for(let c=0;c<i.length;c++)r=i[c].removeFromSet(r);for(let c=0;c<n.length;c++)o=n[c].removeFromSet(o);if(r.length==1&&o.length==0)l=r[0],s="add",a=c=>c.mark(l.addToSet(c.marks));else if(r.length==0&&o.length==1)l=o[0],s="remove",a=c=>c.mark(l.removeFromSet(c.marks));else return null;let u=[];for(let c=0;c<e.childCount;c++)u.push(a(e.child(c)));if(re.from(u).eq(t))return{mark:l,type:s}}function _7(t,e,n,i,r){if(!i.parent.isTextblock||n-e<=r.pos-i.pos||Hw(i,!0,!1)<r.pos)return!1;let o=t.resolve(e);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=t.resolve(Hw(o,!0,!0));return!s.parent.isTextblock||s.pos>n||Hw(s,!0,!1)<n?!1:i.parent.content.cut(i.parentOffset).eq(s.parent.content)}function Hw(t,e,n){let i=t.depth,r=e?t.end():t.pos;for(;i>0&&(e||t.indexAfter(i)==t.node(i).childCount);)i--,r++,e=!1;if(n){let o=t.node(i).maybeChild(t.indexAfter(i));for(;o&&!o.isLeaf;)o=o.firstChild,r++}return r}function x7(t,e,n,i,r){let o=t.findDiffStart(e,n);if(o==null)return null;let{a:s,b:l}=t.findDiffEnd(e,n+t.size,n+e.size);if(r=="end"){let a=Math.max(0,o-Math.min(s,l));i-=s+a-o}if(s<o&&t.size<e.size){let a=i<=o&&i>=s?o-i:0;o-=a,l=o+(l-s),s=o}else if(l<o){let a=i<=o&&i>=l?o-i:0;o-=a,s=o+(s-l),l=o}return{start:o,endA:s,endB:l}}class S7{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new W9,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(I2),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=P2(this),R2(this),this.nodeViews=D2(this),this.docView=UM(this.state.doc,L2(this),Ww(this),this.dom,this),this.domObserver=new f7(this,(i,r,o,s)=>b7(this,i,r,o,s)),this.domObserver.start(),H9(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Nw(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(I2),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let i in this._props)n[i]=this._props[i];n.state=this.state;for(let i in e)n[i]=e[i];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){let i=this.state,r=!1,o=!1;e.storedMarks&&this.composing&&(S2(this),o=!0),this.state=e;let s=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(s||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let d=D2(this);C7(d,this.nodeViews)&&(this.nodeViews=d,r=!0)}(s||n.handleDOMEvents!=this._props.handleDOMEvents)&&Nw(this),this.editable=P2(this),R2(this);let l=Ww(this),a=L2(this),u=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",c=r||!this.docView.matchesNode(e.doc,a,l);(c||!e.selection.eq(i.selection))&&(o=!0);let h=u=="preserve"&&o&&this.dom.style.overflowAnchor==null&&r9(this);if(o){this.domObserver.stop();let d=c&&(Un||wn)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&k7(i.selection,e.selection);if(c){let f=wn?this.trackWrites=this.domSelectionRange().focusNode:null;(r||!this.docView.update(e.doc,a,l,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=UM(e.doc,a,l,this.dom,this)),f&&!this.trackWrites&&(d=!0)}d||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&A9(this))?Br(this,d):(t2(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():h&&o9(h)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Oe){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&LM(this,n.getBoundingClientRect(),e)}else LM(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let i=this.directPlugins[n];i.spec.view&&this.pluginViews.push(i.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let i=this.state.plugins[n];i.spec.view&&this.pluginViews.push(i.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let i=this.pluginViews[n];i.update&&i.update(this,e)}}someProp(e,n){let i=this._props&&this._props[e],r;if(i!=null&&(r=n?n(i):i))return r;for(let s=0;s<this.directPlugins.length;s++){let l=this.directPlugins[s].props[e];if(l!=null&&(r=n?n(l):l))return r}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let l=o[s].props[e];if(l!=null&&(r=n?n(l):l))return r}}hasFocus(){if(Un){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&s9(this.dom),Br(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}posAtCoords(e){return h9(this,e)}coordsAtPos(e,n=1){return FM(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,i=-1){let r=this.docView.posFromDOM(e,n,i);if(r==null)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(e,n){return g9(this,n||this.state,e)}pasteHTML(e,n){return Du(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Du(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(U9(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Ww(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(e){return G9(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return Mn&&this.root.nodeType===11&&QH(this.dom.ownerDocument)==this.dom?m7(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function L2(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let i in n)i=="class"?e.class+=" "+n[i]:i=="style"?e.style=(e.style?e.style+";":"")+n[i]:!e[i]&&i!="contenteditable"&&i!="nodeName"&&(e[i]=String(n[i]))}),e.translate||(e.translate="no"),[si.node(0,t.state.doc.content.size,e)]}function R2(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:si.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function P2(t){return!t.someProp("editable",e=>e(t.state)===!1)}function k7(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function D2(t){let e=Object.create(null);function n(i){for(let r in i)Object.prototype.hasOwnProperty.call(e,r)||(e[r]=i[r])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function C7(t,e){let n=0,i=0;for(let r in t){if(t[r]!=e[r])return!0;n++}for(let r in e)i++;return n!=i}function I2(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}for(var Bo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},rp={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},E7=typeof navigator<"u"&&/Mac/.test(navigator.platform),T7=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),cn=0;cn<10;cn++)Bo[48+cn]=Bo[96+cn]=String(cn);for(var cn=1;cn<=24;cn++)Bo[cn+111]="F"+cn;for(var cn=65;cn<=90;cn++)Bo[cn]=String.fromCharCode(cn+32),rp[cn]=String.fromCharCode(cn);for(var Uw in Bo)rp.hasOwnProperty(Uw)||(rp[Uw]=Bo[Uw]);function $7(t){var e=E7&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||T7&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?rp:Bo)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const A7=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function O7(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let i,r,o,s;for(let l=0;l<e.length-1;l++){let a=e[l];if(/^(cmd|meta|m)$/i.test(a))s=!0;else if(/^a(lt)?$/i.test(a))i=!0;else if(/^(c|ctrl|control)$/i.test(a))r=!0;else if(/^s(hift)?$/i.test(a))o=!0;else if(/^mod$/i.test(a))A7?s=!0:r=!0;else throw new Error("Unrecognized modifier name: "+a)}return i&&(n="Alt-"+n),r&&(n="Ctrl-"+n),s&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function M7(t){let e=Object.create(null);for(let n in t)e[O7(n)]=t[n];return e}function Kw(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function L7(t){return new bn({props:{handleKeyDown:N2(t)}})}function N2(t){let e=M7(t);return function(n,i){let r=$7(i),o,s=e[Kw(r,i)];if(s&&s(n.state,n.dispatch,n))return!0;if(r.length==1&&r!=" "){if(i.shiftKey){let l=e[Kw(r,i,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((i.shiftKey||i.altKey||i.metaKey||r.charCodeAt(0)>127)&&(o=Bo[i.keyCode])&&o!=r){let l=e[Kw(o,i)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}const R7=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function P7(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const D7=(t,e,n)=>{let i=P7(t,n);if(!i)return!1;let r=F2(i);if(!r){let s=i.blockRange(),l=s&&yl(s);return l==null?!1:(e&&e(t.tr.lift(s,l).scrollIntoView()),!0)}let o=r.nodeBefore;if(!o.type.spec.isolating&&j2(t,r,e))return!0;if(i.parent.content.size==0&&(Ol(o,"end")||Oe.isSelectable(o))){let s=mw(t.doc,i.before(),i.after(),de.empty);if(s&&s.slice.size<s.to-s.from){if(e){let l=t.tr.step(s);l.setSelection(Ol(o,"end")?Ve.findFrom(l.doc.resolve(l.mapping.map(r.pos,-1)),-1):Oe.create(l.doc,r.pos-o.nodeSize)),e(l.scrollIntoView())}return!0}}return o.isAtom&&r.depth==i.depth-1?(e&&e(t.tr.delete(r.pos-o.nodeSize,r.pos).scrollIntoView()),!0):!1};function Ol(t,e,n=!1){for(let i=t;i;i=e=="start"?i.firstChild:i.lastChild){if(i.isTextblock)return!0;if(n&&i.childCount!=1)return!1}return!1}const I7=(t,e,n)=>{let{$head:i,empty:r}=t.selection,o=i;if(!r)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):i.parentOffset>0)return!1;o=F2(i)}let s=o&&o.nodeBefore;return!s||!Oe.isSelectable(s)?!1:(e&&e(t.tr.setSelection(Oe.create(t.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function F2(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function N7(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const F7=(t,e,n)=>{let i=N7(t,n);if(!i)return!1;let r=z2(i);if(!r)return!1;let o=r.nodeAfter;if(j2(t,r,e))return!0;if(i.parent.content.size==0&&(Ol(o,"start")||Oe.isSelectable(o))){let s=mw(t.doc,i.before(),i.after(),de.empty);if(s&&s.slice.size<s.to-s.from){if(e){let l=t.tr.step(s);l.setSelection(Ol(o,"start")?Ve.findFrom(l.doc.resolve(l.mapping.map(r.pos)),1):Oe.create(l.doc,l.mapping.map(r.pos))),e(l.scrollIntoView())}return!0}}return o.isAtom&&r.depth==i.depth-1?(e&&e(t.tr.delete(r.pos,r.pos+o.nodeSize).scrollIntoView()),!0):!1},z7=(t,e,n)=>{let{$head:i,empty:r}=t.selection,o=i;if(!r)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):i.parentOffset<i.parent.content.size)return!1;o=z2(i)}let s=o&&o.nodeAfter;return!s||!Oe.isSelectable(s)?!1:(e&&e(t.tr.setSelection(Oe.create(t.doc,o.pos)).scrollIntoView()),!0)};function z2(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const B7=(t,e)=>{let n=t.selection,i=n instanceof Oe,r;if(i){if(n.node.isTextblock||!Lo(t.doc,n.from))return!1;r=n.from}else if(r=Gf(t.doc,n.from,-1),r==null)return!1;if(e){let o=t.tr.join(r);i&&o.setSelection(Oe.create(o.doc,r-t.doc.resolve(r).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},j7=(t,e)=>{let n=t.selection,i;if(n instanceof Oe){if(n.node.isTextblock||!Lo(t.doc,n.to))return!1;i=n.to}else if(i=Gf(t.doc,n.to,1),i==null)return!1;return e&&e(t.tr.join(i).scrollIntoView()),!0},V7=(t,e)=>{let{$from:n,$to:i}=t.selection,r=n.blockRange(i),o=r&&yl(r);return o==null?!1:(e&&e(t.tr.lift(r,o).scrollIntoView()),!0)},W7=(t,e)=>{let{$head:n,$anchor:i}=t.selection;return!n.parent.type.spec.code||!n.sameParent(i)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function B2(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const H7=(t,e)=>{let{$head:n,$anchor:i}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(i))return!1;let r=n.node(-1),o=n.indexAfter(-1),s=B2(r.contentMatchAt(o));if(!s||!r.canReplaceWith(o,o,s))return!1;if(e){let l=n.after(),a=t.tr.replaceWith(l,l,s.createAndFill());a.setSelection(Ve.near(a.doc.resolve(l),1)),e(a.scrollIntoView())}return!0},U7=(t,e)=>{let n=t.selection,{$from:i,$to:r}=n;if(n instanceof Bi||i.parent.inlineContent||r.parent.inlineContent)return!1;let o=B2(r.parent.contentMatchAt(r.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let s=(!i.parentOffset&&r.index()<r.parent.childCount?i:r).pos,l=t.tr.insert(s,o.createAndFill());l.setSelection(Be.create(l.doc,s+1)),e(l.scrollIntoView())}return!0},K7=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(bl(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let i=n.blockRange(),r=i&&yl(i);return r==null?!1:(e&&e(t.tr.lift(i,r).scrollIntoView()),!0)},G7=(t,e)=>{let{$from:n,to:i}=t.selection,r,o=n.sharedDepth(i);return o==0?!1:(r=n.before(o),e&&e(t.tr.setSelection(Oe.create(t.doc,r))),!0)};function Y7(t,e,n){let i=e.nodeBefore,r=e.nodeAfter,o=e.index();return!i||!r||!i.type.compatibleContent(r.type)?!1:!i.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-i.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(r.isTextblock||Lo(t.doc,e.pos))?!1:(n&&n(t.tr.clearIncompatible(e.pos,i.type,i.contentMatchAt(i.childCount)).join(e.pos).scrollIntoView()),!0)}function j2(t,e,n){let i=e.nodeBefore,r=e.nodeAfter,o,s;if(i.type.spec.isolating||r.type.spec.isolating)return!1;if(Y7(t,e,n))return!0;let l=e.parent.canReplace(e.index(),e.index()+1);if(l&&(o=(s=i.contentMatchAt(i.childCount)).findWrapping(r.type))&&s.matchType(o[0]||r.type).validEnd){if(n){let h=e.pos+r.nodeSize,d=re.empty;for(let m=o.length-1;m>=0;m--)d=re.from(o[m].create(null,d));d=re.from(i.copy(d));let f=t.tr.step(new qt(e.pos-1,h,e.pos,h,new de(d,1,0),o.length,!0)),p=h+2*o.length;Lo(f.doc,p)&&f.join(p),n(f.scrollIntoView())}return!0}let a=Ve.findFrom(e,1),u=a&&a.$from.blockRange(a.$to),c=u&&yl(u);if(c!=null&&c>=e.depth)return n&&n(t.tr.lift(u,c).scrollIntoView()),!0;if(l&&Ol(r,"start",!0)&&Ol(i,"end")){let h=i,d=[];for(;d.push(h),!h.isTextblock;)h=h.lastChild;let f=r,p=1;for(;!f.isTextblock;f=f.firstChild)p++;if(h.canReplace(h.childCount,h.childCount,f.content)){if(n){let m=re.empty;for(let v=d.length-1;v>=0;v--)m=re.from(d[v].copy(m));let g=t.tr.step(new qt(e.pos-d.length,e.pos+r.nodeSize,e.pos+p,e.pos+r.nodeSize-p,new de(m,d.length,0),0,!0));n(g.scrollIntoView())}return!0}}return!1}function V2(t){return function(e,n){let i=e.selection,r=t<0?i.$from:i.$to,o=r.depth;for(;r.node(o).isInline;){if(!o)return!1;o--}return r.node(o).isTextblock?(n&&n(e.tr.setSelection(Be.create(e.doc,t<0?r.start(o):r.end(o)))),!0):!1}}const X7=V2(-1),q7=V2(1);function Q7(t,e=null){return function(n,i){let{$from:r,$to:o}=n.selection,s=r.blockRange(o),l=s&&pw(s,t,e);return l?(i&&i(n.tr.wrap(s,l).scrollIntoView()),!0):!1}}function W2(t,e=null){return function(n,i){let r=!1;for(let o=0;o<n.selection.ranges.length&&!r;o++){let{$from:{pos:s},$to:{pos:l}}=n.selection.ranges[o];n.doc.nodesBetween(s,l,(a,u)=>{if(r)return!1;if(!(!a.isTextblock||a.hasMarkup(t,e)))if(a.type==t)r=!0;else{let c=n.doc.resolve(u),h=c.index();r=c.parent.canReplaceWith(h,h+1,t)}})}if(!r)return!1;if(i){let o=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:l},$to:{pos:a}}=n.selection.ranges[s];o.setBlockType(l,a,t,e)}i(o.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function J7(t,e=null){return function(n,i){let{$from:r,$to:o}=n.selection,s=r.blockRange(o),l=!1,a=s;if(!s)return!1;if(s.depth>=2&&r.node(s.depth-1).type.compatibleContent(t)&&s.startIndex==0){if(r.index(s.depth-1)==0)return!1;let c=n.doc.resolve(s.start-2);a=new Bf(c,c,s.depth),s.endIndex<s.parent.childCount&&(s=new Bf(r,n.doc.resolve(o.end(s.depth)),s.depth)),l=!0}let u=pw(a,t,e,s);return u?(i&&i(Z7(n.tr,s,u,l,t).scrollIntoView()),!0):!1}}function Z7(t,e,n,i,r){let o=re.empty;for(let c=n.length-1;c>=0;c--)o=re.from(n[c].type.create(n[c].attrs,o));t.step(new qt(e.start-(i?2:0),e.end,e.start,e.end,new de(o,0,0),n.length,!0));let s=0;for(let c=0;c<n.length;c++)n[c].type==r&&(s=c+1);let l=n.length-s,a=e.start+n.length-(i?2:0),u=e.parent;for(let c=e.startIndex,h=e.endIndex,d=!0;c<h;c++,d=!1)!d&&bl(t.doc,a,l)&&(t.split(a,l),a+=2*l),a+=u.child(c).nodeSize;return t}function eU(t){return function(e,n){let{$from:i,$to:r}=e.selection,o=i.blockRange(r,s=>s.childCount>0&&s.firstChild.type==t);return o?n?i.node(o.depth-1).type==t?tU(e,n,t,o):nU(e,n,o):!0:!1}}function tU(t,e,n,i){let r=t.tr,o=i.end,s=i.$to.end(i.depth);o<s&&(r.step(new qt(o-1,s,o,s,new de(re.from(n.create(null,i.parent.copy())),1,0),1,!0)),i=new Bf(r.doc.resolve(i.$from.pos),r.doc.resolve(s),i.depth));const l=yl(i);if(l==null)return!1;r.lift(i,l);let a=r.mapping.map(o,-1)-1;return Lo(r.doc,a)&&r.join(a),e(r.scrollIntoView()),!0}function nU(t,e,n){let i=t.tr,r=n.parent;for(let f=n.end,p=n.endIndex-1,m=n.startIndex;p>m;p--)f-=r.child(p).nodeSize,i.delete(f-1,f+1);let o=i.doc.resolve(n.start),s=o.nodeAfter;if(i.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,a=n.endIndex==r.childCount,u=o.node(-1),c=o.index(-1);if(!u.canReplace(c+(l?0:1),c+1,s.content.append(a?re.empty:re.from(r))))return!1;let h=o.pos,d=h+s.nodeSize;return i.step(new qt(h-(l?1:0),d+(a?1:0),h+1,d-1,new de((l?re.empty:re.from(r.copy(re.empty))).append(a?re.empty:re.from(r.copy(re.empty))),l?0:1,a?0:1),l?0:1)),e(i.scrollIntoView()),!0}function iU(t){return function(e,n){let{$from:i,$to:r}=e.selection,o=i.blockRange(r,u=>u.childCount>0&&u.firstChild.type==t);if(!o)return!1;let s=o.startIndex;if(s==0)return!1;let l=o.parent,a=l.child(s-1);if(a.type!=t)return!1;if(n){let u=a.lastChild&&a.lastChild.type==l.type,c=re.from(u?t.create():null),h=new de(re.from(t.create(null,re.from(l.type.create(null,c)))),u?3:1,0),d=o.start,f=o.end;n(e.tr.step(new qt(d-(u?3:1),f,d,f,h,1,!0)).scrollIntoView())}return!0}}function op(t){const{state:e,transaction:n}=t;let{selection:i}=n,{doc:r}=n,{storedMarks:o}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),filterTransaction:e.filterTransaction,plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return i},get doc(){return r},get tr(){return i=n.selection,r=n.doc,o=n.storedMarks,n}}}class sp{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:i}=this,{view:r}=n,{tr:o}=i,s=this.buildProps(o);return Object.fromEntries(Object.entries(e).map(([l,a])=>[l,(...c)=>{const h=a(...c)(s);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(o),h}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:i,editor:r,state:o}=this,{view:s}=r,l=[],a=!!e,u=e||o.tr,c=()=>(!a&&n&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(u),l.every(d=>d===!0)),h={...Object.fromEntries(Object.entries(i).map(([d,f])=>[d,(...m)=>{const g=this.buildProps(u,n),v=f(...m)(g);return l.push(v),h}])),run:c};return h}createCan(e){const{rawCommands:n,state:i}=this,r=!1,o=e||i.tr,s=this.buildProps(o,r);return{...Object.fromEntries(Object.entries(n).map(([a,u])=>[a,(...c)=>u(...c)({...s,dispatch:void 0})])),chain:()=>this.createChain(o,r)}}buildProps(e,n=!0){const{rawCommands:i,editor:r,state:o}=this,{view:s}=r,l={tr:e,editor:r,view:s,state:op({state:o,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(i).map(([a,u])=>[a,(...c)=>u(...c)(l)]))}};return l}}class rU{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const i=this.callbacks[e];return i&&i.forEach(r=>r.apply(this,n)),this}off(e,n){const i=this.callbacks[e];return i&&(n?this.callbacks[e]=i.filter(r=>r!==n):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function ye(t,e,n){return t.config[e]===void 0&&t.parent?ye(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?ye(t.parent,e,n):null}):t.config[e]}function ap(t){const e=t.filter(r=>r.type==="extension"),n=t.filter(r=>r.type==="node"),i=t.filter(r=>r.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:i}}function H2(t){const e=[],{nodeExtensions:n,markExtensions:i}=ap(t),r=[...n,...i],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(s=>{const l={name:s.name,options:s.options,storage:s.storage},a=ye(s,"addGlobalAttributes",l);if(!a)return;a().forEach(c=>{c.types.forEach(h=>{Object.entries(c.attributes).forEach(([d,f])=>{e.push({type:h,name:d,attribute:{...o,...f}})})})})}),r.forEach(s=>{const l={name:s.name,options:s.options,storage:s.storage},a=ye(s,"addAttributes",l);if(!a)return;const u=a();Object.entries(u).forEach(([c,h])=>{const d={...o,...h};typeof(d==null?void 0:d.default)=="function"&&(d.default=d.default()),d!=null&&d.isRequired&&(d==null?void 0:d.default)===void 0&&delete d.default,e.push({type:s.name,name:c,attribute:d})})}),e}function Qt(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function jt(...t){return t.filter(e=>!!e).reduce((e,n)=>{const i={...e};return Object.entries(n).forEach(([r,o])=>{if(!i[r]){i[r]=o;return}if(r==="class"){const l=o?o.split(" "):[],a=i[r]?i[r].split(" "):[],u=l.filter(c=>!a.includes(c));i[r]=[...a,...u].join(" ")}else r==="style"?i[r]=[i[r],o].join("; "):i[r]=o}),i},{})}function Gw(t,e){return e.filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,i)=>jt(n,i),{})}function U2(t){return typeof t=="function"}function We(t,e=void 0,...n){return U2(t)?e?t.bind(e)(...n):t(...n):t}function oU(t={}){return Object.keys(t).length===0&&t.constructor===Object}function sU(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function K2(t,e){return t.style?t:{...t,getAttrs:n=>{const i=t.getAttrs?t.getAttrs(n):t.attrs;if(i===!1)return!1;const r=e.reduce((o,s)=>{const l=s.attribute.parseHTML?s.attribute.parseHTML(n):sU(n.getAttribute(s.name));return l==null?o:{...o,[s.name]:l}},{});return{...i,...r}}}}function G2(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&oU(n)?!1:n!=null))}function aU(t,e){var n;const i=H2(t),{nodeExtensions:r,markExtensions:o}=ap(t),s=(n=r.find(u=>ye(u,"topNode")))===null||n===void 0?void 0:n.name,l=Object.fromEntries(r.map(u=>{const c=i.filter(v=>v.type===u.name),h={name:u.name,options:u.options,storage:u.storage,editor:e},d=t.reduce((v,y)=>{const k=ye(y,"extendNodeSchema",h);return{...v,...k?k(u):{}}},{}),f=G2({...d,content:We(ye(u,"content",h)),marks:We(ye(u,"marks",h)),group:We(ye(u,"group",h)),inline:We(ye(u,"inline",h)),atom:We(ye(u,"atom",h)),selectable:We(ye(u,"selectable",h)),draggable:We(ye(u,"draggable",h)),code:We(ye(u,"code",h)),defining:We(ye(u,"defining",h)),isolating:We(ye(u,"isolating",h)),attrs:Object.fromEntries(c.map(v=>{var y;return[v.name,{default:(y=v==null?void 0:v.attribute)===null||y===void 0?void 0:y.default}]}))}),p=We(ye(u,"parseHTML",h));p&&(f.parseDOM=p.map(v=>K2(v,c)));const m=ye(u,"renderHTML",h);m&&(f.toDOM=v=>m({node:v,HTMLAttributes:Gw(v,c)}));const g=ye(u,"renderText",h);return g&&(f.toText=g),[u.name,f]})),a=Object.fromEntries(o.map(u=>{const c=i.filter(g=>g.type===u.name),h={name:u.name,options:u.options,storage:u.storage,editor:e},d=t.reduce((g,v)=>{const y=ye(v,"extendMarkSchema",h);return{...g,...y?y(u):{}}},{}),f=G2({...d,inclusive:We(ye(u,"inclusive",h)),excludes:We(ye(u,"excludes",h)),group:We(ye(u,"group",h)),spanning:We(ye(u,"spanning",h)),code:We(ye(u,"code",h)),attrs:Object.fromEntries(c.map(g=>{var v;return[g.name,{default:(v=g==null?void 0:g.attribute)===null||v===void 0?void 0:v.default}]}))}),p=We(ye(u,"parseHTML",h));p&&(f.parseDOM=p.map(g=>K2(g,c)));const m=ye(u,"renderHTML",h);return m&&(f.toDOM=g=>m({mark:g,HTMLAttributes:Gw(g,c)})),[u.name,f]}));return new gH({topNode:s,nodes:l,marks:a})}function Yw(t,e){return e.nodes[t]||e.marks[t]||null}function Y2(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}const lU=(t,e=500)=>{let n="";const i=t.parentOffset;return t.parent.nodesBetween(Math.max(0,i-e),i,(r,o,s,l)=>{var a,u;const c=((u=(a=r.type.spec).toText)===null||u===void 0?void 0:u.call(a,{node:r,pos:o,parent:s,index:l}))||r.textContent||"%leaf%";n+=c.slice(0,Math.max(0,i-o))}),n};function Xw(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class lp{constructor(e){this.find=e.find,this.handler=e.handler}}const cU=(t,e)=>{if(Xw(e))return e.exec(t);const n=e(t);if(!n)return null;const i=[n.text];return i.index=n.index,i.input=t,i.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),i.push(n.replaceWith)),i};function qw(t){var e;const{editor:n,from:i,to:r,text:o,rules:s,plugin:l}=t,{view:a}=n;if(a.composing)return!1;const u=a.state.doc.resolve(i);if(u.parent.type.spec.code||!((e=u.nodeBefore||u.nodeAfter)===null||e===void 0)&&e.marks.find(d=>d.type.spec.code))return!1;let c=!1;const h=lU(u)+o;return s.forEach(d=>{if(c)return;const f=cU(h,d.find);if(!f)return;const p=a.state.tr,m=op({state:a.state,transaction:p}),g={from:i-(f[0].length-o.length),to:r},{commands:v,chain:y,can:k}=new sp({editor:n,state:m});d.handler({state:m,range:g,match:f,commands:v,chain:y,can:k})===null||!p.steps.length||(p.setMeta(l,{transform:p,from:i,to:r,text:o}),a.dispatch(p),c=!0)}),c}function uU(t){const{editor:e,rules:n}=t,i=new bn({state:{init(){return null},apply(r,o){const s=r.getMeta(i);return s||(r.selectionSet||r.docChanged?null:o)}},props:{handleTextInput(r,o,s,l){return qw({editor:e,from:o,to:s,text:l,rules:n,plugin:i})},handleDOMEvents:{compositionend:r=>(setTimeout(()=>{const{$cursor:o}=r.state.selection;o&&qw({editor:e,from:o.pos,to:o.pos,text:"",rules:n,plugin:i})}),!1)},handleKeyDown(r,o){if(o.key!=="Enter")return!1;const{$cursor:s}=r.state.selection;return s?qw({editor:e,from:s.pos,to:s.pos,text:`
`,rules:n,plugin:i}):!1}},isInputRules:!0});return i}function hU(t){return typeof t=="number"}class dU{constructor(e){this.find=e.find,this.handler=e.handler}}const fU=(t,e)=>{if(Xw(e))return[...t.matchAll(e)];const n=e(t);return n?n.map(i=>{const r=[i.text];return r.index=i.index,r.input=t,r.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),r.push(i.replaceWith)),r}):[]};function pU(t){const{editor:e,state:n,from:i,to:r,rule:o}=t,{commands:s,chain:l,can:a}=new sp({editor:e,state:n}),u=[];return n.doc.nodesBetween(i,r,(h,d)=>{if(!h.isTextblock||h.type.spec.code)return;const f=Math.max(i,d),p=Math.min(r,d+h.content.size),m=h.textBetween(f-d,p-d,void 0,"");fU(m,o.find).forEach(v=>{if(v.index===void 0)return;const y=f+v.index+1,k=y+v[0].length,C={from:n.tr.mapping.map(y),to:n.tr.mapping.map(k)},T=o.handler({state:n,range:C,match:v,commands:s,chain:l,can:a});u.push(T)})}),u.every(h=>h!==null)}function mU(t){const{editor:e,rules:n}=t;let i=null,r=!1,o=!1;return n.map(l=>new bn({view(a){const u=c=>{var h;i=!((h=a.dom.parentElement)===null||h===void 0)&&h.contains(c.target)?a.dom.parentElement:null};return window.addEventListener("dragstart",u),{destroy(){window.removeEventListener("dragstart",u)}}},props:{handleDOMEvents:{drop:a=>(o=i===a.dom.parentElement,!1),paste:(a,u)=>{var c;const h=(c=u.clipboardData)===null||c===void 0?void 0:c.getData("text/html");return r=!!(h!=null&&h.includes("data-pm-slice")),!1}}},appendTransaction:(a,u,c)=>{const h=a[0],d=h.getMeta("uiEvent")==="paste"&&!r,f=h.getMeta("uiEvent")==="drop"&&!o;if(!d&&!f)return;const p=u.doc.content.findDiffStart(c.doc.content),m=u.doc.content.findDiffEnd(c.doc.content);if(!hU(p)||!m||p===m.b)return;const g=c.tr,v=op({state:c,transaction:g});if(!(!pU({editor:e,state:v,from:Math.max(p-1,0),to:m.b-1,rule:l})||!g.steps.length))return g}}))}function gU(t){const e=t.filter((n,i)=>t.indexOf(n)!==i);return[...new Set(e)]}class Ml{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=Ml.resolve(e),this.schema=aU(this.extensions,n),this.extensions.forEach(i=>{var r;this.editor.extensionStorage[i.name]=i.storage;const o={name:i.name,options:i.options,storage:i.storage,editor:this.editor,type:Yw(i.name,this.schema)};i.type==="mark"&&(!((r=We(ye(i,"keepOnSplit",o)))!==null&&r!==void 0)||r)&&this.splittableMarks.push(i.name);const s=ye(i,"onBeforeCreate",o);s&&this.editor.on("beforeCreate",s);const l=ye(i,"onCreate",o);l&&this.editor.on("create",l);const a=ye(i,"onUpdate",o);a&&this.editor.on("update",a);const u=ye(i,"onSelectionUpdate",o);u&&this.editor.on("selectionUpdate",u);const c=ye(i,"onTransaction",o);c&&this.editor.on("transaction",c);const h=ye(i,"onFocus",o);h&&this.editor.on("focus",h);const d=ye(i,"onBlur",o);d&&this.editor.on("blur",d);const f=ye(i,"onDestroy",o);f&&this.editor.on("destroy",f)})}static resolve(e){const n=Ml.sort(Ml.flatten(e)),i=gU(n.map(r=>r.name));return i.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${i.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const i={name:n.name,options:n.options,storage:n.storage},r=ye(n,"addExtensions",i);return r?[n,...this.flatten(r())]:n}).flat(10)}static sort(e){return e.sort((i,r)=>{const o=ye(i,"priority")||100,s=ye(r,"priority")||100;return o>s?-1:o<s?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const i={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:Yw(n.name,this.schema)},r=ye(n,"addCommands",i);return r?{...e,...r()}:e},{})}get plugins(){const{editor:e}=this,n=Ml.sort([...this.extensions].reverse()),i=[],r=[],o=n.map(s=>{const l={name:s.name,options:s.options,storage:s.storage,editor:e,type:Yw(s.name,this.schema)},a=[],u=ye(s,"addKeyboardShortcuts",l);let c={};if(s.type==="mark"&&s.config.exitable&&(c.ArrowRight=()=>Wi.handleExit({editor:e,mark:s})),u){const m=Object.fromEntries(Object.entries(u()).map(([g,v])=>[g,()=>v({editor:e})]));c={...c,...m}}const h=L7(c);a.push(h);const d=ye(s,"addInputRules",l);Y2(s,e.options.enableInputRules)&&d&&i.push(...d());const f=ye(s,"addPasteRules",l);Y2(s,e.options.enablePasteRules)&&f&&r.push(...f());const p=ye(s,"addProseMirrorPlugins",l);if(p){const m=p();a.push(...m)}return a}).flat();return[uU({editor:e,rules:i}),...mU({editor:e,rules:r}),...o]}get attributes(){return H2(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=ap(this.extensions);return Object.fromEntries(n.filter(i=>!!ye(i,"addNodeView")).map(i=>{const r=this.attributes.filter(a=>a.type===i.name),o={name:i.name,options:i.options,storage:i.storage,editor:e,type:Qt(i.name,this.schema)},s=ye(i,"addNodeView",o);if(!s)return[];const l=(a,u,c,h)=>{const d=Gw(a,r);return s()({editor:e,node:a,getPos:c,decorations:h,HTMLAttributes:d,extension:i})};return[i.name,l]}))}}function vU(t){return Object.prototype.toString.call(t).slice(8,-1)}function Qw(t){return vU(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function cp(t,e){const n={...t};return Qw(t)&&Qw(e)&&Object.keys(e).forEach(i=>{Qw(e[i])?i in t?n[i]=cp(t[i],e[i]):Object.assign(n,{[i]:e[i]}):Object.assign(n,{[i]:e[i]})}),n}class Kn{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=We(ye(this,"addOptions",{name:this.name}))),this.storage=We(ye(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Kn(e)}configure(e={}){const n=this.extend();return n.options=cp(this.options,e),n.storage=We(ye(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new Kn(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=We(ye(n,"addOptions",{name:n.name})),n.storage=We(ye(n,"addStorage",{name:n.name,options:n.options})),n}}function X2(t,e,n){const{from:i,to:r}=e,{blockSeparator:o=`

`,textSerializers:s={}}=n||{};let l="",a=!0;return t.nodesBetween(i,r,(u,c,h,d)=>{var f;const p=s==null?void 0:s[u.type.name];p?(u.isBlock&&!a&&(l+=o,a=!0),h&&(l+=p({node:u,pos:c,parent:h,index:d,range:e}))):u.isText?(l+=(f=u==null?void 0:u.text)===null||f===void 0?void 0:f.slice(Math.max(i,c)-c,r-c),a=!1):u.isBlock&&!a&&(l+=o,a=!0)}),l}function q2(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const yU=Kn.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new bn({key:new wi("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:i,selection:r}=e,{ranges:o}=r,s=Math.min(...o.map(c=>c.$from.pos)),l=Math.max(...o.map(c=>c.$to.pos)),a=q2(n);return X2(i,{from:s,to:l},{textSerializers:a})}}})]}}),bU=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),wU=(t=!1)=>({commands:e})=>e.setContent("",t),_U=()=>({state:t,tr:e,dispatch:n})=>{const{selection:i}=e,{ranges:r}=i;return n&&r.forEach(({$from:o,$to:s})=>{t.doc.nodesBetween(o.pos,s.pos,(l,a)=>{if(l.type.isText)return;const{doc:u,mapping:c}=e,h=u.resolve(c.map(a)),d=u.resolve(c.map(a+l.nodeSize)),f=h.blockRange(d);if(!f)return;const p=yl(f);if(l.type.isTextblock){const{defaultType:m}=h.parent.contentMatchAt(h.index());e.setNodeMarkup(f.start,m)}(p||p===0)&&e.lift(f,p)})}),!0},xU=t=>e=>t(e),SU=()=>({state:t,dispatch:e})=>U7(t,e),kU=(t,e)=>({editor:n,tr:i})=>{const{state:r}=n,o=r.doc.slice(t.from,t.to);i.deleteRange(t.from,t.to);const s=i.mapping.map(e);return i.insert(s,o.content),i.setSelection(new Be(i.doc.resolve(s-1))),!0},CU=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,i=n.$anchor.node();if(i.content.size>0)return!1;const r=t.selection.$anchor;for(let o=r.depth;o>0;o-=1)if(r.node(o).type===i.type){if(e){const l=r.before(o),a=r.after(o);t.delete(l,a).scrollIntoView()}return!0}return!1},EU=t=>({tr:e,state:n,dispatch:i})=>{const r=Qt(t,n.schema),o=e.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===r){if(i){const a=o.before(s),u=o.after(s);e.delete(a,u).scrollIntoView()}return!0}return!1},TU=t=>({tr:e,dispatch:n})=>{const{from:i,to:r}=t;return n&&e.delete(i,r),!0},$U=()=>({state:t,dispatch:e})=>R7(t,e),AU=()=>({commands:t})=>t.keyboardShortcut("Enter"),OU=()=>({state:t,dispatch:e})=>H7(t,e);function up(t,e,n={strict:!0}){const i=Object.keys(e);return i.length?i.every(r=>n.strict?e[r]===t[r]:Xw(e[r])?e[r].test(t[r]):e[r]===t[r]):!0}function Jw(t,e,n={}){return t.find(i=>i.type===e&&up(i.attrs,n))}function MU(t,e,n={}){return!!Jw(t,e,n)}function Zw(t,e,n={}){if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if(t.parentOffset===i.offset&&i.offset!==0&&(i=t.parent.childBefore(t.parentOffset)),!i.node)return;const r=Jw([...i.node.marks],e,n);if(!r)return;let o=i.index,s=t.start()+i.offset,l=o+1,a=s+i.node.nodeSize;for(Jw([...i.node.marks],e,n);o>0&&r.isInSet(t.parent.child(o-1).marks);)o-=1,s-=t.parent.child(o).nodeSize;for(;l<t.parent.childCount&&MU([...t.parent.child(l).marks],e,n);)a+=t.parent.child(l).nodeSize,l+=1;return{from:s,to:a}}function jo(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const LU=(t,e={})=>({tr:n,state:i,dispatch:r})=>{const o=jo(t,i.schema),{doc:s,selection:l}=n,{$from:a,from:u,to:c}=l;if(r){const h=Zw(a,o,e);if(h&&h.from<=u&&h.to>=c){const d=Be.create(s,h.from,h.to);n.setSelection(d)}}return!0},RU=t=>e=>{const n=typeof t=="function"?t(e):t;for(let i=0;i<n.length;i+=1)if(n[i](e))return!0;return!1};function Q2(t){return t instanceof Be}function qs(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function J2(t,e=null){if(!e)return null;const n=Ve.atStart(t),i=Ve.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return i;const r=n.from,o=i.to;return e==="all"?Be.create(t,qs(0,r,o),qs(t.content.size,r,o)):Be.create(t,qs(e,r,o),qs(e,r,o))}function e1(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const PU=(t=null,e={})=>({editor:n,view:i,tr:r,dispatch:o})=>{e={scrollIntoView:!0,...e};const s=()=>{e1()&&i.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(i.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(i.hasFocus()&&t===null||t===!1)return!0;if(o&&t===null&&!Q2(n.state.selection))return s(),!0;const l=J2(r.doc,t)||n.state.selection,a=n.state.selection.eq(l);return o&&(a||r.setSelection(l),a&&r.storedMarks&&r.setStoredMarks(r.storedMarks),s()),!0},DU=(t,e)=>n=>t.every((i,r)=>e(i,{...n,index:r})),IU=(t,e)=>({tr:n,commands:i})=>i.insertContentAt({from:n.selection.from,to:n.selection.to},t,e);function Z2(t){const e=`<body>${t}</body>`;return new window.DOMParser().parseFromString(e,"text/html").body}function hp(t,e,n){if(n={slice:!0,parseOptions:{},...n},typeof t=="object"&&t!==null)try{return Array.isArray(t)&&t.length>0?re.fromArray(t.map(i=>e.nodeFromJSON(i))):e.nodeFromJSON(t)}catch(i){return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",i),hp("",e,n)}if(typeof t=="string"){const i=lw.fromSchema(e);return n.slice?i.parseSlice(Z2(t),n.parseOptions).content:i.parse(Z2(t),n.parseOptions)}return hp("",e,n)}function NU(t,e,n){const i=t.steps.length-1;if(i<e)return;const r=t.steps[i];if(!(r instanceof ln||r instanceof qt))return;const o=t.mapping.maps[i];let s=0;o.forEach((l,a,u,c)=>{s===0&&(s=c)}),t.setSelection(Ve.near(t.doc.resolve(s),n))}const FU=t=>t.toString().startsWith("<"),zU=(t,e,n)=>({tr:i,dispatch:r,editor:o})=>{if(r){n={parseOptions:{},updateSelection:!0,...n};const s=hp(e,o.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions}});if(s.toString()==="<>")return!0;let{from:l,to:a}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},u=!0,c=!0;if((FU(s)?s:[s]).forEach(d=>{d.check(),u=u?d.isText&&d.marks.length===0:!1,c=c?d.isBlock:!1}),l===a&&c){const{parent:d}=i.doc.resolve(l);d.isTextblock&&!d.type.spec.code&&!d.childCount&&(l-=1,a+=1)}u?Array.isArray(e)?i.insertText(e.map(d=>d.text||"").join(""),l,a):typeof e=="object"&&e&&e.text?i.insertText(e.text,l,a):i.insertText(e,l,a):i.replaceWith(l,a,s),n.updateSelection&&NU(i,i.steps.length-1,-1)}return!0},BU=()=>({state:t,dispatch:e})=>B7(t,e),jU=()=>({state:t,dispatch:e})=>j7(t,e),VU=()=>({state:t,dispatch:e})=>D7(t,e),WU=()=>({state:t,dispatch:e})=>F7(t,e),HU=()=>({tr:t,state:e,dispatch:n})=>{try{const i=Gf(e.doc,e.selection.$from.pos,-1);return i==null?!1:(t.join(i,2),n&&n(t),!0)}catch{return!1}},UU=()=>({state:t,dispatch:e,tr:n})=>{try{const i=Gf(t.doc,t.selection.$from.pos,1);return i==null?!1:(n.join(i,2),e&&e(n),!0)}catch{return!1}};function t1(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function KU(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let i,r,o,s;for(let l=0;l<e.length-1;l+=1){const a=e[l];if(/^(cmd|meta|m)$/i.test(a))s=!0;else if(/^a(lt)?$/i.test(a))i=!0;else if(/^(c|ctrl|control)$/i.test(a))r=!0;else if(/^s(hift)?$/i.test(a))o=!0;else if(/^mod$/i.test(a))e1()||t1()?s=!0:r=!0;else throw new Error(`Unrecognized modifier name: ${a}`)}return i&&(n=`Alt-${n}`),r&&(n=`Ctrl-${n}`),s&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}const GU=t=>({editor:e,view:n,tr:i,dispatch:r})=>{const o=KU(t).split(/-(?!$)/),s=o.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),l=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),a=e.captureTransaction(()=>{n.someProp("handleKeyDown",u=>u(n,l))});return a==null||a.steps.forEach(u=>{const c=u.map(i.mapping);c&&r&&i.maybeStep(c)}),!0};function Nu(t,e,n={}){const{from:i,to:r,empty:o}=t.selection,s=e?Qt(e,t.schema):null,l=[];t.doc.nodesBetween(i,r,(h,d)=>{if(h.isText)return;const f=Math.max(i,d),p=Math.min(r,d+h.nodeSize);l.push({node:h,from:f,to:p})});const a=r-i,u=l.filter(h=>s?s.name===h.node.type.name:!0).filter(h=>up(h.node.attrs,n,{strict:!1}));return o?!!u.length:u.reduce((h,d)=>h+d.to-d.from,0)>=a}const YU=(t,e={})=>({state:n,dispatch:i})=>{const r=Qt(t,n.schema);return Nu(n,r,e)?V7(n,i):!1},XU=()=>({state:t,dispatch:e})=>K7(t,e),qU=t=>({state:e,dispatch:n})=>{const i=Qt(t,e.schema);return eU(i)(e,n)},QU=()=>({state:t,dispatch:e})=>W7(t,e);function dp(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function eL(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((i,r)=>(n.includes(r)||(i[r]=t[r]),i),{})}const JU=(t,e)=>({tr:n,state:i,dispatch:r})=>{let o=null,s=null;const l=dp(typeof t=="string"?t:t.name,i.schema);return l?(l==="node"&&(o=Qt(t,i.schema)),l==="mark"&&(s=jo(t,i.schema)),r&&n.selection.ranges.forEach(a=>{i.doc.nodesBetween(a.$from.pos,a.$to.pos,(u,c)=>{o&&o===u.type&&n.setNodeMarkup(c,void 0,eL(u.attrs,e)),s&&u.marks.length&&u.marks.forEach(h=>{s===h.type&&n.addMark(c,c+u.nodeSize,s.create(eL(h.attrs,e)))})})}),!0):!1},ZU=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),eK=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size}),tK=()=>({state:t,dispatch:e})=>I7(t,e),nK=()=>({state:t,dispatch:e})=>z7(t,e),iK=()=>({state:t,dispatch:e})=>G7(t,e),rK=()=>({state:t,dispatch:e})=>q7(t,e),oK=()=>({state:t,dispatch:e})=>X7(t,e);function tL(t,e,n={}){return hp(t,e,{slice:!1,parseOptions:n})}const sK=(t,e=!1,n={})=>({tr:i,editor:r,dispatch:o})=>{const{doc:s}=i,l=tL(t,r.schema,n);return o&&i.replaceWith(0,s.content.size,l).setMeta("preventUpdate",!e),!0};function fp(t,e){const n=jo(e,t.schema),{from:i,to:r,empty:o}=t.selection,s=[];o?(t.storedMarks&&s.push(...t.storedMarks),s.push(...t.selection.$head.marks())):t.doc.nodesBetween(i,r,a=>{s.push(...a.marks)});const l=s.find(a=>a.type.name===n.name);return l?{...l.attrs}:{}}function aK(t,e){const n=new bM(t);return e.forEach(i=>{i.steps.forEach(r=>{n.step(r)})}),n}function lK(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function cK(t,e,n){const i=[];return t.nodesBetween(e.from,e.to,(r,o)=>{n(r)&&i.push({node:r,pos:o})}),i}function uK(t,e){for(let n=t.depth;n>0;n-=1){const i=t.node(n);if(e(i))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:i}}}function n1(t){return e=>uK(e.$from,t)}function hK(t,e){const n=rr.fromSchema(e).serializeFragment(t),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(n),r.innerHTML}function dK(t,e){const n={from:0,to:t.content.size};return X2(t,n,e)}function fK(t,e){const n=Qt(e,t.schema),{from:i,to:r}=t.selection,o=[];t.doc.nodesBetween(i,r,l=>{o.push(l)});const s=o.reverse().find(l=>l.type.name===n.name);return s?{...s.attrs}:{}}function nL(t,e){const n=dp(typeof e=="string"?e:e.name,t.schema);return n==="node"?fK(t,e):n==="mark"?fp(t,e):{}}function pK(t,e=JSON.stringify){const n={};return t.filter(i=>{const r=e(i);return Object.prototype.hasOwnProperty.call(n,r)?!1:n[r]=!0})}function mK(t){const e=pK(t);return e.length===1?e:e.filter((n,i)=>!e.filter((o,s)=>s!==i).some(o=>n.oldRange.from>=o.oldRange.from&&n.oldRange.to<=o.oldRange.to&&n.newRange.from>=o.newRange.from&&n.newRange.to<=o.newRange.to))}function gK(t){const{mapping:e,steps:n}=t,i=[];return e.maps.forEach((r,o)=>{const s=[];if(r.ranges.length)r.forEach((l,a)=>{s.push({from:l,to:a})});else{const{from:l,to:a}=n[o];if(l===void 0||a===void 0)return;s.push({from:l,to:a})}s.forEach(({from:l,to:a})=>{const u=e.slice(o).map(l,-1),c=e.slice(o).map(a),h=e.invert().map(u,-1),d=e.invert().map(c);i.push({oldRange:{from:h,to:d},newRange:{from:u,to:c}})})}),mK(i)}function i1(t,e,n){const i=[];return t===e?n.resolve(t).marks().forEach(r=>{const o=n.resolve(t-1),s=Zw(o,r.type);s&&i.push({mark:r,...s})}):n.nodesBetween(t,e,(r,o)=>{i.push(...r.marks.map(s=>({from:o,to:o+r.nodeSize,mark:s})))}),i}function pp(t,e,n){return Object.fromEntries(Object.entries(n).filter(([i])=>{const r=t.find(o=>o.type===e&&o.name===i);return r?r.attribute.keepOnSplit:!1}))}function r1(t,e,n={}){const{empty:i,ranges:r}=t.selection,o=e?jo(e,t.schema):null;if(i)return!!(t.storedMarks||t.selection.$from.marks()).filter(h=>o?o.name===h.type.name:!0).find(h=>up(h.attrs,n,{strict:!1}));let s=0;const l=[];if(r.forEach(({$from:h,$to:d})=>{const f=h.pos,p=d.pos;t.doc.nodesBetween(f,p,(m,g)=>{if(!m.isText&&!m.marks.length)return;const v=Math.max(f,g),y=Math.min(p,g+m.nodeSize),k=y-v;s+=k,l.push(...m.marks.map(C=>({mark:C,from:v,to:y})))})}),s===0)return!1;const a=l.filter(h=>o?o.name===h.mark.type.name:!0).filter(h=>up(h.mark.attrs,n,{strict:!1})).reduce((h,d)=>h+d.to-d.from,0),u=l.filter(h=>o?h.mark.type!==o&&h.mark.type.excludes(o):!0).reduce((h,d)=>h+d.to-d.from,0);return(a>0?a+u:a)>=s}function vK(t,e,n={}){if(!e)return Nu(t,null,n)||r1(t,null,n);const i=dp(e,t.schema);return i==="node"?Nu(t,e,n):i==="mark"?r1(t,e,n):!1}function iL(t,e){const{nodeExtensions:n}=ap(e),i=n.find(s=>s.name===t);if(!i)return!1;const r={name:i.name,options:i.options,storage:i.storage},o=We(ye(i,"group",r));return typeof o!="string"?!1:o.split(" ").includes("list")}function yK(t){var e;const n=(e=t.type.createAndFill())===null||e===void 0?void 0:e.toJSON(),i=t.toJSON();return JSON.stringify(n)===JSON.stringify(i)}function bK(t,e,n){var i;const{selection:r}=e;let o=null;if(Q2(r)&&(o=r.$cursor),o){const l=(i=t.storedMarks)!==null&&i!==void 0?i:o.marks();return!!n.isInSet(l)||!l.some(a=>a.type.excludes(n))}const{ranges:s}=r;return s.some(({$from:l,$to:a})=>{let u=l.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(l.pos,a.pos,(c,h,d)=>{if(u)return!1;if(c.isInline){const f=!d||d.type.allowsMarkType(n),p=!!n.isInSet(c.marks)||!c.marks.some(m=>m.type.excludes(n));u=f&&p}return!u}),u})}const wK=(t,e={})=>({tr:n,state:i,dispatch:r})=>{const{selection:o}=n,{empty:s,ranges:l}=o,a=jo(t,i.schema);if(r)if(s){const u=fp(i,a);n.addStoredMark(a.create({...u,...e}))}else l.forEach(u=>{const c=u.$from.pos,h=u.$to.pos;i.doc.nodesBetween(c,h,(d,f)=>{const p=Math.max(f,c),m=Math.min(f+d.nodeSize,h);d.marks.find(v=>v.type===a)?d.marks.forEach(v=>{a===v.type&&n.addMark(p,m,a.create({...v.attrs,...e}))}):n.addMark(p,m,a.create(e))})});return bK(i,n,a)},_K=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),xK=(t,e={})=>({state:n,dispatch:i,chain:r})=>{const o=Qt(t,n.schema);return o.isTextblock?r().command(({commands:s})=>W2(o,e)(n)?!0:s.clearNodes()).command(({state:s})=>W2(o,e)(s,i)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},SK=t=>({tr:e,dispatch:n})=>{if(n){const{doc:i}=e,r=qs(t,0,i.content.size),o=Oe.create(i,r);e.setSelection(o)}return!0},kK=t=>({tr:e,dispatch:n})=>{if(n){const{doc:i}=e,{from:r,to:o}=typeof t=="number"?{from:t,to:t}:t,s=Be.atStart(i).from,l=Be.atEnd(i).to,a=qs(r,s,l),u=qs(o,s,l),c=Be.create(i,a,u);e.setSelection(c)}return!0},CK=t=>({state:e,dispatch:n})=>{const i=Qt(t,e.schema);return iU(i)(e,n)};function rL(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const i=n.filter(r=>e==null?void 0:e.includes(r.type.name));t.tr.ensureMarks(i)}}const EK=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:i,editor:r})=>{const{selection:o,doc:s}=e,{$from:l,$to:a}=o,u=r.extensionManager.attributes,c=pp(u,l.node().type.name,l.node().attrs);if(o instanceof Oe&&o.node.isBlock)return!l.parentOffset||!bl(s,l.pos)?!1:(i&&(t&&rL(n,r.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;if(i){const h=a.parentOffset===a.parent.content.size;o instanceof Be&&e.deleteSelection();const d=l.depth===0?void 0:lK(l.node(-1).contentMatchAt(l.indexAfter(-1)));let f=h&&d?[{type:d,attrs:c}]:void 0,p=bl(e.doc,e.mapping.map(l.pos),1,f);if(!f&&!p&&bl(e.doc,e.mapping.map(l.pos),1,d?[{type:d}]:void 0)&&(p=!0,f=d?[{type:d,attrs:c}]:void 0),p&&(e.split(e.mapping.map(l.pos),1,f),d&&!h&&!l.parentOffset&&l.parent.type!==d)){const m=e.mapping.map(l.before()),g=e.doc.resolve(m);l.node(-1).canReplaceWith(g.index(),g.index()+1,d)&&e.setNodeMarkup(e.mapping.map(l.before()),d)}t&&rL(n,r.extensionManager.splittableMarks),e.scrollIntoView()}return!0},TK=t=>({tr:e,state:n,dispatch:i,editor:r})=>{var o;const s=Qt(t,n.schema),{$from:l,$to:a}=n.selection,u=n.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(a))return!1;const c=l.node(-1);if(c.type!==s)return!1;const h=r.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==s||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let g=re.empty;const v=l.index(-1)?1:l.index(-2)?2:3;for(let E=l.depth-v;E>=l.depth-3;E-=1)g=re.from(l.node(E).copy(g));const y=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,k=pp(h,l.node().type.name,l.node().attrs),C=((o=s.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(k))||void 0;g=g.append(re.from(s.createAndFill(null,C)||void 0));const T=l.before(l.depth-(v-1));e.replace(T,l.after(-y),new de(g,4-v,0));let _=-1;e.doc.nodesBetween(T,e.doc.content.size,(E,w)=>{if(_>-1)return!1;E.isTextblock&&E.content.size===0&&(_=w+1)}),_>-1&&e.setSelection(Be.near(e.doc.resolve(_))),e.scrollIntoView()}return!0}const d=a.pos===l.end()?c.contentMatchAt(0).defaultType:null,f=pp(h,c.type.name,c.attrs),p=pp(h,l.node().type.name,l.node().attrs);e.delete(l.pos,a.pos);const m=d?[{type:s,attrs:f},{type:d,attrs:p}]:[{type:s,attrs:f}];if(!bl(e.doc,l.pos,2))return!1;if(i){const{selection:g,storedMarks:v}=n,{splittableMarks:y}=r.extensionManager,k=v||g.$to.parentOffset&&g.$from.marks();if(e.split(l.pos,2,m).scrollIntoView(),!k||!i)return!0;const C=k.filter(T=>y.includes(T.type.name));e.ensureMarks(C)}return!0},o1=(t,e)=>{const n=n1(s=>s.type===e)(t.selection);if(!n)return!0;const i=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(i===void 0)return!0;const r=t.doc.nodeAt(i);return n.node.type===(r==null?void 0:r.type)&&Lo(t.doc,n.pos)&&t.join(n.pos),!0},s1=(t,e)=>{const n=n1(s=>s.type===e)(t.selection);if(!n)return!0;const i=t.doc.resolve(n.start).after(n.depth);if(i===void 0)return!0;const r=t.doc.nodeAt(i);return n.node.type===(r==null?void 0:r.type)&&Lo(t.doc,i)&&t.join(i),!0};var $K=Object.freeze({__proto__:null,blur:bU,clearContent:wU,clearNodes:_U,command:xU,createParagraphNear:SU,cut:kU,deleteCurrentNode:CU,deleteNode:EU,deleteRange:TU,deleteSelection:$U,enter:AU,exitCode:OU,extendMarkRange:LU,first:RU,focus:PU,forEach:DU,insertContent:IU,insertContentAt:zU,joinUp:BU,joinDown:jU,joinBackward:VU,joinForward:WU,joinItemBackward:HU,joinItemForward:UU,keyboardShortcut:GU,lift:YU,liftEmptyBlock:XU,liftListItem:qU,newlineInCode:QU,resetAttributes:JU,scrollIntoView:ZU,selectAll:eK,selectNodeBackward:tK,selectNodeForward:nK,selectParentNode:iK,selectTextblockEnd:rK,selectTextblockStart:oK,setContent:sK,setMark:wK,setMeta:_K,setNode:xK,setNodeSelection:SK,setTextSelection:kK,sinkListItem:CK,splitBlock:EK,splitListItem:TK,toggleList:(t,e,n,i={})=>({editor:r,tr:o,state:s,dispatch:l,chain:a,commands:u,can:c})=>{const{extensions:h,splittableMarks:d}=r.extensionManager,f=Qt(t,s.schema),p=Qt(e,s.schema),{selection:m,storedMarks:g}=s,{$from:v,$to:y}=m,k=v.blockRange(y),C=g||m.$to.parentOffset&&m.$from.marks();if(!k)return!1;const T=n1(_=>iL(_.type.name,h))(m);if(k.depth>=1&&T&&k.depth-T.depth<=1){if(T.node.type===f)return u.liftListItem(p);if(iL(T.node.type.name,h)&&f.validContent(T.node.content)&&l)return a().command(()=>(o.setNodeMarkup(T.pos,f),!0)).command(()=>o1(o,f)).command(()=>s1(o,f)).run()}return!n||!C||!l?a().command(()=>c().wrapInList(f,i)?!0:u.clearNodes()).wrapInList(f,i).command(()=>o1(o,f)).command(()=>s1(o,f)).run():a().command(()=>{const _=c().wrapInList(f,i),E=C.filter(w=>d.includes(w.type.name));return o.ensureMarks(E),_?!0:u.clearNodes()}).wrapInList(f,i).command(()=>o1(o,f)).command(()=>s1(o,f)).run()},toggleMark:(t,e={},n={})=>({state:i,commands:r})=>{const{extendEmptyMarkRange:o=!1}=n,s=jo(t,i.schema);return r1(i,s,e)?r.unsetMark(s,{extendEmptyMarkRange:o}):r.setMark(s,e)},toggleNode:(t,e,n={})=>({state:i,commands:r})=>{const o=Qt(t,i.schema),s=Qt(e,i.schema);return Nu(i,o,n)?r.setNode(s):r.setNode(o,n)},toggleWrap:(t,e={})=>({state:n,commands:i})=>{const r=Qt(t,n.schema);return Nu(n,r,e)?i.lift(r):i.wrapIn(r,e)},undoInputRule:()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let i=0;i<n.length;i+=1){const r=n[i];let o;if(r.spec.isInputRules&&(o=r.getState(t))){if(e){const s=t.tr,l=o.transform;for(let a=l.steps.length-1;a>=0;a-=1)s.step(l.steps[a].invert(l.docs[a]));if(o.text){const a=s.doc.resolve(o.from).marks();s.replaceWith(o.from,o.to,t.schema.text(o.text,a))}else s.delete(o.from,o.to)}return!0}}return!1},unsetAllMarks:()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:i,ranges:r}=n;return i||e&&r.forEach(o=>{t.removeMark(o.$from.pos,o.$to.pos)}),!0},unsetMark:(t,e={})=>({tr:n,state:i,dispatch:r})=>{var o;const{extendEmptyMarkRange:s=!1}=e,{selection:l}=n,a=jo(t,i.schema),{$from:u,empty:c,ranges:h}=l;if(!r)return!0;if(c&&s){let{from:d,to:f}=l;const p=(o=u.marks().find(g=>g.type===a))===null||o===void 0?void 0:o.attrs,m=Zw(u,a,p);m&&(d=m.from,f=m.to),n.removeMark(d,f,a)}else h.forEach(d=>{n.removeMark(d.$from.pos,d.$to.pos,a)});return n.removeStoredMark(a),!0},updateAttributes:(t,e={})=>({tr:n,state:i,dispatch:r})=>{let o=null,s=null;const l=dp(typeof t=="string"?t:t.name,i.schema);return l?(l==="node"&&(o=Qt(t,i.schema)),l==="mark"&&(s=jo(t,i.schema)),r&&n.selection.ranges.forEach(a=>{const u=a.$from.pos,c=a.$to.pos;i.doc.nodesBetween(u,c,(h,d)=>{o&&o===h.type&&n.setNodeMarkup(d,void 0,{...h.attrs,...e}),s&&h.marks.length&&h.marks.forEach(f=>{if(s===f.type){const p=Math.max(d,u),m=Math.min(d+h.nodeSize,c);n.addMark(p,m,s.create({...f.attrs,...e}))}})})}),!0):!1},wrapIn:(t,e={})=>({state:n,dispatch:i})=>{const r=Qt(t,n.schema);return Q7(r,e)(n,i)},wrapInList:(t,e={})=>({state:n,dispatch:i})=>{const r=Qt(t,n.schema);return J7(r,e)(n,i)}});const AK=Kn.create({name:"commands",addCommands(){return{...$K}}}),OK=Kn.create({name:"editable",addProseMirrorPlugins(){return[new bn({key:new wi("editable"),props:{editable:()=>this.editor.options.editable}})]}}),MK=Kn.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new bn({key:new wi("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const i=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(i),!1},blur:(e,n)=>{t.isFocused=!1;const i=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(i),!1}}}})]}}),LK=Kn.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:l})=>{const{selection:a,doc:u}=l,{empty:c,$anchor:h}=a,{pos:d,parent:f}=h,p=h.parent.isTextblock?l.doc.resolve(d-1):h,m=p.parent.type.spec.isolating,g=h.pos-h.parentOffset,v=m&&p.parent.childCount===1?g===h.pos:Ve.atStart(u).from===d;return!c||!v||!f.type.isTextblock||f.textContent.length?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),i={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},r={...i},o={...i,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return e1()||t1()?o:r},addProseMirrorPlugins(){return[new bn({key:new wi("clearDocument"),appendTransaction:(t,e,n)=>{if(!(t.some(p=>p.docChanged)&&!e.doc.eq(n.doc)))return;const{empty:r,from:o,to:s}=e.selection,l=Ve.atStart(e.doc).from,a=Ve.atEnd(e.doc).to;if(r||!(o===l&&s===a)||!(n.doc.textBetween(0,n.doc.content.size," "," ").length===0))return;const h=n.tr,d=op({state:n,transaction:h}),{commands:f}=new sp({editor:this.editor,state:d});if(f.clearNodes(),!!h.steps.length)return h}})]}}),RK=Kn.create({name:"tabindex",addProseMirrorPlugins(){return[new bn({key:new wi("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var PK=Object.freeze({__proto__:null,ClipboardTextSerializer:yU,Commands:AK,Editable:OK,FocusEvents:MK,Keymap:LK,Tabindex:RK});const DK=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function IK(t,e,n){const i=document.querySelector(`style[data-tiptap-style${n?`-${n}`:""}]`);if(i!==null)return i;const r=document.createElement("style");return e&&r.setAttribute("nonce",e),r.setAttribute(`data-tiptap-style${n?`-${n}`:""}`,""),r.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(r),r}let NK=class extends rU{constructor(e={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=IK(DK,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const i=U2(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:i});this.view.updateState(r)}unregisterPlugin(e){if(this.isDestroyed)return;const n=typeof e=="string"?`${e}$`:e.key,i=this.state.reconfigure({plugins:this.state.plugins.filter(r=>!r.key.startsWith(n))});this.view.updateState(i)}createExtensionManager(){const n=[...this.options.enableCoreExtensions?Object.values(PK):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i==null?void 0:i.type));this.extensionManager=new Ml(n,this)}createCommandManager(){this.commandManager=new sp({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const e=tL(this.options.content,this.schema,this.options.parseOptions),n=J2(e,this.options.autofocus);this.view=new S7(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:Sl.create({doc:e,selection:n||void 0})});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.createNodeViews(),this.prependClass();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(s=>{var l;return(l=this.capturedTransaction)===null||l===void 0?void 0:l.step(s)});return}const n=this.state.apply(e),i=!this.state.selection.eq(n.selection);this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),i&&this.emit("selectionUpdate",{editor:this,transaction:e});const r=e.getMeta("focus"),o=e.getMeta("blur");r&&this.emit("focus",{editor:this,event:r.event,transaction:e}),o&&this.emit("blur",{editor:this,event:o.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return nL(this.state,e)}isActive(e,n){const i=typeof e=="string"?e:null,r=typeof e=="string"?n:e;return vK(this.state,i,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return hK(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:i={}}=e||{};return dK(this.state.doc,{blockSeparator:n,textSerializers:{...q2(this.schema),...i}})}get isEmpty(){return yK(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}};function Ll(t){return new lp({find:t.find,handler:({state:e,range:n,match:i})=>{const r=We(t.getAttributes,void 0,i);if(r===!1||r===null)return null;const{tr:o}=e,s=i[i.length-1],l=i[0];if(s){const a=l.search(/\S/),u=n.from+l.indexOf(s),c=u+s.length;if(i1(n.from,n.to,e.doc).filter(f=>f.mark.type.excluded.find(m=>m===t.type&&m!==f.mark.type)).filter(f=>f.to>u).length)return null;c<n.to&&o.delete(c,n.to),u>n.from&&o.delete(n.from+a,u);const d=n.from+a+s.length;o.addMark(n.from+a,d,t.type.create(r||{})),o.removeStoredMark(t.type)}}})}function FK(t){return new lp({find:t.find,handler:({state:e,range:n,match:i})=>{const r=We(t.getAttributes,void 0,i)||{},{tr:o}=e,s=n.from;let l=n.to;const a=t.type.create(r);if(i[1]){const u=i[0].lastIndexOf(i[1]);let c=s+u;c>l?c=l:l=c+i[1].length;const h=i[0][i[0].length-1];o.insertText(h,s+i[0].length-1),o.replaceWith(c,l,a)}else i[0]&&o.insert(s-1,t.type.create(r)).delete(o.mapping.map(s),o.mapping.map(l));o.scrollIntoView()}})}function a1(t){return new lp({find:t.find,handler:({state:e,range:n,match:i})=>{const r=e.doc.resolve(n.from),o=We(t.getAttributes,void 0,i)||{};if(!r.node(-1).canReplaceWith(r.index(-1),r.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,o)}})}function Fu(t){return new lp({find:t.find,handler:({state:e,range:n,match:i,chain:r})=>{const o=We(t.getAttributes,void 0,i)||{},s=e.tr.delete(n.from,n.to),a=s.doc.resolve(n.from).blockRange(),u=a&&pw(a,t.type,o);if(!u)return null;if(s.wrap(a,u),t.keepMarks&&t.editor){const{selection:h,storedMarks:d}=e,{splittableMarks:f}=t.editor.extensionManager,p=d||h.$to.parentOffset&&h.$from.marks();if(p){const m=p.filter(g=>f.includes(g.type.name));s.ensureMarks(m)}}if(t.keepAttributes){const h=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";r().updateAttributes(h,o).run()}const c=s.doc.resolve(n.from-1).nodeBefore;c&&c.type===t.type&&Lo(s.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(i,c))&&s.join(n.from-1)}})}class Wi{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=We(ye(this,"addOptions",{name:this.name}))),this.storage=We(ye(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Wi(e)}configure(e={}){const n=this.extend();return n.options=cp(this.options,e),n.storage=We(ye(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new Wi(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=We(ye(n,"addOptions",{name:n.name})),n.storage=We(ye(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:i}=e.state,r=e.state.selection.$from;if(r.pos===r.end()){const s=r.marks();if(!!!s.find(u=>(u==null?void 0:u.type.name)===n.name))return!1;const a=s.find(u=>(u==null?void 0:u.type.name)===n.name);return a&&i.removeStoredMark(a),i.insertText(" ",r.pos),e.view.dispatch(i),!0}return!1}}let ai=class xx{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=We(ye(this,"addOptions",{name:this.name}))),this.storage=We(ye(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new xx(e)}configure(e={}){const n=this.extend();return n.options=cp(this.options,e),n.storage=We(ye(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new xx(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=We(ye(n,"addOptions",{name:n.name})),n.storage=We(ye(n,"addStorage",{name:n.name,options:n.options})),n}};function Rl(t){return new dU({find:t.find,handler:({state:e,range:n,match:i})=>{const r=We(t.getAttributes,void 0,i);if(r===!1||r===null)return null;const{tr:o}=e,s=i[i.length-1],l=i[0];let a=n.to;if(s){const u=l.search(/\S/),c=n.from+l.indexOf(s),h=c+s.length;if(i1(n.from,n.to,e.doc).filter(f=>f.mark.type.excluded.find(m=>m===t.type&&m!==f.mark.type)).filter(f=>f.to>c).length)return null;h<n.to&&o.delete(h,n.to),c>n.from&&o.delete(n.from+u,c),a=n.from+u+s.length,o.addMark(n.from+u,a,t.type.create(r||{})),o.removeStoredMark(t.type)}}})}const zK=({renderers:t})=>K.createElement(K.Fragment,null,Object.entries(t).map(([e,n])=>UC.createPortal(n.reactElement,n.element,e)));class BK extends K.Component{constructor(e){super(e),this.editorContentRef=K.createRef(),this.initialized=!1,this.state={renderers:{}}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const{editor:e}=this.props;if(e&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=this,e.createNodeViews(),this.initialized=!0}}maybeFlushSync(e){this.initialized?zv.flushSync(e):e()}setRenderer(e,n){this.maybeFlushSync(()=>{this.setState(({renderers:i})=>({renderers:{...i,[e]:n}}))})}removeRenderer(e){this.maybeFlushSync(()=>{this.setState(({renderers:n})=>{const i={...n};return delete i[e],{renderers:i}})})}componentWillUnmount(){const{editor:e}=this.props;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,...n}=this.props;return K.createElement(K.Fragment,null,K.createElement("div",{ref:this.editorContentRef,...n}),K.createElement(zK,{renderers:this.state.renderers}))}}const jK=t=>{const e=K.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return K.createElement(BK,{key:e,...t})},VK=K.memo(jK);let WK=class extends NK{constructor(){super(...arguments),this.contentComponent=null}};function HK(){const[,t]=I.useState(0);return()=>t(e=>e+1)}const UK=(t={},e=[])=>{const[n,i]=I.useState(null),r=HK(),{onBeforeCreate:o,onBlur:s,onCreate:l,onDestroy:a,onFocus:u,onSelectionUpdate:c,onTransaction:h,onUpdate:d}=t,f=I.useRef(o),p=I.useRef(s),m=I.useRef(l),g=I.useRef(a),v=I.useRef(u),y=I.useRef(c),k=I.useRef(h),C=I.useRef(d);return I.useEffect(()=>{n&&(o&&(n.off("beforeCreate",f.current),n.on("beforeCreate",o),f.current=o),s&&(n.off("blur",p.current),n.on("blur",s),p.current=s),l&&(n.off("create",m.current),n.on("create",l),m.current=l),a&&(n.off("destroy",g.current),n.on("destroy",a),g.current=a),u&&(n.off("focus",v.current),n.on("focus",u),v.current=u),c&&(n.off("selectionUpdate",y.current),n.on("selectionUpdate",c),y.current=c),h&&(n.off("transaction",k.current),n.on("transaction",h),k.current=h),d&&(n.off("update",C.current),n.on("update",d),C.current=d))},[o,s,l,a,u,c,h,d,n]),I.useEffect(()=>{let T=!0;const _=new WK(t);return i(_),_.on("transaction",()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{T&&r()})})}),()=>{T=!1}},e),I.useEffect(()=>()=>{n==null||n.destroy()},[n]),n};I.createContext({editor:null}).Consumer;const KK=I.createContext({onDragStart:void 0}),GK=()=>I.useContext(KK);K.forwardRef((t,e)=>{const{onDragStart:n}=GK(),i=t.as||"div";return K.createElement(i,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});const YK=/^\s*>\s$/,XK=ai.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",jt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Fu({find:YK,type:this.type})]}}),qK=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,QK=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,JK=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,ZK=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,eG=Wi.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",jt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Ll({find:qK,type:this.type}),Ll({find:JK,type:this.type})]},addPasteRules(){return[Rl({find:QK,type:this.type}),Rl({find:ZK,type:this.type})]}}),tG=ai.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",jt(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),oL=Wi.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",jt(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=fp(t,this.type);return Object.entries(n).some(([,r])=>!!r)?!0:e.unsetMark(this.name)}}}}),sL=/^\s*([-+*])\s$/,nG=ai.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",jt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(tG.name,this.editor.getAttributes(oL.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Fu({find:sL,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Fu({find:sL,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(oL.name),editor:this.editor})),[t]}}),iG=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,rG=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,oG=Wi.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",jt(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Ll({find:iG,type:this.type})]},addPasteRules(){return[Rl({find:rG,type:this.type})]}}),sG=/^```([a-z]+)?[\s\n]$/,aG=/^~~~([a-z]+)?[\s\n]$/,lG=ai.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,o=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(s=>s.startsWith(n)).map(s=>s.replace(n,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",jt(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:i,empty:r}=n;if(!r||i.parent.type!==this.type)return!1;const o=i.parentOffset===i.parent.nodeSize-2,s=i.parent.textContent.endsWith(`

`);return!o||!s?!1:t.chain().command(({tr:l})=>(l.delete(i.pos-2,i.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:i}=e,{$from:r,empty:o}=n;if(!o||r.parent.type!==this.type||!(r.parentOffset===r.parent.nodeSize-2))return!1;const l=r.after();return l===void 0||i.nodeAt(l)?!1:t.commands.exitCode()}}},addInputRules(){return[a1({find:sG,type:this.type,getAttributes:t=>({language:t[1]})}),a1({find:aG,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new bn({key:new wi("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),i=e.clipboardData.getData("vscode-editor-data"),r=i?JSON.parse(i):void 0,o=r==null?void 0:r.mode;if(!n||!o)return!1;const{tr:s}=t.state;return s.replaceSelectionWith(this.type.create({language:o})),s.setSelection(Be.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.insertText(n.replace(/\r\n?/g,`
`)),s.setMeta("paste",!0),t.dispatch(s),!0}}})]}}),cG=ai.create({name:"doc",topNode:!0,content:"block+"});function uG(t={}){return new bn({view(e){return new hG(e,t)}})}class hG{constructor(e,n){var i;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(i=n.width)!==null&&i!==void 0?i:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{let o=s=>{this[r](s)};return e.dom.addEventListener(r,o),{name:r,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,i;if(n){let l=e.nodeBefore,a=e.nodeAfter;if(l||a){let u=this.editorView.nodeDOM(this.cursorPos-(l?l.nodeSize:0));if(u){let c=u.getBoundingClientRect(),h=l?c.bottom:c.top;l&&a&&(h=(h+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),i={left:c.left,right:c.right,top:h-this.width/2,bottom:h+this.width/2}}}}if(!i){let l=this.editorView.coordsAtPos(this.cursorPos);i={left:l.left-this.width/2,right:l.left+this.width/2,top:l.top,bottom:l.bottom}}let r=this.editorView.dom.offsetParent;this.element||(this.element=r.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let o,s;if(!r||r==document.body&&getComputedStyle(r).position=="static")o=-pageXOffset,s=-pageYOffset;else{let l=r.getBoundingClientRect();o=l.left-r.scrollLeft,s=l.top-r.scrollTop}this.element.style.left=i.left-o+"px",this.element.style.top=i.top-s+"px",this.element.style.width=i.right-i.left+"px",this.element.style.height=i.bottom-i.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),i=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),r=i&&i.type.spec.disableDropCursor,o=typeof r=="function"?r(this.editorView,n,e):r;if(n&&!o){let s=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=pM(this.editorView.state.doc,s,this.editorView.dragging.slice);l!=null&&(s=l)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const dG=Kn.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[uG(this.options)]}});class Mt extends Ve{constructor(e){super(e,e)}map(e,n){let i=e.resolve(n.map(this.head));return Mt.valid(i)?new Mt(i):Ve.near(i)}content(){return de.empty}eq(e){return e instanceof Mt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Mt(e.resolve(n.pos))}getBookmark(){return new l1(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!fG(e)||!pG(e))return!1;let i=n.type.spec.allowGapCursor;if(i!=null)return i;let r=n.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,n,i=!1){e:for(;;){if(!i&&Mt.valid(e))return e;let r=e.pos,o=null;for(let s=e.depth;;s--){let l=e.node(s);if(n>0?e.indexAfter(s)<l.childCount:e.index(s)>0){o=l.child(n>0?e.indexAfter(s):e.index(s)-1);break}else if(s==0)return null;r+=n;let a=e.doc.resolve(r);if(Mt.valid(a))return a}for(;;){let s=n>0?o.firstChild:o.lastChild;if(!s){if(o.isAtom&&!o.isText&&!Oe.isSelectable(o)){e=e.doc.resolve(r+o.nodeSize*n),i=!1;continue e}break}o=s,r+=n;let l=e.doc.resolve(r);if(Mt.valid(l))return l}return null}}}Mt.prototype.visible=!1,Mt.findFrom=Mt.findGapCursorFrom,Ve.jsonID("gapcursor",Mt);class l1{constructor(e){this.pos=e}map(e){return new l1(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Mt.valid(n)?new Mt(n):Ve.near(n)}}function fG(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),i=t.node(e);if(n==0){if(i.type.spec.isolating)return!0;continue}for(let r=i.child(n-1);;r=r.lastChild){if(r.childCount==0&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function pG(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),i=t.node(e);if(n==i.childCount){if(i.type.spec.isolating)return!0;continue}for(let r=i.child(n);;r=r.firstChild){if(r.childCount==0&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function mG(){return new bn({props:{decorations:bG,createSelectionBetween(t,e,n){return e.pos==n.pos&&Mt.valid(n)?new Mt(n):null},handleClick:vG,handleKeyDown:gG,handleDOMEvents:{beforeinput:yG}}})}const gG=N2({ArrowLeft:mp("horiz",-1),ArrowRight:mp("horiz",1),ArrowUp:mp("vert",-1),ArrowDown:mp("vert",1)});function mp(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(i,r,o){let s=i.selection,l=e>0?s.$to:s.$from,a=s.empty;if(s instanceof Be){if(!o.endOfTextblock(n)||l.depth==0)return!1;a=!1,l=i.doc.resolve(e>0?l.after():l.before())}let u=Mt.findGapCursorFrom(l,e,a);return u?(r&&r(i.tr.setSelection(new Mt(u))),!0):!1}}function vG(t,e,n){if(!t||!t.editable)return!1;let i=t.state.doc.resolve(e);if(!Mt.valid(i))return!1;let r=t.posAtCoords({left:n.clientX,top:n.clientY});return r&&r.inside>-1&&Oe.isSelectable(t.state.doc.nodeAt(r.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Mt(i))),!0)}function yG(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Mt))return!1;let{$from:n}=t.state.selection,i=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!i)return!1;let r=re.empty;for(let s=i.length-1;s>=0;s--)r=re.from(i[s].createAndFill(null,r));let o=t.state.tr.replace(n.pos,n.pos,new de(r,0,0));return o.setSelection(Be.near(o.doc.resolve(n.pos+1))),t.dispatch(o),!1}function bG(t){if(!(t.selection instanceof Mt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Bt.create(t.doc,[si.widget(t.selection.head,e,{key:"gapcursor"})])}const wG=Kn.create({name:"gapCursor",addProseMirrorPlugins(){return[mG()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=We(ye(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),_G=ai.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",jt(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:i})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:r,storedMarks:o}=n;if(r.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:l}=i.extensionManager,a=o||r.$to.parentOffset&&r.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:c})=>{if(c&&a&&s){const h=a.filter(d=>l.includes(d.type.name));u.ensureMarks(h)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),xG=ai.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,jt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>a1({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var gp=200,Jt=function(){};Jt.prototype.append=function(e){return e.length?(e=Jt.from(e),!this.length&&e||e.length<gp&&this.leafAppend(e)||this.length<gp&&e.leafPrepend(this)||this.appendInner(e)):this},Jt.prototype.prepend=function(e){return e.length?Jt.from(e).append(this):this},Jt.prototype.appendInner=function(e){return new SG(this,e)},Jt.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Jt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))},Jt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},Jt.prototype.forEach=function(e,n,i){n===void 0&&(n=0),i===void 0&&(i=this.length),n<=i?this.forEachInner(e,n,i,0):this.forEachInvertedInner(e,n,i,0)},Jt.prototype.map=function(e,n,i){n===void 0&&(n=0),i===void 0&&(i=this.length);var r=[];return this.forEach(function(o,s){return r.push(e(o,s))},n,i),r},Jt.from=function(e){return e instanceof Jt?e:e&&e.length?new aL(e):Jt.empty};var aL=function(t){function e(i){t.call(this),this.values=i}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(r,o){return r==0&&o==this.length?this:new e(this.values.slice(r,o))},e.prototype.getInner=function(r){return this.values[r]},e.prototype.forEachInner=function(r,o,s,l){for(var a=o;a<s;a++)if(r(this.values[a],l+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,o,s,l){for(var a=o-1;a>=s;a--)if(r(this.values[a],l+a)===!1)return!1},e.prototype.leafAppend=function(r){if(this.length+r.length<=gp)return new e(this.values.concat(r.flatten()))},e.prototype.leafPrepend=function(r){if(this.length+r.length<=gp)return new e(r.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Jt);Jt.empty=new aL([]);var SG=function(t){function e(n,i){t.call(this),this.left=n,this.right=i,this.length=n.length+i.length,this.depth=Math.max(n.depth,i.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(i){return i<this.left.length?this.left.get(i):this.right.get(i-this.left.length)},e.prototype.forEachInner=function(i,r,o,s){var l=this.left.length;if(r<l&&this.left.forEachInner(i,r,Math.min(o,l),s)===!1||o>l&&this.right.forEachInner(i,Math.max(r-l,0),Math.min(this.length,o)-l,s+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,r,o,s){var l=this.left.length;if(r>l&&this.right.forEachInvertedInner(i,r-l,Math.max(o,l)-l,s+l)===!1||o<l&&this.left.forEachInvertedInner(i,Math.min(r,l),o,s)===!1)return!1},e.prototype.sliceInner=function(i,r){if(i==0&&r==this.length)return this;var o=this.left.length;return r<=o?this.left.slice(i,r):i>=o?this.right.slice(i-o,r-o):this.left.slice(i,o).append(this.right.slice(0,r-o))},e.prototype.leafAppend=function(i){var r=this.right.leafAppend(i);if(r)return new e(this.left,r)},e.prototype.leafPrepend=function(i){var r=this.left.leafPrepend(i);if(r)return new e(r,this.right)},e.prototype.appendInner=function(i){return this.left.depth>=Math.max(this.right.depth,i.depth)+1?new e(this.left,new e(this.right,i)):new e(this,i)},e}(Jt);const kG=500;class Hi{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let i=this.items.length;for(;;i--)if(this.items.get(i-1).selection){--i;break}let r,o;n&&(r=this.remapping(i,this.items.length),o=r.maps.length);let s=e.tr,l,a,u=[],c=[];return this.items.forEach((h,d)=>{if(!h.step){r||(r=this.remapping(i,d+1),o=r.maps.length),o--,c.push(h);return}if(r){c.push(new Vo(h.map));let f=h.step.map(r.slice(o)),p;f&&s.maybeStep(f).doc&&(p=s.mapping.maps[s.mapping.maps.length-1],u.push(new Vo(p,void 0,void 0,u.length+c.length))),o--,p&&r.appendMap(p,o)}else s.maybeStep(h.step);if(h.selection)return l=r?h.selection.map(r.slice(o)):h.selection,a=new Hi(this.items.slice(0,i).append(c.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:a,transform:s,selection:l}}addTransform(e,n,i,r){let o=[],s=this.eventCount,l=this.items,a=!r&&l.length?l.get(l.length-1):null;for(let c=0;c<e.steps.length;c++){let h=e.steps[c].invert(e.docs[c]),d=new Vo(e.mapping.maps[c],h,n),f;(f=a&&a.merge(d))&&(d=f,c?o.pop():l=l.slice(0,l.length-1)),o.push(d),n&&(s++,n=void 0),r||(a=d)}let u=s-i.depth;return u>EG&&(l=CG(l,u),s-=u),new Hi(l.append(o),s)}remapping(e,n){let i=new gl;return this.items.forEach((r,o)=>{let s=r.mirrorOffset!=null&&o-r.mirrorOffset>=e?i.maps.length-r.mirrorOffset:void 0;i.appendMap(r.map,s)},e,n),i}addMaps(e){return this.eventCount==0?this:new Hi(this.items.append(e.map(n=>new Vo(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let i=[],r=Math.max(0,this.items.length-n),o=e.mapping,s=e.steps.length,l=this.eventCount;this.items.forEach(d=>{d.selection&&l--},r);let a=n;this.items.forEach(d=>{let f=o.getMirror(--a);if(f==null)return;s=Math.min(s,f);let p=o.maps[f];if(d.step){let m=e.steps[f].invert(e.docs[f]),g=d.selection&&d.selection.map(o.slice(a+1,f));g&&l++,i.push(new Vo(p,m,g))}else i.push(new Vo(p))},r);let u=[];for(let d=n;d<s;d++)u.push(new Vo(o.maps[d]));let c=this.items.slice(0,r).append(u).append(i),h=new Hi(c,l);return h.emptyItemCount()>kG&&(h=h.compress(this.items.length-i.length)),h}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),i=n.maps.length,r=[],o=0;return this.items.forEach((s,l)=>{if(l>=e)r.push(s),s.selection&&o++;else if(s.step){let a=s.step.map(n.slice(i)),u=a&&a.getMap();if(i--,u&&n.appendMap(u,i),a){let c=s.selection&&s.selection.map(n.slice(i));c&&o++;let h=new Vo(u.invert(),a,c),d,f=r.length-1;(d=r.length&&r[f].merge(h))?r[f]=d:r.push(h)}}else s.map&&i--},this.items.length,0),new Hi(Jt.from(r.reverse()),o)}}Hi.empty=new Hi(Jt.empty,0);function CG(t,e){let n;return t.forEach((i,r)=>{if(i.selection&&e--==0)return n=r,!1}),t.slice(n)}let Vo=class oI{constructor(e,n,i,r){this.map=e,this.step=n,this.selection=i,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new oI(n.getMap().invert(),n,this.selection)}}};class Wo{constructor(e,n,i,r,o){this.done=e,this.undone=n,this.prevRanges=i,this.prevTime=r,this.prevComposition=o}}const EG=20;function TG(t,e,n,i){let r=n.getMeta(Ho),o;if(r)return r.historyState;n.getMeta(AG)&&(t=new Wo(t.done,t.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(s&&s.getMeta(Ho))return s.getMeta(Ho).redo?new Wo(t.done.addTransform(n,void 0,i,vp(e)),t.undone,lL(n.mapping.maps[n.steps.length-1]),t.prevTime,t.prevComposition):new Wo(t.done,t.undone.addTransform(n,void 0,i,vp(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),a=t.prevTime==0||!s&&t.prevComposition!=l&&(t.prevTime<(n.time||0)-i.newGroupDelay||!$G(n,t.prevRanges)),u=s?c1(t.prevRanges,n.mapping):lL(n.mapping.maps[n.steps.length-1]);return new Wo(t.done.addTransform(n,a?e.selection.getBookmark():void 0,i,vp(e)),Hi.empty,u,n.time,l??t.prevComposition)}else return(o=n.getMeta("rebased"))?new Wo(t.done.rebased(n,o),t.undone.rebased(n,o),c1(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Wo(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),c1(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function $G(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((i,r)=>{for(let o=0;o<e.length;o+=2)i<=e[o+1]&&r>=e[o]&&(n=!0)}),n}function lL(t){let e=[];return t.forEach((n,i,r,o)=>e.push(r,o)),e}function c1(t,e){if(!t)return null;let n=[];for(let i=0;i<t.length;i+=2){let r=e.map(t[i],1),o=e.map(t[i+1],-1);r<=o&&n.push(r,o)}return n}function cL(t,e,n,i){let r=vp(e),o=Ho.get(e).spec.config,s=(i?t.undone:t.done).popEvent(e,r);if(!s)return;let l=s.selection.resolve(s.transform.doc),a=(i?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),o,r),u=new Wo(i?a:s.remaining,i?s.remaining:a,null,0,-1);n(s.transform.setSelection(l).setMeta(Ho,{redo:i,historyState:u}).scrollIntoView())}let u1=!1,uL=null;function vp(t){let e=t.plugins;if(uL!=e){u1=!1,uL=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){u1=!0;break}}return u1}const Ho=new wi("history"),AG=new wi("closeHistory");function OG(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new bn({key:Ho,state:{init(){return new Wo(Hi.empty,Hi.empty,null,0,-1)},apply(e,n,i){return TG(n,i,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let i=n.inputType,r=i=="historyUndo"?hL:i=="historyRedo"?dL:null;return r?(n.preventDefault(),r(e.state,e.dispatch)):!1}}}})}const hL=(t,e)=>{let n=Ho.getState(t);return!n||n.done.eventCount==0?!1:(e&&cL(n,t,e,!1),!0)},dL=(t,e)=>{let n=Ho.getState(t);return!n||n.undone.eventCount==0?!1:(e&&cL(n,t,e,!0),!0)},MG=Kn.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>hL(t,e),redo:()=>({state:t,dispatch:e})=>dL(t,e)}},addProseMirrorPlugins(){return[OG(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-Z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-Y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Shift-Mod-Z":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),LG=ai.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",jt(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{$to:n}=e.selection,i=t();return n.parentOffset===0?i.insertContentAt(Math.max(n.pos-2,0),{type:this.name}):i.insertContent({type:this.name}),i.command(({tr:r,dispatch:o})=>{var s;if(o){const{$to:l}=r.selection,a=l.end();if(l.nodeAfter)l.nodeAfter.isTextblock?r.setSelection(Be.create(r.doc,l.pos+1)):l.nodeAfter.isBlock?r.setSelection(Oe.create(r.doc,l.pos)):r.setSelection(Be.create(r.doc,l.pos));else{const u=(s=l.parent.type.contentMatch.defaultType)===null||s===void 0?void 0:s.create();u&&(r.insert(a,u),r.setSelection(Be.create(r.doc,a+1)))}r.scrollIntoView()}return!0}).run()}}},addInputRules(){return[FK({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),RG=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,PG=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,DG=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,IG=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,NG=Wi.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",jt(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Ll({find:RG,type:this.type}),Ll({find:DG,type:this.type})]},addPasteRules(){return[Rl({find:PG,type:this.type}),Rl({find:IG,type:this.type})]}}),FG=ai.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",jt(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),zG=ai.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",jt(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),fL=Wi.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",jt(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=fp(t,this.type);return Object.entries(n).some(([,r])=>!!r)?!0:e.unsetMark(this.name)}}}}),pL=/^(\d+)\.\s$/,BG=ai.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",jt(this.options.HTMLAttributes,n),0]:["ol",jt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(zG.name,this.editor.getAttributes(fL.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Fu({find:pL,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Fu({find:pL,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(fL.name)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),jG=ai.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",jt(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),VG=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,WG=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,HG=Wi.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",jt(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){const t={};return t1()?t["Mod-Shift-s"]=()=>this.editor.commands.toggleStrike():t["Ctrl-Shift-s"]=()=>this.editor.commands.toggleStrike(),t},addInputRules(){return[Ll({find:VG,type:this.type})]},addPasteRules(){return[Rl({find:WG,type:this.type})]}}),UG=ai.create({name:"text",group:"inline"}),KG=Kn.create({name:"starterKit",addExtensions(){var t,e,n,i,r,o,s,l,a,u,c,h,d,f,p,m,g,v;const y=[];return this.options.blockquote!==!1&&y.push(XK.configure((t=this.options)===null||t===void 0?void 0:t.blockquote)),this.options.bold!==!1&&y.push(eG.configure((e=this.options)===null||e===void 0?void 0:e.bold)),this.options.bulletList!==!1&&y.push(nG.configure((n=this.options)===null||n===void 0?void 0:n.bulletList)),this.options.code!==!1&&y.push(oG.configure((i=this.options)===null||i===void 0?void 0:i.code)),this.options.codeBlock!==!1&&y.push(lG.configure((r=this.options)===null||r===void 0?void 0:r.codeBlock)),this.options.document!==!1&&y.push(cG.configure((o=this.options)===null||o===void 0?void 0:o.document)),this.options.dropcursor!==!1&&y.push(dG.configure((s=this.options)===null||s===void 0?void 0:s.dropcursor)),this.options.gapcursor!==!1&&y.push(wG.configure((l=this.options)===null||l===void 0?void 0:l.gapcursor)),this.options.hardBreak!==!1&&y.push(_G.configure((a=this.options)===null||a===void 0?void 0:a.hardBreak)),this.options.heading!==!1&&y.push(xG.configure((u=this.options)===null||u===void 0?void 0:u.heading)),this.options.history!==!1&&y.push(MG.configure((c=this.options)===null||c===void 0?void 0:c.history)),this.options.horizontalRule!==!1&&y.push(LG.configure((h=this.options)===null||h===void 0?void 0:h.horizontalRule)),this.options.italic!==!1&&y.push(NG.configure((d=this.options)===null||d===void 0?void 0:d.italic)),this.options.listItem!==!1&&y.push(FG.configure((f=this.options)===null||f===void 0?void 0:f.listItem)),this.options.orderedList!==!1&&y.push(BG.configure((p=this.options)===null||p===void 0?void 0:p.orderedList)),this.options.paragraph!==!1&&y.push(jG.configure((m=this.options)===null||m===void 0?void 0:m.paragraph)),this.options.strike!==!1&&y.push(HG.configure((g=this.options)===null||g===void 0?void 0:g.strike)),this.options.text!==!1&&y.push(UG.configure((v=this.options)===null||v===void 0?void 0:v.text)),y}}),GG="aaa1rp3barth4b0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0faromeo7ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re2s2c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y0eats7k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking0channel11l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t0isalat7u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0at2delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d0network8tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntdoor4ier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5gtv3iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0eles2s3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1nder2le4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster5ia3d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4de2k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0cys3drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7serati6ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic3tual5v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rthwesternmutual14on4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3ssagens7y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cher3ks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w0time7i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ffany5ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0channel7ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lkswagen7vo3te1ing3o2yage5u0elos6wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",YG="1213426321653223333353565455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Pl=(t,e)=>{for(const n in e)t[n]=e[n];return t},h1="numeric",d1="ascii",f1="alpha",yp="asciinumeric",bp="alphanumeric",p1="domain",mL="emoji",XG="scheme",qG="slashscheme",gL="whitespace";function QG(t,e){return t in e||(e[t]=[]),e[t]}function Qs(t,e,n){e[h1]&&(e[yp]=!0,e[bp]=!0),e[d1]&&(e[yp]=!0,e[f1]=!0),e[yp]&&(e[bp]=!0),e[f1]&&(e[bp]=!0),e[bp]&&(e[p1]=!0),e[mL]&&(e[p1]=!0);for(const i in e){const r=QG(i,n);r.indexOf(t)<0&&r.push(t)}}function JG(t,e){const n={};for(const i in e)e[i].indexOf(t)>=0&&(n[i]=!0);return n}function Gn(t){t===void 0&&(t=null),this.j={},this.jr=[],this.jd=null,this.t=t}Gn.groups={},Gn.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let i=0;i<e.jr.length;i++){const r=e.jr[i][0],o=e.jr[i][1];if(o&&r.test(t))return o}return e.jd},has(t,e){return e===void 0&&(e=!1),e?t in this.j:!!this.go(t)},ta(t,e,n,i){for(let r=0;r<t.length;r++)this.tt(t[r],e,n,i)},tr(t,e,n,i){i=i||Gn.groups;let r;return e&&e.j?r=e:(r=new Gn(e),n&&i&&Qs(e,n,i)),this.jr.push([t,r]),r},ts(t,e,n,i){let r=this;const o=t.length;if(!o)return r;for(let s=0;s<o-1;s++)r=r.tt(t[s]);return r.tt(t[o-1],e,n,i)},tt(t,e,n,i){i=i||Gn.groups;const r=this;if(e&&e.j)return r.j[t]=e,e;const o=e;let s,l=r.go(t);if(l?(s=new Gn,Pl(s.j,l.j),s.jr.push.apply(s.jr,l.jr),s.jd=l.jd,s.t=l.t):s=new Gn,o){if(i)if(s.t&&typeof s.t=="string"){const a=Pl(JG(s.t,i),n);Qs(o,a,i)}else n&&Qs(o,n,i);s.t=o}return r.j[t]=s,s}};const xe=(t,e,n,i,r)=>t.ta(e,n,i,r),Si=(t,e,n,i,r)=>t.tr(e,n,i,r),vL=(t,e,n,i,r)=>t.ts(e,n,i,r),se=(t,e,n,i,r)=>t.tt(e,n,i,r),jr="WORD",m1="UWORD",zu="LOCALHOST",g1="TLD",v1="UTLD",_p="SCHEME",Dl="SLASH_SCHEME",y1="NUM",yL="WS",b1="NL",Il="OPENBRACE",Bu="OPENBRACKET",ju="OPENANGLEBRACKET",Vu="OPENPAREN",Js="CLOSEBRACE",Nl="CLOSEBRACKET",Fl="CLOSEANGLEBRACKET",Zs="CLOSEPAREN",xp="AMPERSAND",Sp="APOSTROPHE",kp="ASTERISK",Uo="AT",Cp="BACKSLASH",Ep="BACKTICK",Tp="CARET",Ko="COLON",w1="COMMA",$p="DOLLAR",cr="DOT",Ap="EQUALS",_1="EXCLAMATION",ur="HYPHEN",Op="PERCENT",Mp="PIPE",Lp="PLUS",Rp="POUND",Pp="QUERY",x1="QUOTE",S1="SEMI",hr="SLASH",Wu="TILDE",Dp="UNDERSCORE",bL="EMOJI",Ip="SYM";var wL=Object.freeze({__proto__:null,WORD:jr,UWORD:m1,LOCALHOST:zu,TLD:g1,UTLD:v1,SCHEME:_p,SLASH_SCHEME:Dl,NUM:y1,WS:yL,NL:b1,OPENBRACE:Il,OPENBRACKET:Bu,OPENANGLEBRACKET:ju,OPENPAREN:Vu,CLOSEBRACE:Js,CLOSEBRACKET:Nl,CLOSEANGLEBRACKET:Fl,CLOSEPAREN:Zs,AMPERSAND:xp,APOSTROPHE:Sp,ASTERISK:kp,AT:Uo,BACKSLASH:Cp,BACKTICK:Ep,CARET:Tp,COLON:Ko,COMMA:w1,DOLLAR:$p,DOT:cr,EQUALS:Ap,EXCLAMATION:_1,HYPHEN:ur,PERCENT:Op,PIPE:Mp,PLUS:Lp,POUND:Rp,QUERY:Pp,QUOTE:x1,SEMI:S1,SLASH:hr,TILDE:Wu,UNDERSCORE:Dp,EMOJI:bL,SYM:Ip});const zl=/[a-z]/,k1=/\p{L}/u,C1=/\p{Emoji}/u,E1=/\d/,_L=/\s/,xL=`
`,ZG="",eY="";let Np=null,Fp=null;function tY(t){t===void 0&&(t=[]);const e={};Gn.groups=e;const n=new Gn;Np==null&&(Np=SL(GG)),Fp==null&&(Fp=SL(YG)),se(n,"'",Sp),se(n,"{",Il),se(n,"[",Bu),se(n,"<",ju),se(n,"(",Vu),se(n,"}",Js),se(n,"]",Nl),se(n,">",Fl),se(n,")",Zs),se(n,"&",xp),se(n,"*",kp),se(n,"@",Uo),se(n,"`",Ep),se(n,"^",Tp),se(n,":",Ko),se(n,",",w1),se(n,"$",$p),se(n,".",cr),se(n,"=",Ap),se(n,"!",_1),se(n,"-",ur),se(n,"%",Op),se(n,"|",Mp),se(n,"+",Lp),se(n,"#",Rp),se(n,"?",Pp),se(n,'"',x1),se(n,"/",hr),se(n,";",S1),se(n,"~",Wu),se(n,"_",Dp),se(n,"\\",Cp);const i=Si(n,E1,y1,{[h1]:!0});Si(i,E1,i);const r=Si(n,zl,jr,{[d1]:!0});Si(r,zl,r);const o=Si(n,k1,m1,{[f1]:!0});Si(o,zl),Si(o,k1,o);const s=Si(n,_L,yL,{[gL]:!0});se(n,xL,b1,{[gL]:!0}),se(s,xL),Si(s,_L,s);const l=Si(n,C1,bL,{[mL]:!0});Si(l,C1,l),se(l,ZG,l);const a=se(l,eY);Si(a,C1,l);const u=[[zl,r]],c=[[zl,null],[k1,o]];for(let h=0;h<Np.length;h++)Go(n,Np[h],g1,jr,u);for(let h=0;h<Fp.length;h++)Go(n,Fp[h],v1,m1,c);Qs(g1,{tld:!0,ascii:!0},e),Qs(v1,{utld:!0,alpha:!0},e),Go(n,"file",_p,jr,u),Go(n,"mailto",_p,jr,u),Go(n,"http",Dl,jr,u),Go(n,"https",Dl,jr,u),Go(n,"ftp",Dl,jr,u),Go(n,"ftps",Dl,jr,u),Qs(_p,{scheme:!0,ascii:!0},e),Qs(Dl,{slashscheme:!0,ascii:!0},e),t=t.sort((h,d)=>h[0]>d[0]?1:-1);for(let h=0;h<t.length;h++){const d=t[h][0],p=t[h][1]?{[XG]:!0}:{[qG]:!0};d.indexOf("-")>=0?p[p1]=!0:zl.test(d)?E1.test(d)?p[yp]=!0:p[d1]=!0:p[h1]=!0,vL(n,d,d,p)}return vL(n,"localhost",zu,{ascii:!0}),n.jd=new Gn(Ip),{start:n,tokens:Pl({groups:e},wL)}}function nY(t,e){const n=iY(e.replace(/[A-Z]/g,l=>l.toLowerCase())),i=n.length,r=[];let o=0,s=0;for(;s<i;){let l=t,a=null,u=0,c=null,h=-1,d=-1;for(;s<i&&(a=l.go(n[s]));)l=a,l.accepts()?(h=0,d=0,c=l):h>=0&&(h+=n[s].length,d++),u+=n[s].length,o+=n[s].length,s++;o-=h,s-=d,u-=h,r.push({t:c.t,v:e.slice(o-u,o),s:o-u,e:o})}return r}function iY(t){const e=[],n=t.length;let i=0;for(;i<n;){let r=t.charCodeAt(i),o,s=r<55296||r>56319||i+1===n||(o=t.charCodeAt(i+1))<56320||o>57343?t[i]:t.slice(i,i+2);e.push(s),i+=s.length}return e}function Go(t,e,n,i,r){let o;const s=e.length;for(let l=0;l<s-1;l++){const a=e[l];t.j[a]?o=t.j[a]:(o=new Gn(i),o.jr=r.slice(),t.j[a]=o),t=o}return o=new Gn(n),o.jr=r.slice(),t.j[e[s-1]]=o,o}function SL(t){const e=[],n=[];let i=0,r="0123456789";for(;i<t.length;){let o=0;for(;r.indexOf(t[i+o])>=0;)o++;if(o>0){e.push(n.join(""));for(let s=parseInt(t.substring(i,i+o),10);s>0;s--)n.pop();i+=o}else n.push(t[i]),i++}return e}const Hu={defaultProtocol:"http",events:null,format:kL,formatHref:kL,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function T1(t,e){e===void 0&&(e=null);let n=Pl({},Hu);t&&(n=Pl(n,t instanceof T1?t.o:t));const i=n.ignoreTags,r=[];for(let o=0;o<i.length;o++)r.push(i[o].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=r}T1.prototype={o:Hu,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const i=e!=null;let r=this.o[t];return r&&(typeof r=="object"?(r=n.t in r?r[n.t]:Hu[t],typeof r=="function"&&i&&(r=r(e,n))):typeof r=="function"&&i&&(r=r(e,n.t,n)),r)},getObj(t,e,n){let i=this.o[t];return typeof i=="function"&&e!=null&&(i=i(e,n.t,n)),i},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function kL(t){return t}function CL(t,e){this.t="token",this.v=t,this.tk=e}CL.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),i=t.get("format",e,this);return n&&i.length>n?i.substring(0,n)+"":i},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t){return t===void 0&&(t=Hu.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),i=t.get("formatHref",n,this),r=t.get("tagName",n,e),o=this.toFormattedString(t),s={},l=t.get("className",n,e),a=t.get("target",n,e),u=t.get("rel",n,e),c=t.getObj("attributes",n,e),h=t.getObj("events",n,e);return s.href=i,l&&(s.class=l),a&&(s.target=a),u&&(s.rel=u),c&&Pl(s,c),{tagName:r,attributes:s,content:o,eventListeners:h}}};function zp(t,e){class n extends CL{constructor(r,o){super(r,o),this.t=t}}for(const i in e)n.prototype[i]=e[i];return n.t=t,n}const EL=zp("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),TL=zp("text"),rY=zp("nl"),ea=zp("url",{isLink:!0,toHref(t){return t===void 0&&(t=Hu.defaultProtocol),this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==zu&&t[1].t===Ko}}),Zt=t=>new Gn(t);function oY(t){let{groups:e}=t;const n=e.domain.concat([xp,kp,Uo,Cp,Ep,Tp,$p,Ap,ur,y1,Op,Mp,Lp,Rp,hr,Ip,Wu,Dp]),i=[Sp,Fl,Js,Nl,Zs,Ko,w1,cr,_1,ju,Il,Bu,Vu,Pp,x1,S1],r=[xp,Sp,kp,Cp,Ep,Tp,Js,$p,Ap,ur,Il,Op,Mp,Lp,Rp,Pp,hr,Ip,Wu,Dp],o=Zt(),s=se(o,Wu);xe(s,r,s),xe(s,e.domain,s);const l=Zt(),a=Zt(),u=Zt();xe(o,e.domain,l),xe(o,e.scheme,a),xe(o,e.slashscheme,u),xe(l,r,s),xe(l,e.domain,l);const c=se(l,Uo);se(s,Uo,c),se(a,Uo,c),se(u,Uo,c);const h=se(s,cr);xe(h,r,s),xe(h,e.domain,s);const d=Zt();xe(c,e.domain,d),xe(d,e.domain,d);const f=se(d,cr);xe(f,e.domain,d);const p=Zt(EL);xe(f,e.tld,p),xe(f,e.utld,p),se(c,zu,p);const m=se(d,ur);xe(m,e.domain,d),xe(p,e.domain,d),se(p,cr,f),se(p,ur,m);const g=se(p,Ko);xe(g,e.numeric,EL);const v=se(l,ur),y=se(l,cr);xe(v,e.domain,l),xe(y,r,s),xe(y,e.domain,l);const k=Zt(ea);xe(y,e.tld,k),xe(y,e.utld,k),xe(k,e.domain,l),xe(k,r,s),se(k,cr,y),se(k,ur,v),se(k,Uo,c);const C=se(k,Ko),T=Zt(ea);xe(C,e.numeric,T);const _=Zt(ea),E=Zt();xe(_,n,_),xe(_,i,E),xe(E,n,_),xe(E,i,E),se(k,hr,_),se(T,hr,_);const w=se(a,Ko),S=se(u,Ko),b=se(S,hr),x=se(b,hr);xe(a,e.domain,l),se(a,cr,y),se(a,ur,v),xe(u,e.domain,l),se(u,cr,y),se(u,ur,v),xe(w,e.domain,_),se(w,hr,_),xe(x,e.domain,_),xe(x,n,_),se(x,hr,_);const A=se(_,Il),O=se(_,Bu),$=se(_,ju),M=se(_,Vu);se(E,Il,A),se(E,Bu,O),se(E,ju,$),se(E,Vu,M),se(A,Js,_),se(O,Nl,_),se($,Fl,_),se(M,Zs,_),se(A,Js,_);const R=Zt(ea),P=Zt(ea),N=Zt(ea),D=Zt(ea);xe(A,n,R),xe(O,n,P),xe($,n,N),xe(M,n,D);const V=Zt(),z=Zt(),F=Zt(),B=Zt();return xe(A,i),xe(O,i),xe($,i),xe(M,i),xe(R,n,R),xe(P,n,P),xe(N,n,N),xe(D,n,D),xe(R,i,R),xe(P,i,P),xe(N,i,N),xe(D,i,D),xe(V,n,V),xe(z,n,P),xe(F,n,N),xe(B,n,D),xe(V,i,V),xe(z,i,z),xe(F,i,F),xe(B,i,B),se(P,Nl,_),se(N,Fl,_),se(D,Zs,_),se(R,Js,_),se(z,Nl,_),se(F,Fl,_),se(B,Zs,_),se(V,Zs,_),se(o,zu,k),se(o,b1,rY),{start:o,tokens:wL}}function sY(t,e,n){let i=n.length,r=0,o=[],s=[];for(;r<i;){let l=t,a=null,u=null,c=0,h=null,d=-1;for(;r<i&&!(a=l.go(n[r].t));)s.push(n[r++]);for(;r<i&&(u=a||l.go(n[r].t));)a=null,l=u,l.accepts()?(d=0,h=l):d>=0&&d++,r++,c++;if(d<0)r-=c,r<i&&(s.push(n[r]),r++);else{s.length>0&&(o.push($1(TL,e,s)),s=[]),r-=d,c-=d;const f=h.t,p=n.slice(r-c,r);o.push($1(f,e,p))}}return s.length>0&&o.push($1(TL,e,s)),o}function $1(t,e,n){const i=n[0].s,r=n[n.length-1].e,o=e.slice(i,r);return new t(o,n)}const aY=typeof console<"u"&&console&&console.warn||(()=>{}),lY="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",kt={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function cY(){Gn.groups={},kt.scanner=null,kt.parser=null,kt.tokenQueue=[],kt.pluginQueue=[],kt.customSchemes=[],kt.initialized=!1}function $L(t,e){if(e===void 0&&(e=!1),kt.initialized&&aY(`linkifyjs: already initialized - will not register custom scheme "${t}" ${lY}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
 1. Must only contain digits, lowercase ASCII letters or "-"
 2. Cannot start or end with "-"
 3. "-" cannot repeat`);kt.customSchemes.push([t,e])}function uY(){kt.scanner=tY(kt.customSchemes);for(let t=0;t<kt.tokenQueue.length;t++)kt.tokenQueue[t][1]({scanner:kt.scanner});kt.parser=oY(kt.scanner.tokens);for(let t=0;t<kt.pluginQueue.length;t++)kt.pluginQueue[t][1]({scanner:kt.scanner,parser:kt.parser});kt.initialized=!0}function hY(t){return kt.initialized||uY(),sY(kt.parser.start,t,nY(kt.scanner.start,t))}function A1(t,e,n){if(e===void 0&&(e=null),n===void 0&&(n=null),e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const i=new T1(n),r=hY(t),o=[];for(let s=0;s<r.length;s++){const l=r[s];l.isLink&&(!e||l.t===e)&&o.push(l.toFormattedObject(i))}return o}function dY(t){return new bn({key:new wi("autolink"),appendTransaction:(e,n,i)=>{const r=e.some(u=>u.docChanged)&&!n.doc.eq(i.doc),o=e.some(u=>u.getMeta("preventAutolink"));if(!r||o)return;const{tr:s}=i,l=aK(n.doc,[...e]);if(gK(l).forEach(({newRange:u})=>{const c=cK(i.doc,u,f=>f.isTextblock);let h,d;if(c.length>1?(h=c[0],d=i.doc.textBetween(h.pos,h.pos+h.node.nodeSize,void 0," ")):c.length&&i.doc.textBetween(u.from,u.to," "," ").endsWith(" ")&&(h=c[0],d=i.doc.textBetween(h.pos,u.to,void 0," ")),h&&d){const f=d.split(" ").filter(g=>g!=="");if(f.length<=0)return!1;const p=f[f.length-1],m=h.pos+d.lastIndexOf(p);if(!p)return!1;A1(p).filter(g=>g.isLink).map(g=>({...g,from:m+g.start+1,to:m+g.end+1})).filter(g=>i.schema.marks.code?!i.doc.rangeHasMark(g.from,g.to,i.schema.marks.code):!0).filter(g=>t.validate?t.validate(g.value):!0).forEach(g=>{i1(g.from,g.to,i.doc).some(v=>v.mark.type===t.type)||s.addMark(g.from,g.to,t.type.create({href:g.href}))})}}),!!s.steps.length)return s}})}function fY(t){return new bn({key:new wi("handleClickLink"),props:{handleClick:(e,n,i)=>{var r,o;if(i.button!==0||i.target.nodeName!=="A")return!1;const l=nL(e.state,t.type.name),a=i.target,u=(r=a==null?void 0:a.href)!==null&&r!==void 0?r:l.href,c=(o=a==null?void 0:a.target)!==null&&o!==void 0?o:l.target;return a&&u?(e.editable&&window.open(u,c),!0):!1}}})}function pY(t){return new bn({key:new wi("handlePasteLink"),props:{handlePaste:(e,n,i)=>{var r,o;const{state:s}=e,{selection:l}=s;if(s.doc.resolve(l.from).parent.type.spec.code)return!1;let a="";i.content.forEach(y=>{a+=y.textContent});let u=!1;if(i.content.descendants(y=>{y.marks.some(k=>k.type.name===t.type.name)&&(u=!0)}),u)return;const c=A1(a).find(y=>y.isLink&&y.value===a);if(!l.empty&&t.linkOnPaste){const y=(c==null?void 0:c.href)||null;if(y)return t.editor.commands.setMark(t.type,{href:y}),!0}const h=((r=i.content.firstChild)===null||r===void 0?void 0:r.type.name)==="text",d=(o=i.content.firstChild)===null||o===void 0?void 0:o.marks.some(y=>y.type.name===t.type.name);if(h&&d||!t.linkOnPaste)return!1;if(c&&l.empty)return t.editor.commands.insertContent(`<a href="${c.href}">${c.href}</a>`),!0;const{tr:f}=s;let p=!1;l.empty||(p=!0,f.delete(l.from,l.to));let m=l.from,g=[];i.content.forEach(y=>{g=A1(y.textContent),f.insert(m-1,y),g.length>0&&(p=!1,g.forEach(k=>{const C=m+k.start,T=m+k.end;f.doc.rangeHasMark(C,T,t.type)||f.addMark(C,T,t.type.create({href:k.href}))})),m+=y.nodeSize});const v=g.length>0;return f.docChanged&&!p&&v?(t.editor.view.dispatch(f),!0):!1}}})}const mY=Wi.create({name:"link",priority:1e3,keepOnSplit:!1,onCreate(){this.options.protocols.forEach(t=>{if(typeof t=="string"){$L(t);return}$L(t.scheme,t.optionalSlashes)})},onDestroy(){cY()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:void 0}},addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:'a[href]:not([href *= "javascript:" i])'}]},renderHTML({HTMLAttributes:t}){return["a",jt(this.options.HTMLAttributes,t),0]},addCommands(){return{setLink:t=>({chain:e})=>e().setMark(this.name,t).setMeta("preventAutolink",!0).run(),toggleLink:t=>({chain:e})=>e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addProseMirrorPlugins(){const t=[];return this.options.autolink&&t.push(dY({type:this.type,validate:this.options.validate})),this.options.openOnClick&&t.push(fY({type:this.type})),t.push(pY({editor:this.editor,type:this.type,linkOnPaste:this.options.linkOnPaste})),t}}),gY=Kn.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new bn({key:new wi("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:i}=e,r=[];if(!n)return null;const o=t.type.createAndFill(),s=(o==null?void 0:o.sameMarkup(t))&&o.content.findDiffStart(t.content)===null;return t.descendants((l,a)=>{const u=i>=a&&i<=a+l.nodeSize,c=!l.isLeaf&&!l.childCount;if((u||!this.options.showOnlyCurrent)&&c){const h=[this.options.emptyNodeClass];s&&h.push(this.options.emptyEditorClass);const d=si.node(a,a+l.nodeSize,{class:h.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:l,pos:a,hasAnchor:u}):this.options.placeholder});r.push(d)}return this.options.includeChildren}),Bt.create(t,r)}}})]}}),vY=({value:t,placeholder:e,onChange:n})=>{const i=UK({extensions:[KG,gY.configure({placeholder:e}),mY.configure({autolink:!0,openOnClick:!1})],content:t,onUpdate({editor:r}){n(r.getHTML())}});return I.useEffect(()=>{const r=i==null?void 0:i.getHTML();t!==r&&(i==null||i.commands.setContent(t))},[t]),i?X("div",{className:"editor",children:[L(yY,{editor:i,onChange:n}),L(VK,{editor:i,className:"editor",spellCheck:!1})]}):null},yY=({editor:t,onChange:e})=>{const[n,i]=I.useState(!1),r=I.useCallback(()=>{if(t.isActive("link")){t.chain().focus().unsetLink().run();return}const s=window.prompt("URL");if(s!==null){if(s===""){t.chain().focus().extendMarkRange("link").unsetLink().run();return}t.chain().focus().extendMarkRange("link").setLink({href:s}).run()}},[t]),o=s=>{t.commands.setContent(s),e(s)};return t?X("div",{className:"editor-menu auto-layout space-between",children:[L(Db,{open:n,setOpen:i,mode:"html",title:"HTML Editor",content:t.getHTML(),setContent:o}),X("div",{className:"auto-layout g4",children:[L("button",{type:"button",onClick:()=>t.chain().focus().toggleBold().run(),disabled:!t.can().chain().focus().toggleBold().run(),className:t.isActive("bold")?"is-active":"",children:L(t4,{size:16})}),L("button",{type:"button",onClick:()=>t.chain().focus().toggleItalic().run(),disabled:!t.can().chain().focus().toggleItalic().run(),className:t.isActive("italic")?"is-active":"",children:L($4,{size:16})}),L("button",{type:"button",onClick:()=>t.chain().focus().toggleHeading({level:4}).run(),className:t.isActive("heading",{level:4})?"is-active":"",children:"H4"}),L("button",{type:"button",onClick:()=>t.chain().focus().toggleHeading({level:5}).run(),className:t.isActive("heading",{level:5})?"is-active":"",children:"H5"}),L("button",{type:"button",onClick:r,className:t.isActive("link")?"is-active":"",children:L(I4,{size:16})})]}),L("button",{type:"button",onClick:()=>i(!0),children:L(s0,{size:16})})]}):null},bY=Object.freeze(Object.defineProperty({__proto__:null,default:vY},Symbol.toStringTag,{value:"Module"})),O1=I.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Bp=I.createContext({}),jp=I.createContext(null),Vp=typeof document<"u",M1=Vp?I.useLayoutEffect:I.useEffect,AL=I.createContext({strict:!1});function wY(t,e,n,i){const{visualElement:r}=I.useContext(Bp),o=I.useContext(AL),s=I.useContext(jp),l=I.useContext(O1).reducedMotion,a=I.useRef();i=i||o.renderer,!a.current&&i&&(a.current=i(t,{visualState:e,parent:r,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:l}));const u=a.current;I.useInsertionEffect(()=>{u&&u.update(n,s)});const c=I.useRef(!!window.HandoffAppearAnimations);return M1(()=>{u&&(u.render(),c.current&&u.animationState&&u.animationState.animateChanges())}),I.useEffect(()=>{u&&(u.updateFeatures(),!c.current&&u.animationState&&u.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,c.current=!1)}),u}function Bl(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function _Y(t,e,n){return I.useCallback(i=>{i&&t.mount&&t.mount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Bl(n)&&(n.current=i))},[e])}function Uu(t){return typeof t=="string"||Array.isArray(t)}function Wp(t){return typeof t=="object"&&typeof t.start=="function"}const L1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],R1=["initial",...L1];function Hp(t){return Wp(t.animate)||R1.some(e=>Uu(t[e]))}function OL(t){return!!(Hp(t)||t.variants)}function xY(t,e){if(Hp(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Uu(n)?n:void 0,animate:Uu(i)?i:void 0}}return t.inherit!==!1?e:{}}function SY(t){const{initial:e,animate:n}=xY(t,I.useContext(Bp));return I.useMemo(()=>({initial:e,animate:n}),[ML(e),ML(n)])}function ML(t){return Array.isArray(t)?t.join(" "):t}const LL={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ku={};for(const t in LL)Ku[t]={isEnabled:e=>LL[t].some(n=>!!e[n])};function kY(t){for(const e in t)Ku[e]={...Ku[e],...t[e]}}const P1=I.createContext({}),RL=I.createContext({}),CY=Symbol.for("motionComponentSymbol");function EY({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:r}){t&&kY(t);function o(l,a){let u;const c={...I.useContext(O1),...l,layoutId:TY(l)},{isStatic:h}=c,d=SY(l),f=i(l,h);if(!h&&Vp){d.visualElement=wY(r,f,c,e);const p=I.useContext(RL),m=I.useContext(AL).strict;d.visualElement&&(u=d.visualElement.loadFeatures(c,m,t,p))}return I.createElement(Bp.Provider,{value:d},u&&d.visualElement?I.createElement(u,{visualElement:d.visualElement,...c}):null,n(r,l,_Y(f,d.visualElement,a),f,h,d.visualElement))}const s=I.forwardRef(o);return s[CY]=r,s}function TY({layoutId:t}){const e=I.useContext(P1).id;return e&&t!==void 0?e+"-"+t:t}function $Y(t){function e(i,r={}){return EY(t(i,r))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(i,r)=>(n.has(r)||n.set(r,e(r)),n.get(r))})}const AY=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function D1(t){return typeof t!="string"||t.includes("-")?!1:!!(AY.indexOf(t)>-1||/[A-Z]/.test(t))}const Up={};function OY(t){Object.assign(Up,t)}const Gu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ta=new Set(Gu);function PL(t,{layout:e,layoutId:n}){return ta.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Up[t]||t==="opacity")}const Yn=t=>!!(t&&t.getVelocity),MY={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},LY=Gu.length;function RY(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},i,r){let o="";for(let s=0;s<LY;s++){const l=Gu[s];if(t[l]!==void 0){const a=MY[l]||l;o+=`${a}(${t[l]}) `}}return e&&!t.z&&(o+="translateZ(0)"),o=o.trim(),r?o=r(t,i?"":o):n&&i&&(o="none"),o}const DL=t=>e=>typeof e=="string"&&e.startsWith(t),IL=DL("--"),I1=DL("var(--"),PY=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,DY=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Yo=(t,e,n)=>Math.min(Math.max(n,t),e),na={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Yu={...na,transform:t=>Yo(0,1,t)},Kp={...na,default:1},Xu=t=>Math.round(t*1e5)/1e5,Gp=/(-)?([\d]*\.?[\d])+/g,NL=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,IY=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function qu(t){return typeof t=="string"}const Qu=t=>({test:e=>qu(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Xo=Qu("deg"),dr=Qu("%"),Re=Qu("px"),NY=Qu("vh"),FY=Qu("vw"),FL={...dr,parse:t=>dr.parse(t)/100,transform:t=>dr.transform(t*100)},zL={...na,transform:Math.round},BL={borderWidth:Re,borderTopWidth:Re,borderRightWidth:Re,borderBottomWidth:Re,borderLeftWidth:Re,borderRadius:Re,radius:Re,borderTopLeftRadius:Re,borderTopRightRadius:Re,borderBottomRightRadius:Re,borderBottomLeftRadius:Re,width:Re,maxWidth:Re,height:Re,maxHeight:Re,size:Re,top:Re,right:Re,bottom:Re,left:Re,padding:Re,paddingTop:Re,paddingRight:Re,paddingBottom:Re,paddingLeft:Re,margin:Re,marginTop:Re,marginRight:Re,marginBottom:Re,marginLeft:Re,rotate:Xo,rotateX:Xo,rotateY:Xo,rotateZ:Xo,scale:Kp,scaleX:Kp,scaleY:Kp,scaleZ:Kp,skew:Xo,skewX:Xo,skewY:Xo,distance:Re,translateX:Re,translateY:Re,translateZ:Re,x:Re,y:Re,z:Re,perspective:Re,transformPerspective:Re,opacity:Yu,originX:FL,originY:FL,originZ:Re,zIndex:zL,fillOpacity:Yu,strokeOpacity:Yu,numOctaves:zL};function N1(t,e,n,i){const{style:r,vars:o,transform:s,transformOrigin:l}=t;let a=!1,u=!1,c=!0;for(const h in e){const d=e[h];if(IL(h)){o[h]=d;continue}const f=BL[h],p=DY(d,f);if(ta.has(h)){if(a=!0,s[h]=p,!c)continue;d!==(f.default||0)&&(c=!1)}else h.startsWith("origin")?(u=!0,l[h]=p):r[h]=p}if(e.transform||(a||i?r.transform=RY(t.transform,n,c,i):r.transform&&(r.transform="none")),u){const{originX:h="50%",originY:d="50%",originZ:f=0}=l;r.transformOrigin=`${h} ${d} ${f}`}}const F1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function jL(t,e,n){for(const i in e)!Yn(e[i])&&!PL(i,n)&&(t[i]=e[i])}function zY({transformTemplate:t},e,n){return I.useMemo(()=>{const i=F1();return N1(i,e,{enableHardwareAcceleration:!n},t),Object.assign({},i.vars,i.style)},[e])}function BY(t,e,n){const i=t.style||{},r={};return jL(r,i,t),Object.assign(r,zY(t,e,n)),t.transformValues?t.transformValues(r):r}function jY(t,e,n){const i={},r=BY(t,e,n);return t.drag&&t.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(i.tabIndex=0),i.style=r,i}const VY=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Yp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||VY.has(t)}let VL=t=>!Yp(t);function WY(t){t&&(VL=e=>e.startsWith("on")?!Yp(e):t(e))}try{WY(require("@emotion/is-prop-valid").default)}catch{}function HY(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(VL(r)||n===!0&&Yp(r)||!e&&!Yp(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}function WL(t,e,n){return typeof t=="string"?t:Re.transform(e+n*t)}function UY(t,e,n){const i=WL(e,t.x,t.width),r=WL(n,t.y,t.height);return`${i} ${r}`}const KY={offset:"stroke-dashoffset",array:"stroke-dasharray"},GY={offset:"strokeDashoffset",array:"strokeDasharray"};function YY(t,e,n=1,i=0,r=!0){t.pathLength=1;const o=r?KY:GY;t[o.offset]=Re.transform(-i);const s=Re.transform(e),l=Re.transform(n);t[o.array]=`${s} ${l}`}function z1(t,{attrX:e,attrY:n,attrScale:i,originX:r,originY:o,pathLength:s,pathSpacing:l=1,pathOffset:a=0,...u},c,h,d){if(N1(t,u,c,d),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p,dimensions:m}=t;f.transform&&(m&&(p.transform=f.transform),delete f.transform),m&&(r!==void 0||o!==void 0||p.transform)&&(p.transformOrigin=UY(m,r!==void 0?r:.5,o!==void 0?o:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),i!==void 0&&(f.scale=i),s!==void 0&&YY(f,s,l,a,!1)}const HL=()=>({...F1(),attrs:{}}),B1=t=>typeof t=="string"&&t.toLowerCase()==="svg";function XY(t,e,n,i){const r=I.useMemo(()=>{const o=HL();return z1(o,e,{enableHardwareAcceleration:!1},B1(i),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};jL(o,t.style,t),r.style={...o,...r.style}}return r}function qY(t=!1){return(n,i,r,{latestValues:o},s)=>{const a=(D1(n)?XY:jY)(i,o,s,n),c={...HY(i,typeof n=="string",t),...a,ref:r},{children:h}=i,d=I.useMemo(()=>Yn(h)?h.get():h,[h]);return I.createElement(n,{...c,children:d})}}const j1=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function UL(t,{style:e,vars:n},i,r){Object.assign(t.style,e,r&&r.getProjectionStyles(i));for(const o in n)t.style.setProperty(o,n[o])}const KL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function GL(t,e,n,i){UL(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(KL.has(r)?r:j1(r),e.attrs[r])}function V1(t,e){const{style:n}=t,i={};for(const r in n)(Yn(n[r])||e.style&&Yn(e.style[r])||PL(r,t))&&(i[r]=n[r]);return i}function YL(t,e){const n=V1(t,e);for(const i in t)if(Yn(t[i])||Yn(e[i])){const r=Gu.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[r]=t[i]}return n}function W1(t,e,n,i={},r={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,i,r)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,i,r)),e}function Xp(t){const e=I.useRef(null);return e.current===null&&(e.current=t()),e.current}const qp=t=>Array.isArray(t),QY=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),JY=t=>qp(t)?t[t.length-1]||0:t;function Qp(t){const e=Yn(t)?t.get():t;return QY(e)?e.toValue():e}function ZY({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},i,r,o){const s={latestValues:eX(i,r,o,t),renderState:e()};return n&&(s.mount=l=>n(i,l,s)),s}const XL=t=>(e,n)=>{const i=I.useContext(Bp),r=I.useContext(jp),o=()=>ZY(t,e,i,r);return n?o():Xp(o)};function eX(t,e,n,i){const r={},o=i(t,{});for(const d in o)r[d]=Qp(o[d]);let{initial:s,animate:l}=t;const a=Hp(t),u=OL(t);e&&u&&!a&&t.inherit!==!1&&(s===void 0&&(s=e.initial),l===void 0&&(l=e.animate));let c=n?n.initial===!1:!1;c=c||s===!1;const h=c?l:s;return h&&typeof h!="boolean"&&!Wp(h)&&(Array.isArray(h)?h:[h]).forEach(f=>{const p=W1(t,f);if(!p)return;const{transitionEnd:m,transition:g,...v}=p;for(const y in v){let k=v[y];if(Array.isArray(k)){const C=c?k.length-1:0;k=k[C]}k!==null&&(r[y]=k)}for(const y in m)r[y]=m[y]}),r}const Lt=t=>t;class qL{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function tX(t){let e=new qL,n=new qL,i=0,r=!1,o=!1;const s=new WeakSet,l={schedule:(a,u=!1,c=!1)=>{const h=c&&r,d=h?e:n;return u&&s.add(a),d.add(a)&&h&&r&&(i=e.order.length),a},cancel:a=>{n.remove(a),s.delete(a)},process:a=>{if(r){o=!0;return}if(r=!0,[e,n]=[n,e],n.clear(),i=e.order.length,i)for(let u=0;u<i;u++){const c=e.order[u];c(a),s.has(c)&&(l.schedule(c),t())}r=!1,o&&(o=!1,l.process(a))}};return l}const Jp=["prepare","read","update","preRender","render","postRender"],nX=40;function iX(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},o=Jp.reduce((h,d)=>(h[d]=tX(()=>n=!0),h),{}),s=h=>o[h].process(r),l=()=>{const h=performance.now();n=!1,r.delta=i?1e3/60:Math.max(Math.min(h-r.timestamp,nX),1),r.timestamp=h,r.isProcessing=!0,Jp.forEach(s),r.isProcessing=!1,n&&e&&(i=!1,t(l))},a=()=>{n=!0,i=!0,r.isProcessing||t(l)};return{schedule:Jp.reduce((h,d)=>{const f=o[d];return h[d]=(p,m=!1,g=!1)=>(n||a(),f.schedule(p,m,g)),h},{}),cancel:h=>Jp.forEach(d=>o[d].cancel(h)),state:r,steps:o}}const{schedule:lt,cancel:Vr,state:en,steps:H1}=iX(typeof requestAnimationFrame<"u"?requestAnimationFrame:Lt,!0),rX={useVisualState:XL({scrapeMotionValuesFromProps:YL,createRenderState:HL,onMount:(t,e,{renderState:n,latestValues:i})=>{lt.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),lt.render(()=>{z1(n,i,{enableHardwareAcceleration:!1},B1(e.tagName),t.transformTemplate),GL(e,n)})}})},oX={useVisualState:XL({scrapeMotionValuesFromProps:V1,createRenderState:F1})};function sX(t,{forwardMotionProps:e=!1},n,i){return{...D1(t)?rX:oX,preloadedFeatures:n,useRender:qY(e),createVisualElement:i,Component:t}}function Wr(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}const QL=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Zp(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const aX=t=>e=>QL(e)&&t(e,Zp(e));function Hr(t,e,n,i){return Wr(t,e,aX(n),i)}const lX=(t,e)=>n=>e(t(n)),qo=(...t)=>t.reduce(lX);function JL(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const ZL=JL("dragHorizontal"),eR=JL("dragVertical");function tR(t){let e=!1;if(t==="y")e=eR();else if(t==="x")e=ZL();else{const n=ZL(),i=eR();n&&i?e=()=>{n(),i()}:(n&&n(),i&&i())}return e}function nR(){const t=tR(!0);return t?(t(),!1):!0}class Qo{constructor(e){this.isMounted=!1,this.node=e}update(){}}function iR(t,e){const n="pointer"+(e?"enter":"leave"),i="onHover"+(e?"Start":"End"),r=(o,s)=>{if(o.type==="touch"||nR())return;const l=t.getProps();t.animationState&&l.whileHover&&t.animationState.setActive("whileHover",e),l[i]&&lt.update(()=>l[i](o,s))};return Hr(t.current,n,r,{passive:!t.getProps()[i]})}class cX extends Qo{mount(){this.unmount=qo(iR(this.node,!0),iR(this.node,!1))}unmount(){}}class uX extends Qo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=qo(Wr(this.node.current,"focus",()=>this.onFocus()),Wr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const rR=(t,e)=>e?t===e?!0:rR(t,e.parentElement):!1;function U1(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Zp(n))}class hX extends Qo{constructor(){super(...arguments),this.removeStartListeners=Lt,this.removeEndListeners=Lt,this.removeAccessibleListeners=Lt,this.startPointerPress=(e,n)=>{if(this.removeEndListeners(),this.isPressing)return;const i=this.node.getProps(),o=Hr(window,"pointerup",(l,a)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c}=this.node.getProps();lt.update(()=>{rR(this.node.current,l.target)?u&&u(l,a):c&&c(l,a)})},{passive:!(i.onTap||i.onPointerUp)}),s=Hr(window,"pointercancel",(l,a)=>this.cancelPress(l,a),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=qo(o,s),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=o=>{if(o.key!=="Enter"||this.isPressing)return;const s=l=>{l.key!=="Enter"||!this.checkPressEnd()||U1("up",(a,u)=>{const{onTap:c}=this.node.getProps();c&&lt.update(()=>c(a,u))})};this.removeEndListeners(),this.removeEndListeners=Wr(this.node.current,"keyup",s),U1("down",(l,a)=>{this.startPress(l,a)})},n=Wr(this.node.current,"keydown",e),i=()=>{this.isPressing&&U1("cancel",(o,s)=>this.cancelPress(o,s))},r=Wr(this.node.current,"blur",i);this.removeAccessibleListeners=qo(n,r)}}startPress(e,n){this.isPressing=!0;const{onTapStart:i,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&lt.update(()=>i(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!nR()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&lt.update(()=>i(e,n))}mount(){const e=this.node.getProps(),n=Hr(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),i=Wr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=qo(n,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const K1=new WeakMap,G1=new WeakMap,dX=t=>{const e=K1.get(t.target);e&&e(t)},fX=t=>{t.forEach(dX)};function pX({root:t,...e}){const n=t||document;G1.has(n)||G1.set(n,{});const i=G1.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(fX,{root:t,...e})),i[r]}function mX(t,e,n){const i=pX(e);return K1.set(t,n),i.observe(t),()=>{K1.delete(t),i.unobserve(t)}}const gX={some:0,all:1};class vX extends Qo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:o}=e,s={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:gX[r]},l=a=>{const{isIntersecting:u}=a;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:h}=this.node.getProps(),d=u?c:h;d&&d(a)};return mX(this.node.current,s,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(yX(e,n))&&this.startObserver()}unmount(){}}function yX({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const bX={inView:{Feature:vX},tap:{Feature:hX},focus:{Feature:uX},hover:{Feature:cX}};function oR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function wX(t){const e={};return t.values.forEach((n,i)=>e[i]=n.get()),e}function _X(t){const e={};return t.values.forEach((n,i)=>e[i]=n.getVelocity()),e}function em(t,e,n){const i=t.getProps();return W1(i,e,n!==void 0?n:i.custom,wX(t),_X(t))}const xX="data-"+j1("framerAppearId");let SX=Lt,Y1=Lt;const Jo=t=>t*1e3,Ur=t=>t/1e3,kX={current:!1},sR=t=>Array.isArray(t)&&typeof t[0]=="number";function aR(t){return!!(!t||typeof t=="string"&&lR[t]||sR(t)||Array.isArray(t)&&t.every(aR))}const Ju=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,lR={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ju([0,.65,.55,1]),circOut:Ju([.55,0,1,.45]),backIn:Ju([.31,.01,.66,-.59]),backOut:Ju([.33,1.53,.69,.99])};function cR(t){if(t)return sR(t)?Ju(t):Array.isArray(t)?t.map(cR):lR[t]}function CX(t,e,n,{delay:i=0,duration:r,repeat:o=0,repeatType:s="loop",ease:l,times:a}={}){const u={[e]:n};a&&(u.offset=a);const c=cR(l);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:i,duration:r,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"})}function EX(t,{repeat:e,repeatType:n="loop"}){const i=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[i]}const uR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,TX=1e-7,$X=12;function AX(t,e,n,i,r){let o,s,l=0;do s=e+(n-e)/2,o=uR(s,i,r)-t,o>0?n=s:e=s;while(Math.abs(o)>TX&&++l<$X);return s}function Zu(t,e,n,i){if(t===e&&n===i)return Lt;const r=o=>AX(o,0,1,t,n);return o=>o===0||o===1?o:uR(r(o),e,i)}const OX=Zu(.42,0,1,1),MX=Zu(0,0,.58,1),hR=Zu(.42,0,.58,1),LX=t=>Array.isArray(t)&&typeof t[0]!="number",dR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,fR=t=>e=>1-t(1-e),pR=t=>1-Math.sin(Math.acos(t)),X1=fR(pR),RX=dR(X1),mR=Zu(.33,1.53,.69,.99),q1=fR(mR),PX=dR(q1),DX={linear:Lt,easeIn:OX,easeInOut:hR,easeOut:MX,circIn:pR,circInOut:RX,circOut:X1,backIn:q1,backInOut:PX,backOut:mR,anticipate:t=>(t*=2)<1?.5*q1(t):.5*(2-Math.pow(2,-10*(t-1)))},gR=t=>{if(Array.isArray(t)){Y1(t.length===4);const[e,n,i,r]=t;return Zu(e,n,i,r)}else if(typeof t=="string")return DX[t];return t},Q1=(t,e)=>n=>!!(qu(n)&&IY.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),vR=(t,e,n)=>i=>{if(!qu(i))return i;const[r,o,s,l]=i.match(Gp);return{[t]:parseFloat(r),[e]:parseFloat(o),[n]:parseFloat(s),alpha:l!==void 0?parseFloat(l):1}},IX=t=>Yo(0,255,t),J1={...na,transform:t=>Math.round(IX(t))},ia={test:Q1("rgb","red"),parse:vR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+J1.transform(t)+", "+J1.transform(e)+", "+J1.transform(n)+", "+Xu(Yu.transform(i))+")"};function NX(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const Z1={test:Q1("#"),parse:NX,transform:ia.transform},jl={test:Q1("hsl","hue"),parse:vR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+dr.transform(Xu(e))+", "+dr.transform(Xu(n))+", "+Xu(Yu.transform(i))+")"},Pn={test:t=>ia.test(t)||Z1.test(t)||jl.test(t),parse:t=>ia.test(t)?ia.parse(t):jl.test(t)?jl.parse(t):Z1.parse(t),transform:t=>qu(t)?t:t.hasOwnProperty("red")?ia.transform(t):jl.transform(t)},Ct=(t,e,n)=>-n*t+n*e+t;function e_(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function FX({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,o=0,s=0;if(!e)r=o=s=n;else{const l=n<.5?n*(1+e):n+e-n*e,a=2*n-l;r=e_(a,l,t+1/3),o=e_(a,l,t),s=e_(a,l,t-1/3)}return{red:Math.round(r*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:i}}const t_=(t,e,n)=>{const i=t*t;return Math.sqrt(Math.max(0,n*(e*e-i)+i))},zX=[Z1,ia,jl],BX=t=>zX.find(e=>e.test(t));function yR(t){const e=BX(t);let n=e.parse(t);return e===jl&&(n=FX(n)),n}const bR=(t,e)=>{const n=yR(t),i=yR(e),r={...n};return o=>(r.red=t_(n.red,i.red,o),r.green=t_(n.green,i.green,o),r.blue=t_(n.blue,i.blue,o),r.alpha=Ct(n.alpha,i.alpha,o),ia.transform(r))};function jX(t){var e,n;return isNaN(t)&&qu(t)&&(((e=t.match(Gp))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(NL))===null||n===void 0?void 0:n.length)||0)>0}const wR={regex:PY,countKey:"Vars",token:"${v}",parse:Lt},_R={regex:NL,countKey:"Colors",token:"${c}",parse:Pn.parse},xR={regex:Gp,countKey:"Numbers",token:"${n}",parse:na.parse};function n_(t,{regex:e,countKey:n,token:i,parse:r}){const o=t.tokenised.match(e);o&&(t["num"+n]=o.length,t.tokenised=t.tokenised.replace(e,i),t.values.push(...o.map(r)))}function tm(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&n_(n,wR),n_(n,_R),n_(n,xR),n}function SR(t){return tm(t).values}function kR(t){const{values:e,numColors:n,numVars:i,tokenised:r}=tm(t),o=e.length;return s=>{let l=r;for(let a=0;a<o;a++)a<i?l=l.replace(wR.token,s[a]):a<i+n?l=l.replace(_R.token,Pn.transform(s[a])):l=l.replace(xR.token,Xu(s[a]));return l}}const VX=t=>typeof t=="number"?0:t;function WX(t){const e=SR(t);return kR(t)(e.map(VX))}const Zo={test:jX,parse:SR,createTransformer:kR,getAnimatableNone:WX},CR=(t,e)=>n=>`${n>0?e:t}`;function ER(t,e){return typeof t=="number"?n=>Ct(t,e,n):Pn.test(t)?bR(t,e):t.startsWith("var(")?CR(t,e):$R(t,e)}const TR=(t,e)=>{const n=[...t],i=n.length,r=t.map((o,s)=>ER(o,e[s]));return o=>{for(let s=0;s<i;s++)n[s]=r[s](o);return n}},HX=(t,e)=>{const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=ER(t[r],e[r]));return r=>{for(const o in i)n[o]=i[o](r);return n}},$R=(t,e)=>{const n=Zo.createTransformer(e),i=tm(t),r=tm(e);return i.numVars===r.numVars&&i.numColors===r.numColors&&i.numNumbers>=r.numNumbers?qo(TR(i.values,r.values),n):CR(t,e)},eh=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},AR=(t,e)=>n=>Ct(t,e,n);function UX(t){return typeof t=="number"?AR:typeof t=="string"?Pn.test(t)?bR:$R:Array.isArray(t)?TR:typeof t=="object"?HX:AR}function KX(t,e,n){const i=[],r=n||UX(t[0]),o=t.length-1;for(let s=0;s<o;s++){let l=r(t[s],t[s+1]);if(e){const a=Array.isArray(e)?e[s]||Lt:e;l=qo(a,l)}i.push(l)}return i}function OR(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const o=t.length;if(Y1(o===e.length),o===1)return()=>e[0];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const s=KX(e,i,r),l=s.length,a=u=>{let c=0;if(l>1)for(;c<t.length-2&&!(u<t[c+1]);c++);const h=eh(t[c],t[c+1],u);return s[c](h)};return n?u=>a(Yo(t[0],t[o-1],u)):a}function GX(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=eh(0,e,i);t.push(Ct(n,1,r))}}function YX(t){const e=[0];return GX(e,t.length-1),e}function XX(t,e){return t.map(n=>n*e)}function qX(t,e){return t.map(()=>e||hR).splice(0,t.length-1)}function nm({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=LX(i)?i.map(gR):gR(i),o={done:!1,value:e[0]},s=XX(n&&n.length===e.length?n:YX(e),t),l=OR(s,e,{ease:Array.isArray(r)?r:qX(e,r)});return{calculatedDuration:t,next:a=>(o.value=l(a),o.done=a>=t,o)}}function MR(t,e){return e?t*(1e3/e):0}const QX=5;function LR(t,e,n){const i=Math.max(e-QX,0);return MR(n-t(i),e-i)}const i_=.001,JX=.01,RR=10,ZX=.05,eq=1;function tq({duration:t=800,bounce:e=.25,velocity:n=0,mass:i=1}){let r,o;SX(t<=Jo(RR));let s=1-e;s=Yo(ZX,eq,s),t=Yo(JX,RR,Ur(t)),s<1?(r=u=>{const c=u*s,h=c*t,d=c-n,f=r_(u,s),p=Math.exp(-h);return i_-d/f*p},o=u=>{const h=u*s*t,d=h*n+n,f=Math.pow(s,2)*Math.pow(u,2)*t,p=Math.exp(-h),m=r_(Math.pow(u,2),s);return(-r(u)+i_>0?-1:1)*((d-f)*p)/m}):(r=u=>{const c=Math.exp(-u*t),h=(u-n)*t+1;return-i_+c*h},o=u=>{const c=Math.exp(-u*t),h=(n-u)*(t*t);return c*h});const l=5/t,a=iq(r,o,l);if(t=Jo(t),isNaN(a))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(a,2)*i;return{stiffness:u,damping:s*2*Math.sqrt(i*u),duration:t}}}const nq=12;function iq(t,e,n){let i=n;for(let r=1;r<nq;r++)i=i-t(i)/e(i);return i}function r_(t,e){return t*Math.sqrt(1-e*e)}const rq=["duration","bounce"],oq=["stiffness","damping","mass"];function PR(t,e){return e.some(n=>t[n]!==void 0)}function sq(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!PR(t,oq)&&PR(t,rq)){const n=tq(t);e={...e,...n,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function DR({keyframes:t,restDelta:e,restSpeed:n,...i}){const r=t[0],o=t[t.length-1],s={done:!1,value:r},{stiffness:l,damping:a,mass:u,velocity:c,duration:h,isResolvedFromDuration:d}=sq(i),f=c?-Ur(c):0,p=a/(2*Math.sqrt(l*u)),m=o-r,g=Ur(Math.sqrt(l/u)),v=Math.abs(m)<5;n||(n=v?.01:2),e||(e=v?.005:.5);let y;if(p<1){const k=r_(g,p);y=C=>{const T=Math.exp(-p*g*C);return o-T*((f+p*g*m)/k*Math.sin(k*C)+m*Math.cos(k*C))}}else if(p===1)y=k=>o-Math.exp(-g*k)*(m+(f+g*m)*k);else{const k=g*Math.sqrt(p*p-1);y=C=>{const T=Math.exp(-p*g*C),_=Math.min(k*C,300);return o-T*((f+p*g*m)*Math.sinh(_)+k*m*Math.cosh(_))/k}}return{calculatedDuration:d&&h||null,next:k=>{const C=y(k);if(d)s.done=k>=h;else{let T=f;k!==0&&(p<1?T=LR(y,k,C):T=0);const _=Math.abs(T)<=n,E=Math.abs(o-C)<=e;s.done=_&&E}return s.value=s.done?o:C,s}}}function IR({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:o=500,modifyTarget:s,min:l,max:a,restDelta:u=.5,restSpeed:c}){const h=t[0],d={done:!1,value:h},f=w=>l!==void 0&&w<l||a!==void 0&&w>a,p=w=>l===void 0?a:a===void 0||Math.abs(l-w)<Math.abs(a-w)?l:a;let m=n*e;const g=h+m,v=s===void 0?g:s(g);v!==g&&(m=v-h);const y=w=>-m*Math.exp(-w/i),k=w=>v+y(w),C=w=>{const S=y(w),b=k(w);d.done=Math.abs(S)<=u,d.value=d.done?v:b};let T,_;const E=w=>{f(d.value)&&(T=w,_=DR({keyframes:[d.value,p(d.value)],velocity:LR(k,w,d.value),damping:r,stiffness:o,restDelta:u,restSpeed:c}))};return E(0),{calculatedDuration:null,next:w=>{let S=!1;return!_&&T===void 0&&(S=!0,C(w),E(w)),T!==void 0&&w>T?_.next(w-T):(!S&&C(w),d)}}}const aq=t=>{const e=({timestamp:n})=>t(n);return{start:()=>lt.update(e,!0),stop:()=>Vr(e),now:()=>en.isProcessing?en.timestamp:performance.now()}},NR=2e4;function FR(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<NR;)e+=n,i=t.next(e);return e>=NR?1/0:e}const lq={decay:IR,inertia:IR,tween:nm,keyframes:nm,spring:DR};function im({autoplay:t=!0,delay:e=0,driver:n=aq,keyframes:i,type:r="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:l="loop",onPlay:a,onStop:u,onComplete:c,onUpdate:h,...d}){let f=1,p=!1,m,g;const v=()=>{g=new Promise(z=>{m=z})};v();let y;const k=lq[r]||nm;let C;k!==nm&&typeof i[0]!="number"&&(C=OR([0,100],i,{clamp:!1}),i=[0,100]);const T=k({...d,keyframes:i});let _;l==="mirror"&&(_=k({...d,keyframes:[...i].reverse(),velocity:-(d.velocity||0)}));let E="idle",w=null,S=null,b=null;T.calculatedDuration===null&&o&&(T.calculatedDuration=FR(T));const{calculatedDuration:x}=T;let A=1/0,O=1/0;x!==null&&(A=x+s,O=A*(o+1)-s);let $=0;const M=z=>{if(S===null)return;f>0&&(S=Math.min(S,z)),f<0&&(S=Math.min(z-O/f,S)),w!==null?$=w:$=Math.round(z-S)*f;const F=$-e*(f>=0?1:-1),B=f>=0?F<0:F>O;$=Math.max(F,0),E==="finished"&&w===null&&($=O);let j=$,H=T;if(o){const Y=$/A;let ee=Math.floor(Y),ne=Y%1;!ne&&Y>=1&&(ne=1),ne===1&&ee--,ee=Math.min(ee,o+1);const ce=!!(ee%2);ce&&(l==="reverse"?(ne=1-ne,s&&(ne-=s/A)):l==="mirror"&&(H=_));let ue=Yo(0,1,ne);$>O&&(ue=l==="reverse"&&ce?1:0),j=ue*A}const G=B?{done:!1,value:i[0]}:H.next(j);C&&(G.value=C(G.value));let{done:Q}=G;!B&&x!==null&&(Q=f>=0?$>=O:$<=0);const J=w===null&&(E==="finished"||E==="running"&&Q);return h&&h(G.value),J&&N(),G},R=()=>{y&&y.stop(),y=void 0},P=()=>{E="idle",R(),m(),v(),S=b=null},N=()=>{E="finished",c&&c(),R(),m()},D=()=>{if(p)return;y||(y=n(M));const z=y.now();a&&a(),w!==null?S=z-w:(!S||E==="finished")&&(S=z),E==="finished"&&v(),b=S,w=null,E="running",y.start()};t&&D();const V={then(z,F){return g.then(z,F)},get time(){return Ur($)},set time(z){z=Jo(z),$=z,w!==null||!y||f===0?w=z:S=y.now()-z/f},get duration(){const z=T.calculatedDuration===null?FR(T):T.calculatedDuration;return Ur(z)},get speed(){return f},set speed(z){z===f||!y||(f=z,V.time=Ur($))},get state(){return E},play:D,pause:()=>{E="paused",w=$},stop:()=>{p=!0,E!=="idle"&&(E="idle",u&&u(),P())},cancel:()=>{b!==null&&M(b),P()},complete:()=>{E="finished"},sample:z=>(S=0,M(z))};return V}function cq(t){let e;return()=>(e===void 0&&(e=t()),e)}const uq=cq(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),hq=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),rm=10,dq=2e4,fq=(t,e)=>e.type==="spring"||t==="backgroundColor"||!aR(e.ease);function pq(t,e,{onUpdate:n,onComplete:i,...r}){if(!(uq()&&hq.has(e)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0&&r.type!=="inertia"))return!1;let s=!1,l,a;const u=()=>{a=new Promise(y=>{l=y})};u();let{keyframes:c,duration:h=300,ease:d,times:f}=r;if(fq(e,r)){const y=im({...r,repeat:0,delay:0});let k={done:!1,value:c[0]};const C=[];let T=0;for(;!k.done&&T<dq;)k=y.sample(T),C.push(k.value),T+=rm;f=void 0,c=C,h=T-rm,d="linear"}const p=CX(t.owner.current,e,c,{...r,duration:h,ease:d,times:f});r.syncStart&&(p.startTime=en.isProcessing?en.timestamp:document.timeline?document.timeline.currentTime:performance.now());const m=()=>p.cancel(),g=()=>{lt.update(m),l(),u()};return p.onfinish=()=>{t.set(EX(c,r)),i&&i(),g()},{then(y,k){return a.then(y,k)},attachTimeline(y){return p.timeline=y,p.onfinish=null,Lt},get time(){return Ur(p.currentTime||0)},set time(y){p.currentTime=Jo(y)},get speed(){return p.playbackRate},set speed(y){p.playbackRate=y},get duration(){return Ur(h)},play:()=>{s||(p.play(),Vr(m))},pause:()=>p.pause(),stop:()=>{if(s=!0,p.playState==="idle")return;const{currentTime:y}=p;if(y){const k=im({...r,autoplay:!1});t.setWithVelocity(k.sample(y-rm).value,k.sample(y).value,rm)}g()},complete:()=>p.finish(),cancel:g}}function mq({keyframes:t,delay:e,onUpdate:n,onComplete:i}){const r=()=>(n&&n(t[t.length-1]),i&&i(),{time:0,speed:1,duration:0,play:Lt,pause:Lt,stop:Lt,then:o=>(o(),Promise.resolve()),cancel:Lt,complete:Lt});return e?im({keyframes:[0,1],duration:0,delay:e,onComplete:r}):r()}const gq={type:"spring",stiffness:500,damping:25,restSpeed:10},vq=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),yq={type:"keyframes",duration:.8},bq={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},wq=(t,{keyframes:e})=>e.length>2?yq:ta.has(t)?t.startsWith("scale")?vq(e[1]):gq:bq,o_=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Zo.test(e)||e==="0")&&!e.startsWith("url(")),_q=new Set(["brightness","contrast","saturate","opacity"]);function xq(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Gp)||[];if(!i)return t;const r=n.replace(i,"");let o=_q.has(e)?1:0;return i!==n&&(o*=100),e+"("+o+r+")"}const Sq=/([a-z-]*)\(.*?\)/g,s_={...Zo,getAnimatableNone:t=>{const e=t.match(Sq);return e?e.map(xq).join(" "):t}},kq={...BL,color:Pn,backgroundColor:Pn,outlineColor:Pn,fill:Pn,stroke:Pn,borderColor:Pn,borderTopColor:Pn,borderRightColor:Pn,borderBottomColor:Pn,borderLeftColor:Pn,filter:s_,WebkitFilter:s_},a_=t=>kq[t];function zR(t,e){let n=a_(t);return n!==s_&&(n=Zo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const BR=t=>/^0[^.\s]+$/.test(t);function Cq(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||BR(t)}function Eq(t,e,n,i){const r=o_(e,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const s=i.from!==void 0?i.from:t.get();let l;const a=[];for(let u=0;u<o.length;u++)o[u]===null&&(o[u]=u===0?s:o[u-1]),Cq(o[u])&&a.push(u),typeof o[u]=="string"&&o[u]!=="none"&&o[u]!=="0"&&(l=o[u]);if(r&&a.length&&l)for(let u=0;u<a.length;u++){const c=a[u];o[c]=zR(e,l)}return o}function Tq({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:o,repeatType:s,repeatDelay:l,from:a,elapsed:u,...c}){return!!Object.keys(c).length}function jR(t,e){return t[e]||t.default||t}const l_=(t,e,n,i={})=>r=>{const o=jR(i,t)||{},s=o.delay||i.delay||0;let{elapsed:l=0}=i;l=l-Jo(s);const a=Eq(e,t,n,o),u=a[0],c=a[a.length-1],h=o_(t,u),d=o_(t,c);let f={keyframes:a,velocity:e.getVelocity(),ease:"easeOut",...o,delay:-l,onUpdate:p=>{e.set(p),o.onUpdate&&o.onUpdate(p)},onComplete:()=>{r(),o.onComplete&&o.onComplete()}};if(Tq(o)||(f={...f,...wq(t,f)}),f.duration&&(f.duration=Jo(f.duration)),f.repeatDelay&&(f.repeatDelay=Jo(f.repeatDelay)),!h||!d||kX.current||o.type===!1)return mq(f);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const p=pq(e,t,f);if(p)return p}return im(f)};function om(t){return!!(Yn(t)&&t.add)}const VR=t=>/^\-?\d*\.?\d+$/.test(t);function c_(t,e){t.indexOf(e)===-1&&t.push(e)}function u_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class h_{constructor(){this.subscriptions=[]}add(e){return c_(this.subscriptions,e),()=>u_(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let o=0;o<r;o++){const s=this.subscriptions[o];s&&s(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const $q=t=>!isNaN(parseFloat(t));class Aq{constructor(e,n={}){this.version="10.16.4",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(i,r=!0)=>{this.prev=this.current,this.current=i;const{delta:o,timestamp:s}=en;this.lastUpdated!==s&&(this.timeDelta=o,this.lastUpdated=s,lt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>lt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:i})=>{i!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=$q(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new h_);const i=this.events[e].add(n);return e==="change"?()=>{i(),lt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=e,this.timeDelta=i}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?MR(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ra(t,e){return new Aq(t,e)}const WR=t=>e=>e.test(t),HR=[na,Re,dr,Xo,FY,NY,{test:t=>t==="auto",parse:t=>t}],th=t=>HR.find(WR(t)),Oq=[...HR,Pn,Zo],Mq=t=>Oq.find(WR(t));function Lq(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ra(n))}function Rq(t,e){const n=em(t,e);let{transitionEnd:i={},transition:r={},...o}=n?t.makeTargetAnimatable(n,!1):{};o={...o,...i};for(const s in o){const l=JY(o[s]);Lq(t,s,l)}}function Pq(t,e,n){var i,r;const o=Object.keys(e).filter(l=>!t.hasValue(l)),s=o.length;if(s)for(let l=0;l<s;l++){const a=o[l],u=e[a];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(r=(i=n[a])!==null&&i!==void 0?i:t.readValue(a))!==null&&r!==void 0?r:e[a]),c!=null&&(typeof c=="string"&&(VR(c)||BR(c))?c=parseFloat(c):!Mq(c)&&Zo.test(u)&&(c=zR(a,u)),t.addValue(a,ra(c,{owner:t})),n[a]===void 0&&(n[a]=c),c!==null&&t.setBaseTarget(a,c))}}function Dq(t,e){return e?(e[t]||e.default||e).from:void 0}function Iq(t,e,n){const i={};for(const r in t){const o=Dq(r,e);if(o!==void 0)i[r]=o;else{const s=n.getValue(r);s&&(i[r]=s.get())}}return i}function Nq({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function UR(t,e,{delay:n=0,transitionOverride:i,type:r}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:s,...l}=t.makeTargetAnimatable(e);const a=t.getValue("willChange");i&&(o=i);const u=[],c=r&&t.animationState&&t.animationState.getState()[r];for(const h in l){const d=t.getValue(h),f=l[h];if(!d||f===void 0||c&&Nq(c,h))continue;const p={delay:n,elapsed:0,...o};if(window.HandoffAppearAnimations&&!d.hasAnimated){const g=t.getProps()[xX];g&&(p.elapsed=window.HandoffAppearAnimations(g,h,d,lt),p.syncStart=!0)}d.start(l_(h,d,f,t.shouldReduceMotion&&ta.has(h)?{type:!1}:p));const m=d.animation;om(a)&&(a.add(h),m.then(()=>a.remove(h))),u.push(m)}return s&&Promise.all(u).then(()=>{s&&Rq(t,s)}),u}function d_(t,e,n={}){const i=em(t,e,n.custom);let{transition:r=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(r=n.transitionOverride);const o=i?()=>Promise.all(UR(t,i,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(a=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:h}=r;return Fq(t,e,u+a,c,h,n)}:()=>Promise.resolve(),{when:l}=r;if(l){const[a,u]=l==="beforeChildren"?[o,s]:[s,o];return a().then(()=>u())}else return Promise.all([o(),s(n.delay)])}function Fq(t,e,n=0,i=0,r=1,o){const s=[],l=(t.variantChildren.size-1)*i,a=r===1?(u=0)=>u*i:(u=0)=>l-u*i;return Array.from(t.variantChildren).sort(zq).forEach((u,c)=>{u.notify("AnimationStart",e),s.push(d_(u,e,{...o,delay:n+a(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(s)}function zq(t,e){return t.sortNodePosition(e)}function Bq(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(o=>d_(t,o,n));i=Promise.all(r)}else if(typeof e=="string")i=d_(t,e,n);else{const r=typeof e=="function"?em(t,e,n.custom):e;i=Promise.all(UR(t,r,n))}return i.then(()=>t.notify("AnimationComplete",e))}const jq=[...L1].reverse(),Vq=L1.length;function Wq(t){return e=>Promise.all(e.map(({animation:n,options:i})=>Bq(t,n,i)))}function Hq(t){let e=Wq(t);const n=Kq();let i=!0;const r=(a,u)=>{const c=em(t,u);if(c){const{transition:h,transitionEnd:d,...f}=c;a={...a,...f,...d}}return a};function o(a){e=a(t)}function s(a,u){const c=t.getProps(),h=t.getVariantContext(!0)||{},d=[],f=new Set;let p={},m=1/0;for(let v=0;v<Vq;v++){const y=jq[v],k=n[y],C=c[y]!==void 0?c[y]:h[y],T=Uu(C),_=y===u?k.isActive:null;_===!1&&(m=v);let E=C===h[y]&&C!==c[y]&&T;if(E&&i&&t.manuallyAnimateOnMount&&(E=!1),k.protectedKeys={...p},!k.isActive&&_===null||!C&&!k.prevProp||Wp(C)||typeof C=="boolean")continue;const w=Uq(k.prevProp,C);let S=w||y===u&&k.isActive&&!E&&T||v>m&&T;const b=Array.isArray(C)?C:[C];let x=b.reduce(r,{});_===!1&&(x={});const{prevResolvedValues:A={}}=k,O={...A,...x},$=M=>{S=!0,f.delete(M),k.needsAnimating[M]=!0};for(const M in O){const R=x[M],P=A[M];p.hasOwnProperty(M)||(R!==P?qp(R)&&qp(P)?!oR(R,P)||w?$(M):k.protectedKeys[M]=!0:R!==void 0?$(M):f.add(M):R!==void 0&&f.has(M)?$(M):k.protectedKeys[M]=!0)}k.prevProp=C,k.prevResolvedValues=x,k.isActive&&(p={...p,...x}),i&&t.blockInitialAnimation&&(S=!1),S&&!E&&d.push(...b.map(M=>({animation:M,options:{type:y,...a}})))}if(f.size){const v={};f.forEach(y=>{const k=t.getBaseTarget(y);k!==void 0&&(v[y]=k)}),d.push({animation:v})}let g=!!d.length;return i&&c.initial===!1&&!t.manuallyAnimateOnMount&&(g=!1),i=!1,g?e(d):Promise.resolve()}function l(a,u,c){var h;if(n[a].isActive===u)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(a,u)}),n[a].isActive=u;const d=s(c,a);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:s,setActive:l,setAnimateFunction:o,getState:()=>n}}function Uq(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!oR(e,t):!1}function oa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Kq(){return{animate:oa(!0),whileInView:oa(),whileHover:oa(),whileTap:oa(),whileDrag:oa(),whileFocus:oa(),exit:oa()}}class Gq extends Qo{constructor(e){super(e),e.animationState||(e.animationState=Hq(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Wp(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Yq=0;class Xq extends Qo{constructor(){super(...arguments),this.id=Yq++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e,{custom:i??this.node.getProps().custom});n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const qq={animation:{Feature:Gq},exit:{Feature:Xq}},KR=(t,e)=>Math.abs(t-e);function Qq(t,e){const n=KR(t.x,e.x),i=KR(t.y,e.y);return Math.sqrt(n**2+i**2)}class GR{constructor(e,n,{transformPagePoint:i}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=p_(this.lastMoveEventInfo,this.history),c=this.startEvent!==null,h=Qq(u.offset,{x:0,y:0})>=3;if(!c&&!h)return;const{point:d}=u,{timestamp:f}=en;this.history.push({...d,timestamp:f});const{onStart:p,onMove:m}=this.handlers;c||(p&&p(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,u)},this.handlePointerMove=(u,c)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=f_(c,this.transformPagePoint),lt.update(this.updatePoint,!0)},this.handlePointerUp=(u,c)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:h,onSessionEnd:d}=this.handlers,f=p_(u.type==="pointercancel"?this.lastMoveEventInfo:f_(c,this.transformPagePoint),this.history);this.startEvent&&h&&h(u,f),d&&d(u,f)},!QL(e))return;this.handlers=n,this.transformPagePoint=i;const r=Zp(e),o=f_(r,this.transformPagePoint),{point:s}=o,{timestamp:l}=en;this.history=[{...s,timestamp:l}];const{onSessionStart:a}=n;a&&a(e,p_(o,this.history)),this.removeListeners=qo(Hr(window,"pointermove",this.handlePointerMove),Hr(window,"pointerup",this.handlePointerUp),Hr(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Vr(this.updatePoint)}}function f_(t,e){return e?{point:e(t.point)}:t}function YR(t,e){return{x:t.x-e.x,y:t.y-e.y}}function p_({point:t},e){return{point:t,delta:YR(t,XR(e)),offset:YR(t,Jq(e)),velocity:Zq(e,.1)}}function Jq(t){return t[0]}function XR(t){return t[t.length-1]}function Zq(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=XR(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>Jo(e)));)n--;if(!i)return{x:0,y:0};const o=Ur(r.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const s={x:(r.x-i.x)/o,y:(r.y-i.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function li(t){return t.max-t.min}function m_(t,e=0,n=.01){return Math.abs(t-e)<=n}function qR(t,e,n,i=.5){t.origin=i,t.originPoint=Ct(e.min,e.max,t.origin),t.scale=li(n)/li(e),(m_(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Ct(n.min,n.max,t.origin)-t.originPoint,(m_(t.translate)||isNaN(t.translate))&&(t.translate=0)}function nh(t,e,n,i){qR(t.x,e.x,n.x,i?i.originX:void 0),qR(t.y,e.y,n.y,i?i.originY:void 0)}function QR(t,e,n){t.min=n.min+e.min,t.max=t.min+li(e)}function eQ(t,e,n){QR(t.x,e.x,n.x),QR(t.y,e.y,n.y)}function JR(t,e,n){t.min=e.min-n.min,t.max=t.min+li(e)}function ih(t,e,n){JR(t.x,e.x,n.x),JR(t.y,e.y,n.y)}function tQ(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Ct(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Ct(n,t,i.max):Math.min(t,n)),t}function ZR(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function nQ(t,{top:e,left:n,bottom:i,right:r}){return{x:ZR(t.x,n,r),y:ZR(t.y,e,i)}}function eP(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function iQ(t,e){return{x:eP(t.x,e.x),y:eP(t.y,e.y)}}function rQ(t,e){let n=.5;const i=li(t),r=li(e);return r>i?n=eh(e.min,e.max-i,t.min):i>r&&(n=eh(t.min,t.max-r,e.min)),Yo(0,1,n)}function oQ(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const g_=.35;function sQ(t=g_){return t===!1?t=0:t===!0&&(t=g_),{x:tP(t,"left","right"),y:tP(t,"top","bottom")}}function tP(t,e,n){return{min:nP(t,e),max:nP(t,n)}}function nP(t,e){return typeof t=="number"?t:t[e]||0}const iP=()=>({translate:0,scale:1,origin:0,originPoint:0}),Vl=()=>({x:iP(),y:iP()}),rP=()=>({min:0,max:0}),Vt=()=>({x:rP(),y:rP()});function fr(t){return[t("x"),t("y")]}function oP({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function aQ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function lQ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function v_(t){return t===void 0||t===1}function y_({scale:t,scaleX:e,scaleY:n}){return!v_(t)||!v_(e)||!v_(n)}function sa(t){return y_(t)||sP(t)||t.z||t.rotate||t.rotateX||t.rotateY}function sP(t){return aP(t.x)||aP(t.y)}function aP(t){return t&&t!=="0%"}function sm(t,e,n){const i=t-n,r=e*i;return n+r}function lP(t,e,n,i,r){return r!==void 0&&(t=sm(t,r,i)),sm(t,n,i)+e}function b_(t,e=0,n=1,i,r){t.min=lP(t.min,e,n,i,r),t.max=lP(t.max,e,n,i,r)}function cP(t,{x:e,y:n}){b_(t.x,e.translate,e.scale,e.originPoint),b_(t.y,n.translate,n.scale,n.originPoint)}function cQ(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let o,s;for(let l=0;l<r;l++){o=n[l],s=o.projectionDelta;const a=o.instance;a&&a.style&&a.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Wl(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,cP(t,s)),i&&sa(o.latestValues)&&Wl(t,o.latestValues))}e.x=uP(e.x),e.y=uP(e.y)}function uP(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function es(t,e){t.min=t.min+e,t.max=t.max+e}function hP(t,e,[n,i,r]){const o=e[r]!==void 0?e[r]:.5,s=Ct(t.min,t.max,o);b_(t,e[n],e[i],s,e.scale)}const uQ=["x","scaleX","originX"],hQ=["y","scaleY","originY"];function Wl(t,e){hP(t.x,e,uQ),hP(t.y,e,hQ)}function dP(t,e){return oP(lQ(t.getBoundingClientRect(),e))}function dQ(t,e,n){const i=dP(t,n),{scroll:r}=e;return r&&(es(i.x,r.offset.x),es(i.y,r.offset.y)),i}const fQ=new WeakMap;class pQ{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Vt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=a=>{this.stopAnimation(),n&&this.snapToCursor(Zp(a,"page").point)},o=(a,u)=>{const{drag:c,dragPropagation:h,onDragStart:d}=this.getProps();if(c&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=tR(c),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fr(p=>{let m=this.getAxisMotionValue(p).get()||0;if(dr.test(m)){const{projection:g}=this.visualElement;if(g&&g.layout){const v=g.layout.layoutBox[p];v&&(m=li(v)*(parseFloat(m)/100))}}this.originPoint[p]=m}),d&&lt.update(()=>d(a,u),!1,!0);const{animationState:f}=this.visualElement;f&&f.setActive("whileDrag",!0)},s=(a,u)=>{const{dragPropagation:c,dragDirectionLock:h,onDirectionLock:d,onDrag:f}=this.getProps();if(!c&&!this.openGlobalLock)return;const{offset:p}=u;if(h&&this.currentDirection===null){this.currentDirection=mQ(p),this.currentDirection!==null&&d&&d(this.currentDirection);return}this.updateAxis("x",u.point,p),this.updateAxis("y",u.point,p),this.visualElement.render(),f&&f(a,u)},l=(a,u)=>this.stop(a,u);this.panSession=new GR(e,{onSessionStart:r,onStart:o,onMove:s,onSessionEnd:l},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:o}=this.getProps();o&&lt.update(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!am(e,r,this.currentDirection))return;const o=this.getAxisMotionValue(e);let s=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(s=tQ(s,this.constraints[e],this.elastic[e])),o.set(s)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),{layout:i}=this.visualElement.projection||{},r=this.constraints;e&&Bl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=nQ(i.layoutBox,e):this.constraints=!1,this.elastic=sQ(n),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&fr(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=oQ(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Bl(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=dQ(i,r.root,this.visualElement.getTransformPagePoint());let s=iQ(r.layout.layoutBox,o);if(n){const l=n(aQ(s));this.hasMutatedConstraints=!!l,l&&(s=oP(l))}return s}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:l}=this.getProps(),a=this.constraints||{},u=fr(c=>{if(!am(c,n,this.currentDirection))return;let h=a&&a[c]||{};s&&(h={min:0,max:0});const d=r?200:1e6,f=r?40:1e7,p={type:"inertia",velocity:i?e[c]:0,bounceStiffness:d,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...o,...h};return this.startAxisValueAnimation(c,p)});return Promise.all(u).then(l)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return i.start(l_(e,i,0,n))}stopAnimation(){fr(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){fr(n=>{const{drag:i}=this.getProps();if(!am(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(n);if(r&&r.layout){const{min:s,max:l}=r.layout.layoutBox[n];o.set(e[n]-Ct(s,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Bl(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};fr(s=>{const l=this.getAxisMotionValue(s);if(l){const a=l.get();r[s]=rQ({min:a,max:a},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),fr(s=>{if(!am(s,e,null))return;const l=this.getAxisMotionValue(s),{min:a,max:u}=this.constraints[s];l.set(Ct(a,u,r[s]))})}addListeners(){if(!this.visualElement.current)return;fQ.set(this.visualElement,this);const e=this.visualElement.current,n=Hr(e,"pointerdown",a=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(a)}),i=()=>{const{dragConstraints:a}=this.getProps();Bl(a)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,o=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),i();const s=Wr(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:a,hasLayoutChanged:u})=>{this.isDragging&&u&&(fr(c=>{const h=this.getAxisMotionValue(c);h&&(this.originPoint[c]+=a[c].translate,h.set(h.get()+a[c].translate))}),this.visualElement.render())});return()=>{s(),n(),o(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:s=g_,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:o,dragElastic:s,dragMomentum:l}}}function am(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function mQ(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class gQ extends Qo{constructor(e){super(e),this.removeGroupControls=Lt,this.removeListeners=Lt,this.controls=new pQ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Lt}unmount(){this.removeGroupControls(),this.removeListeners()}}const fP=t=>(e,n)=>{t&&lt.update(()=>t(e,n))};class vQ extends Qo{constructor(){super(...arguments),this.removePointerDownListener=Lt}onPointerDown(e){this.session=new GR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:fP(e),onStart:fP(n),onMove:i,onEnd:(o,s)=>{delete this.session,r&&lt.update(()=>r(o,s))}}}mount(){this.removePointerDownListener=Hr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function yQ(){const t=I.useContext(jp);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:i}=t,r=I.useId();return I.useEffect(()=>i(r),[]),!e&&n?[!1,()=>n&&n(r)]:[!0]}const lm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pP(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const rh={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Re.test(t))t=parseFloat(t);else return t;const n=pP(t,e.target.x),i=pP(t,e.target.y);return`${n}% ${i}%`}},bQ={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=Zo.parse(t);if(r.length>5)return i;const o=Zo.createTransformer(t),s=typeof r[0]!="number"?1:0,l=n.x.scale*e.x,a=n.y.scale*e.y;r[0+s]/=l,r[1+s]/=a;const u=Ct(l,a,.5);return typeof r[2+s]=="number"&&(r[2+s]/=u),typeof r[3+s]=="number"&&(r[3+s]/=u),o(r)}};class wQ extends K.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:o}=e;OY(_Q),o&&(n.group&&n.group.add(o),i&&i.register&&r&&i.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),lm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:o}=this.props,s=i.projection;return s&&(s.isPresent=o,r||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||lt.postRender(()=>{const l=s.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function mP(t){const[e,n]=yQ(),i=I.useContext(P1);return K.createElement(wQ,{...t,layoutGroup:i,switchLayoutGroup:I.useContext(RL),isPresent:e,safeToRemove:n})}const _Q={borderRadius:{...rh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:rh,borderTopRightRadius:rh,borderBottomLeftRadius:rh,borderBottomRightRadius:rh,boxShadow:bQ},gP=["TopLeft","TopRight","BottomLeft","BottomRight"],xQ=gP.length,vP=t=>typeof t=="string"?parseFloat(t):t,yP=t=>typeof t=="number"||Re.test(t);function SQ(t,e,n,i,r,o){r?(t.opacity=Ct(0,n.opacity!==void 0?n.opacity:1,kQ(i)),t.opacityExit=Ct(e.opacity!==void 0?e.opacity:1,0,CQ(i))):o&&(t.opacity=Ct(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let s=0;s<xQ;s++){const l=`border${gP[s]}Radius`;let a=bP(e,l),u=bP(n,l);if(a===void 0&&u===void 0)continue;a||(a=0),u||(u=0),a===0||u===0||yP(a)===yP(u)?(t[l]=Math.max(Ct(vP(a),vP(u),i),0),(dr.test(u)||dr.test(a))&&(t[l]+="%")):t[l]=u}(e.rotate||n.rotate)&&(t.rotate=Ct(e.rotate||0,n.rotate||0,i))}function bP(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const kQ=wP(0,.5,X1),CQ=wP(.5,.95,Lt);function wP(t,e,n){return i=>i<t?0:i>e?1:n(eh(t,e,i))}function _P(t,e){t.min=e.min,t.max=e.max}function ki(t,e){_P(t.x,e.x),_P(t.y,e.y)}function xP(t,e,n,i,r){return t-=e,t=sm(t,1/n,i),r!==void 0&&(t=sm(t,1/r,i)),t}function EQ(t,e=0,n=1,i=.5,r,o=t,s=t){if(dr.test(e)&&(e=parseFloat(e),e=Ct(s.min,s.max,e/100)-s.min),typeof e!="number")return;let l=Ct(o.min,o.max,i);t===o&&(l-=e),t.min=xP(t.min,e,n,l,r),t.max=xP(t.max,e,n,l,r)}function SP(t,e,[n,i,r],o,s){EQ(t,e[n],e[i],e[r],e.scale,o,s)}const TQ=["x","scaleX","originX"],$Q=["y","scaleY","originY"];function kP(t,e,n,i){SP(t.x,e,TQ,n?n.x:void 0,i?i.x:void 0),SP(t.y,e,$Q,n?n.y:void 0,i?i.y:void 0)}function CP(t){return t.translate===0&&t.scale===1}function EP(t){return CP(t.x)&&CP(t.y)}function AQ(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function TP(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function $P(t){return li(t.x)/li(t.y)}class OQ{constructor(){this.members=[]}add(e){c_(this.members,e),e.scheduleRender()}remove(e){if(u_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const o=this.members[r];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function AP(t,e,n){let i="";const r=t.x.translate/e.x,o=t.y.translate/e.y;if((r||o)&&(i=`translate3d(${r}px, ${o}px, 0) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:a,rotateX:u,rotateY:c}=n;a&&(i+=`rotate(${a}deg) `),u&&(i+=`rotateX(${u}deg) `),c&&(i+=`rotateY(${c}deg) `)}const s=t.x.scale*e.x,l=t.y.scale*e.y;return(s!==1||l!==1)&&(i+=`scale(${s}, ${l})`),i||"none"}const MQ=(t,e)=>t.depth-e.depth;class LQ{constructor(){this.children=[],this.isDirty=!1}add(e){c_(this.children,e),this.isDirty=!0}remove(e){u_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(MQ),this.isDirty=!1,this.children.forEach(e)}}function RQ(t,e){const n=performance.now(),i=({timestamp:r})=>{const o=r-n;o>=e&&(Vr(i),t(o-e))};return lt.read(i,!0),()=>Vr(i)}function PQ(t){window.MotionDebug&&window.MotionDebug.record(t)}function DQ(t){return t instanceof SVGElement&&t.tagName!=="svg"}function IQ(t,e,n){const i=Yn(t)?t:ra(t);return i.start(l_("",i,e,n)),i.animation}const OP=["","X","Y","Z"],MP=1e3;let NQ=0;const aa={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function LP({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(s={},l=e==null?void 0:e()){this.id=NQ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{aa.totalNodes=aa.resolvedTargetDeltas=aa.recalculatedProjection=0,this.nodes.forEach(BQ),this.nodes.forEach(UQ),this.nodes.forEach(KQ),this.nodes.forEach(jQ),PQ(aa)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let a=0;a<this.path.length;a++)this.path[a].shouldResetTransform=!0;this.root===this&&(this.nodes=new LQ)}addEventListener(s,l){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new h_),this.eventHandlers.get(s).add(l)}notifyListeners(s,...l){const a=this.eventHandlers.get(s);a&&a.notify(...l)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=DQ(s),this.instance=s;const{layoutId:a,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||a)&&(this.isLayoutDirty=!0),t){let h;const d=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=RQ(d,250),lm.hasAnimatedSinceResize&&(lm.hasAnimatedSinceResize=!1,this.nodes.forEach(PP))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d,hasRelativeTargetChanged:f,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||c.getDefaultTransition()||QQ,{onLayoutAnimationStart:g,onLayoutAnimationComplete:v}=c.getProps(),y=!this.targetLayout||!TP(this.targetLayout,p)||f,k=!d&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||k||d&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,k);const C={...jR(m,"layout"),onPlay:g,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else d||PP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Vr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(GQ),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const h=this.path[c];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:a}=this.options;if(l===void 0&&!a)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(RP);return}this.isUpdating||this.nodes.forEach(WQ),this.isUpdating=!1,this.nodes.forEach(HQ),this.nodes.forEach(FQ),this.nodes.forEach(zQ),this.clearAllSnapshots();const l=performance.now();en.delta=Yo(0,1e3/60,l-en.timestamp),en.timestamp=l,en.isProcessing=!0,H1.update.process(en),H1.preRender.process(en),H1.render.process(en),en.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(VQ),this.sharedNodes.forEach(YQ)}scheduleUpdateProjection(){lt.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){lt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let a=0;a<this.path.length;a++)this.path[a].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Vt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:i(this.instance),offset:n(this.instance)})}resetTransform(){if(!r)return;const s=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!EP(this.projectionDelta),a=this.getTransformTemplate(),u=a?a(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;s&&(l||sa(this.latestValues)||c)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const l=this.measurePageBox();let a=this.removeElementScroll(l);return s&&(a=this.removeTransform(a)),JQ(a),{animationId:this.root.animationId,measuredBox:l,layoutBox:a,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Vt();const l=s.measureViewportBox(),{scroll:a}=this.root;return a&&(es(l.x,a.offset.x),es(l.y,a.offset.y)),l}removeElementScroll(s){const l=Vt();ki(l,s);for(let a=0;a<this.path.length;a++){const u=this.path[a],{scroll:c,options:h}=u;if(u!==this.root&&c&&h.layoutScroll){if(c.isRoot){ki(l,s);const{scroll:d}=this.root;d&&(es(l.x,-d.offset.x),es(l.y,-d.offset.y))}es(l.x,c.offset.x),es(l.y,c.offset.y)}}return l}applyTransform(s,l=!1){const a=Vt();ki(a,s);for(let u=0;u<this.path.length;u++){const c=this.path[u];!l&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Wl(a,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),sa(c.latestValues)&&Wl(a,c.latestValues)}return sa(this.latestValues)&&Wl(a,this.latestValues),a}removeTransform(s){const l=Vt();ki(l,s);for(let a=0;a<this.path.length;a++){const u=this.path[a];if(!u.instance||!sa(u.latestValues))continue;y_(u.latestValues)&&u.updateSnapshot();const c=Vt(),h=u.measurePageBox();ki(c,h),kP(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return sa(this.latestValues)&&kP(l,this.latestValues),l}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==en.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var l;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==a;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:d}=this.options;if(!(!this.layout||!(h||d))){if(this.resolvedRelativeTargetAt=en.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vt(),this.relativeTargetOrigin=Vt(),ih(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),ki(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Vt(),this.targetWithTransforms=Vt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),eQ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ki(this.target,this.layout.layoutBox),cP(this.target,this.targetDelta)):ki(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vt(),this.relativeTargetOrigin=Vt(),ih(this.relativeTargetOrigin,this.target,f.target),ki(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}aa.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||y_(this.parent.latestValues)||sP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const l=this.getLead(),a=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===en.timestamp&&(u=!1),u)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;ki(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;cQ(this.layoutCorrected,this.treeScale,this.path,a),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:p}=l;if(!p){this.projectionTransform&&(this.projectionDelta=Vl(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Vl(),this.projectionDeltaWithTransform=Vl());const m=this.projectionTransform;nh(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=AP(this.projectionDelta,this.treeScale),(this.projectionTransform!==m||this.treeScale.x!==d||this.treeScale.y!==f)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),aa.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,l=!1){const a=this.snapshot,u=a?a.latestValues:{},c={...this.latestValues},h=Vl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const d=Vt(),f=a?a.source:void 0,p=this.layout?this.layout.source:void 0,m=f!==p,g=this.getStack(),v=!g||g.members.length<=1,y=!!(m&&!v&&this.options.crossfade===!0&&!this.path.some(qQ));this.animationProgress=0;let k;this.mixTargetDelta=C=>{const T=C/1e3;DP(h.x,s.x,T),DP(h.y,s.y,T),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ih(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),XQ(this.relativeTarget,this.relativeTargetOrigin,d,T),k&&AQ(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=Vt()),ki(k,this.relativeTarget)),m&&(this.animationValues=c,SQ(c,u,this.latestValues,T,y,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Vr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=lt.update(()=>{lm.hasAnimatedSinceResize=!0,this.currentAnimation=IQ(0,MP,{...s,onUpdate:l=>{this.mixTargetDelta(l),s.onUpdate&&s.onUpdate(l)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(MP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:l,target:a,layout:u,latestValues:c}=s;if(!(!l||!a||!u)){if(this!==s&&this.layout&&u&&BP(this.options.animationType,this.layout.layoutBox,u.layoutBox)){a=this.target||Vt();const h=li(this.layout.layoutBox.x);a.x.min=s.target.x.min,a.x.max=a.x.min+h;const d=li(this.layout.layoutBox.y);a.y.min=s.target.y.min,a.y.max=a.y.min+d}ki(l,a),Wl(l,c),nh(this.projectionDeltaWithTransform,this.layoutCorrected,l,c)}}registerSharedNode(s,l){this.sharedNodes.has(s)||this.sharedNodes.set(s,new OQ),this.sharedNodes.get(s).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:l}=this.options;return l?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:l}=this.options;return l?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:l,preserveFollowOpacity:a}={}){const u=this.getStack();u&&u.promote(this,a),s&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let l=!1;const{latestValues:a}=s;if((a.rotate||a.rotateX||a.rotateY||a.rotateZ)&&(l=!0),!l)return;const u={};for(let c=0;c<OP.length;c++){const h="rotate"+OP[c];a[h]&&(u[h]=a[h],s.setStaticValue(h,0))}s.render();for(const c in u)s.setStaticValue(c,u[c]);s.scheduleRender()}getProjectionStyles(s={}){var l,a;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Qp(s.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=Qp(s.pointerEvents)||""),this.hasProjected&&!sa(this.latestValues)&&(m.transform=c?c({},""):"none",this.hasProjected=!1),m}const d=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=AP(this.projectionDeltaWithTransform,this.treeScale,d),c&&(u.transform=c(d,u.transform));const{x:f,y:p}=this.projectionDelta;u.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,h.animationValues?u.opacity=h===this?(a=(l=d.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&a!==void 0?a:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:u.opacity=h===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const m in Up){if(d[m]===void 0)continue;const{correct:g,applyTo:v}=Up[m],y=u.transform==="none"?d[m]:g(d[m],h);if(v){const k=v.length;for(let C=0;C<k;C++)u[v[C]]=y}else u[m]=y}return this.options.layoutId&&(u.pointerEvents=h===this?Qp(s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var l;return(l=s.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(RP),this.root.sharedNodes.clear()}}}function FQ(t){t.updateLayout()}function zQ(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=t.layout,{animationType:o}=t.options,s=n.source!==t.layout.source;o==="size"?fr(h=>{const d=s?n.measuredBox[h]:n.layoutBox[h],f=li(d);d.min=i[h].min,d.max=d.min+f}):BP(o,n.layoutBox,i)&&fr(h=>{const d=s?n.measuredBox[h]:n.layoutBox[h],f=li(i[h]);d.max=d.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+f)});const l=Vl();nh(l,i,n.layoutBox);const a=Vl();s?nh(a,t.applyTransform(r,!0),n.measuredBox):nh(a,i,n.layoutBox);const u=!EP(l);let c=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:d,layout:f}=h;if(d&&f){const p=Vt();ih(p,n.layoutBox,d.layoutBox);const m=Vt();ih(m,i,f.layoutBox),TP(p,m)||(c=!0),h.options.layoutRoot&&(t.relativeTarget=m,t.relativeTargetOrigin=p,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:a,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function BQ(t){aa.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function jQ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function VQ(t){t.clearSnapshot()}function RP(t){t.clearMeasurements()}function WQ(t){t.isLayoutDirty=!1}function HQ(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function PP(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function UQ(t){t.resolveTargetDelta()}function KQ(t){t.calcProjection()}function GQ(t){t.resetRotation()}function YQ(t){t.removeLeadSnapshot()}function DP(t,e,n){t.translate=Ct(e.translate,0,n),t.scale=Ct(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function IP(t,e,n,i){t.min=Ct(e.min,n.min,i),t.max=Ct(e.max,n.max,i)}function XQ(t,e,n,i){IP(t.x,e.x,n.x,i),IP(t.y,e.y,n.y,i)}function qQ(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const QQ={duration:.45,ease:[.4,0,.1,1]},NP=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),FP=NP("applewebkit/")&&!NP("chrome/")?Math.round:Lt;function zP(t){t.min=FP(t.min),t.max=FP(t.max)}function JQ(t){zP(t.x),zP(t.y)}function BP(t,e,n){return t==="position"||t==="preserve-aspect"&&!m_($P(e),$P(n),.2)}const ZQ=LP({attachResizeListener:(t,e)=>Wr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),w_={current:void 0},jP=LP({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!w_.current){const t=new ZQ({});t.mount(window),t.setOptions({layoutScroll:!0}),w_.current=t}return w_.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),eJ={pan:{Feature:vQ},drag:{Feature:gQ,ProjectionNode:jP,MeasureLayout:mP}},tJ=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function nJ(t){const e=tJ.exec(t);if(!e)return[,];const[,n,i]=e;return[n,i]}function __(t,e,n=1){const[i,r]=nJ(t);if(!i)return;const o=window.getComputedStyle(e).getPropertyValue(i);if(o){const s=o.trim();return VR(s)?parseFloat(s):s}else return I1(r)?__(r,e,n+1):r}function iJ(t,{...e},n){const i=t.current;if(!(i instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(r=>{const o=r.get();if(!I1(o))return;const s=__(o,i);s&&r.set(s)});for(const r in e){const o=e[r];if(!I1(o))continue;const s=__(o,i);s&&(e[r]=s,n||(n={}),n[r]===void 0&&(n[r]=o))}return{target:e,transitionEnd:n}}const rJ=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),VP=t=>rJ.has(t),oJ=t=>Object.keys(t).some(VP),WP=t=>t===na||t===Re,HP=(t,e)=>parseFloat(t.split(", ")[e]),UP=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/);if(r)return HP(r[1],e);{const o=i.match(/^matrix\((.+)\)$/);return o?HP(o[1],t):0}},sJ=new Set(["x","y","z"]),aJ=Gu.filter(t=>!sJ.has(t));function lJ(t){const e=[];return aJ.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Hl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:UP(4,13),y:UP(5,14)};Hl.translateX=Hl.x,Hl.translateY=Hl.y;const cJ=(t,e,n)=>{const i=e.measureViewportBox(),r=e.current,o=getComputedStyle(r),{display:s}=o,l={};s==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{l[u]=Hl[u](i,o)}),e.render();const a=e.measureViewportBox();return n.forEach(u=>{const c=e.getValue(u);c&&c.jump(l[u]),t[u]=Hl[u](a,o)}),t},uJ=(t,e,n={},i={})=>{e={...e},i={...i};const r=Object.keys(e).filter(VP);let o=[],s=!1;const l=[];if(r.forEach(a=>{const u=t.getValue(a);if(!t.hasValue(a))return;let c=n[a],h=th(c);const d=e[a];let f;if(qp(d)){const p=d.length,m=d[0]===null?1:0;c=d[m],h=th(c);for(let g=m;g<p&&d[g]!==null;g++)f?Y1(th(d[g])===f):f=th(d[g])}else f=th(d);if(h!==f)if(WP(h)&&WP(f)){const p=u.get();typeof p=="string"&&u.set(parseFloat(p)),typeof d=="string"?e[a]=parseFloat(d):Array.isArray(d)&&f===Re&&(e[a]=d.map(parseFloat))}else h!=null&&h.transform&&(f!=null&&f.transform)&&(c===0||d===0)?c===0?u.set(f.transform(c)):e[a]=h.transform(d):(s||(o=lJ(t),s=!0),l.push(a),i[a]=i[a]!==void 0?i[a]:e[a],u.jump(d))}),l.length){const a=l.indexOf("height")>=0?window.pageYOffset:null,u=cJ(e,t,l);return o.length&&o.forEach(([c,h])=>{t.getValue(c).set(h)}),t.render(),Vp&&a!==null&&window.scrollTo({top:a}),{target:u,transitionEnd:i}}else return{target:e,transitionEnd:i}};function hJ(t,e,n,i){return oJ(e)?uJ(t,e,n,i):{target:e,transitionEnd:i}}const dJ=(t,e,n,i)=>{const r=iJ(t,e,i);return e=r.target,i=r.transitionEnd,hJ(t,e,n,i)},x_={current:null},KP={current:!1};function fJ(){if(KP.current=!0,!!Vp)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>x_.current=t.matches;t.addListener(e),e()}else x_.current=!1}function pJ(t,e,n){const{willChange:i}=e;for(const r in e){const o=e[r],s=n[r];if(Yn(o))t.addValue(r,o),om(i)&&i.add(r);else if(Yn(s))t.addValue(r,ra(o,{owner:t})),om(i)&&i.remove(r);else if(s!==o)if(t.hasValue(r)){const l=t.getValue(r);!l.hasAnimated&&l.set(o)}else{const l=t.getStaticValue(r);t.addValue(r,ra(l!==void 0?l:o,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const GP=new WeakMap,YP=Object.keys(Ku),mJ=YP.length,XP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],gJ=R1.length;class vJ{constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>lt.render(this.render,!1,!0);const{latestValues:l,renderState:a}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=a,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=s,this.isControllingVariants=Hp(n),this.isVariantNode=OL(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(n,{});for(const h in c){const d=c[h];l[h]!==void 0&&Yn(d)&&(d.set(l[h],!1),om(u)&&u.add(h))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,GP.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),KP.current||fJ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:x_.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){GP.delete(this.current),this.projection&&this.projection.unmount(),Vr(this.notifyUpdate),Vr(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const i=ta.has(e),r=n.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&lt.update(this.notifyUpdate,!1,!0),i&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),o()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},i,r,o){let s,l;for(let a=0;a<mJ;a++){const u=YP[a],{isEnabled:c,Feature:h,ProjectionNode:d,MeasureLayout:f}=Ku[u];d&&(s=d),c(n)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),f&&(l=f))}if(!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:a,layout:u,drag:c,dragConstraints:h,layoutScroll:d,layoutRoot:f}=n;this.projection.setOptions({layoutId:a,layout:u,alwaysMeasureLayout:!!c||h&&Bl(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,layoutScroll:d,layoutRoot:f})}return l}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Vt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<XP.length;i++){const r=XP[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const o=e["on"+r];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=pJ(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const n={};for(let i=0;i<gJ;i++){const r=R1[i],o=this.props[r];(Uu(o)||o===!1)&&(n[r]=o)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=ra(n,{owner:this}),this.addValue(e,i)),i}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props,r=typeof i=="string"||typeof i=="object"?(n=W1(this.props,i))===null||n===void 0?void 0:n[e]:void 0;if(i&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Yn(o)?o:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new h_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class qP extends vJ{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...i},{transformValues:r},o){let s=Iq(i,e||{},this);if(r&&(n&&(n=r(n)),i&&(i=r(i)),s&&(s=r(s))),o){Pq(this,i,s);const l=dJ(this,i,s,n);n=l.transitionEnd,i=l.target}return{transition:e,transitionEnd:n,...i}}}function yJ(t){return window.getComputedStyle(t)}class bJ extends qP{readValueFromInstance(e,n){if(ta.has(n)){const i=a_(n);return i&&i.default||0}else{const i=yJ(e),r=(IL(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return dP(e,n)}build(e,n,i,r){N1(e,n,i,r.transformTemplate)}scrapeMotionValuesFromProps(e,n){return V1(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Yn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,i,r){UL(e,n,i,r)}}class wJ extends qP{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ta.has(n)){const i=a_(n);return i&&i.default||0}return n=KL.has(n)?n:j1(n),e.getAttribute(n)}measureInstanceViewportBox(){return Vt()}scrapeMotionValuesFromProps(e,n){return YL(e,n)}build(e,n,i,r){z1(e,n,i,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,i,r){GL(e,n,i,r)}mount(e){this.isSVGTag=B1(e.tagName),super.mount(e)}}const _J=(t,e)=>D1(t)?new wJ(e,{enableHardwareAcceleration:!1}):new bJ(e,{enableHardwareAcceleration:!0}),xJ={...qq,...bX,...eJ,...{layout:{ProjectionNode:jP,MeasureLayout:mP}}},un=$Y((t,e)=>sX(t,e,xJ,_J));function QP(){const t=I.useRef(!1);return M1(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function SJ(){const t=QP(),[e,n]=I.useState(0),i=I.useCallback(()=>{t.current&&n(e+1)},[e]);return[I.useCallback(()=>lt.postRender(i),[i]),e]}class kJ extends I.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function CJ({children:t,isPresent:e}){const n=I.useId(),i=I.useRef(null),r=I.useRef({width:0,height:0,top:0,left:0});return I.useInsertionEffect(()=>{const{width:o,height:s,top:l,left:a}=r.current;if(e||!i.current||!o||!s)return;i.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${s}px !important;
            top: ${l}px !important;
            left: ${a}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),I.createElement(kJ,{isPresent:e,childRef:i,sizeRef:r},I.cloneElement(t,{ref:i}))}const S_=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:o,mode:s})=>{const l=Xp(EJ),a=I.useId(),u=I.useMemo(()=>({id:a,initial:e,isPresent:n,custom:r,onExitComplete:c=>{l.set(c,!0);for(const h of l.values())if(!h)return;i&&i()},register:c=>(l.set(c,!1),()=>l.delete(c))}),o?void 0:[n]);return I.useMemo(()=>{l.forEach((c,h)=>l.set(h,!1))},[n]),I.useEffect(()=>{!n&&!l.size&&i&&i()},[n]),s==="popLayout"&&(t=I.createElement(CJ,{isPresent:n},t)),I.createElement(jp.Provider,{value:u},t)};function EJ(){return new Map}function TJ(t){return I.useEffect(()=>()=>t(),[])}const Ul=t=>t.key||"";function $J(t,e){t.forEach(n=>{const i=Ul(n);e.set(i,n)})}function AJ(t){const e=[];return I.Children.forEach(t,n=>{I.isValidElement(n)&&e.push(n)}),e}const la=({children:t,custom:e,initial:n=!0,onExitComplete:i,exitBeforeEnter:r,presenceAffectsLayout:o=!0,mode:s="sync"})=>{const l=I.useContext(P1).forceRender||SJ()[0],a=QP(),u=AJ(t);let c=u;const h=I.useRef(new Map).current,d=I.useRef(c),f=I.useRef(new Map).current,p=I.useRef(!0);if(M1(()=>{p.current=!1,$J(u,f),d.current=c}),TJ(()=>{p.current=!0,f.clear(),h.clear()}),p.current)return I.createElement(I.Fragment,null,c.map(y=>I.createElement(S_,{key:Ul(y),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:s},y)));c=[...c];const m=d.current.map(Ul),g=u.map(Ul),v=m.length;for(let y=0;y<v;y++){const k=m[y];g.indexOf(k)===-1&&!h.has(k)&&h.set(k,void 0)}return s==="wait"&&h.size&&(c=[]),h.forEach((y,k)=>{if(g.indexOf(k)!==-1)return;const C=f.get(k);if(!C)return;const T=m.indexOf(k);let _=y;if(!_){const E=()=>{f.delete(k),h.delete(k);const w=d.current.findIndex(S=>S.key===k);if(d.current.splice(w,1),!h.size){if(d.current=u,a.current===!1)return;l(),i&&i()}};_=I.createElement(S_,{key:Ul(C),isPresent:!1,onExitComplete:E,custom:e,presenceAffectsLayout:o,mode:s},C),h.set(k,_)}c.splice(T,0,_)}),c=c.map(y=>{const k=y.key;return h.has(k)?y:I.createElement(S_,{key:Ul(y),isPresent:!0,presenceAffectsLayout:o,mode:s},y)}),I.createElement(I.Fragment,null,h.size?c:c.map(y=>I.cloneElement(y)))};function ca(t){const e=Xp(()=>ra(t)),{isStatic:n}=I.useContext(O1);if(n){const[,i]=I.useState(t);I.useEffect(()=>e.on("change",i),[])}return e}class OJ{constructor(){this.componentControls=new Set}subscribe(e){return this.componentControls.add(e),()=>this.componentControls.delete(e)}start(e,n){this.componentControls.forEach(i=>{i.start(e.nativeEvent||e,n)})}}const MJ=()=>new OJ;function LJ(){return Xp(MJ)}var JP={exports:{}},RJ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",PJ=RJ,DJ=PJ;function ZP(){}function eD(){}eD.resetWarningCache=ZP;var IJ=function(){function t(i,r,o,s,l,a){if(a!==DJ){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:eD,resetWarningCache:ZP};return n.PropTypes=n,n};JP.exports=IJ();var NJ=JP.exports;const me=Ti(NJ);function k_(){return k_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},k_.apply(this,arguments)}function FJ(t,e){if(t==null)return{};var n=zJ(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function zJ(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var C_=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=FJ(t,["color","size"]);return K.createElement("svg",k_({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),K.createElement("polyline",{points:"12 19 5 12 12 5"}))});C_.propTypes={color:me.string,size:me.oneOfType([me.string,me.number])},C_.displayName="ArrowLeft";const BJ=C_;function E_(){return E_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},E_.apply(this,arguments)}function jJ(t,e){if(t==null)return{};var n=VJ(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function VJ(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var T_=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=jJ(t,["color","size"]);return K.createElement("svg",E_({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("line",{x1:"7",y1:"17",x2:"17",y2:"7"}),K.createElement("polyline",{points:"7 7 17 7 17 17"}))});T_.propTypes={color:me.string,size:me.oneOfType([me.string,me.number])},T_.displayName="ArrowUpRight";const tD=T_;function $_(){return $_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},$_.apply(this,arguments)}function WJ(t,e){if(t==null)return{};var n=HJ(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function HJ(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var A_=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=WJ(t,["color","size"]);return K.createElement("svg",$_({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("polyline",{points:"6 9 12 15 18 9"}))});A_.propTypes={color:me.string,size:me.oneOfType([me.string,me.number])},A_.displayName="ChevronDown";const UJ=A_;function O_(){return O_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},O_.apply(this,arguments)}function KJ(t,e){if(t==null)return{};var n=GJ(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function GJ(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var M_=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=KJ(t,["color","size"]);return K.createElement("svg",O_({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("circle",{cx:"12",cy:"12",r:"10"}),K.createElement("polyline",{points:"12 6 12 12 16 14"}))});M_.propTypes={color:me.string,size:me.oneOfType([me.string,me.number])},M_.displayName="Clock";const YJ=M_;function L_(){return L_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},L_.apply(this,arguments)}function XJ(t,e){if(t==null)return{};var n=qJ(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function qJ(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var R_=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=XJ(t,["color","size"]);return K.createElement("svg",L_({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),K.createElement("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),K.createElement("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),K.createElement("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),K.createElement("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),K.createElement("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"}))});R_.propTypes={color:me.string,size:me.oneOfType([me.string,me.number])},R_.displayName="List";const QJ=R_;function P_(){return P_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},P_.apply(this,arguments)}function JJ(t,e){if(t==null)return{};var n=ZJ(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function ZJ(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var D_=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=JJ(t,["color","size"]);return K.createElement("svg",P_({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),K.createElement("polyline",{points:"22,6 12,13 2,6"}))});D_.propTypes={color:me.string,size:me.oneOfType([me.string,me.number])},D_.displayName="Mail";const eZ=D_;function I_(){return I_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},I_.apply(this,arguments)}function tZ(t,e){if(t==null)return{};var n=nZ(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function nZ(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var N_=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=tZ(t,["color","size"]);return K.createElement("svg",I_({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("polyline",{points:"15 3 21 3 21 9"}),K.createElement("polyline",{points:"9 21 3 21 3 15"}),K.createElement("line",{x1:"21",y1:"3",x2:"14",y2:"10"}),K.createElement("line",{x1:"3",y1:"21",x2:"10",y2:"14"}))});N_.propTypes={color:me.string,size:me.oneOfType([me.string,me.number])},N_.displayName="Maximize2";const iZ=N_;function F_(){return F_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},F_.apply(this,arguments)}function rZ(t,e){if(t==null)return{};var n=oZ(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function oZ(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var z_=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=rZ(t,["color","size"]);return K.createElement("svg",F_({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"}))});z_.propTypes={color:me.string,size:me.oneOfType([me.string,me.number])},z_.displayName="Maximize";const sZ=z_;function B_(){return B_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},B_.apply(this,arguments)}function aZ(t,e){if(t==null)return{};var n=lZ(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function lZ(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var j_=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=aZ(t,["color","size"]);return K.createElement("svg",B_({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("polyline",{points:"4 14 10 14 10 20"}),K.createElement("polyline",{points:"20 10 14 10 14 4"}),K.createElement("line",{x1:"14",y1:"10",x2:"21",y2:"3"}),K.createElement("line",{x1:"3",y1:"21",x2:"10",y2:"14"}))});j_.propTypes={color:me.string,size:me.oneOfType([me.string,me.number])},j_.displayName="Minimize2";const cZ=j_;function V_(){return V_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},V_.apply(this,arguments)}function uZ(t,e){if(t==null)return{};var n=hZ(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function hZ(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var W_=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=uZ(t,["color","size"]);return K.createElement("svg",V_({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});W_.propTypes={color:me.string,size:me.oneOfType([me.string,me.number])},W_.displayName="Minus";const dZ=W_;function H_(){return H_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},H_.apply(this,arguments)}function fZ(t,e){if(t==null)return{};var n=pZ(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function pZ(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var U_=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=fZ(t,["color","size"]);return K.createElement("svg",H_({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("polygon",{points:"3 11 22 2 13 21 11 13 3 11"}))});U_.propTypes={color:me.string,size:me.oneOfType([me.string,me.number])},U_.displayName="Navigation";const K_=U_;function G_(){return G_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},G_.apply(this,arguments)}function mZ(t,e){if(t==null)return{};var n=gZ(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function gZ(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var Y_=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=mZ(t,["color","size"]);return K.createElement("svg",G_({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}))});Y_.propTypes={color:me.string,size:me.oneOfType([me.string,me.number])},Y_.displayName="Phone";const vZ=Y_;function X_(){return X_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},X_.apply(this,arguments)}function yZ(t,e){if(t==null)return{};var n=bZ(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function bZ(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var q_=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=yZ(t,["color","size"]);return K.createElement("svg",X_({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),K.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});q_.propTypes={color:me.string,size:me.oneOfType([me.string,me.number])},q_.displayName="Plus";const nD=q_;function Q_(){return Q_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Q_.apply(this,arguments)}function wZ(t,e){if(t==null)return{};var n=_Z(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function _Z(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var J_=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=wZ(t,["color","size"]);return K.createElement("svg",Q_({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("polyline",{points:"17 1 21 5 17 9"}),K.createElement("path",{d:"M3 11V9a4 4 0 0 1 4-4h14"}),K.createElement("polyline",{points:"7 23 3 19 7 15"}),K.createElement("path",{d:"M21 13v2a4 4 0 0 1-4 4H3"}))});J_.propTypes={color:me.string,size:me.oneOfType([me.string,me.number])},J_.displayName="Repeat";const xZ=J_;function Z_(){return Z_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Z_.apply(this,arguments)}function SZ(t,e){if(t==null)return{};var n=kZ(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function kZ(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var ex=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=SZ(t,["color","size"]);return K.createElement("svg",Z_({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("circle",{cx:"11",cy:"11",r:"8"}),K.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}))});ex.propTypes={color:me.string,size:me.oneOfType([me.string,me.number])},ex.displayName="Search";const CZ=ex;function tx(){return tx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},tx.apply(this,arguments)}function EZ(t,e){if(t==null)return{};var n=TZ(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function TZ(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var nx=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=EZ(t,["color","size"]);return K.createElement("svg",tx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("line",{x1:"4",y1:"21",x2:"4",y2:"14"}),K.createElement("line",{x1:"4",y1:"10",x2:"4",y2:"3"}),K.createElement("line",{x1:"12",y1:"21",x2:"12",y2:"12"}),K.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"3"}),K.createElement("line",{x1:"20",y1:"21",x2:"20",y2:"16"}),K.createElement("line",{x1:"20",y1:"12",x2:"20",y2:"3"}),K.createElement("line",{x1:"1",y1:"14",x2:"7",y2:"14"}),K.createElement("line",{x1:"9",y1:"8",x2:"15",y2:"8"}),K.createElement("line",{x1:"17",y1:"16",x2:"23",y2:"16"}))});nx.propTypes={color:me.string,size:me.oneOfType([me.string,me.number])},nx.displayName="Sliders";const $Z=nx;function ix(){return ix=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ix.apply(this,arguments)}function AZ(t,e){if(t==null)return{};var n=OZ(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function OZ(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var rx=I.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,o=r===void 0?24:r,s=AZ(t,["color","size"]);return K.createElement("svg",ix({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),K.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),K.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))});rx.propTypes={color:me.string,size:me.oneOfType([me.string,me.number])},rx.displayName="X";const oh=rx;var iD={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var i=[],r=0;r<arguments.length;r++){var o=arguments[r];if(o){var s=typeof o;if(s==="string"||s==="number")i.push(o);else if(Array.isArray(o)){if(o.length){var l=n.apply(null,o);l&&i.push(l)}}else if(s==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){i.push(o.toString());continue}for(var a in o)e.call(o,a)&&o[a]&&i.push(a)}}}return i.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(iD);var MZ=iD.exports;const Xn=Ti(MZ),LZ=({value:t,anim:e})=>{const n=U(o=>o.data),i=U(o=>o.filtersOpened),r=()=>{var o;return(i||n.settings.filtersAlwaysVisible)&&((o=n.filters)==null?void 0:o.length)>0};return X("div",{className:Xn("mapplic-search-filter",{opened:r()}),children:[L(RZ,{value:t}),r()&&L(IZ,{anim:e})]})},RZ=({value:t})=>{const e=U(a=>a.data.settings),n=U(a=>a.data.filters),i=U(a=>a.toggleFilters),r=U(a=>a.toggleSidebar),o=U(a=>a.setSearch),s=U(a=>a.filtersOpened),l=U(a=>a.getFilterCount);return X("div",{className:"mapplic-search-bar",children:[X("label",{className:"mapplic-search",children:[L(CZ,{size:16}),L("input",{type:"text",placeholder:e.searchText||"Search",spellCheck:!1,onClick:()=>r(!0),onInput:a=>o(a.target.value),value:t}),t&&L("button",{type:"button",onClick:()=>o(""),children:L(oh,{size:12})})]}),L(PZ,{value:!s,active:(n==null?void 0:n.length)>0&&!e.filtersAlwaysVisible,children:X("button",{type:"button",onClick:()=>i(),children:[L($Z,{size:16}),e.accessibility&&L("span",{children:"Filter"}),L(DZ,{nr:l()})]})})]})},PZ=({children:t,value:e,active:n})=>n?X("div",{className:"mapplic-switch",children:[e&&L("div",{className:"mapplic-switch-background"}),t]}):null,DZ=({nr:t})=>{if(!(t<1))return L("small",{className:"mapplic-count",children:t})},IZ=({anim:t})=>{const e=U(r=>r.data.filters),n=U(r=>r.search),i=U(r=>r.getFilterCount);return e?X(un.div,{className:"mapplic-filters",...t,style:{display:"flex",flexDirection:"column",overflowY:"auto"},children:[L("div",{className:"mapplic-filters-body",children:e.map(r=>L(FZ,{f:r},r.id))}),L(NZ,{shown:i()>0||n})]},"filters"):null},NZ=({shown:t})=>{const e=U(s=>s.data.settings),n=U(s=>s.displayList),i=U(s=>s.clearFilters),r=U(s=>s.toggleSidebar),o=U(s=>s.data.settings.clearText);return t?X("div",{className:"mapplic-filters-footer",children:[X("button",{type:"button",onClick:i,children:[L(oh,{size:12}),o||"Clear"]}),X("button",{type:"button",onClick:r,children:[L("b",{children:n(!1).length})," ",e.foundText||"found",L(tD,{size:12})]})]}):null},FZ=({f:t})=>{var r,o;const e=U(s=>s.filters),n=U(s=>s.setFilter),i=U(s=>s.data.groups);if(!t.disable)switch(t.type){case"tags":return L("div",{className:"mapplic-tags","data-filter":t==null?void 0:t.id,children:i&&i.map(s=>L(zZ,{group:s,active:Array.isArray(e.group)&&e.group.includes(s.name)},s.name))});case"checkbox":return X("label",{className:"mapplic-toggle","data-filter":t==null?void 0:t.id,children:[L("span",{children:t.name}),X("div",{className:"mapplic-toggle-switch",children:[L("input",{type:"checkbox",checked:e[t.id]||!1,onChange:()=>n(t.id,!e[t.id])}),L("span",{})]})]});case"dropdown":return L("label",{"data-filter":t==null?void 0:t.id,children:L("select",{className:"mapplic-dropdown",value:e[t.id],onChange:s=>n(t.id,s.target.value),children:(r=t.value)==null?void 0:r.split(";").map(s=>{const l=s.split(":");return L("option",{value:l[0],children:l[1]},s)})})});case"toggle":return L("div",{className:"mapplic-filter-toggle","data-filter":t==null?void 0:t.id,children:(o=t.value)==null?void 0:o.split(";").map(s=>{const l=s.split(":");return L("button",{type:"button",className:Xn({"mapplic-selected":!e[t.id]&&l[0]===""||e[t.id]===l[0]}),onClick:a=>n(t.id,l[0]),children:l[1]},s)})});default:return}};function zZ({group:t,active:e}){const n=U(r=>r.toggleGroup),i={color:e?"#fff":t.color};return e&&(i.borderColor=t.color,i.backgroundColor=t.color),t.hide?!1:L("button",{type:"button",className:Xn("mapplic-tag",{"mapplic-active":e}),style:i,onClick:()=>n(t,e),children:t.name})}const BZ=K.lazy(()=>go(()=>Promise.resolve().then(()=>dte),void 0,pt&&pt.src||new URL("admin/mapplic-admin.js",document.baseURI).href)),rD=({location:t})=>{const e=U(o=>o.closeLocation),n=U(o=>o.data.settings),[i,r]=I.useState(!1);return X($i,{children:[t.image&&L("div",{className:"mapplic-popup-image",children:L("img",{src:t.image,alt:t==null?void 0:t.title},t.image)}),X("div",{className:"mapplic-popup-content",children:[L("button",{type:"button",className:"mapplic-popup-close",onClick:()=>e(),children:L(oh,{size:12})}),X("div",{className:"mapplic-popup-title",children:[t.title&&L("h4",{children:t.title}),t.about&&L("h5",{dangerouslySetInnerHTML:{__html:t.about}})]}),(t==null?void 0:t.desc)&&L("div",{className:"mapplic-popup-body",dangerouslySetInnerHTML:{__html:t.desc}}),L(jZ,{location:t,field:i}),((t==null?void 0:t.link)||(t==null?void 0:t.hours)||(t==null?void 0:t.phone)||(t==null?void 0:t.email)||n.wayfinding)&&X("div",{className:"mapplic-popup-footer",children:[X("div",{className:"mapplic-popup-actions",children:[n.wayfinding&&L(I.Suspense,{fallback:null,children:L(BZ,{id:t.id})}),L(ox,{location:t,field:"phone",details:i,setDetails:r,children:L(vZ,{size:16})}),L(ox,{location:t,field:"email",details:i,setDetails:r,children:L(eZ,{size:16})}),L(ox,{location:t,field:"hours",details:i,setDetails:r,children:L(YJ,{size:16})})]}),t.link&&X("a",{href:t.link,target:t.target||"_blank",className:"mapplic-popup-link mapplic-button mapplic-button-primary",rel:"noreferrer",children:[L("span",{children:t.more||n.moreText||"More"}),L(tD,{size:16})]})]})]})]})},jZ=({location:t,field:e,...n})=>{var i;return t[e]?X("div",{className:"mapplic-popup-details",children:[e==="phone"&&L(oD,{content:t.phone,prefix:"tel:",...n}),e==="email"&&L(oD,{content:t.email,prefix:"mailto:",...n}),e==="hours"&&L("div",{className:"mapplic-hours",children:(i=t==null?void 0:t.hours)==null?void 0:i.split(";").map((r,o)=>L("div",{children:r},o))})]}):null},oD=({content:t,prefix:e="",...n})=>t==null?void 0:t.split(",").map(i=>L("a",{href:`${e}${i.trim()}`,...n,children:i.trim()},i)),ox=({location:t,field:e,details:n,setDetails:i,children:r})=>t[e]?L("button",{className:Xn("mapplic-button mapplic-button-icon",{"mapplic-active":n===e}),onClick:()=>i(o=>o===e?!1:e),children:r}):null,VZ=({element:t})=>{const[e,n]=I.useState(0),i=U(d=>d.data.breakpoint),r=U(d=>d.data.settings),o=U(d=>d.sidebarClosed),s=U(d=>d.breakpoint),l=U(d=>d.search),a=U(d=>d.location),u=U(d=>d.getSampledLocation);U(d=>d.filters);const c=()=>a&&u().action==="sidebar",h={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2}};return I.useEffect(()=>{s!=null&&s.sidebar&&t.current.style.setProperty("--sidebar",s.sidebar+"px")},[t,i,s==null?void 0:s.sidebar]),L("div",{className:"mapplic-sidebar",children:L(la,{mode:"wait",children:c()?L(un.div,{className:"mapplic-sidebar-popup",...h,children:L(rD,{location:u()})}):X($i,{children:[r.filters&&L(LZ,{value:l||"",anim:h}),!o&&L(WZ,{scrollPosition:e,setScrollPosition:n})]})})})},WZ=({scrollPosition:t,setScrollPosition:e=()=>!1})=>{const n=I.useRef(null),i=U(o=>o.displayList),r=()=>{var s;const o=(s=n.current)==null?void 0:s.scrollTop;e(o)};return I.useEffect(()=>(n.current&&(n.current.scrollTop=t,n.current.addEventListener("scroll",r,{passive:!0})),()=>{var o;(o=n.current)==null||o.removeEventListener("scroll",r)}),[n.current]),L("div",{className:"mapplic-dir",ref:n,children:L(HZ,{locations:i(!1)})})},HZ=({locations:t})=>{const e=U(s=>s.search),n=U(s=>s.data.settings),i=U(s=>s.data.groups),r=U(s=>s.getFilterCount),o=(s,l)=>{if(!s||!l)return{};const a=s.reduce((u,c)=>(u[c]=t.filter(h=>l(h,c)),u),{});return Object.entries(a)};return t.length<1?L("i",{className:"mapplic-empty-message",children:n.noresultsText||"No results found."}):!n.groupBy||r()>0||e?L(sD,{locations:t}):o(i.map(s=>s.name),(s,l)=>{var a;return(a=s.group)==null?void 0:a.includes(l)}).map(([s,l])=>L(sD,{locations:l,group:s},s))},sD=({locations:t,group:e=null})=>{const n=U(r=>r.breakpoint),i=U(r=>r.getSampledLocation);return t.length<1?null:X("div",{className:"mapplic-dir-group",children:[L(UZ,{group:e,count:t.length}),L("ul",{className:Xn("mapplic-dir-items",`mapplic-${n==null?void 0:n.type}-items`),style:{gridTemplateColumns:n!=null&&n.column?`repeat(${n.column}, 1fr)`:"100%"},children:t.map(r=>L(KZ,{location:i(r)},r.id))})]})},UZ=({group:t,count:e})=>t?X("div",{className:"mapplic-dir-group-title",children:[L("span",{children:t}),L("div",{className:"mapplic-line"}),L("span",{children:e})]}):null,KZ=({location:t,...e})=>{const n=U(c=>c.hovered),i=U(c=>c.setHovered),r=U(c=>c.location),o=U(c=>c.openLocation),s=U(c=>c.breakpoint),l=U(c=>c.search),a=c=>{c.preventDefault(),o(t.id)},u=c=>c==null?void 0:c.replace(new RegExp(l,"gi"),h=>`<mark>${h}</mark>`);return L("li",{"data-location":t.id,"data-group":t==null?void 0:t.group,children:L("a",{...e,className:Xn("mapplic-dir-item",`mapplic-${s==null?void 0:s.type}-item`,{"mapplic-highlight":n===t.id,"mapplic-active":r===t.id}),onClick:a,onMouseEnter:()=>i(t.id),onTouchStart:()=>i(t.id),onMouseLeave:()=>i(!1),onTouchEnd:()=>i(!1),children:L(GZ,{location:t,mark:u,type:s==null?void 0:s.type})})})},GZ=({location:t,mark:e,type:n="list"})=>{const i=U(r=>r.data.settings);return n==="grid"?X($i,{children:[i.thumbnails&&L(aD,{location:t}),X("div",{className:"mapplic-item-body",children:[L("h3",{dangerouslySetInnerHTML:{__html:e(t.title)}}),L("h5",{dangerouslySetInnerHTML:{__html:t.about}})]})]}):X($i,{children:[i.thumbnails&&L(aD,{location:t}),X("div",{className:"mapplic-item-body",children:[L("h4",{dangerouslySetInnerHTML:{__html:e(t.title)}}),L("h5",{dangerouslySetInnerHTML:{__html:t.about}})]})]})},aD=({location:t})=>L("div",{className:"mapplic-thumbnail",children:(()=>{var n;return t.thumb?t.thumb.length<=3?L("span",{children:t.thumb.toUpperCase()}):L("img",{src:t.thumb,alt:t.title}):L("span",{children:(n=t.title)==null?void 0:n.charAt(0)})})()}),YZ=({element:t,accessibility:e,...n})=>{const[i,r]=I.useState(!1),o=I.useRef(document.fullscreenEnabled??document.webkitFullscreenEnabled);I.useEffect(()=>{const l=()=>{r(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",l),()=>document.removeEventListener("fullscreenchange",l)},[]);const s=()=>{i?document.exitFullscreen():t.current.requestFullscreen()};return o.current?X("button",{type:"button",onClick:s,...n,children:[!i&&L(iZ,{size:16}),i&&L(cZ,{size:16}),e&&X("span",{children:[i&&"Exit"," Fullscreen"]})]}):null},XZ=K.lazy(()=>go(()=>Promise.resolve().then(()=>mte),void 0,pt&&pt.src||new URL("admin/mapplic-admin.js",document.baseURI).href)),qZ=K.lazy(()=>go(()=>Promise.resolve().then(()=>wte),void 0,pt&&pt.src||new URL("admin/mapplic-admin.js",document.baseURI).href)),QZ=t=>{const e=U(s=>s.data.settings),n=U(s=>s.toggleSidebar),i=U(s=>s.sidebarClosed),r=U(s=>s.breakpoint),o=U(s=>s.containerMessage);return X("div",{className:"mapplic-controls",children:[e.sidebar&&e.toggleSidebar&&(!i||!e.filters)&&L("button",{className:"mapplic-sidebar-close",onClick:()=>n(),children:L(BJ,{size:16})}),L(la,{children:o==="mouseWheelShift"&&L(un.div,{className:"mapplic-controls-messages",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:X("div",{children:["Use ",L("b",{className:"mapplic-key",children:"Shift"})," + ",L("b",{children:"Scroll"})," to Zoom"]})})}),L(cm,{position:"top-left",...t,style:e.sidebar&&e.filters&&i&&!e.rightSidebar&&!(r!=null&&r.portrait)?{top:"60px"}:{}}),L(cm,{position:"top-right",...t,style:e.sidebar&&e.filters&&i&&e.rightSidebar&&!(r!=null&&r.portrait)?{top:"60px"}:{}}),L(cm,{position:"bottom-left",...t,style:e.sidebar&&i&&(r!=null&&r.portrait)?{bottom:"60px"}:{}}),L(cm,{position:"bottom-right",...t})]})},cm=({position:t,element:e,style:n})=>{const i=U(o=>o.data.layers),r=U(o=>o.data.settings);return X("div",{className:`mapplic-control-zone mapplic-${t}`,style:n,children:[r.legend===t&&L(I.Suspense,{fallback:null,children:L(XZ,{})}),r.layerSwitcher===t&&i.length>1&&L(eee,{list:i}),r.zoom&&r.zoomButtons===t&&L(ZZ,{}),r.zoom&&r.resetButton===t&&L(JZ,{accessibility:r.accessibility}),r.fullscreen===t&&L(YZ,{element:e,className:"mapplic-control-button",accessibility:r.accessibility}),r.wayfinding&&r.wayfindingControls===t&&L(I.Suspense,{fallback:null,children:L(qZ,{})})]})},JZ=({accessibility:t})=>{const e=U(r=>r.pos),n=U(r=>r.location),i=U(r=>r.closeLocation);if(!(e.scale<=1&&!n))return X("button",{type:"button",className:"mapplic-control-button",onClick:()=>i(!0),children:[t&&L("span",{children:"Reset"}),L(sZ,{size:16})]})},ZZ=()=>{const t=U(o=>o.data.settings.maxZoom),e=U(o=>o.pos),n=U(o=>o.setTarget),i=U(o=>o.setTransition),r=o=>{i({duration:.4}),n({scale:o})};return X("div",{className:"mapplic-control-group",children:[L("button",{type:"button",className:"mapplic-control-button",disabled:e.scale>=t,onClick:()=>r(e.scale*1.6),children:L(nD,{size:16})}),L("button",{type:"button",className:"mapplic-control-button",disabled:e.scale<=1,onClick:()=>r(e.scale/1.6),children:L(dZ,{size:16})})]})},eee=({list:t})=>{const e=U(i=>i.layer),n=U(i=>i.switchLayer);return U(i=>i.layer),L("div",{className:"mapplic-layer-switcher",children:t.map(i=>L("button",{type:"button",className:`${i.id===e?"mapplic-active":""}`,onClick:()=>n(i.id),"data-layer":i.id,children:i.name},i.id))})},lD=({cond:t=!0,location:e,hover:n=!1,offset:i=0,layer:r,containerSize:o})=>{const s=I.useRef(null),l=U(u=>u.data.settings.hoverAbout),a=U(u=>u.setOffset);return I.useEffect(()=>{var u;t&&!n&&a({h:((u=s.current)==null?void 0:u.offsetHeight)-i})},[e.id]),!t||!e.id||!e.coord||e.disable||e.layer&&e.layer!==r||n&&!e.title||!n&&(e==null?void 0:e.action)==="none"?null:L(un.div,{className:Xn("mapplic-tooltip mapplic-popup",{"mapplic-tooltip-mini":(o==null?void 0:o.width)<400,"mapplic-tooltip-hover":n}),"data-location":e.id,"data-group":e==null?void 0:e.group,style:{maxWidth:`min(360px, ${(o==null?void 0:o.width)*.8}px)`,maxHeight:`min(240px, ${(o==null?void 0:o.height)*.8}px)`,top:`calc(${e.coord[1]*100}% + ${i-16}px)`,left:e.coord[0]*100+"%"},initial:{scale:.4,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.4,opacity:0},transition:{duration:.2},onWheel:u=>u.stopPropagation(),ref:s,children:!n&&e.action!=="sidebar"?L(rD,{location:e}):L("div",{className:"mapplic-popup-content mapplic-popup-micro",children:X("div",{className:"mapplic-popup-title",children:[L("h4",{children:e.title}),l&&L("h5",{dangerouslySetInnerHTML:{__html:e.about}})]})})})},tee=({location:t,active:e,setOffsets:n})=>{const i=U(c=>c.hovered),r=U(c=>c.setHovered),o=U(c=>c.openLocation),s=U(c=>c.location),l=U(c=>c.dragging),a=I.useRef(null),u=parseFloat(t.scale)||1;if(I.useEffect(()=>{a.current&&n(c=>({...c,[t.id]:parseFloat(window.getComputedStyle(a.current).getPropertyValue("margin-top"))*u}))},[t.id,t.type,u,n]),!(t.disable||!t.coord||t.type==="hidden"))return X(un.a,{ref:a,whileTap:{scale:u},whileHover:{scale:u*1.2},whileDrag:{scale:u*1.2},initial:{scale:u*.4,opacity:0},animate:{scale:u,opacity:1},exit:{scale:u*.4,opacity:0},transition:{type:"spring",duration:.4},onMouseEnter:()=>r(t.id),onMouseLeave:()=>r(!1),className:Xn("mapplic-marker",{"mapplic-highlight":i===t.id,"mapplic-active":s===t.id,[t.type]:t.type,[t.style]:t.style}),style:{top:(t==null?void 0:t.coord[1])*100+"%",left:(t==null?void 0:t.coord[0])*100+"%",backgroundColor:t.color,zIndex:e?101:"auto"},onClick:()=>{l||o(t.id)},children:[L(nee,{type:t.type,color:t.color,thumb:t.thumb}),L("span",{children:t.label}),(t==null?void 0:t.type)==="pulse"&&L("div",{className:"mapplic-marker-pulse"}),(t==null?void 0:t.type)==="text"&&(t==null?void 0:t.title)&&L("span",{className:"title",style:{color:(t==null?void 0:t.color)||"black",textShadow:"0 0 4px #fff"},children:t.title})]})},nee=({type:t,color:e,thumb:n})=>{switch(t){case"pin1":return L("svg",{width:"22px",height:"26px",viewBox:"0 0 22 26",xmlns:"http://www.w3.org/2000/svg",children:L("path",{fill:e,d:"M22,11c0-6.1-4.9-11-11-11S0,4.9,0,11c0,5,3.4,9.3,8,10.6l3,4.4l3-4.4C18.6,20.3,22,16,22,11z"})});case"pin2":return X("svg",{width:"21px",height:"28px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 21 28",children:[L("path",{fill:e,d:"M10.5,0C4.71,0,0,4.71,0,10.5c0,7.75,9.69,16.95,10.1,17.34c0.11,0.11,0.26,0.16,0.4,0.16s0.29-0.05,0.4-0.16C11.31,27.45,21,18.25,21,10.5C21,4.71,16.29,0,10.5,0z"}),L("circle",{fill:"rgba(0, 0, 0, 0.3)",cx:"10.5",cy:"10.5",r:"8"})]});case"thumb":return L("img",{src:n,alt:"marker"});default:return}},cD=({location:t,layer:e,dragConstraints:n,setTempCoord:i})=>{const[r,o]=I.useState(t==null?void 0:t.coord),[s,l]=I.useState(!1),a=U(v=>v.location),u=U(v=>v.data.locations),c=U(v=>v.setData),h=ca(0),d=ca(0);if(I.useEffect(()=>{o(t==null?void 0:t.coord)},[a]),!r||t!=null&&t.layer&&(t==null?void 0:t.layer)!==e)return;const f=(v,y,k)=>{c({locations:u.map(C=>C.id===v?{...C,[y]:k}:C)})},p=v=>{const y=[Math.round((r[0]+v.x/n.current.offsetWidth)*1e4)/1e4,Math.round((r[1]+v.y/n.current.offsetHeight)*1e4)/1e4];i({coord:y,latlng:null})},m=v=>{const y=[Math.round((r[0]+v.x/n.current.offsetWidth)*1e4)/1e4,Math.round((r[1]+v.y/n.current.offsetHeight)*1e4)/1e4];f(t==null?void 0:t.id,"coord",y),o(y),i({})},g=()=>{h.set(0),d.set(0)};return t.id?L(un.div,{className:"mapplic-location-drag",style:{x:h,y:d,top:r[1]*100+"%",left:r[0]*100+"%",cursor:s?"grabbing":"grab"},drag:!0,onTapStart:v=>l(!0),onDrag:(v,y)=>{p(y.offset)},onDragEnd:(v,y)=>{l(!1),m(y.offset)},onTap:g,onTapCancel:g,dragConstraints:n,dragMomentum:!1}):null},uD=({location:t,layer:e})=>{const n=U(c=>c.data),i=U(c=>c.setData),r=U(c=>c.openLocation),o=U(c=>c.setNewLocation),s=I.useRef(null),l=()=>{o(!1)},a=c=>c.replace(/-/g," ").replace(/\b[a-z]/g,h=>h.toUpperCase()),u=()=>{i({locations:[{title:t.title||a(t.id),type:"hidden",...t},...n.locations]}),o(!1),r(t.id)};return t.layer&&t.layer!==e||!t.coord?null:X(un.div,{className:"mapplic-tooltip",initial:{scale:.4,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.4,opacity:0},transition:{duration:.2},ref:s,style:{maxWidth:"320px",maxHeight:"200px",top:`calc(${t.coord[1]*100}% + ${0-16}px)`,left:t.coord[0]*100+"%"},children:[X("div",{className:"mapplic-tooltip-content",children:[L("button",{type:"button",className:"mapplic-tooltip-close",onClick:l,children:L(oh,{size:12})}),L("div",{className:"mapplic-tooltip-title",children:L("h5",{children:"Add location"})}),X("div",{className:"mapplic-tooltip-footer",children:[L("button",{type:"button",className:"mapplic-button-small",style:{backgroundColor:"#9747FF"},onClick:u,children:L(nD,{size:16})}),L("code",{children:t.id})]})]}),L(iee,{})]})},iee=()=>L("svg",{width:"100%",height:"100%",style:{position:"absolute",pointerEvents:"none"},children:L("defs",{children:X("pattern",{id:"mapplic-stripe-pattern",patternTransform:"rotate(135)",width:"100%",height:"2",x:"0",y:"0",patternUnits:"userSpaceOnUse",children:[L("rect",{x:"0",y:"0",width:"100%",height:"1",fill:"rgba(151, 71, 255, 0.2)"}),L("rect",{x:"0",y:"1",width:"100%",height:"1",fill:"#fafafa"})]})})}),hD=({width:t,aspectRatio:e,containerSize:n})=>{var y;const i=U(k=>k.data.settings),r=U(k=>k.hovered),o=U(k=>k.transition),s=U(k=>k.location),l=U(k=>k.layer),a=U(k=>k.newLocation),u=U(k=>k.estPos),c=U(k=>k.getLocationById),h=U(k=>k.getSampledLocation),d=U(k=>k.displayList);U(k=>k.filters),U(k=>k.search);const[f,p]=I.useState({}),[m,g]=I.useState({}),v=I.useRef(null);return L(un.div,{className:"mapplic-overlay",ref:v,style:{aspectRatio:e},animate:{width:t||0},transition:o,children:X(la,{children:[(y=d())==null?void 0:y.map(k=>(!k.layer||k.layer===l)&&L(tee,{location:h(k),setOffsets:p},k.id)),cD&&s&&L(cD,{location:c(),layer:l,dragConstraints:v,setTempCoord:g}),uD&&a&&L(uD,{location:{id:a,...u[a]},layer:l},"new"),L(lD,{cond:s,location:{...h(),...m},offset:f[s],containerSize:n,layer:l},"focused"),L(lD,{cond:i.hoverTooltip&&r&&r!==s,hover:!0,location:h(c(r)),offset:f[r],layer:l},"hovered")]})})},ree=({source:t,parentScale:e,active:n=!0})=>{const i=U(c=>c.admin),r=U(c=>c.data.settings),o=U(c=>c.selectedVector),s=U(c=>c.setSelectedVector),l=U(c=>c.layer),a=I.useRef(null),u=12/e||2;return n?L("svg",{viewBox:`0 0 ${r.mapWidth} ${r.mapHeight}`,style:{cursor:"crosshair",pointerEvents:"none",position:"absolute",top:0,left:0},ref:a,children:t==null?void 0:t.filter(c=>c.layer===l&&c.id!==o).map(c=>L(c.element,{points:c.points,onClick:h=>{!o&&i&&(h&&h.stopPropagation(),s(c.id))},style:{pointerEvents:o?"none":"auto",cursor:"pointer"},stroke:c.endpoint?"green":"red",strokeWidth:u/10,strokeLinejoin:"round",strokeDasharray:c.inaccessible?u/5:"none",fill:c.element!=="polygon"?"none":"black",fillOpacity:"0.2"},c.id))}):null},um="#9747FF",hm=2,oee=({size:t,element:e,elementRef:n,modifyElement:i,getCursorPos:r,snapTo:o,parentScale:s})=>{var _;const l=U(E=>E.data.settings),a=U(E=>E.dragging),u=I.useRef(0),c=()=>(u.current++,u.current),[h,d]=I.useState(!1),[f,p]=I.useState((_=e==null?void 0:e.points)==null?void 0:_.split(" ").map(E=>E.split(",").map(Number)).map(E=>({id:c(),x:E[0],y:E[1]})));I.useEffect(()=>{n.current={...e,points:f==null?void 0:f.map(E=>`${E.x},${E.y}`).join(" ")}},[e,n,f]);const m=E=>Array.isArray(E)?{x:zt(E[0],hm),y:zt(E[1],hm)}:{x:zt(E.x,hm),y:zt(E.y,hm)},g=E=>{const w=t;let S=null,b=w;for(const x of o){const A={x:x[0],y:x[1]},O=Math.sqrt((E.x-A.x)**2+(E.y-A.y)**2);O<=w&&O<b&&(S=A,b=O)}return S||E},v=(E,w=f.length)=>{p(S=>[...S.slice(0,w),{id:c(),...g(m(E))},...S.slice(w)])},y=E=>{const w=f.find(b=>b.id===E.id),S=g(m(E));if(!w||S.x===w.x&&S.y===w.y)return!1;p(b=>b.map(x=>x.id===E.id?{...E,...S}:x))},k=E=>{p(w=>w.filter(S=>S.id!==E))},C=E=>{E.stopPropagation(),(e==null?void 0:e.element)==="polyline"&&!a&&v(r(E))},T=()=>{i(e.id,{element:n.current.element==="polygon"?"polyline":"polygon"})};return f?X("g",{style:{pointerEvents:"auto"},children:[L("rect",{onClick:C,style:{pointerEvents:"auto"},x:"0",y:"0",width:l.mapWidth,height:l.mapHeight,fill:"green",opacity:"0"}),f==null?void 0:f.map((E,w)=>w>0?L(dD,{i:w,size:t,editing:h,p1:f[w-1],p2:E,getCursorPos:r,addPoint:v},E.id):null),e.element==="polygon"&&L(dD,{size:t,editing:h,p1:f[0],p2:f[f.length-1],getCursorPos:r,addPoint:v}),f==null?void 0:f.map((E,w)=>L(fD,{i:w,point:E,getCursorPos:r,modifyPoint:y,deletePoint:k,toggleType:T,setEditing:d,size:t,parentScale:s},E.id))]}):null},see=(t,e,n)=>{const i=n.x-e.x,r=n.y-e.y;if(i===0)return{x:e.x,y:t.y};const o=r/i,s=-1/o,l=(o*e.x-s*t.x+t.y-e.y)/(o-s),a=s*(l-t.x)+t.y;return{x:l,y:a}},dD=({i:t,p1:e,p2:n,size:i,getCursorPos:r,addPoint:o,editing:s})=>{const[l,a]=I.useState(null);return X("g",{onMouseMove:h=>{if(!r)return;const d=r(h);a(see({x:d[0],y:d[1]},e,n))},onMouseLeave:()=>a(null),onMouseDown:h=>{h.stopPropagation(),o([l.x,l.y],t),a(null)},children:[L("line",{x1:e.x,y1:e.y,x2:n.x,y2:n.y,stroke:um,strokeWidth:i/10}),L("line",{style:{cursor:"pointer",pointerEvents:"auto"},x1:e.x,y1:e.y,x2:n.x,y2:n.y,stroke:um,strokeOpacity:.1,strokeWidth:i/10*6}),l&&!s&&L(fD,{point:l,size:i})]})},fD=({i:t,point:e,modifyPoint:n,deletePoint:i,toggleType:r,size:o,parentScale:s,setEditing:l})=>{const a=ca(0),u=ca(0),[c,h]=I.useState(null);return L(un.circle,{drag:!0,dragMomentum:!1,onDragStart:()=>{h(e),l&&l(!0)},onDrag:(d,f)=>{c&&n&&(n({...e,x:c.x+f.offset.x/s,y:c.y+f.offset.y/s}),a.set(0),u.set(0))},onDragEnd:(d,f)=>{if(!n)return;const p=[a.get(),u.get()];n({...e,x:e.x+p[0],y:e.y+p[1]}),a.set(0),u.set(0),h(null),l&&l(!1)},onClick:d=>{d.stopPropagation(),d.detail===2&&i&&c===null?i(e.id):t===0&&c===null&&r()},cx:e.x,cy:e.y,r:o/2,style:{x:a,y:u,outline:"none",pointerEvents:"auto",cursor:"pointer"},stroke:um,fill:t===0?um:"white",strokeWidth:o/10*2})},pD=({source:t,setSource:e,prefix:n,parentScale:i,active:r=!0})=>{var T;const o=U(_=>_.layer),s=U(_=>_.selectedVector),l=U(_=>_.setSelectedVector),a=U(_=>_.getVectorById),u=U(_=>_.data.settings),c=U(_=>_.dragging),h=I.useRef(null),d=I.useRef((t==null?void 0:t.length)+1),f=12/i||2,p=I.useRef(null);I.useEffect(()=>{var _;p.current&&!s&&(C((_=p.current)==null?void 0:_.id,p.current),p.current=null)},[s]),I.useEffect(()=>{const _=E=>{E.key==="Escape"&&(E.preventDefault(),l(null))};return document.addEventListener("keydown",_),()=>{document.removeEventListener("keydown",_)}},[l]);const m=_=>{const E=h.current.getBoundingClientRect();return[zt((_.clientX-E.left)/i),zt((_.clientY-E.top)/i)]},g=()=>{const _=w=>t.some(S=>S.id===w);let E=n+d.current;for(;_(E);)d.current++,E=n+d.current;return E},v=_=>{!c&&!s&&k(_)},y=()=>t==null?void 0:t.filter(_=>_.layer===o&&_.id!==s).map(_=>_.points.split(" ").map(E=>[...E.split(",").map(Number),_.id])).flat(),k=_=>{const E=g();e([...t,{id:E,layer:o,element:"polyline",points:m(_).join(",")}]),l(E)},C=(_,E)=>{e(t.map(w=>w.id===_?{...w,...E}:w))};return!t||!r?null:X("svg",{viewBox:`0 0 ${u.mapWidth} ${u.mapHeight}`,style:{cursor:"crosshair",pointerEvents:"auto",position:"absolute",top:0,left:0},onClick:v,ref:h,children:[L("g",{children:y().map((_,E)=>L("circle",{style:{pointerEvents:"auto",cursor:"pointer"},onClick:w=>{w.stopPropagation(),l(_[2])},cx:_[0],cy:_[1],r:zt(f,2),fill:"#000",fillOpacity:.1,strokeWidth:zt(f/10*2)},E))}),((T=a(s))==null?void 0:T.layer)===o&&L(oee,{elementRef:p,size:f,snapTo:y(),element:a(s),getCursorPos:m,modifyElement:C,parentScale:i})]})};var aee=globalThis&&globalThis.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var i=n.call(t),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(l){s={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(s)throw s.error}}return o},lee=function(t){var e=t.split(/ ?; ?/);return e.reduce(function(n,i){var r=aee(i.split(/ ?: ?/),2),o=r[0],s=r[1];return o&&s&&(n[o.replace(/-(\w)/g,function(l,a){return a.toUpperCase()})]=Number.isNaN(Number(s))?s:Number(s)),n},{})};function cee(t){t===void 0&&(t=6);for(var e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n="",i=t;i>0;--i)n+=e[Math.round(Math.random()*(e.length-1))];return n}var uee=["br","col","colgroup","dl","hr","iframe","img","input","link","menuitem","meta","ol","param","select","table","tbody","tfoot","thead","tr","ul","wbr"],mD={"accept-charset":"acceptCharset",acceptcharset:"acceptCharset",accesskey:"accessKey",allowfullscreen:"allowFullScreen",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",cellpadding:"cellPadding",cellspacing:"cellSpacing",charset:"charSet",class:"className",classid:"classID",classname:"className",colspan:"colSpan",contenteditable:"contentEditable",contextmenu:"contextMenu",controlslist:"controlsList",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",datetime:"dateTime",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",enctype:"encType",for:"htmlFor",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",innerhtml:"innerHTML",inputmode:"inputMode",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",marginwidth:"marginWidth",marginheight:"marginHeight",maxlength:"maxLength",mediagroup:"mediaGroup",minlength:"minLength",nomodule:"noModule",novalidate:"noValidate",playsinline:"playsInline",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rowspan:"rowSpan",spellcheck:"spellCheck",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",tabindex:"tabIndex",typemustmatch:"typeMustMatch",usemap:"useMap",accentheight:"accentHeight","accent-height":"accentHeight",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",arabicform:"arabicForm","arabic-form":"arabicForm",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",diffuseconstant:"diffuseConstant",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",edgemode:"edgeMode",enablebackground:"enableBackground","enable-background":"enableBackground",externalresourcesrequired:"externalResourcesRequired",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",imagerendering:"imageRendering","image-rendering":"imageRendering",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",vmathematical:"vMathematical","v-mathematical":"vMathematical",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan",onblur:"onBlur",onchange:"onChange",onclick:"onClick",oncontextmenu:"onContextMenu",ondoubleclick:"onDoubleClick",ondrag:"onDrag",ondragend:"onDragEnd",ondragenter:"onDragEnter",ondragexit:"onDragExit",ondragleave:"onDragLeave",ondragover:"onDragOver",ondragstart:"onDragStart",ondrop:"onDrop",onerror:"onError",onfocus:"onFocus",oninput:"onInput",oninvalid:"onInvalid",onkeydown:"onKeyDown",onkeypress:"onKeyPress",onkeyup:"onKeyUp",onload:"onLoad",onmousedown:"onMouseDown",onmouseenter:"onMouseEnter",onmouseleave:"onMouseLeave",onmousemove:"onMouseMove",onmouseout:"onMouseOut",onmouseover:"onMouseOver",onmouseup:"onMouseUp",onscroll:"onScroll",onsubmit:"onSubmit",ontouchcancel:"onTouchCancel",ontouchend:"onTouchEnd",ontouchmove:"onTouchMove",ontouchstart:"onTouchStart",onwheel:"onWheel"},dm=globalThis&&globalThis.__assign||function(){return dm=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},dm.apply(this,arguments)},gD=globalThis&&globalThis.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var i=n.call(t),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(l){s={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(s)throw s.error}}return o},vD=globalThis&&globalThis.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var i=0,r=e.length,o;i<r;i++)(o||!(i in e))&&(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return t.concat(o||Array.prototype.slice.call(e))};function hee(t,e){var n={key:e};if(t instanceof Element){var i=t.getAttribute("class");i&&(n.className=i),vD([],gD(t.attributes),!1).forEach(function(r){switch(r.name){case"class":break;case"style":n[r.name]=lee(r.value);break;case"allowfullscreen":case"allowpaymentrequest":case"async":case"autofocus":case"autoplay":case"checked":case"controls":case"default":case"defer":case"disabled":case"formnovalidate":case"hidden":case"ismap":case"itemscope":case"loop":case"multiple":case"muted":case"nomodule":case"novalidate":case"open":case"readonly":case"required":case"reversed":case"selected":case"typemustmatch":n[mD[r.name]||r.name]=!0;break;default:n[mD[r.name]||r.name]=r.value}})}return n}function dee(t,e,n){var i=vD([],gD(t),!1).map(function(r,o){return sx(r,dm(dm({},n),{index:o,level:e+1}))}).filter(Boolean);return i.length?i:null}function fee(t){return/[a-z]+[A-Z]+[a-z]+/.test(t)?t:t.toLowerCase()}function sx(t,e){var n;if(e===void 0&&(e={}),!t||!(t instanceof Node))return null;var i=e.actions,r=i===void 0?[]:i,o=e.index,s=o===void 0?0:o,l=e.level,a=l===void 0?0:l,u=e.randomKey,c=t,h="".concat(a,"-").concat(s),d=[];if(u&&a===0&&(h="".concat(cee(),"-").concat(h)),Array.isArray(r)&&r.forEach(function(m){m.condition(c,h,a)&&(typeof m.pre=="function"&&(c=m.pre(c,h,a),c instanceof Node||(c=t)),typeof m.post=="function"&&d.push(m.post(c,h,a)))}),d.length)return d;switch(c.nodeType){case 1:return I.createElement(fee(c.nodeName),hee(c,h),dee(c.childNodes,a,e));case 3:{var f=((n=c.nodeValue)===null||n===void 0?void 0:n.toString())||"";if(/^\s+$/.test(f)&&!/[\u00A0\u202F]/.test(f))return null;if(!c.parentNode)return f;var p=c.parentNode.nodeName.toLowerCase();return uee.includes(p)?(/\S/.test(f)&&console.warn("A textNode is not allowed inside '".concat(p,`'. Your text "`).concat(f,'" will be ignored')),null):f}case 8:return null;default:return null}}function pee(t,e){if(e===void 0&&(e={}),!t||typeof t!="string")return null;var n=e.nodeOnly,i=n===void 0?!1:n,r=e.selector,o=r===void 0?"body > *":r,s=e.type,l=s===void 0?"text/html":s;try{var a=new DOMParser,u=a.parseFromString(t,l),c=u.querySelector(o);if(!(c instanceof Node))throw new TypeError("Error parsing input");return i?c:sx(c,e)}catch{}return null}function yD(t,e){return e===void 0&&(e={}),typeof t=="string"?pee(t,e):t instanceof Node?sx(t,e):null}var mee=Object.defineProperty,gee=(t,e,n)=>e in t?mee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ui=(t,e,n)=>(gee(t,typeof e!="symbol"?e+"":e,n),n),bD="react-inlinesvg",wD=10,ht={IDLE:"idle",LOADING:"loading",LOADED:"loaded",FAILED:"failed",READY:"ready",UNSUPPORTED:"unsupported"};function fm(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function vee(){return bee()&&typeof window<"u"&&window!==null}async function _D(t,e){const n=await fetch(t,e),i=n.headers.get("content-type"),[r]=(i??"").split(/ ?; ?/);if(n.status>299)throw new Error("Not found");if(!["image/svg+xml","text/plain"].some(o=>r.includes(o)))throw new Error(`Content type isn't valid: ${r}`);return n.text()}function yee(t=1){return new Promise(e=>{setTimeout(e,t*1e3)})}function bee(){if(!document)return!1;const t=document.createElement("div");t.innerHTML="<svg />";const e=t.firstChild;return!!e&&e.namespaceURI==="http://www.w3.org/2000/svg"}function wee(t){return t[Math.floor(Math.random()*t.length)]}function _ee(t){const e="abcdefghijklmnopqrstuvwxyz",n="1234567890",i=`${e}${e.toUpperCase()}${n}`;let r="";for(let o=0;o<t;o++)r+=wee(i);return r}function xee(t,...e){const n={};for(const i in t)({}).hasOwnProperty.call(t,i)&&(e.includes(i)||(n[i]=t[i]));return n}var See=class{constructor(){Ui(this,"cacheApi"),Ui(this,"cacheStore"),Ui(this,"subscribers",[]),Ui(this,"isReady",!1),this.cacheStore=new Map;let t=bD,e=!1;fm()&&(t=window.REACT_INLINESVG_CACHE_NAME??bD,e=!!window.REACT_INLINESVG_PERSISTENT_CACHE),e?caches.open(t).then(n=>{this.cacheApi=n,this.isReady=!0,this.subscribers.forEach(i=>i())}):this.isReady=!0}onReady(t){this.isReady?t():this.subscribers.push(t)}async get(t,e){var n;return await(this.cacheApi?this.fetchAndAddToPersistentCache(t,e):this.fetchAndAddToInternalCache(t,e)),((n=this.cacheStore.get(t))==null?void 0:n.content)??""}set(t,e){this.cacheStore.set(t,e)}isCached(t){var e;return((e=this.cacheStore.get(t))==null?void 0:e.status)===ht.LOADED}async fetchAndAddToInternalCache(t,e){const n=this.cacheStore.get(t);if((n==null?void 0:n.status)===ht.LOADING){await this.handleLoading(t,async()=>{this.cacheStore.set(t,{content:"",status:ht.IDLE}),await this.fetchAndAddToInternalCache(t,e)});return}if(!(n!=null&&n.content)){this.cacheStore.set(t,{content:"",status:ht.LOADING});try{const i=await _D(t,e);this.cacheStore.set(t,{content:i,status:ht.LOADED})}catch(i){throw this.cacheStore.set(t,{content:"",status:ht.FAILED}),i}}}async fetchAndAddToPersistentCache(t,e){var r,o,s;const n=this.cacheStore.get(t);if((n==null?void 0:n.status)===ht.LOADED)return;if((n==null?void 0:n.status)===ht.LOADING){await this.handleLoading(t,async()=>{this.cacheStore.set(t,{content:"",status:ht.IDLE}),await this.fetchAndAddToPersistentCache(t,e)});return}this.cacheStore.set(t,{content:"",status:ht.LOADING});const i=await((r=this.cacheApi)==null?void 0:r.match(t));if(i){const l=await i.text();this.cacheStore.set(t,{content:l,status:ht.LOADED});return}try{await((o=this.cacheApi)==null?void 0:o.add(new Request(t,e)));const l=await((s=this.cacheApi)==null?void 0:s.match(t)),a=await(l==null?void 0:l.text())??"";this.cacheStore.set(t,{content:a,status:ht.LOADED})}catch(l){throw this.cacheStore.set(t,{content:"",status:ht.FAILED}),l}}async handleLoading(t,e){var i;let n=0;for(;((i=this.cacheStore.get(t))==null?void 0:i.status)===ht.LOADING&&n<wD;)await yee(.1),n+=1;n>=wD&&await e()}keys(){return[...this.cacheStore.keys()]}data(){return[...this.cacheStore.entries()].map(([t,e])=>({[t]:e}))}async delete(t){this.cacheApi&&await this.cacheApi.delete(t),this.cacheStore.delete(t)}async clear(){if(this.cacheApi){const t=await this.cacheApi.keys();for(const e of t)await this.cacheApi.delete(e)}this.cacheStore.clear()}},Kl,xD=class extends I.PureComponent{constructor(t){super(t),Ui(this,"hash"),Ui(this,"isActive",!1),Ui(this,"isInitialized",!1),Ui(this,"fetchContent",async()=>{const{fetchOptions:e,src:n}=this.props,i=await _D(n,e);this.handleLoad(i)}),Ui(this,"handleError",e=>{const{onError:n}=this.props,i=e.message==="Browser does not support SVG"?ht.UNSUPPORTED:ht.FAILED;this.isActive&&this.setState({status:i},()=>{typeof n=="function"&&n(e)})}),Ui(this,"handleLoad",(e,n=!1)=>{this.isActive&&this.setState({content:e,isCached:n,status:ht.LOADED},this.getElement)}),this.state={content:"",element:null,isCached:!!t.cacheRequests&&Kl.isCached(t.src),status:ht.IDLE},this.hash=t.uniqueHash??_ee(8)}componentDidMount(){if(this.isActive=!0,!fm()||this.isInitialized)return;const{status:t}=this.state,{src:e}=this.props;try{if(t===ht.IDLE){if(!vee())throw new Error("Browser does not support SVG");if(!e)throw new Error("Missing src");this.load()}}catch(n){this.handleError(n)}this.isInitialized=!0}componentDidUpdate(t,e){if(!fm())return;const{isCached:n,status:i}=this.state,{description:r,onLoad:o,src:s,title:l}=this.props;if(e.status!==ht.READY&&i===ht.READY&&o&&o(s,n),t.src!==s){if(!s){this.handleError(new Error("Missing src"));return}this.load()}(t.title!==l||t.description!==r)&&this.getElement()}componentWillUnmount(){this.isActive=!1}getElement(){try{const t=this.getNode(),e=yD(t);if(!e||!I.isValidElement(e))throw new Error("Could not convert the src to a React element");this.setState({element:e,status:ht.READY})}catch(t){this.handleError(new Error(t.message))}}getNode(){const{description:t,title:e}=this.props;try{const n=this.processSVG(),i=yD(n,{nodeOnly:!0});if(!i||!(i instanceof SVGSVGElement))throw new Error("Could not convert the src to a DOM Node");const r=this.updateSVGAttributes(i);if(t){const o=r.querySelector("desc");o!=null&&o.parentNode&&o.parentNode.removeChild(o);const s=document.createElementNS("http://www.w3.org/2000/svg","desc");s.innerHTML=t,r.prepend(s)}if(typeof e<"u"){const o=r.querySelector("title");if(o!=null&&o.parentNode&&o.parentNode.removeChild(o),e){const s=document.createElementNS("http://www.w3.org/2000/svg","title");s.innerHTML=e,r.prepend(s)}}return r}catch(n){return this.handleError(n)}}load(){this.isActive&&this.setState({content:"",element:null,isCached:!1,status:ht.LOADING},async()=>{const{cacheRequests:t,fetchOptions:e,src:n}=this.props,i=/^data:image\/svg[^,]*?(;base64)?,(.*)/u.exec(n);let r;if(i?r=i[1]?window.atob(i[2]):decodeURIComponent(i[2]):n.includes("<svg")&&(r=n),r){this.handleLoad(r);return}try{if(t){const o=await Kl.get(n,e);this.handleLoad(o,!0)}else await this.fetchContent()}catch(o){this.handleError(o)}})}processSVG(){const{content:t}=this.state,{preProcessor:e}=this.props;return e?e(t):t}updateSVGAttributes(t){const{baseURL:e="",uniquifyIDs:n}=this.props,i=["id","href","xlink:href","xlink:role","xlink:arcrole"],r=["href","xlink:href"],o=(s,l)=>r.includes(s)&&(l?!l.includes("#"):!1);return n&&[...t.children].forEach(s=>{var l;if((l=s.attributes)!=null&&l.length){const a=Object.values(s.attributes).map(u=>{const c=u,h=/url\((.*?)\)/.exec(u.value);return h!=null&&h[1]&&(c.value=u.value.replace(h[0],`url(${e}${h[1]}__${this.hash})`)),c});i.forEach(u=>{const c=a.find(h=>h.name===u);c&&!o(u,c.value)&&(c.value=`${c.value}__${this.hash}`)})}return s.children.length?this.updateSVGAttributes(s):s}),t}render(){const{element:t,status:e}=this.state,{children:n=null,innerRef:i,loader:r=null}=this.props,o=xee(this.props,"baseURL","cacheRequests","children","description","fetchOptions","innerRef","loader","onError","onLoad","preProcessor","src","title","uniqueHash","uniquifyIDs");return fm()?t?I.cloneElement(t,{ref:i,...o}):[ht.UNSUPPORTED,ht.FAILED].includes(e)?n:r:r}};Ui(xD,"defaultProps",{cacheRequests:!0,uniquifyIDs:!1});function kee(t){Kl||(Kl=new See);const{loader:e}=t,n=I.useRef(!1),[i,r]=I.useState(Kl.isReady);return I.useEffect(()=>{n.current||(Kl.onReady(()=>{r(!0)}),n.current=!0)},[]),i?L(xD,{...t}):e}const Cee=K.lazy(()=>go(()=>Promise.resolve().then(()=>Ste),void 0,pt&&pt.src||new URL("admin/mapplic-admin.js",document.baseURI).href)),SD=({parentScale:t})=>{const e=U(c=>c.data),n=U(c=>c.setData),i=U(c=>c.data.settings),r=U(c=>c.layer),o=U(c=>c.data.layers),s=U(c=>c.setLatLonCache),l=U(c=>c.routesEditing);U(c=>c.layer),I.useEffect(()=>{s()},[i==null?void 0:i.geo,i==null?void 0:i.extent,i.mapWidth,s]);const a={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2}},u=()=>i.zoom?{width:i.mapWidth+"px",height:i.mapHeight+"px"}:{};return L(la,{mode:"wait",children:o.map(c=>c.id===r&&X(un.div,{className:"mapplic-layer",style:u(),...a,children:[oW(c.file)==="svg"?L(Eee,{layer:c}):L("img",{src:c.file,alt:c.name}),pD&&L(pD,{source:(e==null?void 0:e.routes)||[],setSource:h=>n({routes:h}),prefix:"path_",parentScale:t,active:l}),L(ree,{source:e==null?void 0:e.routes,parentScale:t,active:l}),i.wayfinding&&L(I.Suspense,{fallback:null,children:L(Cee,{layer:c.id})})]},c.id))})},Eee=({layer:t,...e})=>{const n=U(b=>b.csv),i=U(b=>b.search),r=U(b=>b.admin),o=U(b=>b.filters),s=U(b=>b.newLocation),l=U(b=>b.dragging),a=U(b=>b.setEstPos),u=U(b=>b.displayList),c=U(b=>b.getFilterCount),h=U(b=>b.getLocationById),d=U(b=>b.getSampledLocation),f=U(b=>b.data.settings),p=U(b=>b.data.locations),m=U(b=>b.data.layers),g=U(b=>b.hovered),v=U(b=>b.setHovered),y=U(b=>b.openLocation),k=U(b=>b.location),C=I.useRef(null),T=b=>{if(!b)return;const x=b==null?void 0:b.closest("[id^=MLOC]");x&&(x==null||x.appendChild(b)),b==null||b.classList.add("mapplic-active")};I.useEffect(()=>{C.current&&(C.current.querySelectorAll(".mapplic-active").forEach(b=>b.classList.remove("mapplic-active")),k&&T(C.current.getElementById(k)))},[k]),I.useEffect(()=>{var b;C.current&&(C.current.querySelectorAll(".mapplic-highlight").forEach(x=>x.classList.remove("mapplic-highlight")),g&&((b=C.current.getElementById(g))==null||b.classList.add("mapplic-highlight")))},[g]),I.useEffect(()=>{C.current&&(C.current.querySelectorAll(".mapplic-filtered").forEach(b=>b.classList.remove("mapplic-filtered")),_())},[i,o,n]),I.useEffect(()=>{var b;C.current&&r&&(C.current.querySelectorAll(".mapplic-new-location").forEach(x=>x.classList.remove("mapplic-new-location")),s&&((b=C.current.getElementById(s))==null||b.classList.add("mapplic-new-location")))},[r,s]),I.useEffect(()=>{var b;(b=C.current)==null||b.querySelectorAll("[id^=MLOC] > *").forEach(x=>{w(x)})},[p,m,n]);const _=()=>{(i||c()>0)&&u().forEach(b=>{var x;(x=C.current.getElementById(b.id))==null||x.classList.add("mapplic-filtered")})},E=()=>{let b={};C.current.querySelectorAll("[id^=MLOC] > *").forEach(x=>{if(!x.id||typeof x.getBBox!="function")return!1;const A=x==null?void 0:x.getBBox(),O=x.getAttribute("data-name"),$={coord:[zt((A.x+A.width/2)/f.mapWidth,4),zt((A.y+A.height/2)/f.mapHeight,4)],zoom:zt(Math.min(f.mapWidth/(A.width+40),f.mapHeight/(A.height+40)),4),layer:t.id,...O&&{title:O}};b={...b,[x.id]:$},w(x)}),_(),a(b)},w=b=>{b.setAttribute("class",t.style||"");const x=h(b.id);if(!x.id)return;const A=d(x);A.disable||(A.color&&b.setAttribute("fill",A.color),A.style&&b.classList.add(A.style),k===b.id&&T(b))},S=b=>{var x;return(x=b.closest("*[id^=MLOC] > *[id]"))==null?void 0:x.id};return L(kee,{...e,width:f.mapWidth,height:f.mapHeight,innerRef:C,src:t.file,onClick:b=>{l||y(S(b.target))},onMouseMove:b=>v(S(b.target)),onTouchStart:b=>v(S(b.target)),onMouseOut:()=>v(!1),onTouchEnd:()=>v(!1),onLoad:()=>E()})},Tee=({container:t,containerSize:e,aspectRatio:n})=>{const i=U(F=>F.data.settings),r=U(F=>F.pos),o=U(F=>F.setPos),s=U(F=>F.target),l=U(F=>F.transition),a=U(F=>F.setTransition),u=U(F=>F.dragging),c=U(F=>F.setDragging),h=U(F=>F.offset),d=U(F=>F.setContainerMessage),[f,p]=I.useState(!1),m=I.useRef(),g=LJ(),[v,y]=I.useState(null),[k,C]=I.useState({scale:1,x:0,y:0}),T=ca(0),_=ca(0),E=ca(1);I.useEffect(()=>{O(r.scale,r.x,r.y,{duration:0})},[e]),I.useEffect(()=>{const F=.5+h.h/(e==null?void 0:e.height)/2;O(s.scale,s.x,s.y,l,F?[.5,F]:void 0)},[s,h.h]);const w=I.useMemo(()=>zt(Math.min((e==null?void 0:e.height)/i.mapHeight,(e==null?void 0:e.width)/i.mapWidth),4),[e==null?void 0:e.height,e==null?void 0:e.width,i.mapHeight,i.mapWidth]),S=(F=r.scale)=>zt(Math.min(Math.max(F,1),i.maxZoom),4),b=(F=k.scale)=>{const B=Math.max(F===w?0:e==null?void 0:e.width,(e==null?void 0:e.width)-i.mapWidth*F)/2,j=Math.max(F===w?0:e==null?void 0:e.height,(e==null?void 0:e.height)-i.mapHeight*F)/2;return{top:Math.round((e==null?void 0:e.height)-i.mapHeight*F-j),bottom:Math.round(j),left:Math.round((e==null?void 0:e.width)-i.mapWidth*F-B),right:Math.round(B)}},x=(F=k.x,B=k.y,j=k.scale,H=[.5,.5])=>({scale:j/w,x:((e==null?void 0:e.width)*H[0]-F)/(i.mapWidth*j),y:((e==null?void 0:e.height)*H[1]-B)/(i.mapHeight*j)}),A=(F=r.x,B=r.y,j=r.scale,H=[.5,.5])=>({scale:j*w,x:Math.round((e==null?void 0:e.width)*H[0]-F*i.mapWidth*j*w),y:Math.round((e==null?void 0:e.height)*H[1]-B*i.mapHeight*j*w)}),O=(F=r.scale,B=r.x,j=r.y,H={duration:.4},G=[.5,.5])=>{const Q=A(B,j,S(F),G),J=b(Q.scale),Y={scale:Q.scale,x:Math.max(Math.min(Q.x,J.right),J.left),y:Math.max(Math.min(Q.y,J.bottom),J.top)};Y.scale&&(a(H),C(Y),o(x(Y.x,Y.y,Y.scale,G)))},$=F=>{const B=t.current.getBoundingClientRect(),j=1.6,H=S(F.deltaY+F.deltaX<0?r.scale*j:r.scale/j);if(i.mouseWheelShift&&!F.shiftKey){d("mouseWheelShift"),v&&clearTimeout(v),y(setTimeout(()=>{d(null)},1e3));return}if(H>i.maxZoom)return;const G=[(F.clientX-B.x)/B.width,(F.clientY-B.y)/B.height],Q=x(k.x,k.y,k.scale,G);O(H,Q.x,Q.y,{duration:i.reduceMotion?0:.4},G)};I.useEffect(()=>{const F=m.current,B=(H,G)=>!H||!H.parentElement?!1:H.parentElement.classList.contains(G)||B(H.parentElement,G),j=H=>{i!=null&&i.mouseWheelShift&&!H.shiftKey||B(H.target,"mapplic-tooltip")||H.preventDefault()};if(F)return i.mouseWheel!==!1?F.addEventListener("wheel",j,{passive:!1}):F.removeEventListener("wheel",j),()=>{F.removeEventListener("wheel",j)}},[m,i==null?void 0:i.mouseWheel,i==null?void 0:i.mouseWheelShift]);const M=F=>{if(F.detail===2){const B=t.current.getBoundingClientRect(),j=[(F.clientX-B.x)/B.width,(F.clientY-B.y)/B.height],H=x(k.x,k.y,k.scale,j);O(S(r.scale*2),H.x,H.y,{duration:.4},j)}},R=()=>{const F={...k,x:T.get(),y:_.get()};C(F),o(x(F.x,F.y,F.scale))},P=({scale:F})=>`matrix(${F}, 0, 0, ${F}, 0, 0)`,N=F=>({x:(F.touches[0].clientX+F.touches[1].clientX)/2,y:(F.touches[0].clientY+F.touches[1].clientY)/2,dist:Math.sqrt(Math.pow(F.touches[0].clientX-F.touches[1].clientX,2),Math.pow(F.touches[0].clientY-F.touches[1].clientY,2))}),D=F=>{if(F.touches.length>1&&!f){const B=N(F);p({x:B.x,y:B.y,dist:B.dist,scale:k.scale})}},V=F=>{if(f){const B=N(F),j=t.current.getBoundingClientRect(),H=[(f.x-j.x)/j.width,(f.y-j.y)/j.height],G=x(k.x,k.y,k.scale,H);O(S(f.scale/w*B.dist/f.dist),G.x,G.y,{duration:0},H)}},z=F=>{F.touches.length<2&&p(!1)};return X(un.div,{className:"mapplic-panzoom",drag:!f,dragControls:g,dragListener:!1,onWheel:(i==null?void 0:i.mouseWheel)===!1?void 0:$,onClick:M,ref:m,onTouchStart:D,onTouchMove:V,onTouchEnd:z,style:{x:T,y:_,cursor:u?"grabbing":"grab"},animate:{x:k.x||0,y:k.y||0},transition:l,dragTransition:i.reduceMotion?{bounceStiffness:0,bounceDamping:0,timeConstant:0,power:0}:{bounceStiffness:100,bounceDamping:20,timeConstant:100,power:.2},dragElastic:i.reduceMotion?0:.3,dragConstraints:b(),onDragStart:()=>c(!0),onDragEnd:()=>setTimeout(()=>c(!1),50),onDragTransitionEnd:R,children:[L(un.div,{className:"mapplic-layers",style:{scale:E,aspectRatio:n},transformTemplate:P,animate:{scale:k.scale||1},transition:l,onPointerDown:F=>g.start(F),children:L(SD,{parentScale:k.scale})}),L(hD,{width:i.mapWidth*k.scale,aspectRatio:n,containerSize:e})]})};var ua=[],$ee=function(){return ua.some(function(t){return t.activeTargets.length>0})},Aee=function(){return ua.some(function(t){return t.skippedTargets.length>0})},kD="ResizeObserver loop completed with undelivered notifications.",Oee=function(){var t;typeof ErrorEvent=="function"?t=new ErrorEvent("error",{message:kD}):(t=document.createEvent("Event"),t.initEvent("error",!1,!1),t.message=kD),window.dispatchEvent(t)},sh;(function(t){t.BORDER_BOX="border-box",t.CONTENT_BOX="content-box",t.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(sh||(sh={}));var ha=function(t){return Object.freeze(t)},Mee=function(){function t(e,n){this.inlineSize=e,this.blockSize=n,ha(this)}return t}(),CD=function(){function t(e,n,i,r){return this.x=e,this.y=n,this.width=i,this.height=r,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,ha(this)}return t.prototype.toJSON=function(){var e=this,n=e.x,i=e.y,r=e.top,o=e.right,s=e.bottom,l=e.left,a=e.width,u=e.height;return{x:n,y:i,top:r,right:o,bottom:s,left:l,width:a,height:u}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t}(),ax=function(t){return t instanceof SVGElement&&"getBBox"in t},ED=function(t){if(ax(t)){var e=t.getBBox(),n=e.width,i=e.height;return!n&&!i}var r=t,o=r.offsetWidth,s=r.offsetHeight;return!(o||s||t.getClientRects().length)},TD=function(t){var e;if(t instanceof Element)return!0;var n=(e=t==null?void 0:t.ownerDocument)===null||e===void 0?void 0:e.defaultView;return!!(n&&t instanceof n.Element)},Lee=function(t){switch(t.tagName){case"INPUT":if(t.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},ah=typeof window<"u"?window:{},pm=new WeakMap,$D=/auto|scroll/,Ree=/^tb|vertical/,Pee=/msie|trident/i.test(ah.navigator&&ah.navigator.userAgent),pr=function(t){return parseFloat(t||"0")},Gl=function(t,e,n){return t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=!1),new Mee((n?e:t)||0,(n?t:e)||0)},AD=ha({devicePixelContentBoxSize:Gl(),borderBoxSize:Gl(),contentBoxSize:Gl(),contentRect:new CD(0,0,0,0)}),OD=function(t,e){if(e===void 0&&(e=!1),pm.has(t)&&!e)return pm.get(t);if(ED(t))return pm.set(t,AD),AD;var n=getComputedStyle(t),i=ax(t)&&t.ownerSVGElement&&t.getBBox(),r=!Pee&&n.boxSizing==="border-box",o=Ree.test(n.writingMode||""),s=!i&&$D.test(n.overflowY||""),l=!i&&$D.test(n.overflowX||""),a=i?0:pr(n.paddingTop),u=i?0:pr(n.paddingRight),c=i?0:pr(n.paddingBottom),h=i?0:pr(n.paddingLeft),d=i?0:pr(n.borderTopWidth),f=i?0:pr(n.borderRightWidth),p=i?0:pr(n.borderBottomWidth),m=i?0:pr(n.borderLeftWidth),g=h+u,v=a+c,y=m+f,k=d+p,C=l?t.offsetHeight-k-t.clientHeight:0,T=s?t.offsetWidth-y-t.clientWidth:0,_=r?g+y:0,E=r?v+k:0,w=i?i.width:pr(n.width)-_-T,S=i?i.height:pr(n.height)-E-C,b=w+g+T+y,x=S+v+C+k,A=ha({devicePixelContentBoxSize:Gl(Math.round(w*devicePixelRatio),Math.round(S*devicePixelRatio),o),borderBoxSize:Gl(b,x,o),contentBoxSize:Gl(w,S,o),contentRect:new CD(h,a,w,S)});return pm.set(t,A),A},MD=function(t,e,n){var i=OD(t,n),r=i.borderBoxSize,o=i.contentBoxSize,s=i.devicePixelContentBoxSize;switch(e){case sh.DEVICE_PIXEL_CONTENT_BOX:return s;case sh.BORDER_BOX:return r;default:return o}},Dee=function(){function t(e){var n=OD(e);this.target=e,this.contentRect=n.contentRect,this.borderBoxSize=ha([n.borderBoxSize]),this.contentBoxSize=ha([n.contentBoxSize]),this.devicePixelContentBoxSize=ha([n.devicePixelContentBoxSize])}return t}(),LD=function(t){if(ED(t))return 1/0;for(var e=0,n=t.parentNode;n;)e+=1,n=n.parentNode;return e},Iee=function(){var t=1/0,e=[];ua.forEach(function(s){if(s.activeTargets.length!==0){var l=[];s.activeTargets.forEach(function(u){var c=new Dee(u.target),h=LD(u.target);l.push(c),u.lastReportedSize=MD(u.target,u.observedBox),h<t&&(t=h)}),e.push(function(){s.callback.call(s.observer,l,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var n=0,i=e;n<i.length;n++){var r=i[n];r()}return t},RD=function(t){ua.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(r){r.isActive()&&(LD(r.target)>t?n.activeTargets.push(r):n.skippedTargets.push(r))})})},Nee=function(){var t=0;for(RD(t);$ee();)t=Iee(),RD(t);return Aee()&&Oee(),t>0},lx,PD=[],Fee=function(){return PD.splice(0).forEach(function(t){return t()})},zee=function(t){if(!lx){var e=0,n=document.createTextNode(""),i={characterData:!0};new MutationObserver(function(){return Fee()}).observe(n,i),lx=function(){n.textContent="".concat(e?e--:e++)}}PD.push(t),lx()},Bee=function(t){zee(function(){requestAnimationFrame(t)})},mm=0,jee=function(){return!!mm},Vee=250,Wee={attributes:!0,characterData:!0,childList:!0,subtree:!0},DD=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],ID=function(t){return t===void 0&&(t=0),Date.now()+t},cx=!1,Hee=function(){function t(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return t.prototype.run=function(e){var n=this;if(e===void 0&&(e=Vee),!cx){cx=!0;var i=ID(e);Bee(function(){var r=!1;try{r=Nee()}finally{if(cx=!1,e=i-ID(),!jee())return;r?n.run(1e3):e>0?n.run(e):n.start()}})}},t.prototype.schedule=function(){this.stop(),this.run()},t.prototype.observe=function(){var e=this,n=function(){return e.observer&&e.observer.observe(document.body,Wee)};document.body?n():ah.addEventListener("DOMContentLoaded",n)},t.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),DD.forEach(function(n){return ah.addEventListener(n,e.listener,!0)}))},t.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),DD.forEach(function(n){return ah.removeEventListener(n,e.listener,!0)}),this.stopped=!0)},t}(),ux=new Hee,ND=function(t){!mm&&t>0&&ux.start(),mm+=t,!mm&&ux.stop()},Uee=function(t){return!ax(t)&&!Lee(t)&&getComputedStyle(t).display==="inline"},Kee=function(){function t(e,n){this.target=e,this.observedBox=n||sh.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return t.prototype.isActive=function(){var e=MD(this.target,this.observedBox,!0);return Uee(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},t}(),Gee=function(){function t(e,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=n}return t}(),gm=new WeakMap,FD=function(t,e){for(var n=0;n<t.length;n+=1)if(t[n].target===e)return n;return-1},vm=function(){function t(){}return t.connect=function(e,n){var i=new Gee(e,n);gm.set(e,i)},t.observe=function(e,n,i){var r=gm.get(e),o=r.observationTargets.length===0;FD(r.observationTargets,n)<0&&(o&&ua.push(r),r.observationTargets.push(new Kee(n,i&&i.box)),ND(1),ux.schedule())},t.unobserve=function(e,n){var i=gm.get(e),r=FD(i.observationTargets,n),o=i.observationTargets.length===1;r>=0&&(o&&ua.splice(ua.indexOf(i),1),i.observationTargets.splice(r,1),ND(-1))},t.disconnect=function(e){var n=this,i=gm.get(e);i.observationTargets.slice().forEach(function(r){return n.unobserve(e,r.target)}),i.activeTargets.splice(0,i.activeTargets.length)},t}(),Yee=function(){function t(e){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof e!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");vm.connect(this,e)}return t.prototype.observe=function(e,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!TD(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");vm.observe(this,e,n)},t.prototype.unobserve=function(e){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!TD(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");vm.unobserve(this,e)},t.prototype.disconnect=function(){vm.disconnect(this)},t.toString=function(){return"function ResizeObserver () { [polyfill code] }"},t}();const Xee=K[typeof document<"u"&&document.createElement!==void 0?"useLayoutEffect":"useEffect"],qee=t=>{const e=I.useRef(t);return I.useEffect(()=>{e.current=t}),e},Qee=typeof window<"u"&&"ResizeObserver"in window?window.ResizeObserver:Yee;function Jee(){}function Zee(t,e){const n=tte(),i=qee(e);return Xee(()=>{let r=!1;const o=t&&"current"in t?t.current:t;if(!o)return Jee;function s(l,a){r||i.current(l,a)}return n.subscribe(o,s),()=>{r=!0,n.unsubscribe(o,s)}},[t,n,i]),n.observer}function ete(){let t=!1,e=[];const n=new Map,i=new Qee((r,o)=>{e=e.concat(r);function s(){const l=new Set;for(let a=0;a<e.length;a++){if(l.has(e[a].target))continue;l.add(e[a].target);const u=n.get(e[a].target);u==null||u.forEach(c=>c(e[a],o))}e=[],t=!1}t||window.requestAnimationFrame(s),t=!0});return{observer:i,subscribe(r,o){var s;i.observe(r);const l=(s=n.get(r))!==null&&s!==void 0?s:[];l.push(o),n.set(r,l)},unsubscribe(r,o){var s;const l=(s=n.get(r))!==null&&s!==void 0?s:[];if(l.length===1){i.unobserve(r),n.delete(r);return}const a=l.indexOf(o);a!==-1&&l.splice(a,1),n.set(r,l)}}}let hx;const tte=()=>hx||(hx=ete()),zD=t=>{const[e,n]=I.useState();return I.useLayoutEffect(()=>{var i;n((i=t.current)==null?void 0:i.getBoundingClientRect())},[t]),Zee(t,i=>n(i.contentRect)),e},nte=({element:t})=>{const[e,n]=I.useState(1.6),i=U(d=>d.data.settings),r=U(d=>d.data.layers),o=U(d=>d.breakpoint),s=U(d=>d.location),l=U(d=>d.sidebarClosed),a=I.useRef(null),u=zD(a);I.useEffect(()=>{i!=null&&i.mapWidth&&(i!=null&&i.mapHeight)?n(i.mapWidth/i.mapHeight):n(1.6)},[i.mapHeight,i.mapWidth]),I.useEffect(()=>{i.padding&&t.current.style.setProperty("--container-padding",i.padding+"px")},[t,i.padding]),I.useEffect(()=>{o!=null&&o.portrait&&a.current.getBoundingClientRect().top<0&&(document.documentElement.scrollHeight>document.documentElement.clientHeight?window.scrollTo({top:a.current.getBoundingClientRect().top+window.scrollY-(i.scrollTop||0),behavior:"smooth"}):a.current.scrollIntoView({behavior:"smooth"}))},[o==null?void 0:o.portrait,s,i.scrollTop]);const c=()=>o!=null&&o.sidebar?(o==null?void 0:o.sidebar)+"px":t.current?getComputedStyle(t.current).getPropertyValue("--sidebar"):0,h=()=>i!=null&&i.kiosk&&!(o!=null&&o.portrait)?"100vh":o!=null&&o.container?o.container+"px":"auto";return X(un.div,{className:"mapplic-container",ref:a,initial:!1,transition:{duration:.4},animate:{marginLeft:!l&&!i.rightSidebar&&i.sidebar?c():0,marginRight:!l&&i.rightSidebar&&i.sidebar?c():0},style:{height:h()},children:[i.zoom?L(Tee,{container:a,containerSize:u,aspectRatio:e}):X(un.div,{className:"mapplic-layers",children:[L(SD,{list:r}),L(hD,{aspectRatio:e,width:i==null?void 0:i.mapWidth})]}),L(QZ,{element:t})]})},ite=({element:t})=>{const e=U(r=>r.data.settings),n=U(r=>r.data.styles);return I.useEffect(()=>{e.primaryColor?t.current.style.setProperty("--primary",e.primaryColor):t.current.style.removeProperty("--primary")},[t,e.primaryColor]),I.useMemo(()=>{let r="";const o=(c,h="")=>`.mapplic-layer svg .${c}${h}, .mapplic-layer svg .${c}${h} > *`,s=(c,h="")=>`.mapplic-overlay .mapplic-marker.${c}${h}`,l=(c,h)=>h?`${c}:${h} !important;`:"",a=c=>{if(!c.svg)return"";let h=`${o(c.class)} {${l("fill",c["base-color"])+l("stroke",c["base-stroke"])+l("stroke-width",c["stroke-width"])}}`;return h+=`${o(c.class,".mapplic-highlight")} {${l("fill",c["hover-color"])+l("stroke",c["hover-stroke"])}}`,h+=`${o(c.class,".mapplic-filtered")} {${l("fill",c["hover-color"])+l("stroke",c["hover-stroke"])}}`,h+=`${o(c.class,".mapplic-active")} {${l("fill",c["active-color"])+l("stroke",c["active-stroke"])}}`,h},u=c=>{if(!c.marker)return"";let h=`${s(c.class)} {${l("background-color",c["base-color"])+l("outline",`${c["stroke-width"]}px solid ${c["base-stroke"]}`)+l("color",c["text-color"])}}`;return h+=`${s(c.class,".mapplic-highlight")} {${l("background-color",c["hover-color"])+l("border-color",c["hover-stroke"])}}`,h+=`${s(c.class,".mapplic-active")} {${l("background-color",c["active-color"])+l("outline-color",c["active-stroke"])}}`,h};return n&&n.forEach(c=>{r+=a(c)+u(c)}),e!=null&&e.css&&(r+=e.css),r?L("style",{children:r}):null},[n,e.css])};var BD={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){(function(n,i){t.exports=i()})(it,function n(){var i=typeof self<"u"?self:typeof window<"u"?window:i!==void 0?i:{},r=!i.document&&!!i.postMessage,o=i.IS_PAPA_WORKER||!1,s={},l=0,a={parse:function(w,S){var b=(S=S||{}).dynamicTyping||!1;if(E(b)&&(S.dynamicTypingFunction=b,b={}),S.dynamicTyping=b,S.transform=!!E(S.transform)&&S.transform,S.worker&&a.WORKERS_SUPPORTED){var x=function(){if(!a.WORKERS_SUPPORTED)return!1;var O=(M=i.URL||i.webkitURL||null,R=n.toString(),a.BLOB_URL||(a.BLOB_URL=M.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",R,")();"],{type:"text/javascript"})))),$=new i.Worker(O),M,R;return $.onmessage=y,$.id=l++,s[$.id]=$}();return x.userStep=S.step,x.userChunk=S.chunk,x.userComplete=S.complete,x.userError=S.error,S.step=E(S.step),S.chunk=E(S.chunk),S.complete=E(S.complete),S.error=E(S.error),delete S.worker,void x.postMessage({input:w,config:S,workerId:x.id})}var A=null;return a.NODE_STREAM_INPUT,typeof w=="string"?(w=function(O){return O.charCodeAt(0)===65279?O.slice(1):O}(w),A=S.download?new h(S):new f(S)):w.readable===!0&&E(w.read)&&E(w.on)?A=new p(S):(i.File&&w instanceof File||w instanceof Object)&&(A=new d(S)),A.stream(w)},unparse:function(w,S){var b=!1,x=!0,A=",",O=`\r
`,$='"',M=$+$,R=!1,P=null,N=!1;(function(){if(typeof S=="object"){if(typeof S.delimiter!="string"||a.BAD_DELIMITERS.filter(function(F){return S.delimiter.indexOf(F)!==-1}).length||(A=S.delimiter),(typeof S.quotes=="boolean"||typeof S.quotes=="function"||Array.isArray(S.quotes))&&(b=S.quotes),typeof S.skipEmptyLines!="boolean"&&typeof S.skipEmptyLines!="string"||(R=S.skipEmptyLines),typeof S.newline=="string"&&(O=S.newline),typeof S.quoteChar=="string"&&($=S.quoteChar),typeof S.header=="boolean"&&(x=S.header),Array.isArray(S.columns)){if(S.columns.length===0)throw new Error("Option columns is empty");P=S.columns}S.escapeChar!==void 0&&(M=S.escapeChar+$),(typeof S.escapeFormulae=="boolean"||S.escapeFormulae instanceof RegExp)&&(N=S.escapeFormulae instanceof RegExp?S.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var D=new RegExp(g($),"g");if(typeof w=="string"&&(w=JSON.parse(w)),Array.isArray(w)){if(!w.length||Array.isArray(w[0]))return V(null,w,R);if(typeof w[0]=="object")return V(P||Object.keys(w[0]),w,R)}else if(typeof w=="object")return typeof w.data=="string"&&(w.data=JSON.parse(w.data)),Array.isArray(w.data)&&(w.fields||(w.fields=w.meta&&w.meta.fields||P),w.fields||(w.fields=Array.isArray(w.data[0])?w.fields:typeof w.data[0]=="object"?Object.keys(w.data[0]):[]),Array.isArray(w.data[0])||typeof w.data[0]=="object"||(w.data=[w.data])),V(w.fields||[],w.data||[],R);throw new Error("Unable to serialize unrecognized input");function V(F,B,j){var H="";typeof F=="string"&&(F=JSON.parse(F)),typeof B=="string"&&(B=JSON.parse(B));var G=Array.isArray(F)&&0<F.length,Q=!Array.isArray(B[0]);if(G&&x){for(var J=0;J<F.length;J++)0<J&&(H+=A),H+=z(F[J],J);0<B.length&&(H+=O)}for(var Y=0;Y<B.length;Y++){var ee=G?F.length:B[Y].length,ne=!1,ce=G?Object.keys(B[Y]).length===0:B[Y].length===0;if(j&&!G&&(ne=j==="greedy"?B[Y].join("").trim()==="":B[Y].length===1&&B[Y][0].length===0),j==="greedy"&&G){for(var ue=[],we=0;we<ee;we++){var he=Q?F[we]:we;ue.push(B[Y][he])}ne=ue.join("").trim()===""}if(!ne){for(var fe=0;fe<ee;fe++){0<fe&&!ce&&(H+=A);var Xe=G&&Q?F[fe]:fe;H+=z(B[Y][Xe],fe)}Y<B.length-1&&(!j||0<ee&&!ce)&&(H+=O)}}return H}function z(F,B){if(F==null)return"";if(F.constructor===Date)return JSON.stringify(F).slice(1,25);var j=!1;N&&typeof F=="string"&&N.test(F)&&(F="'"+F,j=!0);var H=F.toString().replace(D,M);return(j=j||b===!0||typeof b=="function"&&b(F,B)||Array.isArray(b)&&b[B]||function(G,Q){for(var J=0;J<Q.length;J++)if(-1<G.indexOf(Q[J]))return!0;return!1}(H,a.BAD_DELIMITERS)||-1<H.indexOf(A)||H.charAt(0)===" "||H.charAt(H.length-1)===" ")?$+H+$:H}}};if(a.RECORD_SEP=String.fromCharCode(30),a.UNIT_SEP=String.fromCharCode(31),a.BYTE_ORDER_MARK="\uFEFF",a.BAD_DELIMITERS=["\r",`
`,'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!r&&!!i.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=v,a.ParserHandle=m,a.NetworkStreamer=h,a.FileStreamer=d,a.StringStreamer=f,a.ReadableStreamStreamer=p,i.jQuery){var u=i.jQuery;u.fn.parse=function(w){var S=w.config||{},b=[];return this.each(function(O){if(!(u(this).prop("tagName").toUpperCase()==="INPUT"&&u(this).attr("type").toLowerCase()==="file"&&i.FileReader)||!this.files||this.files.length===0)return!0;for(var $=0;$<this.files.length;$++)b.push({file:this.files[$],inputElem:this,instanceConfig:u.extend({},S)})}),x(),this;function x(){if(b.length!==0){var O,$,M,R,P=b[0];if(E(w.before)){var N=w.before(P.file,P.inputElem);if(typeof N=="object"){if(N.action==="abort")return O="AbortError",$=P.file,M=P.inputElem,R=N.reason,void(E(w.error)&&w.error({name:O},$,M,R));if(N.action==="skip")return void A();typeof N.config=="object"&&(P.instanceConfig=u.extend(P.instanceConfig,N.config))}else if(N==="skip")return void A()}var D=P.instanceConfig.complete;P.instanceConfig.complete=function(V){E(D)&&D(V,P.file,P.inputElem),A()},a.parse(P.file,P.instanceConfig)}else E(w.complete)&&w.complete()}function A(){b.splice(0,1),x()}}}function c(w){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(S){var b=T(S);b.chunkSize=parseInt(b.chunkSize),S.step||S.chunk||(b.chunkSize=null),this._handle=new m(b),(this._handle.streamer=this)._config=b}).call(this,w),this.parseChunk=function(S,b){if(this.isFirstChunk&&E(this._config.beforeFirstChunk)){var x=this._config.beforeFirstChunk(S);x!==void 0&&(S=x)}this.isFirstChunk=!1,this._halted=!1;var A=this._partialLine+S;this._partialLine="";var O=this._handle.parse(A,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var $=O.meta.cursor;this._finished||(this._partialLine=A.substring($-this._baseIndex),this._baseIndex=$),O&&O.data&&(this._rowCount+=O.data.length);var M=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(o)i.postMessage({results:O,workerId:a.WORKER_ID,finished:M});else if(E(this._config.chunk)&&!b){if(this._config.chunk(O,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);O=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(O.data),this._completeResults.errors=this._completeResults.errors.concat(O.errors),this._completeResults.meta=O.meta),this._completed||!M||!E(this._config.complete)||O&&O.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),M||O&&O.meta.paused||this._nextChunk(),O}this._halted=!0},this._sendError=function(S){E(this._config.error)?this._config.error(S):o&&this._config.error&&i.postMessage({workerId:a.WORKER_ID,error:S,finished:!1})}}function h(w){var S;(w=w||{}).chunkSize||(w.chunkSize=a.RemoteChunkSize),c.call(this,w),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(b){this._input=b,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(S=new XMLHttpRequest,this._config.withCredentials&&(S.withCredentials=this._config.withCredentials),r||(S.onload=_(this._chunkLoaded,this),S.onerror=_(this._chunkError,this)),S.open(this._config.downloadRequestBody?"POST":"GET",this._input,!r),this._config.downloadRequestHeaders){var b=this._config.downloadRequestHeaders;for(var x in b)S.setRequestHeader(x,b[x])}if(this._config.chunkSize){var A=this._start+this._config.chunkSize-1;S.setRequestHeader("Range","bytes="+this._start+"-"+A)}try{S.send(this._config.downloadRequestBody)}catch(O){this._chunkError(O.message)}r&&S.status===0&&this._chunkError()}},this._chunkLoaded=function(){S.readyState===4&&(S.status<200||400<=S.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:S.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(b){var x=b.getResponseHeader("Content-Range");return x===null?-1:parseInt(x.substring(x.lastIndexOf("/")+1))}(S),this.parseChunk(S.responseText)))},this._chunkError=function(b){var x=S.statusText||b;this._sendError(new Error(x))}}function d(w){var S,b;(w=w||{}).chunkSize||(w.chunkSize=a.LocalChunkSize),c.call(this,w);var x=typeof FileReader<"u";this.stream=function(A){this._input=A,b=A.slice||A.webkitSlice||A.mozSlice,x?((S=new FileReader).onload=_(this._chunkLoaded,this),S.onerror=_(this._chunkError,this)):S=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var A=this._input;if(this._config.chunkSize){var O=Math.min(this._start+this._config.chunkSize,this._input.size);A=b.call(A,this._start,O)}var $=S.readAsText(A,this._config.encoding);x||this._chunkLoaded({target:{result:$}})},this._chunkLoaded=function(A){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(A.target.result)},this._chunkError=function(){this._sendError(S.error)}}function f(w){var S;c.call(this,w=w||{}),this.stream=function(b){return S=b,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var b,x=this._config.chunkSize;return x?(b=S.substring(0,x),S=S.substring(x)):(b=S,S=""),this._finished=!S,this.parseChunk(b)}}}function p(w){c.call(this,w=w||{});var S=[],b=!0,x=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(A){this._input=A,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){x&&S.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),S.length?this.parseChunk(S.shift()):b=!0},this._streamData=_(function(A){try{S.push(typeof A=="string"?A:A.toString(this._config.encoding)),b&&(b=!1,this._checkIsFinished(),this.parseChunk(S.shift()))}catch(O){this._streamError(O)}},this),this._streamError=_(function(A){this._streamCleanUp(),this._sendError(A)},this),this._streamEnd=_(function(){this._streamCleanUp(),x=!0,this._streamData("")},this),this._streamCleanUp=_(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function m(w){var S,b,x,A=Math.pow(2,53),O=-A,$=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,M=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,R=this,P=0,N=0,D=!1,V=!1,z=[],F={data:[],errors:[],meta:{}};if(E(w.step)){var B=w.step;w.step=function(Y){if(F=Y,G())H();else{if(H(),F.data.length===0)return;P+=Y.data.length,w.preview&&P>w.preview?b.abort():(F.data=F.data[0],B(F,R))}}}function j(Y){return w.skipEmptyLines==="greedy"?Y.join("").trim()==="":Y.length===1&&Y[0].length===0}function H(){return F&&x&&(J("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),x=!1),w.skipEmptyLines&&(F.data=F.data.filter(function(Y){return!j(Y)})),G()&&function(){if(!F)return;function Y(ne,ce){E(w.transformHeader)&&(ne=w.transformHeader(ne,ce)),z.push(ne)}if(Array.isArray(F.data[0])){for(var ee=0;G()&&ee<F.data.length;ee++)F.data[ee].forEach(Y);F.data.splice(0,1)}else F.data.forEach(Y)}(),function(){if(!F||!w.header&&!w.dynamicTyping&&!w.transform)return F;function Y(ne,ce){var ue,we=w.header?{}:[];for(ue=0;ue<ne.length;ue++){var he=ue,fe=ne[ue];w.header&&(he=ue>=z.length?"__parsed_extra":z[ue]),w.transform&&(fe=w.transform(fe,he)),fe=Q(he,fe),he==="__parsed_extra"?(we[he]=we[he]||[],we[he].push(fe)):we[he]=fe}return w.header&&(ue>z.length?J("FieldMismatch","TooManyFields","Too many fields: expected "+z.length+" fields but parsed "+ue,N+ce):ue<z.length&&J("FieldMismatch","TooFewFields","Too few fields: expected "+z.length+" fields but parsed "+ue,N+ce)),we}var ee=1;return!F.data.length||Array.isArray(F.data[0])?(F.data=F.data.map(Y),ee=F.data.length):F.data=Y(F.data,0),w.header&&F.meta&&(F.meta.fields=z),N+=ee,F}()}function G(){return w.header&&z.length===0}function Q(Y,ee){return ne=Y,w.dynamicTypingFunction&&w.dynamicTyping[ne]===void 0&&(w.dynamicTyping[ne]=w.dynamicTypingFunction(ne)),(w.dynamicTyping[ne]||w.dynamicTyping)===!0?ee==="true"||ee==="TRUE"||ee!=="false"&&ee!=="FALSE"&&(function(ce){if($.test(ce)){var ue=parseFloat(ce);if(O<ue&&ue<A)return!0}return!1}(ee)?parseFloat(ee):M.test(ee)?new Date(ee):ee===""?null:ee):ee;var ne}function J(Y,ee,ne,ce){var ue={type:Y,code:ee,message:ne};ce!==void 0&&(ue.row=ce),F.errors.push(ue)}this.parse=function(Y,ee,ne){var ce=w.quoteChar||'"';if(w.newline||(w.newline=function(he,fe){he=he.substring(0,1048576);var Xe=new RegExp(g(fe)+"([^]*?)"+g(fe),"gm"),Ke=(he=he.replace(Xe,"")).split("\r"),Je=he.split(`
`),tt=1<Je.length&&Je[0].length<Ke[0].length;if(Ke.length===1||tt)return`
`;for(var nt=0,Ee=0;Ee<Ke.length;Ee++)Ke[Ee][0]===`
`&&nt++;return nt>=Ke.length/2?`\r
`:"\r"}(Y,ce)),x=!1,w.delimiter)E(w.delimiter)&&(w.delimiter=w.delimiter(Y),F.meta.delimiter=w.delimiter);else{var ue=function(he,fe,Xe,Ke,Je){var tt,nt,Ee,De;Je=Je||[",","	","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var Dt=0;Dt<Je.length;Dt++){var _e=Je[Dt],te=0,le=0,pe=0;Ee=void 0;for(var ke=new v({comments:Ke,delimiter:_e,newline:fe,preview:10}).parse(he),Se=0;Se<ke.data.length;Se++)if(Xe&&j(ke.data[Se]))pe++;else{var Fe=ke.data[Se].length;le+=Fe,Ee!==void 0?0<Fe&&(te+=Math.abs(Fe-Ee),Ee=Fe):Ee=Fe}0<ke.data.length&&(le/=ke.data.length-pe),(nt===void 0||te<=nt)&&(De===void 0||De<le)&&1.99<le&&(nt=te,tt=_e,De=le)}return{successful:!!(w.delimiter=tt),bestDelimiter:tt}}(Y,w.newline,w.skipEmptyLines,w.comments,w.delimitersToGuess);ue.successful?w.delimiter=ue.bestDelimiter:(x=!0,w.delimiter=a.DefaultDelimiter),F.meta.delimiter=w.delimiter}var we=T(w);return w.preview&&w.header&&we.preview++,S=Y,b=new v(we),F=b.parse(S,ee,ne),H(),D?{meta:{paused:!0}}:F||{meta:{paused:!1}}},this.paused=function(){return D},this.pause=function(){D=!0,b.abort(),S=E(w.chunk)?"":S.substring(b.getCharIndex())},this.resume=function(){R.streamer._halted?(D=!1,R.streamer.parseChunk(S,!0)):setTimeout(R.resume,3)},this.aborted=function(){return V},this.abort=function(){V=!0,b.abort(),F.meta.aborted=!0,E(w.complete)&&w.complete(F),S=""}}function g(w){return w.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function v(w){var S,b=(w=w||{}).delimiter,x=w.newline,A=w.comments,O=w.step,$=w.preview,M=w.fastMode,R=S=w.quoteChar===void 0||w.quoteChar===null?'"':w.quoteChar;if(w.escapeChar!==void 0&&(R=w.escapeChar),(typeof b!="string"||-1<a.BAD_DELIMITERS.indexOf(b))&&(b=","),A===b)throw new Error("Comment character same as delimiter");A===!0?A="#":(typeof A!="string"||-1<a.BAD_DELIMITERS.indexOf(A))&&(A=!1),x!==`
`&&x!=="\r"&&x!==`\r
`&&(x=`
`);var P=0,N=!1;this.parse=function(D,V,z){if(typeof D!="string")throw new Error("Input must be a string");var F=D.length,B=b.length,j=x.length,H=A.length,G=E(O),Q=[],J=[],Y=[],ee=P=0;if(!D)return Pe();if(w.header&&!V){var ne=D.split(x)[0].split(b),ce=[],ue={},we=!1;for(var he in ne){var fe=ne[he];E(w.transformHeader)&&(fe=w.transformHeader(fe,he));var Xe=fe,Ke=ue[fe]||0;for(0<Ke&&(we=!0,Xe=fe+"_"+Ke),ue[fe]=Ke+1;ce.includes(Xe);)Xe=Xe+"_"+Ke;ce.push(Xe)}if(we){var Je=D.split(x);Je[0]=ce.join(b),D=Je.join(x)}}if(M||M!==!1&&D.indexOf(S)===-1){for(var tt=D.split(x),nt=0;nt<tt.length;nt++){if(Y=tt[nt],P+=Y.length,nt!==tt.length-1)P+=x.length;else if(z)return Pe();if(!A||Y.substring(0,H)!==A){if(G){if(Q=[],pe(Y.split(b)),qe(),N)return Pe()}else pe(Y.split(b));if($&&$<=nt)return Q=Q.slice(0,$),Pe(!0)}}return Pe()}for(var Ee=D.indexOf(b,P),De=D.indexOf(x,P),Dt=new RegExp(g(R)+g(S),"g"),_e=D.indexOf(S,P);;)if(D[P]!==S)if(A&&Y.length===0&&D.substring(P,P+H)===A){if(De===-1)return Pe();P=De+j,De=D.indexOf(x,P),Ee=D.indexOf(b,P)}else if(Ee!==-1&&(Ee<De||De===-1))Y.push(D.substring(P,Ee)),P=Ee+B,Ee=D.indexOf(b,P);else{if(De===-1)break;if(Y.push(D.substring(P,De)),Fe(De+j),G&&(qe(),N))return Pe();if($&&Q.length>=$)return Pe(!0)}else for(_e=P,P++;;){if((_e=D.indexOf(S,_e+1))===-1)return z||J.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Q.length,index:P}),Se();if(_e===F-1)return Se(D.substring(P,_e).replace(Dt,S));if(S!==R||D[_e+1]!==R){if(S===R||_e===0||D[_e-1]!==R){Ee!==-1&&Ee<_e+1&&(Ee=D.indexOf(b,_e+1)),De!==-1&&De<_e+1&&(De=D.indexOf(x,_e+1));var te=ke(De===-1?Ee:Math.min(Ee,De));if(D.substr(_e+1+te,B)===b){Y.push(D.substring(P,_e).replace(Dt,S)),D[P=_e+1+te+B]!==S&&(_e=D.indexOf(S,P)),Ee=D.indexOf(b,P),De=D.indexOf(x,P);break}var le=ke(De);if(D.substring(_e+1+le,_e+1+le+j)===x){if(Y.push(D.substring(P,_e).replace(Dt,S)),Fe(_e+1+le+j),Ee=D.indexOf(b,P),_e=D.indexOf(S,P),G&&(qe(),N))return Pe();if($&&Q.length>=$)return Pe(!0);break}J.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Q.length,index:P}),_e++}}else _e++}return Se();function pe(Te){Q.push(Te),ee=P}function ke(Te){var He=0;if(Te!==-1){var dt=D.substring(_e+1,Te);dt&&dt.trim()===""&&(He=dt.length)}return He}function Se(Te){return z||(Te===void 0&&(Te=D.substring(P)),Y.push(Te),P=F,pe(Y),G&&qe()),Pe()}function Fe(Te){P=Te,pe(Y),Y=[],De=D.indexOf(x,P)}function Pe(Te){return{data:Q,errors:J,meta:{delimiter:b,linebreak:x,aborted:N,truncated:!!Te,cursor:ee+(V||0)}}}function qe(){O(Pe()),Q=[],J=[]}},this.abort=function(){N=!0},this.getCharIndex=function(){return P}}function y(w){var S=w.data,b=s[S.workerId],x=!1;if(S.error)b.userError(S.error,S.file);else if(S.results&&S.results.data){var A={abort:function(){x=!0,k(S.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:C,resume:C};if(E(b.userStep)){for(var O=0;O<S.results.data.length&&(b.userStep({data:S.results.data[O],errors:S.results.errors,meta:S.results.meta},A),!x);O++);delete S.results}else E(b.userChunk)&&(b.userChunk(S.results,A,S.file),delete S.results)}S.finished&&!x&&k(S.workerId,S.results)}function k(w,S){var b=s[w];E(b.userComplete)&&b.userComplete(S),b.terminate(),delete s[w]}function C(){throw new Error("Not implemented.")}function T(w){if(typeof w!="object"||w===null)return w;var S=Array.isArray(w)?[]:{};for(var b in w)S[b]=T(w[b]);return S}function _(w,S){return function(){w.apply(S,arguments)}}function E(w){return typeof w=="function"}return o&&(i.onmessage=function(w){var S=w.data;if(a.WORKER_ID===void 0&&S&&(a.WORKER_ID=S.workerId),typeof S.input=="string")i.postMessage({workerId:a.WORKER_ID,results:a.parse(S.input,S.config),finished:!0});else if(i.File&&S.input instanceof File||S.input instanceof Object){var b=a.parse(S.input,S.config);b&&i.postMessage({workerId:a.WORKER_ID,results:b,finished:!0})}}),(h.prototype=Object.create(c.prototype)).constructor=h,(d.prototype=Object.create(c.prototype)).constructor=d,(f.prototype=Object.create(f.prototype)).constructor=f,(p.prototype=Object.create(c.prototype)).constructor=p,a})})(BD);var rte=BD.exports;const ote=Ti(rte),ste=t=>{const e=U(o=>o.fetchData),n=U(o=>o.fetchCsv),i=U(o=>o.setCsv),r=U(o=>o.data.settings);U(o=>o.csv),I.useEffect(()=>{t&&e(t)},[t,e]),I.useEffect(()=>{r!=null&&r.csvEnabled&&(r!=null&&r.csv)?n(new Promise((o,s)=>{ote.parse(r==null?void 0:r.csv,{header:!0,download:!0,encoding:"UTF-8",skipEmptyLines:!0,transformHeader:l=>l.trim().toLowerCase(),transform:(l,a)=>a==="coord"||a==="latlon"?l.split(",").map(parseFloat):l,complete:l=>{o(l.data)},error:l=>{s(l)}})})):i([])},[r==null?void 0:r.csv,r==null?void 0:r.csvEnabled,n,i])},dx=t=>{const[e,n]=I.useState(()=>{if(typeof window>"u")return"";const{search:i}=window.location,r=new URLSearchParams(i);return r.has(t)?r.get(t):""});return I.useEffect(()=>{const i=r=>{const s=new URLSearchParams(window.location.search).get(t);n(s)};return window.addEventListener("popstate",i),()=>window.removeEventListener("popstate",i)},[t]),I.useEffect(()=>{const i=new URL(window.location);i.searchParams.get(t)!==e&&(e?i.searchParams.set(t,e):i.searchParams.delete(t),window.history.pushState(window.history.state,"",i))},[t,e]),[e,n]},ate=({enabled:t,children:e})=>{const n=U(f=>f.loading),i=U(f=>f.location),r=U(f=>f.openLocation),o=U(f=>f.setFrom),s=U(f=>f.setTo),[l,a]=dx("location"),[u,c]=I.useState(!1),[h]=dx("from"),[d]=dx("to");return I.useEffect(()=>{t&&(!n&&!u&&l&&(c(l),setTimeout(()=>r(l),200)),u&&l&&l!==u&&(c(!0),r(l)))},[t,n,u,c,l,r]),I.useEffect(()=>{t&&(i===null&&a(""),i&&a(i))},[t,i,a]),I.useEffect(()=>{o(h)},[h,o]),I.useEffect(()=>{s(d)},[d,s]),e},jD=(t,e)=>zt(Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)),VD=(t,e,n,i)=>{for(let r=0;r<t.length;r++)if(t[r].x===e&&t[r].y===n&&t[r].layer===i)return t[r];return null},lte=(t,e,n,i,r,o)=>{let s=VD(t,e,n,i);return s||(t.push({x:e,y:n,layer:i,n:[]}),s=t[t.length-1],r&&(s.end=r),o&&(s.connect=o)),s},Yl=(t,e,n=1,i=1,r)=>{if(!VD(t.n,e.x,e.y)){const o={to:e,dist:n,realDist:i};r&&(o.iac=!0),t.n.push(o)}},cte=t=>{const e=[];t==null||t.forEach(i=>{const r=i==null?void 0:i.points.split(" "),o=[];for(let s=0;s<r.length;s++){const[l,a]=r[s].split(","),u=lte(e,l,a,i.layer,i.endpoint,i.connect);if(s>0){const c=jD(u,o[o.length-1]);let h=c*(parseFloat(i.weight)||1);if(Yl(u,o[o.length-1],h,c,i.inaccessible),Yl(o[o.length-1],u,h,c,i.inaccessible),i.element==="polygon")for(let d=o.length-2;d>=0;d--)h=jD(u,o[d]),Yl(u,o[d],h,h,i.inaccessible),Yl(o[d],u,h,h,i.inaccessible)}o.push(u)}});for(let i=0;i<e.length;i++)if(e[i].connect&&e[i].end&&e[i].n.length<2)for(var n=i+1;n<e.length;n++)e[n].connect&&e[n].end&&e[n].n.length<2&&e[i].end===e[n].end&&(Yl(e[i],e[n],1),Yl(e[n],e[i],1));return e},ute=()=>{const t=U(i=>{var r,o;return(o=(r=i.data)==null?void 0:r.settings)==null?void 0:o.wayfinding}),e=U(i=>i.data.routes),n=U(i=>i.setRouteGraph);I.useEffect(()=>{t&&n(cte(e))},[e,n,t])},hte=Object.freeze(Object.defineProperty({__proto__:null,default:({json:t,className:e,outerSettings:n,...i})=>{const r=I.useRef(null),o=zD(r),s=U(_=>_.loading),l=U(_=>_.error),a=U(_=>_.data.settings),u=U(_=>_.sidebarClosed),c=U(_=>_.breakpoint),h=U(_=>_.data.breakpoints),d=U(_=>_.setBreakpoint),f=U(_=>{var E,w;return(w=(E=_.data)==null?void 0:E.settings)==null?void 0:w.deeplinking}),p=U(_=>_.dataLoaded),m=U(_=>_.openLocation),g=U(_=>_.setFixedFrom),v=U(_=>_.setOuterSettings),y=U(_=>_.search);U(_=>_.data);const[k,C]=I.useState(!1);ste(t),ute(),I.useEffect(()=>{n&&v(JSON.parse(n))},[n,v]),I.useEffect(()=>{p&&i.location&&setTimeout(()=>m(i.location),600)},[p,m,i.location]),I.useEffect(()=>{i.fixedfrom&&g(i.fixedfrom)},[p,i.fixedfrom,g]),I.useEffect(()=>{const _=h==null?void 0:h.reduce((E,w)=>(o==null?void 0:o.width)<=w.below&&w.below<E.below?w:E,{below:1e4});d(_)},[o,h,d]);const T=()=>a!=null&&a.kiosk?"100vh":c!=null&&c.element?c.element+"px":"auto";return s?L("div",{ref:r,className:"mapplic-placeholder",children:L("div",{className:"mapplic-loader"})}):l?L("div",{ref:r,className:"mapplic-placeholder",children:L("i",{children:l})}):L("div",{...i,ref:r,style:{maxHeight:T()},className:Xn("mapplic-element",e,c==null?void 0:c.name,{"mapplic-portrait":c==null?void 0:c.portrait,"mapplic-sidebar-right":a.rightSidebar,"mapplic-sidebar-closed":u&&a.toggleSidebar,"mapplic-sidebar-toggle":a.toggleSidebar,"mapplic-filtered":y}),onClick:()=>{k||(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"mapplicUsed"}),C(!0))},children:X(ate,{enabled:f,children:[L(ite,{element:r}),L(nte,{element:r}),a.sidebar&&L(VZ,{element:r})]})})}},Symbol.toStringTag,{value:"Module"})),dte=Object.freeze(Object.defineProperty({__proto__:null,default:({id:t})=>{const e=U(l=>l.setAny),n=U(l=>l.hasRoute),i=U(l=>l.routeGraph),r=U(l=>l.data.settings.wayfindingFixedFrom),[o,s]=I.useState(!1);return I.useEffect(()=>{s(n(t)&&t!==r)},[t,n,i,r]),o?L("button",{onClick:()=>{e(t)},className:"mapplic-button mapplic-button-icon",children:L(K_,{size:16})}):null}},Symbol.toStringTag,{value:"Module"})),fte=()=>{const t=U(c=>c.data.legend),e=U(c=>c.data.settings.legendTitle),n=U(c=>c.data.settings.legendToggle),i=U(c=>c.data.settings.legendClosed),r=U(c=>c.data.settings.legendColumns),o=U(c=>c.data.settings.legendHorizontal),[s,l]=I.useState(!1),[a,u]=I.useState(i);return X("div",{className:Xn("mapplic-legend",{closed:a}),onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[L(la,{children:(s&&!a||!n)&&L(un.div,{initial:{height:0,width:0,opacity:0},animate:{height:"auto",width:"auto",opacity:1},exit:{height:0,width:0,opacity:0},transition:{duration:.2,ease:"easeOut"},children:X("div",{className:"mapplic-legend-title",children:[L("span",{children:e||"Map legend"}),n&&L("button",{onClick:()=>u(!0),children:L(UJ,{size:12})})]})},"title")}),L(la,{children:!a&&L(un.div,{initial:{height:0,width:0,opacity:0},animate:{height:"auto",width:"auto",opacity:1},exit:{height:0,width:0,opacity:0},transition:{duration:.2,ease:"easeOut"},style:{overflowY:"auto"},children:L("div",{className:Xn("mapplic-legend-list",{horizontal:o}),style:{gridTemplateColumns:r?`repeat(${r}, 1fr)`:"100%"},children:t==null?void 0:t.map(c=>L(pte,{...c},c.id))})},"list")}),L("div",{children:a&&L("button",{className:"mapplic-control-button",onClick:()=>u(!1),children:L(QJ,{size:16})})})]})},pte=({id:t,text:e,color:n,icon:i,scale:r=1,radius:o=4,disable:s})=>s?null:X("div",{className:"mapplic-legend-item",children:[L("div",{style:{backgroundColor:n,color:sW(n),borderRadius:o+"px",transform:`scale(${r})`},className:"mapplic-legend-symbol",children:(i==null?void 0:i.length)>3?L("img",{src:i,alt:t}):i}),e]}),mte=Object.freeze(Object.defineProperty({__proto__:null,default:fte},Symbol.toStringTag,{value:"Module"})),WD=(t,e)=>{const n=[];for(let i=0;i<t.length;i++)t[i].end===e&&t[i].n.length<2&&n.push(i);return n.length<1&&console.error("There is no path to "+e),n},gte=(t,e,n,i=!1)=>{for(let a=0;a<t.length;a++)t[a].dist=Number.POSITIVE_INFINITY,t[a].realDist=Number.POSITIVE_INFINITY,t[a].prev=void 0;for(let a=0;a<e.length;a++)t[e[a]].dist=0,t[e[a]].realDist=0;let r=t.slice();for(;r.length>0;){let a=Number.POSITIVE_INFINITY,u=0;for(let h=0;h<r.length;h++)r[h].dist<a&&(u=h,a=r[h].dist);let c=r[u];r.splice(u,1);for(let h=0;h<c.n.length;h++)if(!i||!c.n[h].iac){let d=c.dist+c.n[h].dist;d<c.n[h].to.dist&&(c.n[h].to.dist=d,c.n[h].to.realDist=c.realDist+c.n[h].realDist,c.n[h].to.prev=c)}}let o=Number.POSITIVE_INFINITY,s=null,l=[];for(let a=0;a<n.length;a++)t[n[a]].dist<o&&(s=t[n[a]],o=s.dist);if(l.push(s),!s)return!1;for(;s.prev!==void 0;)s=s.prev,l.unshift(s);return l},vte=t=>t.reduce((e,n)=>{const i=e[e.length-1];return i&&i.length>0&&i[0].layer===n.layer?i.push(n):e.push([n]),e},[]),yte=()=>{const t=U(E=>E.location),e=U(E=>E.getLocationById),n=U(E=>E.from),i=U(E=>E.setFrom),r=U(E=>E.to),o=U(E=>E.setTo),s=U(E=>E.routeGraph),l=U(E=>E.setPaths),a=U(E=>E.routesOpened),u=U(E=>E.setRoutesOpened),c=U(E=>E.routesAccessible),h=U(E=>E.hasRoute),d=U(E=>E.data.settings),f=U(E=>E.closeLocation),p=U(E=>E.switchLayer),m=U(E=>E.setAnimatedPath),[g,v]=I.useState(!1),[y,k]=I.useState(!1);I.useEffect(()=>{var E;if(n&&r){v(!1);const w=WD(s,n),S=WD(s,r),b=gte(s,w,S,c);(E=b[0])!=null&&E.layer&&p(b[0].layer),f();let x;b&&(x=vte(b)),x&&l(x),m(0)}else l([])},[s,n,r,l,c,f,p,m]),I.useEffect(()=>{d.wayfindingFixedFrom&&i(d.wayfindingFixedFrom),g&&t&&h(t)&&(g==="from"?(i(t),r||v("to")):g==="to"&&(o(t),n||v("from")))},[t]);const C=()=>{u(!1),d.wayfindingFixedFrom||i(null),o(null),v(!1)},T=()=>{const E=n;i(r),o(E),k(w=>!w)},_=()=>{u(!0),v("from")};return L(un.div,{layout:!0,className:Xn("mapplic-wayfinding",{"mapplic-active":a}),children:L(la,{children:a?X($i,{children:[L("button",{className:"mapplic-close",onClick:C,children:L(oh,{size:12})}),X("div",{className:"mapplic-wayfinding-content",children:[L("div",{className:"mapplic-wayfinding-title",children:d.directionsText||"Directions"}),X("div",{className:"mapplic-wayfinding-body",children:[X("div",{className:"mapplic-wayfinding-dots",children:[L("div",{}),L("div",{}),L("div",{})]}),(r||n)&&!d.wayfindingFixedFrom&&L("button",{className:Xn("mapplic-wayfinding-swap",{rotated:y}),onClick:T,children:L(xZ,{size:12})}),X("div",{className:"mapplic-wayfinding-positions",children:[L(HD,{type:"from",location:e(n),selected:g,setSelected:v,fixed:d.wayfindingFixedFrom,placeholder:d.selectFromText||"Select from"}),L(HD,{type:"to",location:e(r),selected:g,setSelected:v,placeholder:d.selectToText||"Select to"})]})]})]}),X("div",{className:"mapplic-wayfinding-bar",children:[L(bte,{}),L("button",{className:"mapplic-button mapplic-button-secondary",disabled:!r||!n,onClick:()=>m(0),children:L(K_,{size:16})})]})]}):L("button",{className:"mapplic-control-button",onClick:_,children:L(K_,{size:16})})})})},bte=()=>{const t=U(i=>i.data.settings.wayfindingAccessibility),e=U(i=>i.routesAccessible),n=U(i=>i.setRoutesAccessible);return t?L("button",{className:Xn("mapplic-button",{"mapplic-active":e}),onClick:()=>n(!e),style:{padding:8},children:X("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[L("path",{d:"M11.0933 11.8933C10.7667 11.7533 10.3933 11.9 10.2533 12.2266C9.59333 13.74 8.1 14.72 6.44 14.72C4.14667 14.72 2.28 12.8533 2.28 10.56C2.28 9.07331 3.08 7.69331 4.37333 6.95331C4.68 6.77998 4.78667 6.38664 4.61333 6.07998C4.43333 5.77331 4.04 5.66665 3.73333 5.84665C2.04667 6.80665 1 8.61331 1 10.56C1 13.56 3.44 16 6.44 16C8.60667 16 10.5667 14.72 11.4267 12.7333C11.5667 12.4133 11.4133 12.0333 11.0933 11.8933Z",fill:"#030712"}),L("path",{d:"M15.6733 12.56C15.54 12.2333 15.1733 12.0733 14.84 12.2L13.88 12.5867L12.4867 8.12667C12.4 7.86 12.1533 7.68 11.8733 7.68H7.3L7.1 6.4H9.62667C9.98 6.4 10.2667 6.11333 10.2667 5.76C10.2667 5.40667 9.98 5.12 9.62667 5.12H6.91333L6.58 2.98667C7.06667 2.71333 7.4 2.19333 7.4 1.6C7.4 0.72 6.68 0 5.8 0C4.92 0 4.2 0.72 4.2 1.6C4.2 2.30667 4.66667 2.90667 5.30667 3.11333L6.12667 8.42C6.17333 8.73333 6.44667 8.96 6.76 8.96H11.4067L12.8667 13.6333C12.92 13.8067 13.04 13.9467 13.2 14.02C13.2867 14.06 13.38 14.08 13.4733 14.08C13.5533 14.08 13.6333 14.0667 13.7133 14.0333L15.3133 13.3933C15.6467 13.2667 15.8067 12.8933 15.6733 12.56Z",fill:"#030712"})]})}):null},HD=({type:t,location:e,selected:n,setSelected:i,fixed:r=!1,placeholder:o})=>{const s=()=>{t===n?i(null):r||i(t)};return X("div",{className:"mapplic-wayfinding-position",children:[L("span",{className:"mapplic-wayfinding-pin",style:{backgroundColor:e!=null&&e.id?"#000":"transparent"}}),L("button",{style:{color:e!=null&&e.id?"var(--neutral-900)":"var(--neutral-500)",outlineColor:t===n?"var(--primary)":"transparent",fontWeight:e!=null&&e.id?"bold":"normal",backgroundColor:t===n?"var(--neutral-100)":"transparent"},onClick:s,children:L("span",{style:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:(e==null?void 0:e.title)||(e==null?void 0:e.id)||o})})]})},wte=Object.freeze(Object.defineProperty({__proto__:null,default:yte},Symbol.toStringTag,{value:"Module"})),_te=({layer:t})=>{var s,l;const e=U(a=>a.paths),n=U(a=>a.data.settings),i=U(a=>a.data.settings.wayfindingLineColor),r=U(a=>a.data.settings.wayfindingLineWidth)||3,o=(l=(s=e==null?void 0:e[e.length-1])==null?void 0:s.slice(-1))==null?void 0:l[0];return e.length<1?null:X("svg",{viewBox:`0 0 ${n.mapWidth} ${n.mapHeight}`,style:{cursor:"crosshair",pointerEvents:"none",position:"absolute",top:0,left:0},children:[e.map((a,u)=>a[0].layer!==t?null:L(xte,{i:u,path:a,dist:zt(a[a.length-1].realDist-a[0].realDist,2)},u)),o.layer===t&&X("g",{children:[X("circle",{cx:o.x,cy:o.y,fill:"none",r,stroke:i,strokeWidth:"1",children:[L("animate",{attributeName:"r",from:r,to:r*2,dur:"1.5s",begin:"0s",repeatCount:"indefinite"}),L("animate",{attributeName:"opacity",from:"1",to:"0",dur:"1.5s",begin:"0s",repeatCount:"indefinite"})]}),L("circle",{cx:o.x,cy:o.y,fill:i,r})]})]})},xte=({path:t,dist:e,i:n})=>{const i=U(g=>g.data.settings.wayfindingLineColor),r=U(g=>g.data.settings.wayfindingSmoothing),o=U(g=>g.data.settings.wayfindingLineWidth)||3,s=U(g=>g.data.settings),l=U(g=>g.setTarget),a=U(g=>g.setOffset),u=U(g=>g.animatedPath),c=U(g=>g.setAnimatedPath),h=I.useRef(null),[d,f]=I.useState(!1);I.useEffect(()=>{if(n===u){const g=()=>{f(!0),setTimeout(()=>{c(u+1)},(s.wayfindingSpeed||2)*1e3+400)},v=h.current.getBBox();f(!1);const y=Math.max(v.width,v.height)/2,k={x:zt((v.x+v.width/2)/s.mapWidth,4),y:zt((v.y+v.height/2)/s.mapHeight,4),scale:zt(Math.min(s.mapWidth/(v.width+y),s.mapHeight/(v.height+y)),4)};a({h:0}),l(k);const C=setTimeout(g,200);return()=>clearTimeout(C)}},[e,t,a,l,s,n,u,c]);const p=(g,v,y)=>{const k=parseFloat(v.x)-parseFloat(g.x),C=parseFloat(v.y)-parseFloat(g.y),T=Math.abs(g.realDist-v.realDist),_=Math.min(y,T/2),E=_/T;return{x:parseFloat(g.x)+k*E,y:parseFloat(g.y)+C*E}},m=g=>{let v="M "+g[0].x+","+g[0].y;for(let y=0;y<g.length;y++)if(r&&y>0&&y<g.length-1){const k=p(g[y],g[y-1],r);v+=" L"+k.x+","+k.y,v+=" Q"+g[y].x+","+g[y].y;const C=p(g[y],g[y+1],r);v+=" "+C.x+","+C.y}else v+=" L"+g[y].x+","+g[y].y;return v};return X("g",{children:[L("path",{className:"mapplic-routes-line",ref:h,stroke:i,strokeOpacity:.3,strokeWidth:o,strokeLinecap:"round",fill:"none",d:m(t),style:{strokeDasharray:n>=u?e+" "+e:0,strokeDashoffset:d?0:e,transitionDelay:"0.4s",transitionTimingFunction:"ease-in-out",transitionDuration:`${s.wayfindingSpeed||2}s`,transitionProperty:d?"stroke-dashoffset":"none"}}),L("path",{className:"mapplic-routes-dashed",stroke:i,strokeOpacity:1,strokeWidth:o/2,strokeDasharray:`${o} ${o*1.5}`,strokeLinecap:"round",fill:"none",d:m(t)})]})},Ste=Object.freeze(Object.defineProperty({__proto__:null,default:_te},Symbol.toStringTag,{value:"Module"}))})();
